var Wm=e=>{throw TypeError(e)};var df=(e,t,r)=>t.has(e)||Wm("Cannot "+r);var se=(e,t,r)=>(df(e,t,"read from private field"),r?r.call(e):t.get(e)),et=(e,t,r)=>t.has(e)?Wm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Le=(e,t,r,n)=>(df(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),pr=(e,t,r)=>(df(e,t,"access private method"),r);var Sc=(e,t,r,n)=>({set _(i){Le(e,t,i,r)},get _(){return se(e,t,n)}});function Ux(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zx={exports:{}},dd={},Vx={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc=Symbol.for("react.element"),FE=Symbol.for("react.portal"),UE=Symbol.for("react.fragment"),zE=Symbol.for("react.strict_mode"),VE=Symbol.for("react.profiler"),WE=Symbol.for("react.provider"),HE=Symbol.for("react.context"),$E=Symbol.for("react.forward_ref"),GE=Symbol.for("react.suspense"),qE=Symbol.for("react.memo"),KE=Symbol.for("react.lazy"),Hm=Symbol.iterator;function XE(e){return e===null||typeof e!="object"?null:(e=Hm&&e[Hm]||e["@@iterator"],typeof e=="function"?e:null)}var Wx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hx=Object.assign,$x={};function Na(e,t,r){this.props=e,this.context=t,this.refs=$x,this.updater=r||Wx}Na.prototype.isReactComponent={};Na.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Na.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gx(){}Gx.prototype=Na.prototype;function q0(e,t,r){this.props=e,this.context=t,this.refs=$x,this.updater=r||Wx}var K0=q0.prototype=new Gx;K0.constructor=q0;Hx(K0,Na.prototype);K0.isPureReactComponent=!0;var $m=Array.isArray,qx=Object.prototype.hasOwnProperty,X0={current:null},Kx={key:!0,ref:!0,__self:!0,__source:!0};function Xx(e,t,r){var n,i={},a=null,u=null;if(t!=null)for(n in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)qx.call(t,n)&&!Kx.hasOwnProperty(n)&&(i[n]=t[n]);var m=arguments.length-2;if(m===1)i.children=r;else if(1<m){for(var p=Array(m),x=0;x<m;x++)p[x]=arguments[x+2];i.children=p}if(e&&e.defaultProps)for(n in m=e.defaultProps,m)i[n]===void 0&&(i[n]=m[n]);return{$$typeof:rc,type:e,key:a,ref:u,props:i,_owner:X0.current}}function YE(e,t){return{$$typeof:rc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Y0(e){return typeof e=="object"&&e!==null&&e.$$typeof===rc}function QE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Gm=/\/+/g;function ff(e,t){return typeof e=="object"&&e!==null&&e.key!=null?QE(""+e.key):t.toString(36)}function iu(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case rc:case FE:u=!0}}if(u)return u=e,i=i(u),e=n===""?"."+ff(u,0):n,$m(i)?(r="",e!=null&&(r=e.replace(Gm,"$&/")+"/"),iu(i,t,r,"",function(x){return x})):i!=null&&(Y0(i)&&(i=YE(i,r+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(Gm,"$&/")+"/")+e)),t.push(i)),1;if(u=0,n=n===""?".":n+":",$m(e))for(var m=0;m<e.length;m++){a=e[m];var p=n+ff(a,m);u+=iu(a,t,r,p,i)}else if(p=XE(e),typeof p=="function")for(e=p.call(e),m=0;!(a=e.next()).done;)a=a.value,p=n+ff(a,m++),u+=iu(a,t,r,p,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Ac(e,t,r){if(e==null)return e;var n=[],i=0;return iu(e,n,"","",function(a){return t.call(r,a,i++)}),n}function ZE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tr={current:null},ou={transition:null},JE={ReactCurrentDispatcher:Tr,ReactCurrentBatchConfig:ou,ReactCurrentOwner:X0};function Yx(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Ac,forEach:function(e,t,r){Ac(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ac(e,function(){t++}),t},toArray:function(e){return Ac(e,function(t){return t})||[]},only:function(e){if(!Y0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};He.Component=Na;He.Fragment=UE;He.Profiler=VE;He.PureComponent=q0;He.StrictMode=zE;He.Suspense=GE;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JE;He.act=Yx;He.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Hx({},e.props),i=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=X0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(p in t)qx.call(t,p)&&!Kx.hasOwnProperty(p)&&(n[p]=t[p]===void 0&&m!==void 0?m[p]:t[p])}var p=arguments.length-2;if(p===1)n.children=r;else if(1<p){m=Array(p);for(var x=0;x<p;x++)m[x]=arguments[x+2];n.children=m}return{$$typeof:rc,type:e.type,key:i,ref:a,props:n,_owner:u}};He.createContext=function(e){return e={$$typeof:HE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:WE,_context:e},e.Consumer=e};He.createElement=Xx;He.createFactory=function(e){var t=Xx.bind(null,e);return t.type=e,t};He.createRef=function(){return{current:null}};He.forwardRef=function(e){return{$$typeof:$E,render:e}};He.isValidElement=Y0;He.lazy=function(e){return{$$typeof:KE,_payload:{_status:-1,_result:e},_init:ZE}};He.memo=function(e,t){return{$$typeof:qE,type:e,compare:t===void 0?null:t}};He.startTransition=function(e){var t=ou.transition;ou.transition={};try{e()}finally{ou.transition=t}};He.unstable_act=Yx;He.useCallback=function(e,t){return Tr.current.useCallback(e,t)};He.useContext=function(e){return Tr.current.useContext(e)};He.useDebugValue=function(){};He.useDeferredValue=function(e){return Tr.current.useDeferredValue(e)};He.useEffect=function(e,t){return Tr.current.useEffect(e,t)};He.useId=function(){return Tr.current.useId()};He.useImperativeHandle=function(e,t,r){return Tr.current.useImperativeHandle(e,t,r)};He.useInsertionEffect=function(e,t){return Tr.current.useInsertionEffect(e,t)};He.useLayoutEffect=function(e,t){return Tr.current.useLayoutEffect(e,t)};He.useMemo=function(e,t){return Tr.current.useMemo(e,t)};He.useReducer=function(e,t,r){return Tr.current.useReducer(e,t,r)};He.useRef=function(e){return Tr.current.useRef(e)};He.useState=function(e){return Tr.current.useState(e)};He.useSyncExternalStore=function(e,t,r){return Tr.current.useSyncExternalStore(e,t,r)};He.useTransition=function(){return Tr.current.useTransition()};He.version="18.3.1";Vx.exports=He;var I=Vx.exports;const pe=G0(I),Q0=Ux({__proto__:null,default:pe},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC=I,tC=Symbol.for("react.element"),rC=Symbol.for("react.fragment"),nC=Object.prototype.hasOwnProperty,sC=eC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iC={key:!0,ref:!0,__self:!0,__source:!0};function Qx(e,t,r){var n,i={},a=null,u=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(n in t)nC.call(t,n)&&!iC.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:tC,type:e,key:a,ref:u,props:i,_owner:sC.current}}dd.Fragment=rC;dd.jsx=Qx;dd.jsxs=Qx;zx.exports=dd;var f=zx.exports,Zx={exports:{}},Jr={},Jx={exports:{}},ey={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(J,Y){var le=J.length;J.push(Y);e:for(;0<le;){var Ae=le-1>>>1,xe=J[Ae];if(0<i(xe,Y))J[Ae]=Y,J[le]=xe,le=Ae;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var Y=J[0],le=J.pop();if(le!==Y){J[0]=le;e:for(var Ae=0,xe=J.length,je=xe>>>1;Ae<je;){var Ee=2*(Ae+1)-1,ae=J[Ee],te=Ee+1,ge=J[te];if(0>i(ae,le))te<xe&&0>i(ge,ae)?(J[Ae]=ge,J[te]=le,Ae=te):(J[Ae]=ae,J[Ee]=le,Ae=Ee);else if(te<xe&&0>i(ge,le))J[Ae]=ge,J[te]=le,Ae=te;else break e}}return Y}function i(J,Y){var le=J.sortIndex-Y.sortIndex;return le!==0?le:J.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,m=u.now();e.unstable_now=function(){return u.now()-m}}var p=[],x=[],w=1,b=null,C=3,E=!1,k=!1,A=!1,j=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(J){for(var Y=r(x);Y!==null;){if(Y.callback===null)n(x);else if(Y.startTime<=J)n(x),Y.sortIndex=Y.expirationTime,t(p,Y);else break;Y=r(x)}}function P(J){if(A=!1,_(J),!k)if(r(p)!==null)k=!0,ue(F);else{var Y=r(x);Y!==null&&ee(P,Y.startTime-J)}}function F(J,Y){k=!1,A&&(A=!1,T(W),W=-1),E=!0;var le=C;try{for(_(Y),b=r(p);b!==null&&(!(b.expirationTime>Y)||J&&!H());){var Ae=b.callback;if(typeof Ae=="function"){b.callback=null,C=b.priorityLevel;var xe=Ae(b.expirationTime<=Y);Y=e.unstable_now(),typeof xe=="function"?b.callback=xe:b===r(p)&&n(p),_(Y)}else n(p);b=r(p)}if(b!==null)var je=!0;else{var Ee=r(x);Ee!==null&&ee(P,Ee.startTime-Y),je=!1}return je}finally{b=null,C=le,E=!1}}var L=!1,M=null,W=-1,z=5,ne=-1;function H(){return!(e.unstable_now()-ne<z)}function q(){if(M!==null){var J=e.unstable_now();ne=J;var Y=!0;try{Y=M(!0,J)}finally{Y?ie():(L=!1,M=null)}}else L=!1}var ie;if(typeof S=="function")ie=function(){S(q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,G=re.port2;re.port1.onmessage=q,ie=function(){G.postMessage(null)}}else ie=function(){j(q,0)};function ue(J){M=J,L||(L=!0,ie())}function ee(J,Y){W=j(function(){J(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){k||E||(k=!0,ue(F))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(J){switch(C){case 1:case 2:case 3:var Y=3;break;default:Y=C}var le=C;C=Y;try{return J()}finally{C=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,Y){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var le=C;C=J;try{return Y()}finally{C=le}},e.unstable_scheduleCallback=function(J,Y,le){var Ae=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ae+le:Ae):le=Ae,J){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=le+xe,J={id:w++,callback:Y,priorityLevel:J,startTime:le,expirationTime:xe,sortIndex:-1},le>Ae?(J.sortIndex=le,t(x,J),r(p)===null&&J===r(x)&&(A?(T(W),W=-1):A=!0,ee(P,le-Ae))):(J.sortIndex=xe,t(p,J),k||E||(k=!0,ue(F))),J},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(J){var Y=C;return function(){var le=C;C=Y;try{return J.apply(this,arguments)}finally{C=le}}}})(ey);Jx.exports=ey;var oC=Jx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC=I,Zr=oC;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ty=new Set,Cl={};function lo(e,t){ma(e,t),ma(e+"Capture",t)}function ma(e,t){for(Cl[e]=t,e=0;e<t.length;e++)ty.add(t[e])}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gh=Object.prototype.hasOwnProperty,lC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qm={},Km={};function cC(e){return gh.call(Km,e)?!0:gh.call(qm,e)?!1:lC.test(e)?Km[e]=!0:(qm[e]=!0,!1)}function uC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dC(e,t,r,n){if(t===null||typeof t>"u"||uC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kr(e,t,r,n,i,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dr[e]=new kr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dr[t]=new kr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){dr[e]=new kr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dr[e]=new kr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dr[e]=new kr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){dr[e]=new kr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){dr[e]=new kr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){dr[e]=new kr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){dr[e]=new kr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Z0=/[\-:]([a-z])/g;function J0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Z0,J0);dr[t]=new kr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Z0,J0);dr[t]=new kr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Z0,J0);dr[t]=new kr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){dr[e]=new kr(e,1,!1,e.toLowerCase(),null,!1,!1)});dr.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){dr[e]=new kr(e,1,!1,e.toLowerCase(),null,!0,!0)});function e1(e,t,r,n){var i=dr.hasOwnProperty(t)?dr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dC(t,r,i,n)&&(r=null),n||i===null?cC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var As=aC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nc=Symbol.for("react.element"),Mo=Symbol.for("react.portal"),Lo=Symbol.for("react.fragment"),t1=Symbol.for("react.strict_mode"),xh=Symbol.for("react.profiler"),ry=Symbol.for("react.provider"),ny=Symbol.for("react.context"),r1=Symbol.for("react.forward_ref"),yh=Symbol.for("react.suspense"),wh=Symbol.for("react.suspense_list"),n1=Symbol.for("react.memo"),Ws=Symbol.for("react.lazy"),sy=Symbol.for("react.offscreen"),Xm=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Xm&&e[Xm]||e["@@iterator"],typeof e=="function"?e:null)}var Tt=Object.assign,hf;function il(e){if(hf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hf=t&&t[1]||""}return`
`+hf+e}var mf=!1;function pf(e,t){if(!e||mf)return"";mf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var n=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){n=x}e.call(t.prototype)}else{try{throw Error()}catch(x){n=x}e()}}catch(x){if(x&&n&&typeof x.stack=="string"){for(var i=x.stack.split(`
`),a=n.stack.split(`
`),u=i.length-1,m=a.length-1;1<=u&&0<=m&&i[u]!==a[m];)m--;for(;1<=u&&0<=m;u--,m--)if(i[u]!==a[m]){if(u!==1||m!==1)do if(u--,m--,0>m||i[u]!==a[m]){var p=`
`+i[u].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=u&&0<=m);break}}}finally{mf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?il(e):""}function fC(e){switch(e.tag){case 5:return il(e.type);case 16:return il("Lazy");case 13:return il("Suspense");case 19:return il("SuspenseList");case 0:case 2:case 15:return e=pf(e.type,!1),e;case 11:return e=pf(e.type.render,!1),e;case 1:return e=pf(e.type,!0),e;default:return""}}function vh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lo:return"Fragment";case Mo:return"Portal";case xh:return"Profiler";case t1:return"StrictMode";case yh:return"Suspense";case wh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ny:return(e.displayName||"Context")+".Consumer";case ry:return(e._context.displayName||"Context")+".Provider";case r1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case n1:return t=e.displayName||null,t!==null?t:vh(e.type)||"Memo";case Ws:t=e._payload,e=e._init;try{return vh(e(t))}catch{}}return null}function hC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vh(t);case 8:return t===t1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mC(e){var t=iy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){n=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tc(e){e._valueTracker||(e._valueTracker=mC(e))}function oy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=iy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Cu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bh(e,t){var r=t.checked;return Tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ym(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=mi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ay(e,t){t=t.checked,t!=null&&e1(e,"checked",t,!1)}function Eh(e,t){ay(e,t);var r=mi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ch(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ch(e,t.type,mi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ch(e,t,r){(t!=="number"||Cu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ol=Array.isArray;function Yo(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+mi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function _h(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return Tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(de(92));if(ol(r)){if(1<r.length)throw Error(de(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:mi(r)}}function ly(e,t){var r=mi(t.value),n=mi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Jm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kc,uy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kc=kc||document.createElement("div"),kc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _l(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pC=["Webkit","ms","Moz","O"];Object.keys(ul).forEach(function(e){pC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ul[t]=ul[e]})});function dy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ul.hasOwnProperty(e)&&ul[e]?(""+t).trim():t+"px"}function fy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=dy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var gC=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ah(e,t){if(t){if(gC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function Nh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Th=null;function s1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kh=null,Qo=null,Zo=null;function ep(e){if(e=ic(e)){if(typeof kh!="function")throw Error(de(280));var t=e.stateNode;t&&(t=gd(t),kh(e.stateNode,e.type,t))}}function hy(e){Qo?Zo?Zo.push(e):Zo=[e]:Qo=e}function my(){if(Qo){var e=Qo,t=Zo;if(Zo=Qo=null,ep(e),t)for(e=0;e<t.length;e++)ep(t[e])}}function py(e,t){return e(t)}function gy(){}var gf=!1;function xy(e,t,r){if(gf)return e(t,r);gf=!0;try{return py(e,t,r)}finally{gf=!1,(Qo!==null||Zo!==null)&&(gy(),my())}}function Sl(e,t){var r=e.stateNode;if(r===null)return null;var n=gd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(de(231,t,typeof r));return r}var Ih=!1;if(ys)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){Ih=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{Ih=!1}function xC(e,t,r,n,i,a,u,m,p){var x=Array.prototype.slice.call(arguments,3);try{t.apply(r,x)}catch(w){this.onError(w)}}var dl=!1,_u=null,Su=!1,Rh=null,yC={onError:function(e){dl=!0,_u=e}};function wC(e,t,r,n,i,a,u,m,p){dl=!1,_u=null,xC.apply(yC,arguments)}function vC(e,t,r,n,i,a,u,m,p){if(wC.apply(this,arguments),dl){if(dl){var x=_u;dl=!1,_u=null}else throw Error(de(198));Su||(Su=!0,Rh=x)}}function co(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function yy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tp(e){if(co(e)!==e)throw Error(de(188))}function bC(e){var t=e.alternate;if(!t){if(t=co(e),t===null)throw Error(de(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return tp(i),e;if(a===n)return tp(i),t;a=a.sibling}throw Error(de(188))}if(r.return!==n.return)r=i,n=a;else{for(var u=!1,m=i.child;m;){if(m===r){u=!0,r=i,n=a;break}if(m===n){u=!0,n=i,r=a;break}m=m.sibling}if(!u){for(m=a.child;m;){if(m===r){u=!0,r=a,n=i;break}if(m===n){u=!0,n=a,r=i;break}m=m.sibling}if(!u)throw Error(de(189))}}if(r.alternate!==n)throw Error(de(190))}if(r.tag!==3)throw Error(de(188));return r.stateNode.current===r?e:t}function wy(e){return e=bC(e),e!==null?vy(e):null}function vy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vy(e);if(t!==null)return t;e=e.sibling}return null}var by=Zr.unstable_scheduleCallback,rp=Zr.unstable_cancelCallback,EC=Zr.unstable_shouldYield,CC=Zr.unstable_requestPaint,Bt=Zr.unstable_now,_C=Zr.unstable_getCurrentPriorityLevel,i1=Zr.unstable_ImmediatePriority,Ey=Zr.unstable_UserBlockingPriority,Au=Zr.unstable_NormalPriority,SC=Zr.unstable_LowPriority,Cy=Zr.unstable_IdlePriority,fd=null,Jn=null;function AC(e){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(fd,e,void 0,(e.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:kC,NC=Math.log,TC=Math.LN2;function kC(e){return e>>>=0,e===0?32:31-(NC(e)/TC|0)|0}var Ic=64,Rc=4194304;function al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Nu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,u=r&268435455;if(u!==0){var m=u&~i;m!==0?n=al(m):(a&=u,a!==0&&(n=al(a)))}else u=r&~i,u!==0?n=al(u):a!==0&&(n=al(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-jn(t),i=1<<r,n|=e[r],t&=~i;return n}function IC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-jn(a),m=1<<u,p=i[u];p===-1?(!(m&r)||m&n)&&(i[u]=IC(m,t)):p<=t&&(e.expiredLanes|=m),a&=~m}}function Oh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _y(){var e=Ic;return Ic<<=1,!(Ic&4194240)&&(Ic=64),e}function xf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function nc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jn(t),e[t]=r}function OC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-jn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function o1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-jn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var st=0;function Sy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ay,a1,Ny,Ty,ky,jh=!1,Oc=[],si=null,ii=null,oi=null,Al=new Map,Nl=new Map,Gs=[],jC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function np(e,t){switch(e){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":Al.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(t.pointerId)}}function Ya(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ic(t),t!==null&&a1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function PC(e,t,r,n,i){switch(t){case"focusin":return si=Ya(si,e,t,r,n,i),!0;case"dragenter":return ii=Ya(ii,e,t,r,n,i),!0;case"mouseover":return oi=Ya(oi,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Al.set(a,Ya(Al.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Nl.set(a,Ya(Nl.get(a)||null,e,t,r,n,i)),!0}return!1}function Iy(e){var t=Vi(e.target);if(t!==null){var r=co(t);if(r!==null){if(t=r.tag,t===13){if(t=yy(r),t!==null){e.blockedOn=t,ky(e.priority,function(){Ny(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function au(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ph(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Th=n,r.target.dispatchEvent(n),Th=null}else return t=ic(r),t!==null&&a1(t),e.blockedOn=r,!1;t.shift()}return!0}function sp(e,t,r){au(e)&&r.delete(t)}function DC(){jh=!1,si!==null&&au(si)&&(si=null),ii!==null&&au(ii)&&(ii=null),oi!==null&&au(oi)&&(oi=null),Al.forEach(sp),Nl.forEach(sp)}function Qa(e,t){e.blockedOn===t&&(e.blockedOn=null,jh||(jh=!0,Zr.unstable_scheduleCallback(Zr.unstable_NormalPriority,DC)))}function Tl(e){function t(i){return Qa(i,e)}if(0<Oc.length){Qa(Oc[0],e);for(var r=1;r<Oc.length;r++){var n=Oc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(si!==null&&Qa(si,e),ii!==null&&Qa(ii,e),oi!==null&&Qa(oi,e),Al.forEach(t),Nl.forEach(t),r=0;r<Gs.length;r++)n=Gs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Gs.length&&(r=Gs[0],r.blockedOn===null);)Iy(r),r.blockedOn===null&&Gs.shift()}var Jo=As.ReactCurrentBatchConfig,Tu=!0;function MC(e,t,r,n){var i=st,a=Jo.transition;Jo.transition=null;try{st=1,l1(e,t,r,n)}finally{st=i,Jo.transition=a}}function LC(e,t,r,n){var i=st,a=Jo.transition;Jo.transition=null;try{st=4,l1(e,t,r,n)}finally{st=i,Jo.transition=a}}function l1(e,t,r,n){if(Tu){var i=Ph(e,t,r,n);if(i===null)Nf(e,t,n,ku,r),np(e,n);else if(PC(i,e,t,r,n))n.stopPropagation();else if(np(e,n),t&4&&-1<jC.indexOf(e)){for(;i!==null;){var a=ic(i);if(a!==null&&Ay(a),a=Ph(e,t,r,n),a===null&&Nf(e,t,n,ku,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Nf(e,t,n,null,r)}}var ku=null;function Ph(e,t,r,n){if(ku=null,e=s1(n),e=Vi(e),e!==null)if(t=co(e),t===null)e=null;else if(r=t.tag,r===13){if(e=yy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ku=e,null}function Ry(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_C()){case i1:return 1;case Ey:return 4;case Au:case SC:return 16;case Cy:return 536870912;default:return 16}default:return 16}}var ei=null,c1=null,lu=null;function Oy(){if(lu)return lu;var e,t=c1,r=t.length,n,i="value"in ei?ei.value:ei.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===i[a-n];n++);return lu=i.slice(e,1<n?1-n:void 0)}function cu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jc(){return!0}function ip(){return!1}function en(e){function t(r,n,i,a,u){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(r=e[m],this[m]=r?r(a):a[m]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?jc:ip,this.isPropagationStopped=ip,this}return Tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jc)},persist:function(){},isPersistent:jc}),t}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u1=en(Ta),sc=Tt({},Ta,{view:0,detail:0}),BC=en(sc),yf,wf,Za,hd=Tt({},sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Za&&(Za&&e.type==="mousemove"?(yf=e.screenX-Za.screenX,wf=e.screenY-Za.screenY):wf=yf=0,Za=e),yf)},movementY:function(e){return"movementY"in e?e.movementY:wf}}),op=en(hd),FC=Tt({},hd,{dataTransfer:0}),UC=en(FC),zC=Tt({},sc,{relatedTarget:0}),vf=en(zC),VC=Tt({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),WC=en(VC),HC=Tt({},Ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$C=en(HC),GC=Tt({},Ta,{data:0}),ap=en(GC),qC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XC[e])?!!t[e]:!1}function d1(){return YC}var QC=Tt({},sc,{key:function(e){if(e.key){var t=qC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d1,charCode:function(e){return e.type==="keypress"?cu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZC=en(QC),JC=Tt({},hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lp=en(JC),e3=Tt({},sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d1}),t3=en(e3),r3=Tt({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),n3=en(r3),s3=Tt({},hd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i3=en(s3),o3=[9,13,27,32],f1=ys&&"CompositionEvent"in window,fl=null;ys&&"documentMode"in document&&(fl=document.documentMode);var a3=ys&&"TextEvent"in window&&!fl,jy=ys&&(!f1||fl&&8<fl&&11>=fl),cp=" ",up=!1;function Py(e,t){switch(e){case"keyup":return o3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bo=!1;function l3(e,t){switch(e){case"compositionend":return Dy(t);case"keypress":return t.which!==32?null:(up=!0,cp);case"textInput":return e=t.data,e===cp&&up?null:e;default:return null}}function c3(e,t){if(Bo)return e==="compositionend"||!f1&&Py(e,t)?(e=Oy(),lu=c1=ei=null,Bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jy&&t.locale!=="ko"?null:t.data;default:return null}}var u3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!u3[e.type]:t==="textarea"}function My(e,t,r,n){hy(n),t=Iu(t,"onChange"),0<t.length&&(r=new u1("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var hl=null,kl=null;function d3(e){qy(e,0)}function md(e){var t=zo(e);if(oy(t))return e}function f3(e,t){if(e==="change")return t}var Ly=!1;if(ys){var bf;if(ys){var Ef="oninput"in document;if(!Ef){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),Ef=typeof fp.oninput=="function"}bf=Ef}else bf=!1;Ly=bf&&(!document.documentMode||9<document.documentMode)}function hp(){hl&&(hl.detachEvent("onpropertychange",By),kl=hl=null)}function By(e){if(e.propertyName==="value"&&md(kl)){var t=[];My(t,kl,e,s1(e)),xy(d3,t)}}function h3(e,t,r){e==="focusin"?(hp(),hl=t,kl=r,hl.attachEvent("onpropertychange",By)):e==="focusout"&&hp()}function m3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return md(kl)}function p3(e,t){if(e==="click")return md(t)}function g3(e,t){if(e==="input"||e==="change")return md(t)}function x3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:x3;function Il(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!gh.call(t,i)||!Dn(e[i],t[i]))return!1}return!0}function mp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pp(e,t){var r=mp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mp(r)}}function Fy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uy(){for(var e=window,t=Cu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Cu(e.document)}return t}function h1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function y3(e){var t=Uy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Fy(r.ownerDocument.documentElement,r)){if(n!==null&&h1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=pp(r,a);var u=pp(r,n);i&&u&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var w3=ys&&"documentMode"in document&&11>=document.documentMode,Fo=null,Dh=null,ml=null,Mh=!1;function gp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mh||Fo==null||Fo!==Cu(n)||(n=Fo,"selectionStart"in n&&h1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ml&&Il(ml,n)||(ml=n,n=Iu(Dh,"onSelect"),0<n.length&&(t=new u1("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fo)))}function Pc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Uo={animationend:Pc("Animation","AnimationEnd"),animationiteration:Pc("Animation","AnimationIteration"),animationstart:Pc("Animation","AnimationStart"),transitionend:Pc("Transition","TransitionEnd")},Cf={},zy={};ys&&(zy=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function pd(e){if(Cf[e])return Cf[e];if(!Uo[e])return e;var t=Uo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zy)return Cf[e]=t[r];return e}var Vy=pd("animationend"),Wy=pd("animationiteration"),Hy=pd("animationstart"),$y=pd("transitionend"),Gy=new Map,xp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(e,t){Gy.set(e,t),lo(t,[e])}for(var _f=0;_f<xp.length;_f++){var Sf=xp[_f],v3=Sf.toLowerCase(),b3=Sf[0].toUpperCase()+Sf.slice(1);bi(v3,"on"+b3)}bi(Vy,"onAnimationEnd");bi(Wy,"onAnimationIteration");bi(Hy,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi($y,"onTransitionEnd");ma("onMouseEnter",["mouseout","mouseover"]);ma("onMouseLeave",["mouseout","mouseover"]);ma("onPointerEnter",["pointerout","pointerover"]);ma("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function yp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,vC(n,t,void 0,e),e.currentTarget=null}function qy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var u=n.length-1;0<=u;u--){var m=n[u],p=m.instance,x=m.currentTarget;if(m=m.listener,p!==a&&i.isPropagationStopped())break e;yp(i,m,x),a=p}else for(u=0;u<n.length;u++){if(m=n[u],p=m.instance,x=m.currentTarget,m=m.listener,p!==a&&i.isPropagationStopped())break e;yp(i,m,x),a=p}}}if(Su)throw e=Rh,Su=!1,Rh=null,e}function ht(e,t){var r=t[zh];r===void 0&&(r=t[zh]=new Set);var n=e+"__bubble";r.has(n)||(Ky(t,e,2,!1),r.add(n))}function Af(e,t,r){var n=0;t&&(n|=4),Ky(r,e,n,t)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Rl(e){if(!e[Dc]){e[Dc]=!0,ty.forEach(function(r){r!=="selectionchange"&&(E3.has(r)||Af(r,!1,e),Af(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dc]||(t[Dc]=!0,Af("selectionchange",!1,t))}}function Ky(e,t,r,n){switch(Ry(t)){case 1:var i=MC;break;case 4:i=LC;break;default:i=l1}r=i.bind(null,t,r,e),i=void 0,!Ih||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Nf(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var m=n.stateNode.containerInfo;if(m===i||m.nodeType===8&&m.parentNode===i)break;if(u===4)for(u=n.return;u!==null;){var p=u.tag;if((p===3||p===4)&&(p=u.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;u=u.return}for(;m!==null;){if(u=Vi(m),u===null)return;if(p=u.tag,p===5||p===6){n=a=u;continue e}m=m.parentNode}}n=n.return}xy(function(){var x=a,w=s1(r),b=[];e:{var C=Gy.get(e);if(C!==void 0){var E=u1,k=e;switch(e){case"keypress":if(cu(r)===0)break e;case"keydown":case"keyup":E=ZC;break;case"focusin":k="focus",E=vf;break;case"focusout":k="blur",E=vf;break;case"beforeblur":case"afterblur":E=vf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=UC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=t3;break;case Vy:case Wy:case Hy:E=WC;break;case $y:E=n3;break;case"scroll":E=BC;break;case"wheel":E=i3;break;case"copy":case"cut":case"paste":E=$C;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=lp}var A=(t&4)!==0,j=!A&&e==="scroll",T=A?C!==null?C+"Capture":null:C;A=[];for(var S=x,_;S!==null;){_=S;var P=_.stateNode;if(_.tag===5&&P!==null&&(_=P,T!==null&&(P=Sl(S,T),P!=null&&A.push(Ol(S,P,_)))),j)break;S=S.return}0<A.length&&(C=new E(C,k,null,r,w),b.push({event:C,listeners:A}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",C&&r!==Th&&(k=r.relatedTarget||r.fromElement)&&(Vi(k)||k[ws]))break e;if((E||C)&&(C=w.window===w?w:(C=w.ownerDocument)?C.defaultView||C.parentWindow:window,E?(k=r.relatedTarget||r.toElement,E=x,k=k?Vi(k):null,k!==null&&(j=co(k),k!==j||k.tag!==5&&k.tag!==6)&&(k=null)):(E=null,k=x),E!==k)){if(A=op,P="onMouseLeave",T="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(A=lp,P="onPointerLeave",T="onPointerEnter",S="pointer"),j=E==null?C:zo(E),_=k==null?C:zo(k),C=new A(P,S+"leave",E,r,w),C.target=j,C.relatedTarget=_,P=null,Vi(w)===x&&(A=new A(T,S+"enter",k,r,w),A.target=_,A.relatedTarget=j,P=A),j=P,E&&k)t:{for(A=E,T=k,S=0,_=A;_;_=Co(_))S++;for(_=0,P=T;P;P=Co(P))_++;for(;0<S-_;)A=Co(A),S--;for(;0<_-S;)T=Co(T),_--;for(;S--;){if(A===T||T!==null&&A===T.alternate)break t;A=Co(A),T=Co(T)}A=null}else A=null;E!==null&&wp(b,C,E,A,!1),k!==null&&j!==null&&wp(b,j,k,A,!0)}}e:{if(C=x?zo(x):window,E=C.nodeName&&C.nodeName.toLowerCase(),E==="select"||E==="input"&&C.type==="file")var F=f3;else if(dp(C))if(Ly)F=g3;else{F=m3;var L=h3}else(E=C.nodeName)&&E.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(F=p3);if(F&&(F=F(e,x))){My(b,F,r,w);break e}L&&L(e,C,x),e==="focusout"&&(L=C._wrapperState)&&L.controlled&&C.type==="number"&&Ch(C,"number",C.value)}switch(L=x?zo(x):window,e){case"focusin":(dp(L)||L.contentEditable==="true")&&(Fo=L,Dh=x,ml=null);break;case"focusout":ml=Dh=Fo=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,gp(b,r,w);break;case"selectionchange":if(w3)break;case"keydown":case"keyup":gp(b,r,w)}var M;if(f1)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Bo?Py(e,r)&&(W="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(W="onCompositionStart");W&&(jy&&r.locale!=="ko"&&(Bo||W!=="onCompositionStart"?W==="onCompositionEnd"&&Bo&&(M=Oy()):(ei=w,c1="value"in ei?ei.value:ei.textContent,Bo=!0)),L=Iu(x,W),0<L.length&&(W=new ap(W,e,null,r,w),b.push({event:W,listeners:L}),M?W.data=M:(M=Dy(r),M!==null&&(W.data=M)))),(M=a3?l3(e,r):c3(e,r))&&(x=Iu(x,"onBeforeInput"),0<x.length&&(w=new ap("onBeforeInput","beforeinput",null,r,w),b.push({event:w,listeners:x}),w.data=M))}qy(b,t)})}function Ol(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Iu(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Sl(e,r),a!=null&&n.unshift(Ol(e,a,i)),a=Sl(e,t),a!=null&&n.push(Ol(e,a,i))),e=e.return}return n}function Co(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wp(e,t,r,n,i){for(var a=t._reactName,u=[];r!==null&&r!==n;){var m=r,p=m.alternate,x=m.stateNode;if(p!==null&&p===n)break;m.tag===5&&x!==null&&(m=x,i?(p=Sl(r,a),p!=null&&u.unshift(Ol(r,p,m))):i||(p=Sl(r,a),p!=null&&u.push(Ol(r,p,m)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}var C3=/\r\n?/g,_3=/\u0000|\uFFFD/g;function vp(e){return(typeof e=="string"?e:""+e).replace(C3,`
`).replace(_3,"")}function Mc(e,t,r){if(t=vp(t),vp(e)!==t&&r)throw Error(de(425))}function Ru(){}var Lh=null,Bh=null;function Fh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uh=typeof setTimeout=="function"?setTimeout:void 0,S3=typeof clearTimeout=="function"?clearTimeout:void 0,bp=typeof Promise=="function"?Promise:void 0,A3=typeof queueMicrotask=="function"?queueMicrotask:typeof bp<"u"?function(e){return bp.resolve(null).then(e).catch(N3)}:Uh;function N3(e){setTimeout(function(){throw e})}function Tf(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Tl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Tl(t)}function ai(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ep(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ka=Math.random().toString(36).slice(2),Qn="__reactFiber$"+ka,jl="__reactProps$"+ka,ws="__reactContainer$"+ka,zh="__reactEvents$"+ka,T3="__reactListeners$"+ka,k3="__reactHandles$"+ka;function Vi(e){var t=e[Qn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ws]||r[Qn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ep(e);e!==null;){if(r=e[Qn])return r;e=Ep(e)}return t}e=r,r=e.parentNode}return null}function ic(e){return e=e[Qn]||e[ws],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function gd(e){return e[jl]||null}var Vh=[],Vo=-1;function Ei(e){return{current:e}}function pt(e){0>Vo||(e.current=Vh[Vo],Vh[Vo]=null,Vo--)}function ut(e,t){Vo++,Vh[Vo]=e.current,e.current=t}var pi={},vr=Ei(pi),Fr=Ei(!1),eo=pi;function pa(e,t){var r=e.type.contextTypes;if(!r)return pi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ur(e){return e=e.childContextTypes,e!=null}function Ou(){pt(Fr),pt(vr)}function Cp(e,t,r){if(vr.current!==pi)throw Error(de(168));ut(vr,t),ut(Fr,r)}function Xy(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(de(108,hC(e)||"Unknown",i));return Tt({},r,n)}function ju(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,eo=vr.current,ut(vr,e),ut(Fr,Fr.current),!0}function _p(e,t,r){var n=e.stateNode;if(!n)throw Error(de(169));r?(e=Xy(e,t,eo),n.__reactInternalMemoizedMergedChildContext=e,pt(Fr),pt(vr),ut(vr,e)):pt(Fr),ut(Fr,r)}var hs=null,xd=!1,kf=!1;function Yy(e){hs===null?hs=[e]:hs.push(e)}function I3(e){xd=!0,Yy(e)}function Ci(){if(!kf&&hs!==null){kf=!0;var e=0,t=st;try{var r=hs;for(st=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}hs=null,xd=!1}catch(i){throw hs!==null&&(hs=hs.slice(e+1)),by(i1,Ci),i}finally{st=t,kf=!1}}return null}var Wo=[],Ho=0,Pu=null,Du=0,un=[],dn=0,to=null,ps=1,gs="";function Li(e,t){Wo[Ho++]=Du,Wo[Ho++]=Pu,Pu=e,Du=t}function Qy(e,t,r){un[dn++]=ps,un[dn++]=gs,un[dn++]=to,to=e;var n=ps;e=gs;var i=32-jn(n)-1;n&=~(1<<i),r+=1;var a=32-jn(t)+i;if(30<a){var u=i-i%5;a=(n&(1<<u)-1).toString(32),n>>=u,i-=u,ps=1<<32-jn(t)+i|r<<i|n,gs=a+e}else ps=1<<a|r<<i|n,gs=e}function m1(e){e.return!==null&&(Li(e,1),Qy(e,1,0))}function p1(e){for(;e===Pu;)Pu=Wo[--Ho],Wo[Ho]=null,Du=Wo[--Ho],Wo[Ho]=null;for(;e===to;)to=un[--dn],un[dn]=null,gs=un[--dn],un[dn]=null,ps=un[--dn],un[dn]=null}var Yr=null,Xr=null,bt=!1,Rn=null;function Zy(e,t){var r=fn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Sp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yr=e,Xr=ai(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yr=e,Xr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=to!==null?{id:ps,overflow:gs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Yr=e,Xr=null,!0):!1;default:return!1}}function Wh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hh(e){if(bt){var t=Xr;if(t){var r=t;if(!Sp(e,t)){if(Wh(e))throw Error(de(418));t=ai(r.nextSibling);var n=Yr;t&&Sp(e,t)?Zy(n,r):(e.flags=e.flags&-4097|2,bt=!1,Yr=e)}}else{if(Wh(e))throw Error(de(418));e.flags=e.flags&-4097|2,bt=!1,Yr=e}}}function Ap(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yr=e}function Lc(e){if(e!==Yr)return!1;if(!bt)return Ap(e),bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fh(e.type,e.memoizedProps)),t&&(t=Xr)){if(Wh(e))throw Jy(),Error(de(418));for(;t;)Zy(e,t),t=ai(t.nextSibling)}if(Ap(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xr=ai(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xr=null}}else Xr=Yr?ai(e.stateNode.nextSibling):null;return!0}function Jy(){for(var e=Xr;e;)e=ai(e.nextSibling)}function ga(){Xr=Yr=null,bt=!1}function g1(e){Rn===null?Rn=[e]:Rn.push(e)}var R3=As.ReactCurrentBatchConfig;function Ja(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(de(309));var n=r.stateNode}if(!n)throw Error(de(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var m=i.refs;u===null?delete m[a]:m[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(de(284));if(!r._owner)throw Error(de(290,e))}return e}function Bc(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Np(e){var t=e._init;return t(e._payload)}function ew(e){function t(T,S){if(e){var _=T.deletions;_===null?(T.deletions=[S],T.flags|=16):_.push(S)}}function r(T,S){if(!e)return null;for(;S!==null;)t(T,S),S=S.sibling;return null}function n(T,S){for(T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function i(T,S){return T=di(T,S),T.index=0,T.sibling=null,T}function a(T,S,_){return T.index=_,e?(_=T.alternate,_!==null?(_=_.index,_<S?(T.flags|=2,S):_):(T.flags|=2,S)):(T.flags|=1048576,S)}function u(T){return e&&T.alternate===null&&(T.flags|=2),T}function m(T,S,_,P){return S===null||S.tag!==6?(S=Mf(_,T.mode,P),S.return=T,S):(S=i(S,_),S.return=T,S)}function p(T,S,_,P){var F=_.type;return F===Lo?w(T,S,_.props.children,P,_.key):S!==null&&(S.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ws&&Np(F)===S.type)?(P=i(S,_.props),P.ref=Ja(T,S,_),P.return=T,P):(P=gu(_.type,_.key,_.props,null,T.mode,P),P.ref=Ja(T,S,_),P.return=T,P)}function x(T,S,_,P){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=Lf(_,T.mode,P),S.return=T,S):(S=i(S,_.children||[]),S.return=T,S)}function w(T,S,_,P,F){return S===null||S.tag!==7?(S=Ji(_,T.mode,P,F),S.return=T,S):(S=i(S,_),S.return=T,S)}function b(T,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Mf(""+S,T.mode,_),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Nc:return _=gu(S.type,S.key,S.props,null,T.mode,_),_.ref=Ja(T,null,S),_.return=T,_;case Mo:return S=Lf(S,T.mode,_),S.return=T,S;case Ws:var P=S._init;return b(T,P(S._payload),_)}if(ol(S)||Ka(S))return S=Ji(S,T.mode,_,null),S.return=T,S;Bc(T,S)}return null}function C(T,S,_,P){var F=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return F!==null?null:m(T,S,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Nc:return _.key===F?p(T,S,_,P):null;case Mo:return _.key===F?x(T,S,_,P):null;case Ws:return F=_._init,C(T,S,F(_._payload),P)}if(ol(_)||Ka(_))return F!==null?null:w(T,S,_,P,null);Bc(T,_)}return null}function E(T,S,_,P,F){if(typeof P=="string"&&P!==""||typeof P=="number")return T=T.get(_)||null,m(S,T,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Nc:return T=T.get(P.key===null?_:P.key)||null,p(S,T,P,F);case Mo:return T=T.get(P.key===null?_:P.key)||null,x(S,T,P,F);case Ws:var L=P._init;return E(T,S,_,L(P._payload),F)}if(ol(P)||Ka(P))return T=T.get(_)||null,w(S,T,P,F,null);Bc(S,P)}return null}function k(T,S,_,P){for(var F=null,L=null,M=S,W=S=0,z=null;M!==null&&W<_.length;W++){M.index>W?(z=M,M=null):z=M.sibling;var ne=C(T,M,_[W],P);if(ne===null){M===null&&(M=z);break}e&&M&&ne.alternate===null&&t(T,M),S=a(ne,S,W),L===null?F=ne:L.sibling=ne,L=ne,M=z}if(W===_.length)return r(T,M),bt&&Li(T,W),F;if(M===null){for(;W<_.length;W++)M=b(T,_[W],P),M!==null&&(S=a(M,S,W),L===null?F=M:L.sibling=M,L=M);return bt&&Li(T,W),F}for(M=n(T,M);W<_.length;W++)z=E(M,T,W,_[W],P),z!==null&&(e&&z.alternate!==null&&M.delete(z.key===null?W:z.key),S=a(z,S,W),L===null?F=z:L.sibling=z,L=z);return e&&M.forEach(function(H){return t(T,H)}),bt&&Li(T,W),F}function A(T,S,_,P){var F=Ka(_);if(typeof F!="function")throw Error(de(150));if(_=F.call(_),_==null)throw Error(de(151));for(var L=F=null,M=S,W=S=0,z=null,ne=_.next();M!==null&&!ne.done;W++,ne=_.next()){M.index>W?(z=M,M=null):z=M.sibling;var H=C(T,M,ne.value,P);if(H===null){M===null&&(M=z);break}e&&M&&H.alternate===null&&t(T,M),S=a(H,S,W),L===null?F=H:L.sibling=H,L=H,M=z}if(ne.done)return r(T,M),bt&&Li(T,W),F;if(M===null){for(;!ne.done;W++,ne=_.next())ne=b(T,ne.value,P),ne!==null&&(S=a(ne,S,W),L===null?F=ne:L.sibling=ne,L=ne);return bt&&Li(T,W),F}for(M=n(T,M);!ne.done;W++,ne=_.next())ne=E(M,T,W,ne.value,P),ne!==null&&(e&&ne.alternate!==null&&M.delete(ne.key===null?W:ne.key),S=a(ne,S,W),L===null?F=ne:L.sibling=ne,L=ne);return e&&M.forEach(function(q){return t(T,q)}),bt&&Li(T,W),F}function j(T,S,_,P){if(typeof _=="object"&&_!==null&&_.type===Lo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Nc:e:{for(var F=_.key,L=S;L!==null;){if(L.key===F){if(F=_.type,F===Lo){if(L.tag===7){r(T,L.sibling),S=i(L,_.props.children),S.return=T,T=S;break e}}else if(L.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ws&&Np(F)===L.type){r(T,L.sibling),S=i(L,_.props),S.ref=Ja(T,L,_),S.return=T,T=S;break e}r(T,L);break}else t(T,L);L=L.sibling}_.type===Lo?(S=Ji(_.props.children,T.mode,P,_.key),S.return=T,T=S):(P=gu(_.type,_.key,_.props,null,T.mode,P),P.ref=Ja(T,S,_),P.return=T,T=P)}return u(T);case Mo:e:{for(L=_.key;S!==null;){if(S.key===L)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){r(T,S.sibling),S=i(S,_.children||[]),S.return=T,T=S;break e}else{r(T,S);break}else t(T,S);S=S.sibling}S=Lf(_,T.mode,P),S.return=T,T=S}return u(T);case Ws:return L=_._init,j(T,S,L(_._payload),P)}if(ol(_))return k(T,S,_,P);if(Ka(_))return A(T,S,_,P);Bc(T,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(r(T,S.sibling),S=i(S,_),S.return=T,T=S):(r(T,S),S=Mf(_,T.mode,P),S.return=T,T=S),u(T)):r(T,S)}return j}var xa=ew(!0),tw=ew(!1),Mu=Ei(null),Lu=null,$o=null,x1=null;function y1(){x1=$o=Lu=null}function w1(e){var t=Mu.current;pt(Mu),e._currentValue=t}function $h(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ea(e,t){Lu=e,x1=$o=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Br=!0),e.firstContext=null)}function mn(e){var t=e._currentValue;if(x1!==e)if(e={context:e,memoizedValue:t,next:null},$o===null){if(Lu===null)throw Error(de(308));$o=e,Lu.dependencies={lanes:0,firstContext:e}}else $o=$o.next=e;return t}var Wi=null;function v1(e){Wi===null?Wi=[e]:Wi.push(e)}function rw(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,v1(t)):(r.next=i.next,i.next=r),t.interleaved=r,vs(e,n)}function vs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hs=!1;function b1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function li(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Qe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,vs(e,r)}return i=n.interleaved,i===null?(t.next=t,v1(n)):(t.next=i.next,i.next=t),n.interleaved=t,vs(e,r)}function uu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,o1(e,r)}}function Tp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=u:a=a.next=u,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bu(e,t,r,n){var i=e.updateQueue;Hs=!1;var a=i.firstBaseUpdate,u=i.lastBaseUpdate,m=i.shared.pending;if(m!==null){i.shared.pending=null;var p=m,x=p.next;p.next=null,u===null?a=x:u.next=x,u=p;var w=e.alternate;w!==null&&(w=w.updateQueue,m=w.lastBaseUpdate,m!==u&&(m===null?w.firstBaseUpdate=x:m.next=x,w.lastBaseUpdate=p))}if(a!==null){var b=i.baseState;u=0,w=x=p=null,m=a;do{var C=m.lane,E=m.eventTime;if((n&C)===C){w!==null&&(w=w.next={eventTime:E,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var k=e,A=m;switch(C=t,E=r,A.tag){case 1:if(k=A.payload,typeof k=="function"){b=k.call(E,b,C);break e}b=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=A.payload,C=typeof k=="function"?k.call(E,b,C):k,C==null)break e;b=Tt({},b,C);break e;case 2:Hs=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,C=i.effects,C===null?i.effects=[m]:C.push(m))}else E={eventTime:E,lane:C,tag:m.tag,payload:m.payload,callback:m.callback,next:null},w===null?(x=w=E,p=b):w=w.next=E,u|=C;if(m=m.next,m===null){if(m=i.shared.pending,m===null)break;C=m,m=C.next,C.next=null,i.lastBaseUpdate=C,i.shared.pending=null}}while(!0);if(w===null&&(p=b),i.baseState=p,i.firstBaseUpdate=x,i.lastBaseUpdate=w,t=i.shared.interleaved,t!==null){i=t;do u|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);no|=u,e.lanes=u,e.memoizedState=b}}function kp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(de(191,i));i.call(n)}}}var oc={},es=Ei(oc),Pl=Ei(oc),Dl=Ei(oc);function Hi(e){if(e===oc)throw Error(de(174));return e}function E1(e,t){switch(ut(Dl,t),ut(Pl,e),ut(es,oc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sh(t,e)}pt(es),ut(es,t)}function ya(){pt(es),pt(Pl),pt(Dl)}function sw(e){Hi(Dl.current);var t=Hi(es.current),r=Sh(t,e.type);t!==r&&(ut(Pl,e),ut(es,r))}function C1(e){Pl.current===e&&(pt(es),pt(Pl))}var At=Ei(0);function Fu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var If=[];function _1(){for(var e=0;e<If.length;e++)If[e]._workInProgressVersionPrimary=null;If.length=0}var du=As.ReactCurrentDispatcher,Rf=As.ReactCurrentBatchConfig,ro=0,Nt=null,Xt=null,tr=null,Uu=!1,pl=!1,Ml=0,O3=0;function gr(){throw Error(de(321))}function S1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Dn(e[r],t[r]))return!1;return!0}function A1(e,t,r,n,i,a){if(ro=a,Nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,du.current=e===null||e.memoizedState===null?M3:L3,e=r(n,i),pl){a=0;do{if(pl=!1,Ml=0,25<=a)throw Error(de(301));a+=1,tr=Xt=null,t.updateQueue=null,du.current=B3,e=r(n,i)}while(pl)}if(du.current=zu,t=Xt!==null&&Xt.next!==null,ro=0,tr=Xt=Nt=null,Uu=!1,t)throw Error(de(300));return e}function N1(){var e=Ml!==0;return Ml=0,e}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?Nt.memoizedState=tr=e:tr=tr.next=e,tr}function pn(){if(Xt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var t=tr===null?Nt.memoizedState:tr.next;if(t!==null)tr=t,Xt=e;else{if(e===null)throw Error(de(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},tr===null?Nt.memoizedState=tr=e:tr=tr.next=e}return tr}function Ll(e,t){return typeof t=="function"?t(e):t}function Of(e){var t=pn(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var n=Xt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var u=i.next;i.next=a.next,a.next=u}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var m=u=null,p=null,x=a;do{var w=x.lane;if((ro&w)===w)p!==null&&(p=p.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),n=x.hasEagerState?x.eagerState:e(n,x.action);else{var b={lane:w,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};p===null?(m=p=b,u=n):p=p.next=b,Nt.lanes|=w,no|=w}x=x.next}while(x!==null&&x!==a);p===null?u=n:p.next=m,Dn(n,t.memoizedState)||(Br=!0),t.memoizedState=n,t.baseState=u,t.baseQueue=p,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Nt.lanes|=a,no|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jf(e){var t=pn(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var u=i=i.next;do a=e(a,u.action),u=u.next;while(u!==i);Dn(a,t.memoizedState)||(Br=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function iw(){}function ow(e,t){var r=Nt,n=pn(),i=t(),a=!Dn(n.memoizedState,i);if(a&&(n.memoizedState=i,Br=!0),n=n.queue,T1(cw.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||tr!==null&&tr.memoizedState.tag&1){if(r.flags|=2048,Bl(9,lw.bind(null,r,n,i,t),void 0,null),rr===null)throw Error(de(349));ro&30||aw(r,t,i)}return i}function aw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lw(e,t,r,n){t.value=r,t.getSnapshot=n,uw(t)&&dw(e)}function cw(e,t,r){return r(function(){uw(t)&&dw(e)})}function uw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dn(e,r)}catch{return!0}}function dw(e){var t=vs(e,1);t!==null&&Pn(t,e,1,-1)}function Ip(e){var t=qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:e},t.queue=e,e=e.dispatch=D3.bind(null,Nt,e),[t.memoizedState,e]}function Bl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function fw(){return pn().memoizedState}function fu(e,t,r,n){var i=qn();Nt.flags|=e,i.memoizedState=Bl(1|t,r,void 0,n===void 0?null:n)}function yd(e,t,r,n){var i=pn();n=n===void 0?null:n;var a=void 0;if(Xt!==null){var u=Xt.memoizedState;if(a=u.destroy,n!==null&&S1(n,u.deps)){i.memoizedState=Bl(t,r,a,n);return}}Nt.flags|=e,i.memoizedState=Bl(1|t,r,a,n)}function Rp(e,t){return fu(8390656,8,e,t)}function T1(e,t){return yd(2048,8,e,t)}function hw(e,t){return yd(4,2,e,t)}function mw(e,t){return yd(4,4,e,t)}function pw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gw(e,t,r){return r=r!=null?r.concat([e]):null,yd(4,4,pw.bind(null,t,e),r)}function k1(){}function xw(e,t){var r=pn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&S1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function yw(e,t){var r=pn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&S1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ww(e,t,r){return ro&21?(Dn(r,t)||(r=_y(),Nt.lanes|=r,no|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Br=!0),e.memoizedState=r)}function j3(e,t){var r=st;st=r!==0&&4>r?r:4,e(!0);var n=Rf.transition;Rf.transition={};try{e(!1),t()}finally{st=r,Rf.transition=n}}function vw(){return pn().memoizedState}function P3(e,t,r){var n=ui(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},bw(e))Ew(t,r);else if(r=rw(e,t,r,n),r!==null){var i=Ar();Pn(r,e,n,i),Cw(r,t,n)}}function D3(e,t,r){var n=ui(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(bw(e))Ew(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,m=a(u,r);if(i.hasEagerState=!0,i.eagerState=m,Dn(m,u)){var p=t.interleaved;p===null?(i.next=i,v1(t)):(i.next=p.next,p.next=i),t.interleaved=i;return}}catch{}finally{}r=rw(e,t,i,n),r!==null&&(i=Ar(),Pn(r,e,n,i),Cw(r,t,n))}}function bw(e){var t=e.alternate;return e===Nt||t!==null&&t===Nt}function Ew(e,t){pl=Uu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Cw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,o1(e,r)}}var zu={readContext:mn,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},M3={readContext:mn,useCallback:function(e,t){return qn().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:Rp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fu(4194308,4,pw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fu(4194308,4,e,t)},useInsertionEffect:function(e,t){return fu(4,2,e,t)},useMemo:function(e,t){var r=qn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=P3.bind(null,Nt,e),[n.memoizedState,e]},useRef:function(e){var t=qn();return e={current:e},t.memoizedState=e},useState:Ip,useDebugValue:k1,useDeferredValue:function(e){return qn().memoizedState=e},useTransition:function(){var e=Ip(!1),t=e[0];return e=j3.bind(null,e[1]),qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Nt,i=qn();if(bt){if(r===void 0)throw Error(de(407));r=r()}else{if(r=t(),rr===null)throw Error(de(349));ro&30||aw(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Rp(cw.bind(null,n,a,e),[e]),n.flags|=2048,Bl(9,lw.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=qn(),t=rr.identifierPrefix;if(bt){var r=gs,n=ps;r=(n&~(1<<32-jn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ml++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=O3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},L3={readContext:mn,useCallback:xw,useContext:mn,useEffect:T1,useImperativeHandle:gw,useInsertionEffect:hw,useLayoutEffect:mw,useMemo:yw,useReducer:Of,useRef:fw,useState:function(){return Of(Ll)},useDebugValue:k1,useDeferredValue:function(e){var t=pn();return ww(t,Xt.memoizedState,e)},useTransition:function(){var e=Of(Ll)[0],t=pn().memoizedState;return[e,t]},useMutableSource:iw,useSyncExternalStore:ow,useId:vw,unstable_isNewReconciler:!1},B3={readContext:mn,useCallback:xw,useContext:mn,useEffect:T1,useImperativeHandle:gw,useInsertionEffect:hw,useLayoutEffect:mw,useMemo:yw,useReducer:jf,useRef:fw,useState:function(){return jf(Ll)},useDebugValue:k1,useDeferredValue:function(e){var t=pn();return Xt===null?t.memoizedState=e:ww(t,Xt.memoizedState,e)},useTransition:function(){var e=jf(Ll)[0],t=pn().memoizedState;return[e,t]},useMutableSource:iw,useSyncExternalStore:ow,useId:vw,unstable_isNewReconciler:!1};function _n(e,t){if(e&&e.defaultProps){t=Tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Gh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wd={isMounted:function(e){return(e=e._reactInternals)?co(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ar(),i=ui(e),a=xs(n,i);a.payload=t,r!=null&&(a.callback=r),t=li(e,a,i),t!==null&&(Pn(t,e,i,n),uu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ar(),i=ui(e),a=xs(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=li(e,a,i),t!==null&&(Pn(t,e,i,n),uu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ar(),n=ui(e),i=xs(r,n);i.tag=2,t!=null&&(i.callback=t),t=li(e,i,n),t!==null&&(Pn(t,e,n,r),uu(t,e,n))}};function Op(e,t,r,n,i,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,u):t.prototype&&t.prototype.isPureReactComponent?!Il(r,n)||!Il(i,a):!0}function _w(e,t,r){var n=!1,i=pi,a=t.contextType;return typeof a=="object"&&a!==null?a=mn(a):(i=Ur(t)?eo:vr.current,n=t.contextTypes,a=(n=n!=null)?pa(e,i):pi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function jp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wd.enqueueReplaceState(t,t.state,null)}function qh(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},b1(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=mn(a):(a=Ur(t)?eo:vr.current,i.context=pa(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Gh(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&wd.enqueueReplaceState(i,i.state,null),Bu(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function wa(e,t){try{var r="",n=t;do r+=fC(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Pf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Kh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var F3=typeof WeakMap=="function"?WeakMap:Map;function Sw(e,t,r){r=xs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wu||(Wu=!0,s0=n),Kh(e,t)},r}function Aw(e,t,r){r=xs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Kh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Kh(e,t),typeof n!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}function Pp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new F3;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=J3.bind(null,e,t,r),t.then(e,e))}function Dp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mp(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xs(-1,1),t.tag=2,li(r,t,1))),r.lanes|=1),e)}var U3=As.ReactCurrentOwner,Br=!1;function Cr(e,t,r,n){t.child=e===null?tw(t,null,r,n):xa(t,e.child,r,n)}function Lp(e,t,r,n,i){r=r.render;var a=t.ref;return ea(t,i),n=A1(e,t,r,n,a,i),r=N1(),e!==null&&!Br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bs(e,t,i)):(bt&&r&&m1(t),t.flags|=1,Cr(e,t,n,i),t.child)}function Bp(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!L1(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Nw(e,t,a,n,i)):(e=gu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var u=a.memoizedProps;if(r=r.compare,r=r!==null?r:Il,r(u,n)&&e.ref===t.ref)return bs(e,t,i)}return t.flags|=1,e=di(a,n),e.ref=t.ref,e.return=t,t.child=e}function Nw(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Il(a,n)&&e.ref===t.ref)if(Br=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Br=!0);else return t.lanes=e.lanes,bs(e,t,i)}return Xh(e,t,r,n,i)}function Tw(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(qo,$r),$r|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ut(qo,$r),$r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ut(qo,$r),$r|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ut(qo,$r),$r|=n;return Cr(e,t,i,r),t.child}function kw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xh(e,t,r,n,i){var a=Ur(r)?eo:vr.current;return a=pa(t,a),ea(t,i),r=A1(e,t,r,n,a,i),n=N1(),e!==null&&!Br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bs(e,t,i)):(bt&&n&&m1(t),t.flags|=1,Cr(e,t,r,i),t.child)}function Fp(e,t,r,n,i){if(Ur(r)){var a=!0;ju(t)}else a=!1;if(ea(t,i),t.stateNode===null)hu(e,t),_w(t,r,n),qh(t,r,n,i),n=!0;else if(e===null){var u=t.stateNode,m=t.memoizedProps;u.props=m;var p=u.context,x=r.contextType;typeof x=="object"&&x!==null?x=mn(x):(x=Ur(r)?eo:vr.current,x=pa(t,x));var w=r.getDerivedStateFromProps,b=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function";b||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==n||p!==x)&&jp(t,u,n,x),Hs=!1;var C=t.memoizedState;u.state=C,Bu(t,n,u,i),p=t.memoizedState,m!==n||C!==p||Fr.current||Hs?(typeof w=="function"&&(Gh(t,r,w,n),p=t.memoizedState),(m=Hs||Op(t,r,m,n,C,p,x))?(b||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=p),u.props=n,u.state=p,u.context=x,n=m):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,nw(e,t),m=t.memoizedProps,x=t.type===t.elementType?m:_n(t.type,m),u.props=x,b=t.pendingProps,C=u.context,p=r.contextType,typeof p=="object"&&p!==null?p=mn(p):(p=Ur(r)?eo:vr.current,p=pa(t,p));var E=r.getDerivedStateFromProps;(w=typeof E=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==b||C!==p)&&jp(t,u,n,p),Hs=!1,C=t.memoizedState,u.state=C,Bu(t,n,u,i);var k=t.memoizedState;m!==b||C!==k||Fr.current||Hs?(typeof E=="function"&&(Gh(t,r,E,n),k=t.memoizedState),(x=Hs||Op(t,r,x,n,C,k,p)||!1)?(w||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,k,p),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,k,p)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=k),u.props=n,u.state=k,u.context=p,n=x):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),n=!1)}return Yh(e,t,r,n,a,i)}function Yh(e,t,r,n,i,a){kw(e,t);var u=(t.flags&128)!==0;if(!n&&!u)return i&&_p(t,r,!1),bs(e,t,a);n=t.stateNode,U3.current=t;var m=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&u?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,m,a)):Cr(e,t,m,a),t.memoizedState=n.state,i&&_p(t,r,!0),t.child}function Iw(e){var t=e.stateNode;t.pendingContext?Cp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cp(e,t.context,!1),E1(e,t.containerInfo)}function Up(e,t,r,n,i){return ga(),g1(i),t.flags|=256,Cr(e,t,r,n),t.child}var Qh={dehydrated:null,treeContext:null,retryLane:0};function Zh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rw(e,t,r){var n=t.pendingProps,i=At.current,a=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(i&2)!==0),m?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ut(At,i&1),e===null)return Hh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=n.children,e=n.fallback,a?(n=t.mode,a=t.child,u={mode:"hidden",children:u},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Ed(u,n,0,null),e=Ji(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Zh(r),t.memoizedState=Qh,e):I1(t,u));if(i=e.memoizedState,i!==null&&(m=i.dehydrated,m!==null))return z3(e,t,u,n,m,i,r);if(a){a=n.fallback,u=t.mode,i=e.child,m=i.sibling;var p={mode:"hidden",children:n.children};return!(u&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=p,t.deletions=null):(n=di(i,p),n.subtreeFlags=i.subtreeFlags&14680064),m!==null?a=di(m,a):(a=Ji(a,u,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,u=e.child.memoizedState,u=u===null?Zh(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~r,t.memoizedState=Qh,n}return a=e.child,e=a.sibling,n=di(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function I1(e,t){return t=Ed({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fc(e,t,r,n){return n!==null&&g1(n),xa(t,e.child,null,r),e=I1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function z3(e,t,r,n,i,a,u){if(r)return t.flags&256?(t.flags&=-257,n=Pf(Error(de(422))),Fc(e,t,u,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ed({mode:"visible",children:n.children},i,0,null),a=Ji(a,i,u,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&xa(t,e.child,null,u),t.child.memoizedState=Zh(u),t.memoizedState=Qh,a);if(!(t.mode&1))return Fc(e,t,u,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var m=n.dgst;return n=m,a=Error(de(419)),n=Pf(a,n,void 0),Fc(e,t,u,n)}if(m=(u&e.childLanes)!==0,Br||m){if(n=rr,n!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|u)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,vs(e,i),Pn(n,e,i,-1))}return M1(),n=Pf(Error(de(421))),Fc(e,t,u,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=e_.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Xr=ai(i.nextSibling),Yr=t,bt=!0,Rn=null,e!==null&&(un[dn++]=ps,un[dn++]=gs,un[dn++]=to,ps=e.id,gs=e.overflow,to=t),t=I1(t,n.children),t.flags|=4096,t)}function zp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),$h(e.return,t,r)}function Df(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Ow(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Cr(e,t,n.children,r),n=At.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zp(e,r,t);else if(e.tag===19)zp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ut(At,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Fu(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Df(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Fu(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Df(t,!0,r,null,a);break;case"together":Df(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),no|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,r=di(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=di(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function V3(e,t,r){switch(t.tag){case 3:Iw(t),ga();break;case 5:sw(t);break;case 1:Ur(t.type)&&ju(t);break;case 4:E1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ut(Mu,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ut(At,At.current&1),t.flags|=128,null):r&t.child.childLanes?Rw(e,t,r):(ut(At,At.current&1),e=bs(e,t,r),e!==null?e.sibling:null);ut(At,At.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ow(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(At,At.current),n)break;return null;case 22:case 23:return t.lanes=0,Tw(e,t,r)}return bs(e,t,r)}var jw,Jh,Pw,Dw;jw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jh=function(){};Pw=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Hi(es.current);var a=null;switch(r){case"input":i=bh(e,i),n=bh(e,n),a=[];break;case"select":i=Tt({},i,{value:void 0}),n=Tt({},n,{value:void 0}),a=[];break;case"textarea":i=_h(e,i),n=_h(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ru)}Ah(r,n);var u;r=null;for(x in i)if(!n.hasOwnProperty(x)&&i.hasOwnProperty(x)&&i[x]!=null)if(x==="style"){var m=i[x];for(u in m)m.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Cl.hasOwnProperty(x)?a||(a=[]):(a=a||[]).push(x,null));for(x in n){var p=n[x];if(m=i!=null?i[x]:void 0,n.hasOwnProperty(x)&&p!==m&&(p!=null||m!=null))if(x==="style")if(m){for(u in m)!m.hasOwnProperty(u)||p&&p.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in p)p.hasOwnProperty(u)&&m[u]!==p[u]&&(r||(r={}),r[u]=p[u])}else r||(a||(a=[]),a.push(x,r)),r=p;else x==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,m=m?m.__html:void 0,p!=null&&m!==p&&(a=a||[]).push(x,p)):x==="children"?typeof p!="string"&&typeof p!="number"||(a=a||[]).push(x,""+p):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(x)?(p!=null&&x==="onScroll"&&ht("scroll",e),a||m===p||(a=[])):(a=a||[]).push(x,p))}r&&(a=a||[]).push("style",r);var x=a;(t.updateQueue=x)&&(t.flags|=4)}};Dw=function(e,t,r,n){r!==n&&(t.flags|=4)};function el(e,t){if(!bt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function W3(e,t,r){var n=t.pendingProps;switch(p1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(t),null;case 1:return Ur(t.type)&&Ou(),xr(t),null;case 3:return n=t.stateNode,ya(),pt(Fr),pt(vr),_1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Lc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rn!==null&&(a0(Rn),Rn=null))),Jh(e,t),xr(t),null;case 5:C1(t);var i=Hi(Dl.current);if(r=t.type,e!==null&&t.stateNode!=null)Pw(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(de(166));return xr(t),null}if(e=Hi(es.current),Lc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Qn]=t,n[jl]=a,e=(t.mode&1)!==0,r){case"dialog":ht("cancel",n),ht("close",n);break;case"iframe":case"object":case"embed":ht("load",n);break;case"video":case"audio":for(i=0;i<ll.length;i++)ht(ll[i],n);break;case"source":ht("error",n);break;case"img":case"image":case"link":ht("error",n),ht("load",n);break;case"details":ht("toggle",n);break;case"input":Ym(n,a),ht("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ht("invalid",n);break;case"textarea":Zm(n,a),ht("invalid",n)}Ah(r,a),i=null;for(var u in a)if(a.hasOwnProperty(u)){var m=a[u];u==="children"?typeof m=="string"?n.textContent!==m&&(a.suppressHydrationWarning!==!0&&Mc(n.textContent,m,e),i=["children",m]):typeof m=="number"&&n.textContent!==""+m&&(a.suppressHydrationWarning!==!0&&Mc(n.textContent,m,e),i=["children",""+m]):Cl.hasOwnProperty(u)&&m!=null&&u==="onScroll"&&ht("scroll",n)}switch(r){case"input":Tc(n),Qm(n,a,!0);break;case"textarea":Tc(n),Jm(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ru)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),r==="select"&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[Qn]=t,e[jl]=n,jw(e,t,!1,!1),t.stateNode=e;e:{switch(u=Nh(r,n),r){case"dialog":ht("cancel",e),ht("close",e),i=n;break;case"iframe":case"object":case"embed":ht("load",e),i=n;break;case"video":case"audio":for(i=0;i<ll.length;i++)ht(ll[i],e);i=n;break;case"source":ht("error",e),i=n;break;case"img":case"image":case"link":ht("error",e),ht("load",e),i=n;break;case"details":ht("toggle",e),i=n;break;case"input":Ym(e,n),i=bh(e,n),ht("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Tt({},n,{value:void 0}),ht("invalid",e);break;case"textarea":Zm(e,n),i=_h(e,n),ht("invalid",e);break;default:i=n}Ah(r,i),m=i;for(a in m)if(m.hasOwnProperty(a)){var p=m[a];a==="style"?fy(e,p):a==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&uy(e,p)):a==="children"?typeof p=="string"?(r!=="textarea"||p!=="")&&_l(e,p):typeof p=="number"&&_l(e,""+p):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Cl.hasOwnProperty(a)?p!=null&&a==="onScroll"&&ht("scroll",e):p!=null&&e1(e,a,p,u))}switch(r){case"input":Tc(e),Qm(e,n,!1);break;case"textarea":Tc(e),Jm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+mi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Yo(e,!!n.multiple,a,!1):n.defaultValue!=null&&Yo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ru)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xr(t),null;case 6:if(e&&t.stateNode!=null)Dw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(de(166));if(r=Hi(Dl.current),Hi(es.current),Lc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Qn]=t,(a=n.nodeValue!==r)&&(e=Yr,e!==null))switch(e.tag){case 3:Mc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qn]=t,t.stateNode=n}return xr(t),null;case 13:if(pt(At),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bt&&Xr!==null&&t.mode&1&&!(t.flags&128))Jy(),ga(),t.flags|=98560,a=!1;else if(a=Lc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(de(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(de(317));a[Qn]=t}else ga(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xr(t),a=!1}else Rn!==null&&(a0(Rn),Rn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||At.current&1?Yt===0&&(Yt=3):M1())),t.updateQueue!==null&&(t.flags|=4),xr(t),null);case 4:return ya(),Jh(e,t),e===null&&Rl(t.stateNode.containerInfo),xr(t),null;case 10:return w1(t.type._context),xr(t),null;case 17:return Ur(t.type)&&Ou(),xr(t),null;case 19:if(pt(At),a=t.memoizedState,a===null)return xr(t),null;if(n=(t.flags&128)!==0,u=a.rendering,u===null)if(n)el(a,!1);else{if(Yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Fu(e),u!==null){for(t.flags|=128,el(a,!1),n=u.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ut(At,At.current&1|2),t.child}e=e.sibling}a.tail!==null&&Bt()>va&&(t.flags|=128,n=!0,el(a,!1),t.lanes=4194304)}else{if(!n)if(e=Fu(u),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),el(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!bt)return xr(t),null}else 2*Bt()-a.renderingStartTime>va&&r!==1073741824&&(t.flags|=128,n=!0,el(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(r=a.last,r!==null?r.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Bt(),t.sibling=null,r=At.current,ut(At,n?r&1|2:r&1),t):(xr(t),null);case 22:case 23:return D1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$r&1073741824&&(xr(t),t.subtreeFlags&6&&(t.flags|=8192)):xr(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function H3(e,t){switch(p1(t),t.tag){case 1:return Ur(t.type)&&Ou(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ya(),pt(Fr),pt(vr),_1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return C1(t),null;case 13:if(pt(At),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));ga()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(At),null;case 4:return ya(),null;case 10:return w1(t.type._context),null;case 22:case 23:return D1(),null;case 24:return null;default:return null}}var Uc=!1,wr=!1,$3=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Go(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Dt(e,t,n)}else r.current=null}function e0(e,t,r){try{r()}catch(n){Dt(e,t,n)}}var Vp=!1;function G3(e,t){if(Lh=Tu,e=Uy(),h1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var u=0,m=-1,p=-1,x=0,w=0,b=e,C=null;t:for(;;){for(var E;b!==r||i!==0&&b.nodeType!==3||(m=u+i),b!==a||n!==0&&b.nodeType!==3||(p=u+n),b.nodeType===3&&(u+=b.nodeValue.length),(E=b.firstChild)!==null;)C=b,b=E;for(;;){if(b===e)break t;if(C===r&&++x===i&&(m=u),C===a&&++w===n&&(p=u),(E=b.nextSibling)!==null)break;b=C,C=b.parentNode}b=E}r=m===-1||p===-1?null:{start:m,end:p}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bh={focusedElem:e,selectionRange:r},Tu=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var A=k.memoizedProps,j=k.memoizedState,T=t.stateNode,S=T.getSnapshotBeforeUpdate(t.elementType===t.type?A:_n(t.type,A),j);T.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(P){Dt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return k=Vp,Vp=!1,k}function gl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&e0(t,r,a)}i=i.next}while(i!==n)}}function vd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function t0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Mw(e){var t=e.alternate;t!==null&&(e.alternate=null,Mw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qn],delete t[jl],delete t[zh],delete t[T3],delete t[k3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lw(e){return e.tag===5||e.tag===3||e.tag===4}function Wp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function r0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ru));else if(n!==4&&(e=e.child,e!==null))for(r0(e,t,r),e=e.sibling;e!==null;)r0(e,t,r),e=e.sibling}function n0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(n0(e,t,r),e=e.sibling;e!==null;)n0(e,t,r),e=e.sibling}var cr=null,kn=!1;function Ls(e,t,r){for(r=r.child;r!==null;)Bw(e,t,r),r=r.sibling}function Bw(e,t,r){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(fd,r)}catch{}switch(r.tag){case 5:wr||Go(r,t);case 6:var n=cr,i=kn;cr=null,Ls(e,t,r),cr=n,kn=i,cr!==null&&(kn?(e=cr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):cr.removeChild(r.stateNode));break;case 18:cr!==null&&(kn?(e=cr,r=r.stateNode,e.nodeType===8?Tf(e.parentNode,r):e.nodeType===1&&Tf(e,r),Tl(e)):Tf(cr,r.stateNode));break;case 4:n=cr,i=kn,cr=r.stateNode.containerInfo,kn=!0,Ls(e,t,r),cr=n,kn=i;break;case 0:case 11:case 14:case 15:if(!wr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&e0(r,t,u),i=i.next}while(i!==n)}Ls(e,t,r);break;case 1:if(!wr&&(Go(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(m){Dt(r,t,m)}Ls(e,t,r);break;case 21:Ls(e,t,r);break;case 22:r.mode&1?(wr=(n=wr)||r.memoizedState!==null,Ls(e,t,r),wr=n):Ls(e,t,r);break;default:Ls(e,t,r)}}function Hp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $3),t.forEach(function(n){var i=t_.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function bn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,u=t,m=u;e:for(;m!==null;){switch(m.tag){case 5:cr=m.stateNode,kn=!1;break e;case 3:cr=m.stateNode.containerInfo,kn=!0;break e;case 4:cr=m.stateNode.containerInfo,kn=!0;break e}m=m.return}if(cr===null)throw Error(de(160));Bw(a,u,i),cr=null,kn=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(x){Dt(i,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fw(t,e),t=t.sibling}function Fw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(t,e),Gn(e),n&4){try{gl(3,e,e.return),vd(3,e)}catch(A){Dt(e,e.return,A)}try{gl(5,e,e.return)}catch(A){Dt(e,e.return,A)}}break;case 1:bn(t,e),Gn(e),n&512&&r!==null&&Go(r,r.return);break;case 5:if(bn(t,e),Gn(e),n&512&&r!==null&&Go(r,r.return),e.flags&32){var i=e.stateNode;try{_l(i,"")}catch(A){Dt(e,e.return,A)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,u=r!==null?r.memoizedProps:a,m=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{m==="input"&&a.type==="radio"&&a.name!=null&&ay(i,a),Nh(m,u);var x=Nh(m,a);for(u=0;u<p.length;u+=2){var w=p[u],b=p[u+1];w==="style"?fy(i,b):w==="dangerouslySetInnerHTML"?uy(i,b):w==="children"?_l(i,b):e1(i,w,b,x)}switch(m){case"input":Eh(i,a);break;case"textarea":ly(i,a);break;case"select":var C=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?Yo(i,!!a.multiple,E,!1):C!==!!a.multiple&&(a.defaultValue!=null?Yo(i,!!a.multiple,a.defaultValue,!0):Yo(i,!!a.multiple,a.multiple?[]:"",!1))}i[jl]=a}catch(A){Dt(e,e.return,A)}}break;case 6:if(bn(t,e),Gn(e),n&4){if(e.stateNode===null)throw Error(de(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(A){Dt(e,e.return,A)}}break;case 3:if(bn(t,e),Gn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Tl(t.containerInfo)}catch(A){Dt(e,e.return,A)}break;case 4:bn(t,e),Gn(e);break;case 13:bn(t,e),Gn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(j1=Bt())),n&4&&Hp(e);break;case 22:if(w=r!==null&&r.memoizedState!==null,e.mode&1?(wr=(x=wr)||w,bn(t,e),wr=x):bn(t,e),Gn(e),n&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!w&&e.mode&1)for(Ce=e,w=e.child;w!==null;){for(b=Ce=w;Ce!==null;){switch(C=Ce,E=C.child,C.tag){case 0:case 11:case 14:case 15:gl(4,C,C.return);break;case 1:Go(C,C.return);var k=C.stateNode;if(typeof k.componentWillUnmount=="function"){n=C,r=C.return;try{t=n,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(A){Dt(n,r,A)}}break;case 5:Go(C,C.return);break;case 22:if(C.memoizedState!==null){Gp(b);continue}}E!==null?(E.return=C,Ce=E):Gp(b)}w=w.sibling}e:for(w=null,b=e;;){if(b.tag===5){if(w===null){w=b;try{i=b.stateNode,x?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(m=b.stateNode,p=b.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null,m.style.display=dy("display",u))}catch(A){Dt(e,e.return,A)}}}else if(b.tag===6){if(w===null)try{b.stateNode.nodeValue=x?"":b.memoizedProps}catch(A){Dt(e,e.return,A)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;w===b&&(w=null),b=b.return}w===b&&(w=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:bn(t,e),Gn(e),n&4&&Hp(e);break;case 21:break;default:bn(t,e),Gn(e)}}function Gn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Lw(r)){var n=r;break e}r=r.return}throw Error(de(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(_l(i,""),n.flags&=-33);var a=Wp(e);n0(e,a,i);break;case 3:case 4:var u=n.stateNode.containerInfo,m=Wp(e);r0(e,m,u);break;default:throw Error(de(161))}}catch(p){Dt(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function q3(e,t,r){Ce=e,Uw(e)}function Uw(e,t,r){for(var n=(e.mode&1)!==0;Ce!==null;){var i=Ce,a=i.child;if(i.tag===22&&n){var u=i.memoizedState!==null||Uc;if(!u){var m=i.alternate,p=m!==null&&m.memoizedState!==null||wr;m=Uc;var x=wr;if(Uc=u,(wr=p)&&!x)for(Ce=i;Ce!==null;)u=Ce,p=u.child,u.tag===22&&u.memoizedState!==null?qp(i):p!==null?(p.return=u,Ce=p):qp(i);for(;a!==null;)Ce=a,Uw(a),a=a.sibling;Ce=i,Uc=m,wr=x}$p(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ce=a):$p(e)}}function $p(e){for(;Ce!==null;){var t=Ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wr||vd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!wr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:_n(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&kp(t,a,n);break;case 3:var u=t.updateQueue;if(u!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kp(t,u,r)}break;case 5:var m=t.stateNode;if(r===null&&t.flags&4){r=m;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&r.focus();break;case"img":p.src&&(r.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var w=x.memoizedState;if(w!==null){var b=w.dehydrated;b!==null&&Tl(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}wr||t.flags&512&&t0(t)}catch(C){Dt(t,t.return,C)}}if(t===e){Ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ce=r;break}Ce=t.return}}function Gp(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ce=r;break}Ce=t.return}}function qp(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vd(4,t)}catch(p){Dt(t,r,p)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(p){Dt(t,i,p)}}var a=t.return;try{t0(t)}catch(p){Dt(t,a,p)}break;case 5:var u=t.return;try{t0(t)}catch(p){Dt(t,u,p)}}}catch(p){Dt(t,t.return,p)}if(t===e){Ce=null;break}var m=t.sibling;if(m!==null){m.return=t.return,Ce=m;break}Ce=t.return}}var K3=Math.ceil,Vu=As.ReactCurrentDispatcher,R1=As.ReactCurrentOwner,hn=As.ReactCurrentBatchConfig,Qe=0,rr=null,zt=null,ur=0,$r=0,qo=Ei(0),Yt=0,Fl=null,no=0,bd=0,O1=0,xl=null,Lr=null,j1=0,va=1/0,ds=null,Wu=!1,s0=null,ci=null,zc=!1,ti=null,Hu=0,yl=0,i0=null,mu=-1,pu=0;function Ar(){return Qe&6?Bt():mu!==-1?mu:mu=Bt()}function ui(e){return e.mode&1?Qe&2&&ur!==0?ur&-ur:R3.transition!==null?(pu===0&&(pu=_y()),pu):(e=st,e!==0||(e=window.event,e=e===void 0?16:Ry(e.type)),e):1}function Pn(e,t,r,n){if(50<yl)throw yl=0,i0=null,Error(de(185));nc(e,r,n),(!(Qe&2)||e!==rr)&&(e===rr&&(!(Qe&2)&&(bd|=r),Yt===4&&qs(e,ur)),zr(e,n),r===1&&Qe===0&&!(t.mode&1)&&(va=Bt()+500,xd&&Ci()))}function zr(e,t){var r=e.callbackNode;RC(e,t);var n=Nu(e,e===rr?ur:0);if(n===0)r!==null&&rp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&rp(r),t===1)e.tag===0?I3(Kp.bind(null,e)):Yy(Kp.bind(null,e)),A3(function(){!(Qe&6)&&Ci()}),r=null;else{switch(Sy(n)){case 1:r=i1;break;case 4:r=Ey;break;case 16:r=Au;break;case 536870912:r=Cy;break;default:r=Au}r=Kw(r,zw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zw(e,t){if(mu=-1,pu=0,Qe&6)throw Error(de(327));var r=e.callbackNode;if(ta()&&e.callbackNode!==r)return null;var n=Nu(e,e===rr?ur:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=$u(e,n);else{t=n;var i=Qe;Qe|=2;var a=Ww();(rr!==e||ur!==t)&&(ds=null,va=Bt()+500,Zi(e,t));do try{Q3();break}catch(m){Vw(e,m)}while(!0);y1(),Vu.current=a,Qe=i,zt!==null?t=0:(rr=null,ur=0,t=Yt)}if(t!==0){if(t===2&&(i=Oh(e),i!==0&&(n=i,t=o0(e,i))),t===1)throw r=Fl,Zi(e,0),qs(e,n),zr(e,Bt()),r;if(t===6)qs(e,n);else{if(i=e.current.alternate,!(n&30)&&!X3(i)&&(t=$u(e,n),t===2&&(a=Oh(e),a!==0&&(n=a,t=o0(e,a))),t===1))throw r=Fl,Zi(e,0),qs(e,n),zr(e,Bt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(de(345));case 2:Bi(e,Lr,ds);break;case 3:if(qs(e,n),(n&130023424)===n&&(t=j1+500-Bt(),10<t)){if(Nu(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ar(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Uh(Bi.bind(null,e,Lr,ds),t);break}Bi(e,Lr,ds);break;case 4:if(qs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var u=31-jn(n);a=1<<u,u=t[u],u>i&&(i=u),n&=~a}if(n=i,n=Bt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*K3(n/1960))-n,10<n){e.timeoutHandle=Uh(Bi.bind(null,e,Lr,ds),n);break}Bi(e,Lr,ds);break;case 5:Bi(e,Lr,ds);break;default:throw Error(de(329))}}}return zr(e,Bt()),e.callbackNode===r?zw.bind(null,e):null}function o0(e,t){var r=xl;return e.current.memoizedState.isDehydrated&&(Zi(e,t).flags|=256),e=$u(e,t),e!==2&&(t=Lr,Lr=r,t!==null&&a0(t)),e}function a0(e){Lr===null?Lr=e:Lr.push.apply(Lr,e)}function X3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Dn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qs(e,t){for(t&=~O1,t&=~bd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-jn(t),n=1<<r;e[r]=-1,t&=~n}}function Kp(e){if(Qe&6)throw Error(de(327));ta();var t=Nu(e,0);if(!(t&1))return zr(e,Bt()),null;var r=$u(e,t);if(e.tag!==0&&r===2){var n=Oh(e);n!==0&&(t=n,r=o0(e,n))}if(r===1)throw r=Fl,Zi(e,0),qs(e,t),zr(e,Bt()),r;if(r===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bi(e,Lr,ds),zr(e,Bt()),null}function P1(e,t){var r=Qe;Qe|=1;try{return e(t)}finally{Qe=r,Qe===0&&(va=Bt()+500,xd&&Ci())}}function so(e){ti!==null&&ti.tag===0&&!(Qe&6)&&ta();var t=Qe;Qe|=1;var r=hn.transition,n=st;try{if(hn.transition=null,st=1,e)return e()}finally{st=n,hn.transition=r,Qe=t,!(Qe&6)&&Ci()}}function D1(){$r=qo.current,pt(qo)}function Zi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,S3(r)),zt!==null)for(r=zt.return;r!==null;){var n=r;switch(p1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ou();break;case 3:ya(),pt(Fr),pt(vr),_1();break;case 5:C1(n);break;case 4:ya();break;case 13:pt(At);break;case 19:pt(At);break;case 10:w1(n.type._context);break;case 22:case 23:D1()}r=r.return}if(rr=e,zt=e=di(e.current,null),ur=$r=t,Yt=0,Fl=null,O1=bd=no=0,Lr=xl=null,Wi!==null){for(t=0;t<Wi.length;t++)if(r=Wi[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var u=a.next;a.next=i,n.next=u}r.pending=n}Wi=null}return e}function Vw(e,t){do{var r=zt;try{if(y1(),du.current=zu,Uu){for(var n=Nt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Uu=!1}if(ro=0,tr=Xt=Nt=null,pl=!1,Ml=0,R1.current=null,r===null||r.return===null){Yt=1,Fl=t,zt=null;break}e:{var a=e,u=r.return,m=r,p=t;if(t=ur,m.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var x=p,w=m,b=w.tag;if(!(w.mode&1)&&(b===0||b===11||b===15)){var C=w.alternate;C?(w.updateQueue=C.updateQueue,w.memoizedState=C.memoizedState,w.lanes=C.lanes):(w.updateQueue=null,w.memoizedState=null)}var E=Dp(u);if(E!==null){E.flags&=-257,Mp(E,u,m,a,t),E.mode&1&&Pp(a,x,t),t=E,p=x;var k=t.updateQueue;if(k===null){var A=new Set;A.add(p),t.updateQueue=A}else k.add(p);break e}else{if(!(t&1)){Pp(a,x,t),M1();break e}p=Error(de(426))}}else if(bt&&m.mode&1){var j=Dp(u);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Mp(j,u,m,a,t),g1(wa(p,m));break e}}a=p=wa(p,m),Yt!==4&&(Yt=2),xl===null?xl=[a]:xl.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var T=Sw(a,p,t);Tp(a,T);break e;case 1:m=p;var S=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ci===null||!ci.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=Aw(a,m,t);Tp(a,P);break e}}a=a.return}while(a!==null)}$w(r)}catch(F){t=F,zt===r&&r!==null&&(zt=r=r.return);continue}break}while(!0)}function Ww(){var e=Vu.current;return Vu.current=zu,e===null?zu:e}function M1(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),rr===null||!(no&268435455)&&!(bd&268435455)||qs(rr,ur)}function $u(e,t){var r=Qe;Qe|=2;var n=Ww();(rr!==e||ur!==t)&&(ds=null,Zi(e,t));do try{Y3();break}catch(i){Vw(e,i)}while(!0);if(y1(),Qe=r,Vu.current=n,zt!==null)throw Error(de(261));return rr=null,ur=0,Yt}function Y3(){for(;zt!==null;)Hw(zt)}function Q3(){for(;zt!==null&&!EC();)Hw(zt)}function Hw(e){var t=qw(e.alternate,e,$r);e.memoizedProps=e.pendingProps,t===null?$w(e):zt=t,R1.current=null}function $w(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=H3(r,t),r!==null){r.flags&=32767,zt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yt=6,zt=null;return}}else if(r=W3(r,t,$r),r!==null){zt=r;return}if(t=t.sibling,t!==null){zt=t;return}zt=t=e}while(t!==null);Yt===0&&(Yt=5)}function Bi(e,t,r){var n=st,i=hn.transition;try{hn.transition=null,st=1,Z3(e,t,r,n)}finally{hn.transition=i,st=n}return null}function Z3(e,t,r,n){do ta();while(ti!==null);if(Qe&6)throw Error(de(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(OC(e,a),e===rr&&(zt=rr=null,ur=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zc||(zc=!0,Kw(Au,function(){return ta(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=hn.transition,hn.transition=null;var u=st;st=1;var m=Qe;Qe|=4,R1.current=null,G3(e,r),Fw(r,e),y3(Bh),Tu=!!Lh,Bh=Lh=null,e.current=r,q3(r),CC(),Qe=m,st=u,hn.transition=a}else e.current=r;if(zc&&(zc=!1,ti=e,Hu=i),a=e.pendingLanes,a===0&&(ci=null),AC(r.stateNode),zr(e,Bt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=s0,s0=null,e;return Hu&1&&e.tag!==0&&ta(),a=e.pendingLanes,a&1?e===i0?yl++:(yl=0,i0=e):yl=0,Ci(),null}function ta(){if(ti!==null){var e=Sy(Hu),t=hn.transition,r=st;try{if(hn.transition=null,st=16>e?16:e,ti===null)var n=!1;else{if(e=ti,ti=null,Hu=0,Qe&6)throw Error(de(331));var i=Qe;for(Qe|=4,Ce=e.current;Ce!==null;){var a=Ce,u=a.child;if(Ce.flags&16){var m=a.deletions;if(m!==null){for(var p=0;p<m.length;p++){var x=m[p];for(Ce=x;Ce!==null;){var w=Ce;switch(w.tag){case 0:case 11:case 15:gl(8,w,a)}var b=w.child;if(b!==null)b.return=w,Ce=b;else for(;Ce!==null;){w=Ce;var C=w.sibling,E=w.return;if(Mw(w),w===x){Ce=null;break}if(C!==null){C.return=E,Ce=C;break}Ce=E}}}var k=a.alternate;if(k!==null){var A=k.child;if(A!==null){k.child=null;do{var j=A.sibling;A.sibling=null,A=j}while(A!==null)}}Ce=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,Ce=u;else e:for(;Ce!==null;){if(a=Ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:gl(9,a,a.return)}var T=a.sibling;if(T!==null){T.return=a.return,Ce=T;break e}Ce=a.return}}var S=e.current;for(Ce=S;Ce!==null;){u=Ce;var _=u.child;if(u.subtreeFlags&2064&&_!==null)_.return=u,Ce=_;else e:for(u=S;Ce!==null;){if(m=Ce,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:vd(9,m)}}catch(F){Dt(m,m.return,F)}if(m===u){Ce=null;break e}var P=m.sibling;if(P!==null){P.return=m.return,Ce=P;break e}Ce=m.return}}if(Qe=i,Ci(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(fd,e)}catch{}n=!0}return n}finally{st=r,hn.transition=t}}return!1}function Xp(e,t,r){t=wa(r,t),t=Sw(e,t,1),e=li(e,t,1),t=Ar(),e!==null&&(nc(e,1,t),zr(e,t))}function Dt(e,t,r){if(e.tag===3)Xp(e,e,r);else for(;t!==null;){if(t.tag===3){Xp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ci===null||!ci.has(n))){e=wa(r,e),e=Aw(t,e,1),t=li(t,e,1),e=Ar(),t!==null&&(nc(t,1,e),zr(t,e));break}}t=t.return}}function J3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ar(),e.pingedLanes|=e.suspendedLanes&r,rr===e&&(ur&r)===r&&(Yt===4||Yt===3&&(ur&130023424)===ur&&500>Bt()-j1?Zi(e,0):O1|=r),zr(e,t)}function Gw(e,t){t===0&&(e.mode&1?(t=Rc,Rc<<=1,!(Rc&130023424)&&(Rc=4194304)):t=1);var r=Ar();e=vs(e,t),e!==null&&(nc(e,t,r),zr(e,r))}function e_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gw(e,r)}function t_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(de(314))}n!==null&&n.delete(t),Gw(e,r)}var qw;qw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fr.current)Br=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Br=!1,V3(e,t,r);Br=!!(e.flags&131072)}else Br=!1,bt&&t.flags&1048576&&Qy(t,Du,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hu(e,t),e=t.pendingProps;var i=pa(t,vr.current);ea(t,r),i=A1(null,t,n,e,i,r);var a=N1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ur(n)?(a=!0,ju(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,b1(t),i.updater=wd,t.stateNode=i,i._reactInternals=t,qh(t,n,e,r),t=Yh(null,t,n,!0,a,r)):(t.tag=0,bt&&a&&m1(t),Cr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(hu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=n_(n),e=_n(n,e),i){case 0:t=Xh(null,t,n,e,r);break e;case 1:t=Fp(null,t,n,e,r);break e;case 11:t=Lp(null,t,n,e,r);break e;case 14:t=Bp(null,t,n,_n(n.type,e),r);break e}throw Error(de(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_n(n,i),Xh(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_n(n,i),Fp(e,t,n,i,r);case 3:e:{if(Iw(t),e===null)throw Error(de(387));n=t.pendingProps,a=t.memoizedState,i=a.element,nw(e,t),Bu(t,n,null,r);var u=t.memoizedState;if(n=u.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=wa(Error(de(423)),t),t=Up(e,t,n,r,i);break e}else if(n!==i){i=wa(Error(de(424)),t),t=Up(e,t,n,r,i);break e}else for(Xr=ai(t.stateNode.containerInfo.firstChild),Yr=t,bt=!0,Rn=null,r=tw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ga(),n===i){t=bs(e,t,r);break e}Cr(e,t,n,r)}t=t.child}return t;case 5:return sw(t),e===null&&Hh(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,u=i.children,Fh(n,i)?u=null:a!==null&&Fh(n,a)&&(t.flags|=32),kw(e,t),Cr(e,t,u,r),t.child;case 6:return e===null&&Hh(t),null;case 13:return Rw(e,t,r);case 4:return E1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xa(t,null,n,r):Cr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_n(n,i),Lp(e,t,n,i,r);case 7:return Cr(e,t,t.pendingProps,r),t.child;case 8:return Cr(e,t,t.pendingProps.children,r),t.child;case 12:return Cr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,u=i.value,ut(Mu,n._currentValue),n._currentValue=u,a!==null)if(Dn(a.value,u)){if(a.children===i.children&&!Fr.current){t=bs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var m=a.dependencies;if(m!==null){u=a.child;for(var p=m.firstContext;p!==null;){if(p.context===n){if(a.tag===1){p=xs(-1,r&-r),p.tag=2;var x=a.updateQueue;if(x!==null){x=x.shared;var w=x.pending;w===null?p.next=p:(p.next=w.next,w.next=p),x.pending=p}}a.lanes|=r,p=a.alternate,p!==null&&(p.lanes|=r),$h(a.return,r,t),m.lanes|=r;break}p=p.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(de(341));u.lanes|=r,m=u.alternate,m!==null&&(m.lanes|=r),$h(u,r,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Cr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ea(t,r),i=mn(i),n=n(i),t.flags|=1,Cr(e,t,n,r),t.child;case 14:return n=t.type,i=_n(n,t.pendingProps),i=_n(n.type,i),Bp(e,t,n,i,r);case 15:return Nw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_n(n,i),hu(e,t),t.tag=1,Ur(n)?(e=!0,ju(t)):e=!1,ea(t,r),_w(t,n,i),qh(t,n,i,r),Yh(null,t,n,!0,e,r);case 19:return Ow(e,t,r);case 22:return Tw(e,t,r)}throw Error(de(156,t.tag))};function Kw(e,t){return by(e,t)}function r_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,r,n){return new r_(e,t,r,n)}function L1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function n_(e){if(typeof e=="function")return L1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===r1)return 11;if(e===n1)return 14}return 2}function di(e,t){var r=e.alternate;return r===null?(r=fn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gu(e,t,r,n,i,a){var u=2;if(n=e,typeof e=="function")L1(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Lo:return Ji(r.children,i,a,t);case t1:u=8,i|=8;break;case xh:return e=fn(12,r,t,i|2),e.elementType=xh,e.lanes=a,e;case yh:return e=fn(13,r,t,i),e.elementType=yh,e.lanes=a,e;case wh:return e=fn(19,r,t,i),e.elementType=wh,e.lanes=a,e;case sy:return Ed(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ry:u=10;break e;case ny:u=9;break e;case r1:u=11;break e;case n1:u=14;break e;case Ws:u=16,n=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=fn(u,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Ji(e,t,r,n){return e=fn(7,e,n,t),e.lanes=r,e}function Ed(e,t,r,n){return e=fn(22,e,n,t),e.elementType=sy,e.lanes=r,e.stateNode={isHidden:!1},e}function Mf(e,t,r){return e=fn(6,e,null,t),e.lanes=r,e}function Lf(e,t,r){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function s_(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xf(0),this.expirationTimes=xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function B1(e,t,r,n,i,a,u,m,p){return e=new s_(e,t,r,m,p),t===1?(t=1,a===!0&&(t|=8)):t=0,a=fn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},b1(a),e}function i_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Xw(e){if(!e)return pi;e=e._reactInternals;e:{if(co(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ur(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var r=e.type;if(Ur(r))return Xy(e,r,t)}return t}function Yw(e,t,r,n,i,a,u,m,p){return e=B1(r,n,!0,e,i,a,u,m,p),e.context=Xw(null),r=e.current,n=Ar(),i=ui(r),a=xs(n,i),a.callback=t??null,li(r,a,i),e.current.lanes=i,nc(e,i,n),zr(e,n),e}function Cd(e,t,r,n){var i=t.current,a=Ar(),u=ui(i);return r=Xw(r),t.context===null?t.context=r:t.pendingContext=r,t=xs(a,u),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=li(i,t,u),e!==null&&(Pn(e,i,u,a),uu(e,i,u)),u}function Gu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function F1(e,t){Yp(e,t),(e=e.alternate)&&Yp(e,t)}function o_(){return null}var Qw=typeof reportError=="function"?reportError:function(e){console.error(e)};function U1(e){this._internalRoot=e}_d.prototype.render=U1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));Cd(e,t,null,null)};_d.prototype.unmount=U1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;so(function(){Cd(null,e,null,null)}),t[ws]=null}};function _d(e){this._internalRoot=e}_d.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ty();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gs.length&&t!==0&&t<Gs[r].priority;r++);Gs.splice(r,0,e),r===0&&Iy(e)}};function z1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qp(){}function a_(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var x=Gu(u);a.call(x)}}var u=Yw(t,n,e,0,null,!1,!1,"",Qp);return e._reactRootContainer=u,e[ws]=u.current,Rl(e.nodeType===8?e.parentNode:e),so(),u}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var m=n;n=function(){var x=Gu(p);m.call(x)}}var p=B1(e,0,!1,null,null,!1,!1,"",Qp);return e._reactRootContainer=p,e[ws]=p.current,Rl(e.nodeType===8?e.parentNode:e),so(function(){Cd(t,p,r,n)}),p}function Ad(e,t,r,n,i){var a=r._reactRootContainer;if(a){var u=a;if(typeof i=="function"){var m=i;i=function(){var p=Gu(u);m.call(p)}}Cd(t,u,e,i)}else u=a_(r,t,e,i,n);return Gu(u)}Ay=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=al(t.pendingLanes);r!==0&&(o1(t,r|1),zr(t,Bt()),!(Qe&6)&&(va=Bt()+500,Ci()))}break;case 13:so(function(){var n=vs(e,1);if(n!==null){var i=Ar();Pn(n,e,1,i)}}),F1(e,1)}};a1=function(e){if(e.tag===13){var t=vs(e,134217728);if(t!==null){var r=Ar();Pn(t,e,134217728,r)}F1(e,134217728)}};Ny=function(e){if(e.tag===13){var t=ui(e),r=vs(e,t);if(r!==null){var n=Ar();Pn(r,e,t,n)}F1(e,t)}};Ty=function(){return st};ky=function(e,t){var r=st;try{return st=e,t()}finally{st=r}};kh=function(e,t,r){switch(t){case"input":if(Eh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=gd(n);if(!i)throw Error(de(90));oy(n),Eh(n,i)}}}break;case"textarea":ly(e,r);break;case"select":t=r.value,t!=null&&Yo(e,!!r.multiple,t,!1)}};py=P1;gy=so;var l_={usingClientEntryPoint:!1,Events:[ic,zo,gd,hy,my,P1]},tl={findFiberByHostInstance:Vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c_={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:As.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wy(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||o_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{fd=Vc.inject(c_),Jn=Vc}catch{}}Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l_;Jr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z1(t))throw Error(de(200));return i_(e,t,null,r)};Jr.createRoot=function(e,t){if(!z1(e))throw Error(de(299));var r=!1,n="",i=Qw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=B1(e,1,!1,null,null,r,!1,n,i),e[ws]=t.current,Rl(e.nodeType===8?e.parentNode:e),new U1(t)};Jr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=wy(t),e=e===null?null:e.stateNode,e};Jr.flushSync=function(e){return so(e)};Jr.hydrate=function(e,t,r){if(!Sd(t))throw Error(de(200));return Ad(null,e,t,!0,r)};Jr.hydrateRoot=function(e,t,r){if(!z1(e))throw Error(de(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",u=Qw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),t=Yw(t,null,e,1,r??null,i,!1,a,u),e[ws]=t.current,Rl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new _d(t)};Jr.render=function(e,t,r){if(!Sd(t))throw Error(de(200));return Ad(null,e,t,!1,r)};Jr.unmountComponentAtNode=function(e){if(!Sd(e))throw Error(de(40));return e._reactRootContainer?(so(function(){Ad(null,null,e,!1,function(){e._reactRootContainer=null,e[ws]=null})}),!0):!1};Jr.unstable_batchedUpdates=P1;Jr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sd(r))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return Ad(e,t,r,!1,n)};Jr.version="18.3.1-next-f1338f8080-20240426";function Zw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zw)}catch(e){console.error(e)}}Zw(),Zx.exports=Jr;var ac=Zx.exports;const Jw=G0(ac);var e2,Zp=ac;e2=Zp.createRoot,Zp.hydrateRoot;const u_=1,d_=1e6;let Bf=0;function f_(){return Bf=(Bf+1)%Number.MAX_SAFE_INTEGER,Bf.toString()}const Ff=new Map,Jp=e=>{if(Ff.has(e))return;const t=setTimeout(()=>{Ff.delete(e),wl({type:"REMOVE_TOAST",toastId:e})},d_);Ff.set(e,t)},h_=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,u_)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Jp(r):e.toasts.forEach(n=>{Jp(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},xu=[];let yu={toasts:[]};function wl(e){yu=h_(yu,e),xu.forEach(t=>{t(yu)})}function m_({...e}){const t=f_(),r=i=>wl({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>wl({type:"DISMISS_TOAST",toastId:t});return wl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function Ir(){const[e,t]=I.useState(yu);return I.useEffect(()=>(xu.push(t),()=>{const r=xu.indexOf(t);r>-1&&xu.splice(r,1)}),[e]),{...e,toast:m_,dismiss:r=>wl({type:"DISMISS_TOAST",toastId:r})}}function Et(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function eg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function t2(...e){return t=>{let r=!1;const n=e.map(i=>{const a=eg(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():eg(e[i],null)}}}}function Nr(...e){return I.useCallback(t2(...e),e)}function p_(e,t){const r=I.createContext(t),n=a=>{const{children:u,...m}=a,p=I.useMemo(()=>m,Object.values(m));return f.jsx(r.Provider,{value:p,children:u})};n.displayName=e+"Provider";function i(a){const u=I.useContext(r);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function lc(e,t=[]){let r=[];function n(a,u){const m=I.createContext(u),p=r.length;r=[...r,u];const x=b=>{var T;const{scope:C,children:E,...k}=b,A=((T=C==null?void 0:C[e])==null?void 0:T[p])||m,j=I.useMemo(()=>k,Object.values(k));return f.jsx(A.Provider,{value:j,children:E})};x.displayName=a+"Provider";function w(b,C){var A;const E=((A=C==null?void 0:C[e])==null?void 0:A[p])||m,k=I.useContext(E);if(k)return k;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${a}\``)}return[x,w]}const i=()=>{const a=r.map(u=>I.createContext(u));return function(m){const p=(m==null?void 0:m[e])||a;return I.useMemo(()=>({[`__scope${e}`]:{...m,[e]:p}}),[m,p])}};return i.scopeName=e,[n,g_(i,...t)]}function g_(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=n.reduce((m,{useScope:p,scopeName:x})=>{const b=p(a)[`__scope${x}`];return{...m,...b}},{});return I.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}function qu(e){const t=x_(e),r=I.forwardRef((n,i)=>{const{children:a,...u}=n,m=I.Children.toArray(a),p=m.find(w_);if(p){const x=p.props.children,w=m.map(b=>b===p?I.Children.count(x)>1?I.Children.only(null):I.isValidElement(x)?x.props.children:null:b);return f.jsx(t,{...u,ref:i,children:I.isValidElement(x)?I.cloneElement(x,void 0,w):null})}return f.jsx(t,{...u,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function x_(e){const t=I.forwardRef((r,n)=>{const{children:i,...a}=r;if(I.isValidElement(i)){const u=b_(i),m=v_(a,i.props);return i.type!==I.Fragment&&(m.ref=n?t2(n,u):u),I.cloneElement(i,m)}return I.Children.count(i)>1?I.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var r2=Symbol("radix.slottable");function y_(e){const t=({children:r})=>f.jsx(f.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=r2,t}function w_(e){return I.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===r2}function v_(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...m)=>{const p=a(...m);return i(...m),p}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function b_(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function E_(e){const t=e+"CollectionProvider",[r,n]=lc(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=A=>{const{scope:j,children:T}=A,S=pe.useRef(null),_=pe.useRef(new Map).current;return f.jsx(i,{scope:j,itemMap:_,collectionRef:S,children:T})};u.displayName=t;const m=e+"CollectionSlot",p=qu(m),x=pe.forwardRef((A,j)=>{const{scope:T,children:S}=A,_=a(m,T),P=Nr(j,_.collectionRef);return f.jsx(p,{ref:P,children:S})});x.displayName=m;const w=e+"CollectionItemSlot",b="data-radix-collection-item",C=qu(w),E=pe.forwardRef((A,j)=>{const{scope:T,children:S,..._}=A,P=pe.useRef(null),F=Nr(j,P),L=a(w,T);return pe.useEffect(()=>(L.itemMap.set(P,{ref:P,..._}),()=>void L.itemMap.delete(P))),f.jsx(C,{[b]:"",ref:F,children:S})});E.displayName=w;function k(A){const j=a(e+"CollectionConsumer",A);return pe.useCallback(()=>{const S=j.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${b}]`));return Array.from(j.itemMap.values()).sort((L,M)=>_.indexOf(L.ref.current)-_.indexOf(M.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:u,Slot:x,ItemSlot:E},k,n]}var C_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vt=C_.reduce((e,t)=>{const r=qu(`Primitive.${t}`),n=I.forwardRef((i,a)=>{const{asChild:u,...m}=i,p=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(p,{...m,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function n2(e,t){e&&ac.flushSync(()=>e.dispatchEvent(t))}function ts(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function __(e,t=globalThis==null?void 0:globalThis.document){const r=ts(e);I.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var S_="DismissableLayer",l0="dismissableLayer.update",A_="dismissableLayer.pointerDownOutside",N_="dismissableLayer.focusOutside",tg,s2=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nd=I.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:m,...p}=e,x=I.useContext(s2),[w,b]=I.useState(null),C=(w==null?void 0:w.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=I.useState({}),k=Nr(t,M=>b(M)),A=Array.from(x.layers),[j]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),T=A.indexOf(j),S=w?A.indexOf(w):-1,_=x.layersWithOutsidePointerEventsDisabled.size>0,P=S>=T,F=k_(M=>{const W=M.target,z=[...x.branches].some(ne=>ne.contains(W));!P||z||(i==null||i(M),u==null||u(M),M.defaultPrevented||m==null||m())},C),L=I_(M=>{const W=M.target;[...x.branches].some(ne=>ne.contains(W))||(a==null||a(M),u==null||u(M),M.defaultPrevented||m==null||m())},C);return __(M=>{S===x.layers.size-1&&(n==null||n(M),!M.defaultPrevented&&m&&(M.preventDefault(),m()))},C),I.useEffect(()=>{if(w)return r&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(tg=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(w)),x.layers.add(w),rg(),()=>{r&&x.layersWithOutsidePointerEventsDisabled.size===1&&(C.body.style.pointerEvents=tg)}},[w,C,r,x]),I.useEffect(()=>()=>{w&&(x.layers.delete(w),x.layersWithOutsidePointerEventsDisabled.delete(w),rg())},[w,x]),I.useEffect(()=>{const M=()=>E({});return document.addEventListener(l0,M),()=>document.removeEventListener(l0,M)},[]),f.jsx(Vt.div,{...p,ref:k,style:{pointerEvents:_?P?"auto":"none":void 0,...e.style},onFocusCapture:Et(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Et(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Et(e.onPointerDownCapture,F.onPointerDownCapture)})});Nd.displayName=S_;var T_="DismissableLayerBranch",i2=I.forwardRef((e,t)=>{const r=I.useContext(s2),n=I.useRef(null),i=Nr(t,n);return I.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),f.jsx(Vt.div,{...e,ref:i})});i2.displayName=T_;function k_(e,t=globalThis==null?void 0:globalThis.document){const r=ts(e),n=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const a=m=>{if(m.target&&!n.current){let p=function(){o2(A_,r,x,{discrete:!0})};const x={originalEvent:m};m.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=p,t.addEventListener("click",i.current,{once:!0})):p()}else t.removeEventListener("click",i.current);n.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function I_(e,t=globalThis==null?void 0:globalThis.document){const r=ts(e),n=I.useRef(!1);return I.useEffect(()=>{const i=a=>{a.target&&!n.current&&o2(N_,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function rg(){const e=new CustomEvent(l0);document.dispatchEvent(e)}function o2(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?n2(i,a):i.dispatchEvent(a)}var R_=Nd,O_=i2,Es=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},j_="Portal",V1=I.forwardRef((e,t)=>{var m;const{container:r,...n}=e,[i,a]=I.useState(!1);Es(()=>a(!0),[]);const u=r||i&&((m=globalThis==null?void 0:globalThis.document)==null?void 0:m.body);return u?Jw.createPortal(f.jsx(Vt.div,{...n,ref:t}),u):null});V1.displayName=j_;function P_(e,t){return I.useReducer((r,n)=>t[r][n]??r,e)}var Ia=e=>{const{present:t,children:r}=e,n=D_(t),i=typeof r=="function"?r({present:n.isPresent}):I.Children.only(r),a=Nr(n.ref,M_(i));return typeof r=="function"||n.isPresent?I.cloneElement(i,{ref:a}):null};Ia.displayName="Presence";function D_(e){const[t,r]=I.useState(),n=I.useRef(null),i=I.useRef(e),a=I.useRef("none"),u=e?"mounted":"unmounted",[m,p]=P_(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const x=Wc(n.current);a.current=m==="mounted"?x:"none"},[m]),Es(()=>{const x=n.current,w=i.current;if(w!==e){const C=a.current,E=Wc(x);e?p("MOUNT"):E==="none"||(x==null?void 0:x.display)==="none"?p("UNMOUNT"):p(w&&C!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,p]),Es(()=>{if(t){let x;const w=t.ownerDocument.defaultView??window,b=E=>{const A=Wc(n.current).includes(E.animationName);if(E.target===t&&A&&(p("ANIMATION_END"),!i.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",x=w.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},C=E=>{E.target===t&&(a.current=Wc(n.current))};return t.addEventListener("animationstart",C),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{w.clearTimeout(x),t.removeEventListener("animationstart",C),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:I.useCallback(x=>{n.current=x?getComputedStyle(x):null,r(x)},[])}}function Wc(e){return(e==null?void 0:e.animationName)||"none"}function M_(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var L_=Q0[" useInsertionEffect ".trim().toString()]||Es;function a2({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,u]=B_({defaultProp:t,onChange:r}),m=e!==void 0,p=m?e:i;{const w=I.useRef(e!==void 0);I.useEffect(()=>{const b=w.current;b!==m&&console.warn(`${n} is changing from ${b?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),w.current=m},[m,n])}const x=I.useCallback(w=>{var b;if(m){const C=F_(w)?w(e):w;C!==e&&((b=u.current)==null||b.call(u,C))}else a(w)},[m,e,a,u]);return[p,x]}function B_({defaultProp:e,onChange:t}){const[r,n]=I.useState(e),i=I.useRef(r),a=I.useRef(t);return L_(()=>{a.current=t},[t]),I.useEffect(()=>{var u;i.current!==r&&((u=a.current)==null||u.call(a,r),i.current=r)},[r,i]),[r,n,a]}function F_(e){return typeof e=="function"}var U_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),z_="VisuallyHidden",Td=I.forwardRef((e,t)=>f.jsx(Vt.span,{...e,ref:t,style:{...U_,...e.style}}));Td.displayName=z_;var V_=Td,W1="ToastProvider",[H1,W_,H_]=E_("Toast"),[l2,D5]=lc("Toast",[H_]),[$_,kd]=l2(W1),c2=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:u}=e,[m,p]=I.useState(null),[x,w]=I.useState(0),b=I.useRef(!1),C=I.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${W1}\`. Expected non-empty \`string\`.`),f.jsx(H1.Provider,{scope:t,children:f.jsx($_,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:x,viewport:m,onViewportChange:p,onToastAdd:I.useCallback(()=>w(E=>E+1),[]),onToastRemove:I.useCallback(()=>w(E=>E-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:C,children:u})})};c2.displayName=W1;var u2="ToastViewport",G_=["F8"],c0="toast.viewportPause",u0="toast.viewportResume",d2=I.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=G_,label:i="Notifications ({hotkey})",...a}=e,u=kd(u2,r),m=W_(r),p=I.useRef(null),x=I.useRef(null),w=I.useRef(null),b=I.useRef(null),C=Nr(t,b,u.onViewportChange),E=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=u.toastCount>0;I.useEffect(()=>{const j=T=>{var _;n.length!==0&&n.every(P=>T[P]||T.code===P)&&((_=b.current)==null||_.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[n]),I.useEffect(()=>{const j=p.current,T=b.current;if(k&&j&&T){const S=()=>{if(!u.isClosePausedRef.current){const L=new CustomEvent(c0);T.dispatchEvent(L),u.isClosePausedRef.current=!0}},_=()=>{if(u.isClosePausedRef.current){const L=new CustomEvent(u0);T.dispatchEvent(L),u.isClosePausedRef.current=!1}},P=L=>{!j.contains(L.relatedTarget)&&_()},F=()=>{j.contains(document.activeElement)||_()};return j.addEventListener("focusin",S),j.addEventListener("focusout",P),j.addEventListener("pointermove",S),j.addEventListener("pointerleave",F),window.addEventListener("blur",S),window.addEventListener("focus",_),()=>{j.removeEventListener("focusin",S),j.removeEventListener("focusout",P),j.removeEventListener("pointermove",S),j.removeEventListener("pointerleave",F),window.removeEventListener("blur",S),window.removeEventListener("focus",_)}}},[k,u.isClosePausedRef]);const A=I.useCallback(({tabbingDirection:j})=>{const S=m().map(_=>{const P=_.ref.current,F=[P,...iS(P)];return j==="forwards"?F:F.reverse()});return(j==="forwards"?S.reverse():S).flat()},[m]);return I.useEffect(()=>{const j=b.current;if(j){const T=S=>{var F,L,M;const _=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!_){const W=document.activeElement,z=S.shiftKey;if(S.target===j&&z){(F=x.current)==null||F.focus();return}const q=A({tabbingDirection:z?"backwards":"forwards"}),ie=q.findIndex(re=>re===W);Uf(q.slice(ie+1))?S.preventDefault():z?(L=x.current)==null||L.focus():(M=w.current)==null||M.focus()}};return j.addEventListener("keydown",T),()=>j.removeEventListener("keydown",T)}},[m,A]),f.jsxs(O_,{ref:p,role:"region","aria-label":i.replace("{hotkey}",E),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&f.jsx(d0,{ref:x,onFocusFromOutsideViewport:()=>{const j=A({tabbingDirection:"forwards"});Uf(j)}}),f.jsx(H1.Slot,{scope:r,children:f.jsx(Vt.ol,{tabIndex:-1,...a,ref:C})}),k&&f.jsx(d0,{ref:w,onFocusFromOutsideViewport:()=>{const j=A({tabbingDirection:"backwards"});Uf(j)}})]})});d2.displayName=u2;var f2="ToastFocusProxy",d0=I.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=kd(f2,r);return f.jsx(Td,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:u=>{var x;const m=u.relatedTarget;!((x=a.viewport)!=null&&x.contains(m))&&n()}})});d0.displayName=f2;var cc="Toast",q_="toast.swipeStart",K_="toast.swipeMove",X_="toast.swipeCancel",Y_="toast.swipeEnd",h2=I.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...u}=e,[m,p]=a2({prop:n,defaultProp:i??!0,onChange:a,caller:cc});return f.jsx(Ia,{present:r||m,children:f.jsx(J_,{open:m,...u,ref:t,onClose:()=>p(!1),onPause:ts(e.onPause),onResume:ts(e.onResume),onSwipeStart:Et(e.onSwipeStart,x=>{x.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Et(e.onSwipeMove,x=>{const{x:w,y:b}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","move"),x.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${w}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:Et(e.onSwipeCancel,x=>{x.currentTarget.setAttribute("data-swipe","cancel"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Et(e.onSwipeEnd,x=>{const{x:w,y:b}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","end"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${w}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),p(!1)})})})});h2.displayName=cc;var[Q_,Z_]=l2(cc,{onClose(){}}),J_=I.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:u,onEscapeKeyDown:m,onPause:p,onResume:x,onSwipeStart:w,onSwipeMove:b,onSwipeCancel:C,onSwipeEnd:E,...k}=e,A=kd(cc,r),[j,T]=I.useState(null),S=Nr(t,re=>T(re)),_=I.useRef(null),P=I.useRef(null),F=i||A.duration,L=I.useRef(0),M=I.useRef(F),W=I.useRef(0),{onToastAdd:z,onToastRemove:ne}=A,H=ts(()=>{var G;(j==null?void 0:j.contains(document.activeElement))&&((G=A.viewport)==null||G.focus()),u()}),q=I.useCallback(re=>{!re||re===1/0||(window.clearTimeout(W.current),L.current=new Date().getTime(),W.current=window.setTimeout(H,re))},[H]);I.useEffect(()=>{const re=A.viewport;if(re){const G=()=>{q(M.current),x==null||x()},ue=()=>{const ee=new Date().getTime()-L.current;M.current=M.current-ee,window.clearTimeout(W.current),p==null||p()};return re.addEventListener(c0,ue),re.addEventListener(u0,G),()=>{re.removeEventListener(c0,ue),re.removeEventListener(u0,G)}}},[A.viewport,F,p,x,q]),I.useEffect(()=>{a&&!A.isClosePausedRef.current&&q(F)},[a,F,A.isClosePausedRef,q]),I.useEffect(()=>(z(),()=>ne()),[z,ne]);const ie=I.useMemo(()=>j?v2(j):null,[j]);return A.viewport?f.jsxs(f.Fragment,{children:[ie&&f.jsx(eS,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:ie}),f.jsx(Q_,{scope:r,onClose:H,children:ac.createPortal(f.jsx(H1.ItemSlot,{scope:r,children:f.jsx(R_,{asChild:!0,onEscapeKeyDown:Et(m,()=>{A.isFocusedToastEscapeKeyDownRef.current||H(),A.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(Vt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":A.swipeDirection,...k,ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Et(e.onKeyDown,re=>{re.key==="Escape"&&(m==null||m(re.nativeEvent),re.nativeEvent.defaultPrevented||(A.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:Et(e.onPointerDown,re=>{re.button===0&&(_.current={x:re.clientX,y:re.clientY})}),onPointerMove:Et(e.onPointerMove,re=>{if(!_.current)return;const G=re.clientX-_.current.x,ue=re.clientY-_.current.y,ee=!!P.current,J=["left","right"].includes(A.swipeDirection),Y=["left","up"].includes(A.swipeDirection)?Math.min:Math.max,le=J?Y(0,G):0,Ae=J?0:Y(0,ue),xe=re.pointerType==="touch"?10:2,je={x:le,y:Ae},Ee={originalEvent:re,delta:je};ee?(P.current=je,Hc(K_,b,Ee,{discrete:!1})):ng(je,A.swipeDirection,xe)?(P.current=je,Hc(q_,w,Ee,{discrete:!1}),re.target.setPointerCapture(re.pointerId)):(Math.abs(G)>xe||Math.abs(ue)>xe)&&(_.current=null)}),onPointerUp:Et(e.onPointerUp,re=>{const G=P.current,ue=re.target;if(ue.hasPointerCapture(re.pointerId)&&ue.releasePointerCapture(re.pointerId),P.current=null,_.current=null,G){const ee=re.currentTarget,J={originalEvent:re,delta:G};ng(G,A.swipeDirection,A.swipeThreshold)?Hc(Y_,E,J,{discrete:!0}):Hc(X_,C,J,{discrete:!0}),ee.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),A.viewport)})]}):null}),eS=e=>{const{__scopeToast:t,children:r,...n}=e,i=kd(cc,t),[a,u]=I.useState(!1),[m,p]=I.useState(!1);return nS(()=>u(!0)),I.useEffect(()=>{const x=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(x)},[]),m?null:f.jsx(V1,{asChild:!0,children:f.jsx(Td,{...n,children:a&&f.jsxs(f.Fragment,{children:[i.label," ",r]})})})},tS="ToastTitle",m2=I.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return f.jsx(Vt.div,{...n,ref:t})});m2.displayName=tS;var rS="ToastDescription",p2=I.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return f.jsx(Vt.div,{...n,ref:t})});p2.displayName=rS;var g2="ToastAction",x2=I.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?f.jsx(w2,{altText:r,asChild:!0,children:f.jsx($1,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${g2}\`. Expected non-empty \`string\`.`),null)});x2.displayName=g2;var y2="ToastClose",$1=I.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=Z_(y2,r);return f.jsx(w2,{asChild:!0,children:f.jsx(Vt.button,{type:"button",...n,ref:t,onClick:Et(e.onClick,i.onClose)})})});$1.displayName=y2;var w2=I.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return f.jsx(Vt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function v2(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),sS(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const u=n.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...v2(n))}}),t}function Hc(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?n2(i,a):i.dispatchEvent(a)}var ng=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function nS(e=()=>{}){const t=ts(e);Es(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function sS(e){return e.nodeType===e.ELEMENT_NODE}function iS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Uf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var oS=c2,b2=d2,E2=h2,C2=m2,_2=p2,S2=x2,A2=$1;function N2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=N2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function T2(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=N2(e))&&(n&&(n+=" "),n+=t);return n}const sg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ig=T2,aS=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ig(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,u=Object.keys(i).map(x=>{const w=r==null?void 0:r[x],b=a==null?void 0:a[x];if(w===null)return null;const C=sg(w)||sg(b);return i[x][C]}),m=r&&Object.entries(r).reduce((x,w)=>{let[b,C]=w;return C===void 0||(x[b]=C),x},{}),p=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((x,w)=>{let{class:b,className:C,...E}=w;return Object.entries(E).every(k=>{let[A,j]=k;return Array.isArray(j)?j.includes({...a,...m}[A]):{...a,...m}[A]===j})?[...x,b,C]:x},[]);return ig(e,u,p,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k2=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=I.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:u,...m},p)=>I.createElement("svg",{ref:p,...cS,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:k2("lucide",i),...m},[...u.map(([x,w])=>I.createElement(x,w)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,t)=>{const r=I.forwardRef(({className:n,...i},a)=>I.createElement(uS,{ref:a,iconNode:t,className:k2(`lucide-${lS(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=Re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=Re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=Re("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=Re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=Re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=Re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=Re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=Re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=Re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=Re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Re("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Re("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Re("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=Re("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=Re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Re("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=Re("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=Re("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=Re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Re("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=Re("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=Re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=Re("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Re("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=Re("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Re("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=Re("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=Re("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),X1="-",OS=e=>{const t=PS(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:u=>{const m=u.split(X1);return m[0]===""&&m.length!==1&&m.shift(),V2(m,t)||jS(u)},getConflictingClassGroupIds:(u,m)=>{const p=r[u]||[];return m&&n[u]?[...p,...n[u]]:p}}},V2=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?V2(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(X1);return(u=t.validators.find(({validator:m})=>m(a)))==null?void 0:u.classGroupId},og=/^\[(.+)\]$/,jS=e=>{if(og.test(e)){const t=og.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},PS=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return MS(Object.entries(e.classGroups),r).forEach(([a,u])=>{p0(u,n,a,t)}),n},p0=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:ag(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(DS(i)){p0(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,u])=>{p0(u,ag(t,a),r,n)})})},ag=(e,t)=>{let r=e;return t.split(X1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},DS=e=>e.isThemeGetter,MS=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,m])=>[t+u,m])):a);return[r,i]}):e,LS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,u)=>{r.set(a,u),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let u=r.get(a);if(u!==void 0)return u;if((u=n.get(a))!==void 0)return i(a,u),u},set(a,u){r.has(a)?r.set(a,u):i(a,u)}}},W2="!",BS=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,u=m=>{const p=[];let x=0,w=0,b;for(let j=0;j<m.length;j++){let T=m[j];if(x===0){if(T===i&&(n||m.slice(j,j+a)===t)){p.push(m.slice(w,j)),w=j+a;continue}if(T==="/"){b=j;continue}}T==="["?x++:T==="]"&&x--}const C=p.length===0?m:m.substring(w),E=C.startsWith(W2),k=E?C.substring(1):C,A=b&&b>w?b-w:void 0;return{modifiers:p,hasImportantModifier:E,baseClassName:k,maybePostfixModifierPosition:A}};return r?m=>r({className:m,parseClassName:u}):u},FS=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},US=e=>({cache:LS(e.cacheSize),parseClassName:BS(e),...OS(e)}),zS=/\s+/,VS=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],u=e.trim().split(zS);let m="";for(let p=u.length-1;p>=0;p-=1){const x=u[p],{modifiers:w,hasImportantModifier:b,baseClassName:C,maybePostfixModifierPosition:E}=r(x);let k=!!E,A=n(k?C.substring(0,E):C);if(!A){if(!k){m=x+(m.length>0?" "+m:m);continue}if(A=n(C),!A){m=x+(m.length>0?" "+m:m);continue}k=!1}const j=FS(w).join(":"),T=b?j+W2:j,S=T+A;if(a.includes(S))continue;a.push(S);const _=i(A,k);for(let P=0;P<_.length;++P){const F=_[P];a.push(T+F)}m=x+(m.length>0?" "+m:m)}return m};function WS(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=H2(t))&&(n&&(n+=" "),n+=r);return n}const H2=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=H2(e[n]))&&(r&&(r+=" "),r+=t);return r};function HS(e,...t){let r,n,i,a=u;function u(p){const x=t.reduce((w,b)=>b(w),e());return r=US(x),n=r.cache.get,i=r.cache.set,a=m,m(p)}function m(p){const x=n(p);if(x)return x;const w=VS(p,r);return i(p,w),w}return function(){return a(WS.apply(null,arguments))}}const ft=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},$2=/^\[(?:([a-z-]+):)?(.+)\]$/i,$S=/^\d+\/\d+$/,GS=new Set(["px","full","screen"]),qS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,YS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ls=e=>ra(e)||GS.has(e)||$S.test(e),Bs=e=>Oa(e,"length",iA),ra=e=>!!e&&!Number.isNaN(Number(e)),Wf=e=>Oa(e,"number",ra),rl=e=>!!e&&Number.isInteger(Number(e)),ZS=e=>e.endsWith("%")&&ra(e.slice(0,-1)),Ue=e=>$2.test(e),Fs=e=>qS.test(e),JS=new Set(["length","size","percentage"]),eA=e=>Oa(e,JS,G2),tA=e=>Oa(e,"position",G2),rA=new Set(["image","url"]),nA=e=>Oa(e,rA,aA),sA=e=>Oa(e,"",oA),nl=()=>!0,Oa=(e,t,r)=>{const n=$2.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},iA=e=>KS.test(e)&&!XS.test(e),G2=()=>!1,oA=e=>YS.test(e),aA=e=>QS.test(e),lA=()=>{const e=ft("colors"),t=ft("spacing"),r=ft("blur"),n=ft("brightness"),i=ft("borderColor"),a=ft("borderRadius"),u=ft("borderSpacing"),m=ft("borderWidth"),p=ft("contrast"),x=ft("grayscale"),w=ft("hueRotate"),b=ft("invert"),C=ft("gap"),E=ft("gradientColorStops"),k=ft("gradientColorStopPositions"),A=ft("inset"),j=ft("margin"),T=ft("opacity"),S=ft("padding"),_=ft("saturate"),P=ft("scale"),F=ft("sepia"),L=ft("skew"),M=ft("space"),W=ft("translate"),z=()=>["auto","contain","none"],ne=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",Ue,t],q=()=>[Ue,t],ie=()=>["",ls,Bs],re=()=>["auto",ra,Ue],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ue=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",Ue],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ae=()=>[ra,Ue];return{cacheSize:500,separator:":",theme:{colors:[nl],spacing:[ls,Bs],blur:["none","",Fs,Ue],brightness:Ae(),borderColor:[e],borderRadius:["none","","full",Fs,Ue],borderSpacing:q(),borderWidth:ie(),contrast:Ae(),grayscale:Y(),hueRotate:Ae(),invert:Y(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[ZS,Bs],inset:H(),margin:H(),opacity:Ae(),padding:q(),saturate:Ae(),scale:Ae(),sepia:Y(),skew:Ae(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[Fs]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Ue]}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[A]}],"inset-x":[{"inset-x":[A]}],"inset-y":[{"inset-y":[A]}],start:[{start:[A]}],end:[{end:[A]}],top:[{top:[A]}],right:[{right:[A]}],bottom:[{bottom:[A]}],left:[{left:[A]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rl,Ue]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",rl,Ue]}],"grid-cols":[{"grid-cols":[nl]}],"col-start-end":[{col:["auto",{span:["full",rl,Ue]},Ue]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[nl]}],"row-start-end":[{row:["auto",{span:[rl,Ue]},Ue]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ue,t]}],"min-w":[{"min-w":[Ue,t,"min","max","fit"]}],"max-w":[{"max-w":[Ue,t,"none","full","min","max","fit","prose",{screen:[Fs]},Fs]}],h:[{h:[Ue,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ue,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ue,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ue,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Fs,Bs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wf]}],"font-family":[{font:[nl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",ra,Wf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ls,Ue]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ls,Bs]}],"underline-offset":[{"underline-offset":["auto",ls,Ue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),tA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",eA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...ue(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:ue()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ue()]}],"outline-offset":[{"outline-offset":[ls,Ue]}],"outline-w":[{outline:[ls,Bs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[ls,Bs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fs,sA]}],"shadow-color":[{shadow:[nl]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Fs,Ue]}],grayscale:[{grayscale:[x]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[b]}],saturate:[{saturate:[_]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[x]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:Ae()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:Ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[rl,Ue]}],"translate-x":[{"translate-x":[W]}],"translate-y":[{"translate-y":[W]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ls,Bs,Wf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cA=HS(lA);function gn(...e){return cA(T2(e))}const uA=oS,q2=I.forwardRef(({className:e,...t},r)=>f.jsx(b2,{ref:r,className:gn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));q2.displayName=b2.displayName;const dA=aS("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),K2=I.forwardRef(({className:e,variant:t,...r},n)=>f.jsx(E2,{ref:n,className:gn(dA({variant:t}),e),...r}));K2.displayName=E2.displayName;const fA=I.forwardRef(({className:e,...t},r)=>f.jsx(S2,{ref:r,className:gn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));fA.displayName=S2.displayName;const X2=I.forwardRef(({className:e,...t},r)=>f.jsx(A2,{ref:r,className:gn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:f.jsx(_i,{className:"h-4 w-4"})}));X2.displayName=A2.displayName;const Y2=I.forwardRef(({className:e,...t},r)=>f.jsx(C2,{ref:r,className:gn("text-sm font-semibold",e),...t}));Y2.displayName=C2.displayName;const Q2=I.forwardRef(({className:e,...t},r)=>f.jsx(_2,{ref:r,className:gn("text-sm opacity-90",e),...t}));Q2.displayName=_2.displayName;function Z2(){const{toasts:e}=Ir();return f.jsxs(uA,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return f.jsxs(K2,{...a,children:[f.jsxs("div",{className:"grid gap-1",children:[r&&f.jsx(Y2,{children:r}),n&&f.jsx(Q2,{children:n})]}),i,f.jsx(X2,{})]},t)}),f.jsx(q2,{})]})}var lg=["light","dark"],hA="(prefers-color-scheme: dark)",mA=I.createContext(void 0),pA={setTheme:e=>{},themes:[]},gA=()=>{var e;return(e=I.useContext(mA))!=null?e:pA};I.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:u,attrs:m,nonce:p})=>{let x=a==="system",w=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${m.map(k=>`'${k}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,b=i?lg.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",C=(k,A=!1,j=!0)=>{let T=u?u[k]:k,S=A?k+"|| ''":`'${T}'`,_="";return i&&j&&!A&&lg.includes(k)&&(_+=`d.style.colorScheme = '${k}';`),r==="class"?A||T?_+=`c.add(${S})`:_+="null":T&&(_+=`d[s](n,${S})`),_},E=e?`!function(){${w}${C(e)}}()`:n?`!function(){try{${w}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${x})){var t='${hA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${C("dark")}}else{${C("light")}}}else if(e){${u?`var x=${JSON.stringify(u)};`:""}${C(u?"x[e]":"e",!0)}}${x?"":"else{"+C(a,!1,!1)+"}"}${b}}catch(e){}}()`:`!function(){try{${w}var e=localStorage.getItem('${t}');if(e){${u?`var x=${JSON.stringify(u)};`:""}${C(u?"x[e]":"e",!0)}}else{${C(a,!1,!1)};}${b}}catch(t){}}();`;return I.createElement("script",{nonce:p,dangerouslySetInnerHTML:{__html:E}})});var xA=e=>{switch(e){case"success":return vA;case"info":return EA;case"warning":return bA;case"error":return CA;default:return null}},yA=Array(12).fill(0),wA=({visible:e,className:t})=>pe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},pe.createElement("div",{className:"sonner-spinner"},yA.map((r,n)=>pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),vA=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bA=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EA=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),CA=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_A=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),SA=()=>{let[e,t]=pe.useState(document.hidden);return pe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},g0=1,AA=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:g0++,a=this.toasts.find(m=>m.id===i),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(m=>m.id===i?(this.publish({...m,...e,id:i,title:r}),{...m,...e,id:i,dismissible:u,title:r}):m):this.addToast({title:r,...n,dismissible:u,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,a,u=n.then(async p=>{if(a=["resolve",p],pe.isValidElement(p))i=!1,this.create({id:r,type:"default",message:p});else if(TA(p)&&!p.ok){i=!1;let x=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,w=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description;this.create({id:r,type:"error",message:x,description:w})}else if(t.success!==void 0){i=!1;let x=typeof t.success=="function"?await t.success(p):t.success,w=typeof t.description=="function"?await t.description(p):t.description;this.create({id:r,type:"success",message:x,description:w})}}).catch(async p=>{if(a=["reject",p],t.error!==void 0){i=!1;let x=typeof t.error=="function"?await t.error(p):t.error,w=typeof t.description=="function"?await t.description(p):t.description;this.create({id:r,type:"error",message:x,description:w})}}).finally(()=>{var p;i&&(this.dismiss(r),r=void 0),(p=t.finally)==null||p.call(t)}),m=()=>new Promise((p,x)=>u.then(()=>a[0]==="reject"?x(a[1]):p(a[1])).catch(x));return typeof r!="string"&&typeof r!="number"?{unwrap:m}:Object.assign(r,{unwrap:m})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||g0++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Mr=new AA,NA=(e,t)=>{let r=(t==null?void 0:t.id)||g0++;return Mr.addToast({title:e,...t,id:r}),r},TA=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",kA=NA,IA=()=>Mr.toasts,RA=()=>Mr.getActiveToasts();Object.assign(kA,{success:Mr.success,info:Mr.info,warning:Mr.warning,error:Mr.error,custom:Mr.custom,message:Mr.message,promise:Mr.promise,dismiss:Mr.dismiss,loading:Mr.loading},{getHistory:IA,getToasts:RA});function OA(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}OA(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function $c(e){return e.label!==void 0}var jA=3,PA="32px",DA="16px",cg=4e3,MA=356,LA=14,BA=20,FA=200;function En(...e){return e.filter(Boolean).join(" ")}function UA(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var zA=e=>{var t,r,n,i,a,u,m,p,x,w,b;let{invert:C,toast:E,unstyled:k,interacting:A,setHeights:j,visibleToasts:T,heights:S,index:_,toasts:P,expanded:F,removeToast:L,defaultRichColors:M,closeButton:W,style:z,cancelButtonStyle:ne,actionButtonStyle:H,className:q="",descriptionClassName:ie="",duration:re,position:G,gap:ue,loadingIcon:ee,expandByDefault:J,classNames:Y,icons:le,closeButtonAriaLabel:Ae="Close toast",pauseWhenPageIsHidden:xe}=e,[je,Ee]=pe.useState(null),[ae,te]=pe.useState(null),[ge,ye]=pe.useState(!1),[gt,Ct]=pe.useState(!1),[Ke,rt]=pe.useState(!1),[ke,Qt]=pe.useState(!1),[fr,rn]=pe.useState(!1),[Mt,Ze]=pe.useState(0),[ze,Ni]=pe.useState(0),we=pe.useRef(E.duration||re||cg),Ti=pe.useRef(null),Fn=pe.useRef(null),xn=_===0,La=_+1<=T,xt=E.type,os=E.dismissible!==!1,Un=E.className||"",nr=E.descriptionClassName||"",ki=pe.useMemo(()=>S.findIndex(Ne=>Ne.toastId===E.id)||0,[S,E.id]),ho=pe.useMemo(()=>{var Ne;return(Ne=E.closeButton)!=null?Ne:W},[E.closeButton,W]),pc=pe.useMemo(()=>E.duration||re||cg,[E.duration,re]),yt=pe.useRef(0),me=pe.useRef(0),kt=pe.useRef(0),qe=pe.useRef(null),[wt,Ii]=G.split("-"),mo=pe.useMemo(()=>S.reduce((Ne,Je,Fe)=>Fe>=ki?Ne:Ne+Je.height,0),[S,ki]),Ba=SA(),Xe=E.invert||C,yn=xt==="loading";me.current=pe.useMemo(()=>ki*ue+mo,[ki,mo]),pe.useEffect(()=>{we.current=pc},[pc]),pe.useEffect(()=>{ye(!0)},[]),pe.useEffect(()=>{let Ne=Fn.current;if(Ne){let Je=Ne.getBoundingClientRect().height;return Ni(Je),j(Fe=>[{toastId:E.id,height:Je,position:E.position},...Fe]),()=>j(Fe=>Fe.filter(Zt=>Zt.toastId!==E.id))}},[j,E.id]),pe.useLayoutEffect(()=>{if(!ge)return;let Ne=Fn.current,Je=Ne.style.height;Ne.style.height="auto";let Fe=Ne.getBoundingClientRect().height;Ne.style.height=Je,Ni(Fe),j(Zt=>Zt.find(hr=>hr.toastId===E.id)?Zt.map(hr=>hr.toastId===E.id?{...hr,height:Fe}:hr):[{toastId:E.id,height:Fe,position:E.position},...Zt])},[ge,E.title,E.description,j,E.id]);let wn=pe.useCallback(()=>{Ct(!0),Ze(me.current),j(Ne=>Ne.filter(Je=>Je.toastId!==E.id)),setTimeout(()=>{L(E)},FA)},[E,L,j,me]);pe.useEffect(()=>{if(E.promise&&xt==="loading"||E.duration===1/0||E.type==="loading")return;let Ne;return F||A||xe&&Ba?(()=>{if(kt.current<yt.current){let Je=new Date().getTime()-yt.current;we.current=we.current-Je}kt.current=new Date().getTime()})():we.current!==1/0&&(yt.current=new Date().getTime(),Ne=setTimeout(()=>{var Je;(Je=E.onAutoClose)==null||Je.call(E,E),wn()},we.current)),()=>clearTimeout(Ne)},[F,A,E,xt,xe,Ba,wn]),pe.useEffect(()=>{E.delete&&wn()},[wn,E.delete]);function gc(){var Ne,Je,Fe;return le!=null&&le.loading?pe.createElement("div",{className:En(Y==null?void 0:Y.loader,(Ne=E==null?void 0:E.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":xt==="loading"},le.loading):ee?pe.createElement("div",{className:En(Y==null?void 0:Y.loader,(Je=E==null?void 0:E.classNames)==null?void 0:Je.loader,"sonner-loader"),"data-visible":xt==="loading"},ee):pe.createElement(wA,{className:En(Y==null?void 0:Y.loader,(Fe=E==null?void 0:E.classNames)==null?void 0:Fe.loader),visible:xt==="loading"})}return pe.createElement("li",{tabIndex:0,ref:Fn,className:En(q,Un,Y==null?void 0:Y.toast,(t=E==null?void 0:E.classNames)==null?void 0:t.toast,Y==null?void 0:Y.default,Y==null?void 0:Y[xt],(r=E==null?void 0:E.classNames)==null?void 0:r[xt]),"data-sonner-toast":"","data-rich-colors":(n=E.richColors)!=null?n:M,"data-styled":!(E.jsx||E.unstyled||k),"data-mounted":ge,"data-promise":!!E.promise,"data-swiped":fr,"data-removed":gt,"data-visible":La,"data-y-position":wt,"data-x-position":Ii,"data-index":_,"data-front":xn,"data-swiping":Ke,"data-dismissible":os,"data-type":xt,"data-invert":Xe,"data-swipe-out":ke,"data-swipe-direction":ae,"data-expanded":!!(F||J&&ge),style:{"--index":_,"--toasts-before":_,"--z-index":P.length-_,"--offset":`${gt?Mt:me.current}px`,"--initial-height":J?"auto":`${ze}px`,...z,...E.style},onDragEnd:()=>{rt(!1),Ee(null),qe.current=null},onPointerDown:Ne=>{yn||!os||(Ti.current=new Date,Ze(me.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(rt(!0),qe.current={x:Ne.clientX,y:Ne.clientY}))},onPointerUp:()=>{var Ne,Je,Fe,Zt;if(ke||!os)return;qe.current=null;let hr=Number(((Ne=Fn.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wt=Number(((Je=Fn.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),as=new Date().getTime()-((Fe=Ti.current)==null?void 0:Fe.getTime()),Ht=je==="x"?hr:Wt,nn=Math.abs(Ht)/as;if(Math.abs(Ht)>=BA||nn>.11){Ze(me.current),(Zt=E.onDismiss)==null||Zt.call(E,E),te(je==="x"?hr>0?"right":"left":Wt>0?"down":"up"),wn(),Qt(!0),rn(!1);return}rt(!1),Ee(null)},onPointerMove:Ne=>{var Je,Fe,Zt,hr;if(!qe.current||!os||((Je=window.getSelection())==null?void 0:Je.toString().length)>0)return;let Wt=Ne.clientY-qe.current.y,as=Ne.clientX-qe.current.x,Ht=(Fe=e.swipeDirections)!=null?Fe:UA(G);!je&&(Math.abs(as)>1||Math.abs(Wt)>1)&&Ee(Math.abs(as)>Math.abs(Wt)?"x":"y");let nn={x:0,y:0};je==="y"?(Ht.includes("top")||Ht.includes("bottom"))&&(Ht.includes("top")&&Wt<0||Ht.includes("bottom")&&Wt>0)&&(nn.y=Wt):je==="x"&&(Ht.includes("left")||Ht.includes("right"))&&(Ht.includes("left")&&as<0||Ht.includes("right")&&as>0)&&(nn.x=as),(Math.abs(nn.x)>0||Math.abs(nn.y)>0)&&rn(!0),(Zt=Fn.current)==null||Zt.style.setProperty("--swipe-amount-x",`${nn.x}px`),(hr=Fn.current)==null||hr.style.setProperty("--swipe-amount-y",`${nn.y}px`)}},ho&&!E.jsx?pe.createElement("button",{"aria-label":Ae,"data-disabled":yn,"data-close-button":!0,onClick:yn||!os?()=>{}:()=>{var Ne;wn(),(Ne=E.onDismiss)==null||Ne.call(E,E)},className:En(Y==null?void 0:Y.closeButton,(i=E==null?void 0:E.classNames)==null?void 0:i.closeButton)},(a=le==null?void 0:le.close)!=null?a:_A):null,E.jsx||I.isValidElement(E.title)?E.jsx?E.jsx:typeof E.title=="function"?E.title():E.title:pe.createElement(pe.Fragment,null,xt||E.icon||E.promise?pe.createElement("div",{"data-icon":"",className:En(Y==null?void 0:Y.icon,(u=E==null?void 0:E.classNames)==null?void 0:u.icon)},E.promise||E.type==="loading"&&!E.icon?E.icon||gc():null,E.type!=="loading"?E.icon||(le==null?void 0:le[xt])||xA(xt):null):null,pe.createElement("div",{"data-content":"",className:En(Y==null?void 0:Y.content,(m=E==null?void 0:E.classNames)==null?void 0:m.content)},pe.createElement("div",{"data-title":"",className:En(Y==null?void 0:Y.title,(p=E==null?void 0:E.classNames)==null?void 0:p.title)},typeof E.title=="function"?E.title():E.title),E.description?pe.createElement("div",{"data-description":"",className:En(ie,nr,Y==null?void 0:Y.description,(x=E==null?void 0:E.classNames)==null?void 0:x.description)},typeof E.description=="function"?E.description():E.description):null),I.isValidElement(E.cancel)?E.cancel:E.cancel&&$c(E.cancel)?pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:E.cancelButtonStyle||ne,onClick:Ne=>{var Je,Fe;$c(E.cancel)&&os&&((Fe=(Je=E.cancel).onClick)==null||Fe.call(Je,Ne),wn())},className:En(Y==null?void 0:Y.cancelButton,(w=E==null?void 0:E.classNames)==null?void 0:w.cancelButton)},E.cancel.label):null,I.isValidElement(E.action)?E.action:E.action&&$c(E.action)?pe.createElement("button",{"data-button":!0,"data-action":!0,style:E.actionButtonStyle||H,onClick:Ne=>{var Je,Fe;$c(E.action)&&((Fe=(Je=E.action).onClick)==null||Fe.call(Je,Ne),!Ne.defaultPrevented&&wn())},className:En(Y==null?void 0:Y.actionButton,(b=E==null?void 0:E.classNames)==null?void 0:b.actionButton)},E.action.label):null))};function ug(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function VA(e,t){let r={};return[e,t].forEach((n,i)=>{let a=i===1,u=a?"--mobile-offset":"--offset",m=a?DA:PA;function p(x){["top","right","bottom","left"].forEach(w=>{r[`${u}-${w}`]=typeof x=="number"?`${x}px`:x})}typeof n=="number"||typeof n=="string"?p(n):typeof n=="object"?["top","right","bottom","left"].forEach(x=>{n[x]===void 0?r[`${u}-${x}`]=m:r[`${u}-${x}`]=typeof n[x]=="number"?`${n[x]}px`:n[x]}):p(m)}),r}var WA=I.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:u,className:m,offset:p,mobileOffset:x,theme:w="light",richColors:b,duration:C,style:E,visibleToasts:k=jA,toastOptions:A,dir:j=ug(),gap:T=LA,loadingIcon:S,icons:_,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:F}=e,[L,M]=pe.useState([]),W=pe.useMemo(()=>Array.from(new Set([n].concat(L.filter(xe=>xe.position).map(xe=>xe.position)))),[L,n]),[z,ne]=pe.useState([]),[H,q]=pe.useState(!1),[ie,re]=pe.useState(!1),[G,ue]=pe.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=pe.useRef(null),J=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Y=pe.useRef(null),le=pe.useRef(!1),Ae=pe.useCallback(xe=>{M(je=>{var Ee;return(Ee=je.find(ae=>ae.id===xe.id))!=null&&Ee.delete||Mr.dismiss(xe.id),je.filter(({id:ae})=>ae!==xe.id)})},[]);return pe.useEffect(()=>Mr.subscribe(xe=>{if(xe.dismiss){M(je=>je.map(Ee=>Ee.id===xe.id?{...Ee,delete:!0}:Ee));return}setTimeout(()=>{Jw.flushSync(()=>{M(je=>{let Ee=je.findIndex(ae=>ae.id===xe.id);return Ee!==-1?[...je.slice(0,Ee),{...je[Ee],...xe},...je.slice(Ee+1)]:[xe,...je]})})})}),[]),pe.useEffect(()=>{if(w!=="system"){ue(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ue("dark"):ue("light")),typeof window>"u")return;let xe=window.matchMedia("(prefers-color-scheme: dark)");try{xe.addEventListener("change",({matches:je})=>{ue(je?"dark":"light")})}catch{xe.addListener(({matches:Ee})=>{try{ue(Ee?"dark":"light")}catch(ae){console.error(ae)}})}},[w]),pe.useEffect(()=>{L.length<=1&&q(!1)},[L]),pe.useEffect(()=>{let xe=je=>{var Ee,ae;i.every(te=>je[te]||je.code===te)&&(q(!0),(Ee=ee.current)==null||Ee.focus()),je.code==="Escape"&&(document.activeElement===ee.current||(ae=ee.current)!=null&&ae.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",xe),()=>document.removeEventListener("keydown",xe)},[i]),pe.useEffect(()=>{if(ee.current)return()=>{Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null,le.current=!1)}},[ee.current]),pe.createElement("section",{ref:t,"aria-label":`${P} ${J}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},W.map((xe,je)=>{var Ee;let[ae,te]=xe.split("-");return L.length?pe.createElement("ol",{key:xe,dir:j==="auto"?ug():j,tabIndex:-1,ref:ee,className:m,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":ae,"data-lifted":H&&L.length>1&&!a,"data-x-position":te,style:{"--front-toast-height":`${((Ee=z[0])==null?void 0:Ee.height)||0}px`,"--width":`${MA}px`,"--gap":`${T}px`,...E,...VA(p,x)},onBlur:ge=>{le.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(le.current=!1,Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||le.current||(le.current=!0,Y.current=ge.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{ie||q(!1)},onDragEnd:()=>q(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||re(!0)},onPointerUp:()=>re(!1)},L.filter(ge=>!ge.position&&je===0||ge.position===xe).map((ge,ye)=>{var gt,Ct;return pe.createElement(zA,{key:ge.id,icons:_,index:ye,toast:ge,defaultRichColors:b,duration:(gt=A==null?void 0:A.duration)!=null?gt:C,className:A==null?void 0:A.className,descriptionClassName:A==null?void 0:A.descriptionClassName,invert:r,visibleToasts:k,closeButton:(Ct=A==null?void 0:A.closeButton)!=null?Ct:u,interacting:ie,position:xe,style:A==null?void 0:A.style,unstyled:A==null?void 0:A.unstyled,classNames:A==null?void 0:A.classNames,cancelButtonStyle:A==null?void 0:A.cancelButtonStyle,actionButtonStyle:A==null?void 0:A.actionButtonStyle,removeToast:Ae,toasts:L.filter(Ke=>Ke.position==ge.position),heights:z.filter(Ke=>Ke.position==ge.position),setHeights:ne,expandByDefault:a,gap:T,loadingIcon:S,expanded:H,pauseWhenPageIsHidden:F,swipeDirections:e.swipeDirections})})):null}))});const HA=({...e})=>{const{theme:t="system"}=gA();return f.jsx(WA,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var $A=Q0[" useId ".trim().toString()]||(()=>{}),GA=0;function Hf(e){const[t,r]=I.useState($A());return Es(()=>{e||r(n=>n??String(GA++))},[e]),e||(t?`radix-${t}`:"")}const qA=["top","right","bottom","left"],xi=Math.min,Gr=Math.max,Xu=Math.round,Gc=Math.floor,yi=e=>({x:e,y:e}),KA={left:"right",right:"left",bottom:"top",top:"bottom"},XA={start:"end",end:"start"};function x0(e,t,r){return Gr(e,xi(t,r))}function Cs(e,t){return typeof e=="function"?e(t):e}function _s(e){return e.split("-")[0]}function ja(e){return e.split("-")[1]}function Y1(e){return e==="x"?"y":"x"}function Q1(e){return e==="y"?"height":"width"}function wi(e){return["top","bottom"].includes(_s(e))?"y":"x"}function Z1(e){return Y1(wi(e))}function YA(e,t,r){r===void 0&&(r=!1);const n=ja(e),i=Z1(e),a=Q1(i);let u=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(u=Yu(u)),[u,Yu(u)]}function QA(e){const t=Yu(e);return[y0(e),t,y0(t)]}function y0(e){return e.replace(/start|end/g,t=>XA[t])}function ZA(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:u;default:return[]}}function JA(e,t,r,n){const i=ja(e);let a=ZA(_s(e),r==="start",n);return i&&(a=a.map(u=>u+"-"+i),t&&(a=a.concat(a.map(y0)))),a}function Yu(e){return e.replace(/left|right|bottom|top/g,t=>KA[t])}function eN(e){return{top:0,right:0,bottom:0,left:0,...e}}function J2(e){return typeof e!="number"?eN(e):{top:e,right:e,bottom:e,left:e}}function Qu(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function dg(e,t,r){let{reference:n,floating:i}=e;const a=wi(t),u=Z1(t),m=Q1(u),p=_s(t),x=a==="y",w=n.x+n.width/2-i.width/2,b=n.y+n.height/2-i.height/2,C=n[m]/2-i[m]/2;let E;switch(p){case"top":E={x:w,y:n.y-i.height};break;case"bottom":E={x:w,y:n.y+n.height};break;case"right":E={x:n.x+n.width,y:b};break;case"left":E={x:n.x-i.width,y:b};break;default:E={x:n.x,y:n.y}}switch(ja(t)){case"start":E[u]-=C*(r&&x?-1:1);break;case"end":E[u]+=C*(r&&x?-1:1);break}return E}const tN=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:u}=r,m=a.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(t));let x=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:w,y:b}=dg(x,n,p),C=n,E={},k=0;for(let A=0;A<m.length;A++){const{name:j,fn:T}=m[A],{x:S,y:_,data:P,reset:F}=await T({x:w,y:b,initialPlacement:n,placement:C,strategy:i,middlewareData:E,rects:x,platform:u,elements:{reference:e,floating:t}});w=S??w,b=_??b,E={...E,[j]:{...E[j],...P}},F&&k<=50&&(k++,typeof F=="object"&&(F.placement&&(C=F.placement),F.rects&&(x=F.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):F.rects),{x:w,y:b}=dg(x,C,p)),A=-1)}return{x:w,y:b,placement:C,strategy:i,middlewareData:E}};async function zl(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:u,elements:m,strategy:p}=e,{boundary:x="clippingAncestors",rootBoundary:w="viewport",elementContext:b="floating",altBoundary:C=!1,padding:E=0}=Cs(t,e),k=J2(E),j=m[C?b==="floating"?"reference":"floating":b],T=Qu(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(j)))==null||r?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(m.floating)),boundary:x,rootBoundary:w,strategy:p})),S=b==="floating"?{x:n,y:i,width:u.floating.width,height:u.floating.height}:u.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(m.floating)),P=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},F=Qu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:S,offsetParent:_,strategy:p}):S);return{top:(T.top-F.top+k.top)/P.y,bottom:(F.bottom-T.bottom+k.bottom)/P.y,left:(T.left-F.left+k.left)/P.x,right:(F.right-T.right+k.right)/P.x}}const rN=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:u,elements:m,middlewareData:p}=t,{element:x,padding:w=0}=Cs(e,t)||{};if(x==null)return{};const b=J2(w),C={x:r,y:n},E=Z1(i),k=Q1(E),A=await u.getDimensions(x),j=E==="y",T=j?"top":"left",S=j?"bottom":"right",_=j?"clientHeight":"clientWidth",P=a.reference[k]+a.reference[E]-C[E]-a.floating[k],F=C[E]-a.reference[E],L=await(u.getOffsetParent==null?void 0:u.getOffsetParent(x));let M=L?L[_]:0;(!M||!await(u.isElement==null?void 0:u.isElement(L)))&&(M=m.floating[_]||a.floating[k]);const W=P/2-F/2,z=M/2-A[k]/2-1,ne=xi(b[T],z),H=xi(b[S],z),q=ne,ie=M-A[k]-H,re=M/2-A[k]/2+W,G=x0(q,re,ie),ue=!p.arrow&&ja(i)!=null&&re!==G&&a.reference[k]/2-(re<q?ne:H)-A[k]/2<0,ee=ue?re<q?re-q:re-ie:0;return{[E]:C[E]+ee,data:{[E]:G,centerOffset:re-G-ee,...ue&&{alignmentOffset:ee}},reset:ue}}}),nN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:u,initialPlacement:m,platform:p,elements:x}=t,{mainAxis:w=!0,crossAxis:b=!0,fallbackPlacements:C,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:A=!0,...j}=Cs(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const T=_s(i),S=wi(m),_=_s(m)===m,P=await(p.isRTL==null?void 0:p.isRTL(x.floating)),F=C||(_||!A?[Yu(m)]:QA(m)),L=k!=="none";!C&&L&&F.push(...JA(m,A,k,P));const M=[m,...F],W=await zl(t,j),z=[];let ne=((n=a.flip)==null?void 0:n.overflows)||[];if(w&&z.push(W[T]),b){const re=YA(i,u,P);z.push(W[re[0]],W[re[1]])}if(ne=[...ne,{placement:i,overflows:z}],!z.every(re=>re<=0)){var H,q;const re=(((H=a.flip)==null?void 0:H.index)||0)+1,G=M[re];if(G)return{data:{index:re,overflows:ne},reset:{placement:G}};let ue=(q=ne.filter(ee=>ee.overflows[0]<=0).sort((ee,J)=>ee.overflows[1]-J.overflows[1])[0])==null?void 0:q.placement;if(!ue)switch(E){case"bestFit":{var ie;const ee=(ie=ne.filter(J=>{if(L){const Y=wi(J.placement);return Y===S||Y==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(Y=>Y>0).reduce((Y,le)=>Y+le,0)]).sort((J,Y)=>J[1]-Y[1])[0])==null?void 0:ie[0];ee&&(ue=ee);break}case"initialPlacement":ue=m;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};function fg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function hg(e){return qA.some(t=>e[t]>=0)}const sN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Cs(e,t);switch(n){case"referenceHidden":{const a=await zl(t,{...i,elementContext:"reference"}),u=fg(a,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:hg(u)}}}case"escaped":{const a=await zl(t,{...i,altBoundary:!0}),u=fg(a,r.floating);return{data:{escapedOffsets:u,escaped:hg(u)}}}default:return{}}}}};async function iN(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),u=_s(r),m=ja(r),p=wi(r)==="y",x=["left","top"].includes(u)?-1:1,w=a&&p?-1:1,b=Cs(t,e);let{mainAxis:C,crossAxis:E,alignmentAxis:k}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return m&&typeof k=="number"&&(E=m==="end"?k*-1:k),p?{x:E*w,y:C*x}:{x:C*x,y:E*w}}const oN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:u,middlewareData:m}=t,p=await iN(t,e);return u===((r=m.offset)==null?void 0:r.placement)&&(n=m.arrow)!=null&&n.alignmentOffset?{}:{x:i+p.x,y:a+p.y,data:{...p,placement:u}}}}},aN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:u=!1,limiter:m={fn:j=>{let{x:T,y:S}=j;return{x:T,y:S}}},...p}=Cs(e,t),x={x:r,y:n},w=await zl(t,p),b=wi(_s(i)),C=Y1(b);let E=x[C],k=x[b];if(a){const j=C==="y"?"top":"left",T=C==="y"?"bottom":"right",S=E+w[j],_=E-w[T];E=x0(S,E,_)}if(u){const j=b==="y"?"top":"left",T=b==="y"?"bottom":"right",S=k+w[j],_=k-w[T];k=x0(S,k,_)}const A=m.fn({...t,[C]:E,[b]:k});return{...A,data:{x:A.x-r,y:A.y-n,enabled:{[C]:a,[b]:u}}}}}},lN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:u}=t,{offset:m=0,mainAxis:p=!0,crossAxis:x=!0}=Cs(e,t),w={x:r,y:n},b=wi(i),C=Y1(b);let E=w[C],k=w[b];const A=Cs(m,t),j=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(p){const _=C==="y"?"height":"width",P=a.reference[C]-a.floating[_]+j.mainAxis,F=a.reference[C]+a.reference[_]-j.mainAxis;E<P?E=P:E>F&&(E=F)}if(x){var T,S;const _=C==="y"?"width":"height",P=["top","left"].includes(_s(i)),F=a.reference[b]-a.floating[_]+(P&&((T=u.offset)==null?void 0:T[b])||0)+(P?0:j.crossAxis),L=a.reference[b]+a.reference[_]+(P?0:((S=u.offset)==null?void 0:S[b])||0)-(P?j.crossAxis:0);k<F?k=F:k>L&&(k=L)}return{[C]:E,[b]:k}}}},cN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:u,elements:m}=t,{apply:p=()=>{},...x}=Cs(e,t),w=await zl(t,x),b=_s(i),C=ja(i),E=wi(i)==="y",{width:k,height:A}=a.floating;let j,T;b==="top"||b==="bottom"?(j=b,T=C===(await(u.isRTL==null?void 0:u.isRTL(m.floating))?"start":"end")?"left":"right"):(T=b,j=C==="end"?"top":"bottom");const S=A-w.top-w.bottom,_=k-w.left-w.right,P=xi(A-w[j],S),F=xi(k-w[T],_),L=!t.middlewareData.shift;let M=P,W=F;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(W=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(M=S),L&&!C){const ne=Gr(w.left,0),H=Gr(w.right,0),q=Gr(w.top,0),ie=Gr(w.bottom,0);E?W=k-2*(ne!==0||H!==0?ne+H:Gr(w.left,w.right)):M=A-2*(q!==0||ie!==0?q+ie:Gr(w.top,w.bottom))}await p({...t,availableWidth:W,availableHeight:M});const z=await u.getDimensions(m.floating);return k!==z.width||A!==z.height?{reset:{rects:!0}}:{}}}};function Rd(){return typeof window<"u"}function Pa(e){return ev(e)?(e.nodeName||"").toLowerCase():"#document"}function Qr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ns(e){var t;return(t=(ev(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ev(e){return Rd()?e instanceof Node||e instanceof Qr(e).Node:!1}function Mn(e){return Rd()?e instanceof Element||e instanceof Qr(e).Element:!1}function rs(e){return Rd()?e instanceof HTMLElement||e instanceof Qr(e).HTMLElement:!1}function mg(e){return!Rd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qr(e).ShadowRoot}function dc(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Ln(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function uN(e){return["table","td","th"].includes(Pa(e))}function Od(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function J1(e){const t=em(),r=Mn(e)?Ln(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function dN(e){let t=vi(e);for(;rs(t)&&!ba(t);){if(J1(t))return t;if(Od(t))return null;t=vi(t)}return null}function em(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ba(e){return["html","body","#document"].includes(Pa(e))}function Ln(e){return Qr(e).getComputedStyle(e)}function jd(e){return Mn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vi(e){if(Pa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||mg(e)&&e.host||ns(e);return mg(t)?t.host:t}function tv(e){const t=vi(e);return ba(t)?e.ownerDocument?e.ownerDocument.body:e.body:rs(t)&&dc(t)?t:tv(t)}function Vl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=tv(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),u=Qr(i);if(a){const m=w0(u);return t.concat(u,u.visualViewport||[],dc(i)?i:[],m&&r?Vl(m):[])}return t.concat(i,Vl(i,[],r))}function w0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function rv(e){const t=Ln(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=rs(e),a=i?e.offsetWidth:r,u=i?e.offsetHeight:n,m=Xu(r)!==a||Xu(n)!==u;return m&&(r=a,n=u),{width:r,height:n,$:m}}function tm(e){return Mn(e)?e:e.contextElement}function na(e){const t=tm(e);if(!rs(t))return yi(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=rv(t);let u=(a?Xu(r.width):r.width)/n,m=(a?Xu(r.height):r.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!m||!Number.isFinite(m))&&(m=1),{x:u,y:m}}const fN=yi(0);function nv(e){const t=Qr(e);return!em()||!t.visualViewport?fN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hN(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qr(e)?!1:t}function oo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=tm(e);let u=yi(1);t&&(n?Mn(n)&&(u=na(n)):u=na(e));const m=hN(a,r,n)?nv(a):yi(0);let p=(i.left+m.x)/u.x,x=(i.top+m.y)/u.y,w=i.width/u.x,b=i.height/u.y;if(a){const C=Qr(a),E=n&&Mn(n)?Qr(n):n;let k=C,A=w0(k);for(;A&&n&&E!==k;){const j=na(A),T=A.getBoundingClientRect(),S=Ln(A),_=T.left+(A.clientLeft+parseFloat(S.paddingLeft))*j.x,P=T.top+(A.clientTop+parseFloat(S.paddingTop))*j.y;p*=j.x,x*=j.y,w*=j.x,b*=j.y,p+=_,x+=P,k=Qr(A),A=w0(k)}}return Qu({width:w,height:b,x:p,y:x})}function mN(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",u=ns(n),m=t?Od(t.floating):!1;if(n===u||m&&a)return r;let p={scrollLeft:0,scrollTop:0},x=yi(1);const w=yi(0),b=rs(n);if((b||!b&&!a)&&((Pa(n)!=="body"||dc(u))&&(p=jd(n)),rs(n))){const C=oo(n);x=na(n),w.x=C.x+n.clientLeft,w.y=C.y+n.clientTop}return{width:r.width*x.x,height:r.height*x.y,x:r.x*x.x-p.scrollLeft*x.x+w.x,y:r.y*x.y-p.scrollTop*x.y+w.y}}function pN(e){return Array.from(e.getClientRects())}function v0(e,t){const r=jd(e).scrollLeft;return t?t.left+r:oo(ns(e)).left+r}function gN(e){const t=ns(e),r=jd(e),n=e.ownerDocument.body,i=Gr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Gr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let u=-r.scrollLeft+v0(e);const m=-r.scrollTop;return Ln(n).direction==="rtl"&&(u+=Gr(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:u,y:m}}function xN(e,t){const r=Qr(e),n=ns(e),i=r.visualViewport;let a=n.clientWidth,u=n.clientHeight,m=0,p=0;if(i){a=i.width,u=i.height;const x=em();(!x||x&&t==="fixed")&&(m=i.offsetLeft,p=i.offsetTop)}return{width:a,height:u,x:m,y:p}}function yN(e,t){const r=oo(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=rs(e)?na(e):yi(1),u=e.clientWidth*a.x,m=e.clientHeight*a.y,p=i*a.x,x=n*a.y;return{width:u,height:m,x:p,y:x}}function pg(e,t,r){let n;if(t==="viewport")n=xN(e,r);else if(t==="document")n=gN(ns(e));else if(Mn(t))n=yN(t,r);else{const i=nv(e);n={...t,x:t.x-i.x,y:t.y-i.y}}return Qu(n)}function sv(e,t){const r=vi(e);return r===t||!Mn(r)||ba(r)?!1:Ln(r).position==="fixed"||sv(r,t)}function wN(e,t){const r=t.get(e);if(r)return r;let n=Vl(e,[],!1).filter(m=>Mn(m)&&Pa(m)!=="body"),i=null;const a=Ln(e).position==="fixed";let u=a?vi(e):e;for(;Mn(u)&&!ba(u);){const m=Ln(u),p=J1(u);!p&&m.position==="fixed"&&(i=null),(a?!p&&!i:!p&&m.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||dc(u)&&!p&&sv(e,u))?n=n.filter(w=>w!==u):i=m,u=vi(u)}return t.set(e,n),n}function vN(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const u=[...r==="clippingAncestors"?Od(t)?[]:wN(t,this._c):[].concat(r),n],m=u[0],p=u.reduce((x,w)=>{const b=pg(t,w,i);return x.top=Gr(b.top,x.top),x.right=xi(b.right,x.right),x.bottom=xi(b.bottom,x.bottom),x.left=Gr(b.left,x.left),x},pg(t,m,i));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function bN(e){const{width:t,height:r}=rv(e);return{width:t,height:r}}function EN(e,t,r){const n=rs(t),i=ns(t),a=r==="fixed",u=oo(e,!0,a,t);let m={scrollLeft:0,scrollTop:0};const p=yi(0);if(n||!n&&!a)if((Pa(t)!=="body"||dc(i))&&(m=jd(t)),n){const E=oo(t,!0,a,t);p.x=E.x+t.clientLeft,p.y=E.y+t.clientTop}else i&&(p.x=v0(i));let x=0,w=0;if(i&&!n&&!a){const E=i.getBoundingClientRect();w=E.top+m.scrollTop,x=E.left+m.scrollLeft-v0(i,E)}const b=u.left+m.scrollLeft-p.x-x,C=u.top+m.scrollTop-p.y-w;return{x:b,y:C,width:u.width,height:u.height}}function $f(e){return Ln(e).position==="static"}function gg(e,t){if(!rs(e)||Ln(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ns(e)===r&&(r=r.ownerDocument.body),r}function iv(e,t){const r=Qr(e);if(Od(e))return r;if(!rs(e)){let i=vi(e);for(;i&&!ba(i);){if(Mn(i)&&!$f(i))return i;i=vi(i)}return r}let n=gg(e,t);for(;n&&uN(n)&&$f(n);)n=gg(n,t);return n&&ba(n)&&$f(n)&&!J1(n)?r:n||dN(e)||r}const CN=async function(e){const t=this.getOffsetParent||iv,r=this.getDimensions,n=await r(e.floating);return{reference:EN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function _N(e){return Ln(e).direction==="rtl"}const SN={convertOffsetParentRelativeRectToViewportRelativeRect:mN,getDocumentElement:ns,getClippingRect:vN,getOffsetParent:iv,getElementRects:CN,getClientRects:pN,getDimensions:bN,getScale:na,isElement:Mn,isRTL:_N};function AN(e,t){let r=null,n;const i=ns(e);function a(){var m;clearTimeout(n),(m=r)==null||m.disconnect(),r=null}function u(m,p){m===void 0&&(m=!1),p===void 0&&(p=1),a();const{left:x,top:w,width:b,height:C}=e.getBoundingClientRect();if(m||t(),!b||!C)return;const E=Gc(w),k=Gc(i.clientWidth-(x+b)),A=Gc(i.clientHeight-(w+C)),j=Gc(x),S={rootMargin:-E+"px "+-k+"px "+-A+"px "+-j+"px",threshold:Gr(0,xi(1,p))||1};let _=!0;function P(F){const L=F[0].intersectionRatio;if(L!==p){if(!_)return u();L?u(!1,L):n=setTimeout(()=>{u(!1,1e-7)},1e3)}_=!1}try{r=new IntersectionObserver(P,{...S,root:i.ownerDocument})}catch{r=new IntersectionObserver(P,S)}r.observe(e)}return u(!0),a}function NN(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,x=tm(e),w=i||a?[...x?Vl(x):[],...Vl(t)]:[];w.forEach(T=>{i&&T.addEventListener("scroll",r,{passive:!0}),a&&T.addEventListener("resize",r)});const b=x&&m?AN(x,r):null;let C=-1,E=null;u&&(E=new ResizeObserver(T=>{let[S]=T;S&&S.target===x&&E&&(E.unobserve(t),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var _;(_=E)==null||_.observe(t)})),r()}),x&&!p&&E.observe(x),E.observe(t));let k,A=p?oo(e):null;p&&j();function j(){const T=oo(e);A&&(T.x!==A.x||T.y!==A.y||T.width!==A.width||T.height!==A.height)&&r(),A=T,k=requestAnimationFrame(j)}return r(),()=>{var T;w.forEach(S=>{i&&S.removeEventListener("scroll",r),a&&S.removeEventListener("resize",r)}),b==null||b(),(T=E)==null||T.disconnect(),E=null,p&&cancelAnimationFrame(k)}}const TN=oN,kN=aN,IN=nN,RN=cN,ON=sN,xg=rN,jN=lN,PN=(e,t,r)=>{const n=new Map,i={platform:SN,...r},a={...i.platform,_c:n};return tN(e,t,{...i,platform:a})};var vu=typeof document<"u"?I.useLayoutEffect:I.useEffect;function Zu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Zu(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!Zu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function ov(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yg(e,t){const r=ov(e);return Math.round(t*r)/r}function Gf(e){const t=I.useRef(e);return vu(()=>{t.current=e}),t}function DN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:u}={},transform:m=!0,whileElementsMounted:p,open:x}=e,[w,b]=I.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[C,E]=I.useState(n);Zu(C,n)||E(n);const[k,A]=I.useState(null),[j,T]=I.useState(null),S=I.useCallback(J=>{J!==L.current&&(L.current=J,A(J))},[]),_=I.useCallback(J=>{J!==M.current&&(M.current=J,T(J))},[]),P=a||k,F=u||j,L=I.useRef(null),M=I.useRef(null),W=I.useRef(w),z=p!=null,ne=Gf(p),H=Gf(i),q=Gf(x),ie=I.useCallback(()=>{if(!L.current||!M.current)return;const J={placement:t,strategy:r,middleware:C};H.current&&(J.platform=H.current),PN(L.current,M.current,J).then(Y=>{const le={...Y,isPositioned:q.current!==!1};re.current&&!Zu(W.current,le)&&(W.current=le,ac.flushSync(()=>{b(le)}))})},[C,t,r,H,q]);vu(()=>{x===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,b(J=>({...J,isPositioned:!1})))},[x]);const re=I.useRef(!1);vu(()=>(re.current=!0,()=>{re.current=!1}),[]),vu(()=>{if(P&&(L.current=P),F&&(M.current=F),P&&F){if(ne.current)return ne.current(P,F,ie);ie()}},[P,F,ie,ne,z]);const G=I.useMemo(()=>({reference:L,floating:M,setReference:S,setFloating:_}),[S,_]),ue=I.useMemo(()=>({reference:P,floating:F}),[P,F]),ee=I.useMemo(()=>{const J={position:r,left:0,top:0};if(!ue.floating)return J;const Y=yg(ue.floating,w.x),le=yg(ue.floating,w.y);return m?{...J,transform:"translate("+Y+"px, "+le+"px)",...ov(ue.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Y,top:le}},[r,m,ue.floating,w.x,w.y]);return I.useMemo(()=>({...w,update:ie,refs:G,elements:ue,floatingStyles:ee}),[w,ie,G,ue,ee])}const MN=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?xg({element:n.current,padding:i}).fn(r):{}:n?xg({element:n,padding:i}).fn(r):{}}}},LN=(e,t)=>({...TN(e),options:[e,t]}),BN=(e,t)=>({...kN(e),options:[e,t]}),FN=(e,t)=>({...jN(e),options:[e,t]}),UN=(e,t)=>({...IN(e),options:[e,t]}),zN=(e,t)=>({...RN(e),options:[e,t]}),VN=(e,t)=>({...ON(e),options:[e,t]}),WN=(e,t)=>({...MN(e),options:[e,t]});var HN="Arrow",av=I.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return f.jsx(Vt.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});av.displayName=HN;var $N=av;function GN(e){const[t,r]=I.useState(void 0);return Es(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let u,m;if("borderBoxSize"in a){const p=a.borderBoxSize,x=Array.isArray(p)?p[0]:p;u=x.inlineSize,m=x.blockSize}else u=e.offsetWidth,m=e.offsetHeight;r({width:u,height:m})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var lv="Popper",[cv,uv]=lc(lv),[M5,dv]=cv(lv),fv="PopperAnchor",hv=I.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=dv(fv,r),u=I.useRef(null),m=Nr(t,u);return I.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||u.current)}),n?null:f.jsx(Vt.div,{...i,ref:m})});hv.displayName=fv;var rm="PopperContent",[qN,KN]=cv(rm),mv=I.forwardRef((e,t)=>{var ge,ye,gt,Ct,Ke,rt;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:u=0,arrowPadding:m=0,avoidCollisions:p=!0,collisionBoundary:x=[],collisionPadding:w=0,sticky:b="partial",hideWhenDetached:C=!1,updatePositionStrategy:E="optimized",onPlaced:k,...A}=e,j=dv(rm,r),[T,S]=I.useState(null),_=Nr(t,ke=>S(ke)),[P,F]=I.useState(null),L=GN(P),M=(L==null?void 0:L.width)??0,W=(L==null?void 0:L.height)??0,z=n+(a!=="center"?"-"+a:""),ne=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},H=Array.isArray(x)?x:[x],q=H.length>0,ie={padding:ne,boundary:H.filter(YN),altBoundary:q},{refs:re,floatingStyles:G,placement:ue,isPositioned:ee,middlewareData:J}=DN({strategy:"fixed",placement:z,whileElementsMounted:(...ke)=>NN(...ke,{animationFrame:E==="always"}),elements:{reference:j.anchor},middleware:[LN({mainAxis:i+W,alignmentAxis:u}),p&&BN({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?FN():void 0,...ie}),p&&UN({...ie}),zN({...ie,apply:({elements:ke,rects:Qt,availableWidth:fr,availableHeight:rn})=>{const{width:Mt,height:Ze}=Qt.reference,ze=ke.floating.style;ze.setProperty("--radix-popper-available-width",`${fr}px`),ze.setProperty("--radix-popper-available-height",`${rn}px`),ze.setProperty("--radix-popper-anchor-width",`${Mt}px`),ze.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),P&&WN({element:P,padding:m}),QN({arrowWidth:M,arrowHeight:W}),C&&VN({strategy:"referenceHidden",...ie})]}),[Y,le]=xv(ue),Ae=ts(k);Es(()=>{ee&&(Ae==null||Ae())},[ee,Ae]);const xe=(ge=J.arrow)==null?void 0:ge.x,je=(ye=J.arrow)==null?void 0:ye.y,Ee=((gt=J.arrow)==null?void 0:gt.centerOffset)!==0,[ae,te]=I.useState();return Es(()=>{T&&te(window.getComputedStyle(T).zIndex)},[T]),f.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:ee?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(Ct=J.transformOrigin)==null?void 0:Ct.x,(Ke=J.transformOrigin)==null?void 0:Ke.y].join(" "),...((rt=J.hide)==null?void 0:rt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:f.jsx(qN,{scope:r,placedSide:Y,onArrowChange:F,arrowX:xe,arrowY:je,shouldHideArrow:Ee,children:f.jsx(Vt.div,{"data-side":Y,"data-align":le,...A,ref:_,style:{...A.style,animation:ee?void 0:"none"}})})})});mv.displayName=rm;var pv="PopperArrow",XN={top:"bottom",right:"left",bottom:"top",left:"right"},gv=I.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=KN(pv,n),u=XN[a.placedSide];return f.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:f.jsx($N,{...i,ref:r,style:{...i.style,display:"block"}})})});gv.displayName=pv;function YN(e){return e!==null}var QN=e=>({name:"transformOrigin",options:e,fn(t){var j,T,S;const{placement:r,rects:n,middlewareData:i}=t,u=((j=i.arrow)==null?void 0:j.centerOffset)!==0,m=u?0:e.arrowWidth,p=u?0:e.arrowHeight,[x,w]=xv(r),b={start:"0%",center:"50%",end:"100%"}[w],C=(((T=i.arrow)==null?void 0:T.x)??0)+m/2,E=(((S=i.arrow)==null?void 0:S.y)??0)+p/2;let k="",A="";return x==="bottom"?(k=u?b:`${C}px`,A=`${-p}px`):x==="top"?(k=u?b:`${C}px`,A=`${n.floating.height+p}px`):x==="right"?(k=`${-p}px`,A=u?b:`${E}px`):x==="left"&&(k=`${n.floating.width+p}px`,A=u?b:`${E}px`),{data:{x:k,y:A}}}});function xv(e){const[t,r="center"]=e.split("-");return[t,r]}var ZN=hv,JN=mv,e4=gv,[Pd,L5]=lc("Tooltip",[uv]),nm=uv(),yv="TooltipProvider",t4=700,wg="tooltip.open",[r4,wv]=Pd(yv),vv=e=>{const{__scopeTooltip:t,delayDuration:r=t4,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,u=I.useRef(!0),m=I.useRef(!1),p=I.useRef(0);return I.useEffect(()=>{const x=p.current;return()=>window.clearTimeout(x)},[]),f.jsx(r4,{scope:t,isOpenDelayedRef:u,delayDuration:r,onOpen:I.useCallback(()=>{window.clearTimeout(p.current),u.current=!1},[]),onClose:I.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>u.current=!0,n)},[n]),isPointerInTransitRef:m,onPointerInTransitChange:I.useCallback(x=>{m.current=x},[]),disableHoverableContent:i,children:a})};vv.displayName=yv;var bv="Tooltip",[B5,Dd]=Pd(bv),b0="TooltipTrigger",n4=I.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Dd(b0,r),a=wv(b0,r),u=nm(r),m=I.useRef(null),p=Nr(t,m,i.onTriggerChange),x=I.useRef(!1),w=I.useRef(!1),b=I.useCallback(()=>x.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),f.jsx(ZN,{asChild:!0,...u,children:f.jsx(Vt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:p,onPointerMove:Et(e.onPointerMove,C=>{C.pointerType!=="touch"&&!w.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),w.current=!0)}),onPointerLeave:Et(e.onPointerLeave,()=>{i.onTriggerLeave(),w.current=!1}),onPointerDown:Et(e.onPointerDown,()=>{i.open&&i.onClose(),x.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:Et(e.onFocus,()=>{x.current||i.onOpen()}),onBlur:Et(e.onBlur,i.onClose),onClick:Et(e.onClick,i.onClose)})})});n4.displayName=b0;var s4="TooltipPortal",[F5,i4]=Pd(s4,{forceMount:void 0}),Ea="TooltipContent",Ev=I.forwardRef((e,t)=>{const r=i4(Ea,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,u=Dd(Ea,e.__scopeTooltip);return f.jsx(Ia,{present:n||u.open,children:u.disableHoverableContent?f.jsx(Cv,{side:i,...a,ref:t}):f.jsx(o4,{side:i,...a,ref:t})})}),o4=I.forwardRef((e,t)=>{const r=Dd(Ea,e.__scopeTooltip),n=wv(Ea,e.__scopeTooltip),i=I.useRef(null),a=Nr(t,i),[u,m]=I.useState(null),{trigger:p,onClose:x}=r,w=i.current,{onPointerInTransitChange:b}=n,C=I.useCallback(()=>{m(null),b(!1)},[b]),E=I.useCallback((k,A)=>{const j=k.currentTarget,T={x:k.clientX,y:k.clientY},S=d4(T,j.getBoundingClientRect()),_=f4(T,S),P=h4(A.getBoundingClientRect()),F=p4([..._,...P]);m(F),b(!0)},[b]);return I.useEffect(()=>()=>C(),[C]),I.useEffect(()=>{if(p&&w){const k=j=>E(j,w),A=j=>E(j,p);return p.addEventListener("pointerleave",k),w.addEventListener("pointerleave",A),()=>{p.removeEventListener("pointerleave",k),w.removeEventListener("pointerleave",A)}}},[p,w,E,C]),I.useEffect(()=>{if(u){const k=A=>{const j=A.target,T={x:A.clientX,y:A.clientY},S=(p==null?void 0:p.contains(j))||(w==null?void 0:w.contains(j)),_=!m4(T,u);S?C():_&&(C(),x())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[p,w,u,x,C]),f.jsx(Cv,{...e,ref:a})}),[a4,l4]=Pd(bv,{isInside:!1}),c4=y_("TooltipContent"),Cv=I.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:u,...m}=e,p=Dd(Ea,r),x=nm(r),{onClose:w}=p;return I.useEffect(()=>(document.addEventListener(wg,w),()=>document.removeEventListener(wg,w)),[w]),I.useEffect(()=>{if(p.trigger){const b=C=>{const E=C.target;E!=null&&E.contains(p.trigger)&&w()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[p.trigger,w]),f.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:b=>b.preventDefault(),onDismiss:w,children:f.jsxs(JN,{"data-state":p.stateAttribute,...x,...m,ref:t,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(c4,{children:n}),f.jsx(a4,{scope:r,isInside:!0,children:f.jsx(V_,{id:p.contentId,role:"tooltip",children:i||n})})]})})});Ev.displayName=Ea;var _v="TooltipArrow",u4=I.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=nm(r);return l4(_v,r).isInside?null:f.jsx(e4,{...i,...n,ref:t})});u4.displayName=_v;function d4(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function f4(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function h4(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function m4(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const m=t[a],p=t[u],x=m.x,w=m.y,b=p.x,C=p.y;w>n!=C>n&&r<(b-x)*(n-w)/(C-w)+x&&(i=!i)}return i}function p4(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),g4(t)}function g4(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],u=r[r.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var x4=vv,Sv=Ev;const y4=x4,w4=I.forwardRef(({className:e,sideOffset:t=4,...r},n)=>f.jsx(Sv,{ref:n,sideOffset:t,className:gn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));w4.displayName=Sv.displayName;var Md=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ld=typeof window>"u"||"Deno"in globalThis;function Sn(){}function v4(e,t){return typeof e=="function"?e(t):e}function b4(e){return typeof e=="number"&&e>=0&&e!==1/0}function E4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function E0(e,t){return typeof e=="function"?e(t):e}function C4(e,t){return typeof e=="function"?e(t):e}function vg(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:u,stale:m}=e;if(u){if(n){if(t.queryHash!==sm(u,t.options))return!1}else if(!Hl(t.queryKey,u))return!1}if(r!=="all"){const p=t.isActive();if(r==="active"&&!p||r==="inactive"&&p)return!1}return!(typeof m=="boolean"&&t.isStale()!==m||i&&i!==t.state.fetchStatus||a&&!a(t))}function bg(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Wl(t.options.mutationKey)!==Wl(a))return!1}else if(!Hl(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function sm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wl)(e)}function Wl(e){return JSON.stringify(e,(t,r)=>C0(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Hl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Hl(e[r],t[r])):!1}function Av(e,t){if(e===t)return e;const r=Eg(e)&&Eg(t);if(r||C0(e)&&C0(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),u=a.length,m=r?[]:{},p=new Set(n);let x=0;for(let w=0;w<u;w++){const b=r?w:a[w];(!r&&p.has(b)||r)&&e[b]===void 0&&t[b]===void 0?(m[b]=void 0,x++):(m[b]=Av(e[b],t[b]),m[b]===e[b]&&e[b]!==void 0&&x++)}return i===u&&x===i?e:m}return t}function Eg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function C0(e){if(!Cg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Cg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Cg(e){return Object.prototype.toString.call(e)==="[object Object]"}function _4(e){return new Promise(t=>{setTimeout(t,e)})}function S4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Av(e,t):t}function A4(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function N4(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var im=Symbol();function Nv(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===im?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Gi,Xs,oa,Ox,T4=(Ox=class extends Md{constructor(){super();et(this,Gi);et(this,Xs);et(this,oa);Le(this,oa,t=>{if(!Ld&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){se(this,Xs)||this.setEventListener(se(this,oa))}onUnsubscribe(){var t;this.hasListeners()||((t=se(this,Xs))==null||t.call(this),Le(this,Xs,void 0))}setEventListener(t){var r;Le(this,oa,t),(r=se(this,Xs))==null||r.call(this),Le(this,Xs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){se(this,Gi)!==t&&(Le(this,Gi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof se(this,Gi)=="boolean"?se(this,Gi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gi=new WeakMap,Xs=new WeakMap,oa=new WeakMap,Ox),Tv=new T4,aa,Ys,la,jx,k4=(jx=class extends Md{constructor(){super();et(this,aa,!0);et(this,Ys);et(this,la);Le(this,la,t=>{if(!Ld&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){se(this,Ys)||this.setEventListener(se(this,la))}onUnsubscribe(){var t;this.hasListeners()||((t=se(this,Ys))==null||t.call(this),Le(this,Ys,void 0))}setEventListener(t){var r;Le(this,la,t),(r=se(this,Ys))==null||r.call(this),Le(this,Ys,t(this.setOnline.bind(this)))}setOnline(t){se(this,aa)!==t&&(Le(this,aa,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return se(this,aa)}},aa=new WeakMap,Ys=new WeakMap,la=new WeakMap,jx),Ju=new k4;function I4(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function R4(e){return Math.min(1e3*2**e,3e4)}function kv(e){return(e??"online")==="online"?Ju.isOnline():!0}var Iv=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function qf(e){return e instanceof Iv}function Rv(e){let t=!1,r=0,n=!1,i;const a=I4(),u=A=>{var j;n||(C(new Iv(A)),(j=e.abort)==null||j.call(e))},m=()=>{t=!0},p=()=>{t=!1},x=()=>Tv.isFocused()&&(e.networkMode==="always"||Ju.isOnline())&&e.canRun(),w=()=>kv(e.networkMode)&&e.canRun(),b=A=>{var j;n||(n=!0,(j=e.onSuccess)==null||j.call(e,A),i==null||i(),a.resolve(A))},C=A=>{var j;n||(n=!0,(j=e.onError)==null||j.call(e,A),i==null||i(),a.reject(A))},E=()=>new Promise(A=>{var j;i=T=>{(n||x())&&A(T)},(j=e.onPause)==null||j.call(e)}).then(()=>{var A;i=void 0,n||(A=e.onContinue)==null||A.call(e)}),k=()=>{if(n)return;let A;const j=r===0?e.initialPromise:void 0;try{A=j??e.fn()}catch(T){A=Promise.reject(T)}Promise.resolve(A).then(b).catch(T=>{var L;if(n)return;const S=e.retry??(Ld?0:3),_=e.retryDelay??R4,P=typeof _=="function"?_(r,T):_,F=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,T);if(t||!F){C(T);return}r++,(L=e.onFail)==null||L.call(e,r,T),_4(P).then(()=>x()?void 0:E()).then(()=>{t?C(T):k()})})};return{promise:a,cancel:u,continue:()=>(i==null||i(),a),cancelRetry:m,continueRetry:p,canStart:w,start:()=>(w()?k():E().then(k),a)}}var O4=e=>setTimeout(e,0);function j4(){let e=[],t=0,r=m=>{m()},n=m=>{m()},i=O4;const a=m=>{t?e.push(m):i(()=>{r(m)})},u=()=>{const m=e;e=[],m.length&&i(()=>{n(()=>{m.forEach(p=>{r(p)})})})};return{batch:m=>{let p;t++;try{p=m()}finally{t--,t||u()}return p},batchCalls:m=>(...p)=>{a(()=>{m(...p)})},schedule:a,setNotifyFunction:m=>{r=m},setBatchNotifyFunction:m=>{n=m},setScheduler:m=>{i=m}}}var _r=j4(),qi,Px,Ov=(Px=class{constructor(){et(this,qi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),b4(this.gcTime)&&Le(this,qi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ld?1/0:5*60*1e3))}clearGcTimeout(){se(this,qi)&&(clearTimeout(se(this,qi)),Le(this,qi,void 0))}},qi=new WeakMap,Px),ca,Ki,cn,Xi,yr,ec,Yi,Nn,cs,Dx,P4=(Dx=class extends Ov{constructor(t){super();et(this,Nn);et(this,ca);et(this,Ki);et(this,cn);et(this,Xi);et(this,yr);et(this,ec);et(this,Yi);Le(this,Yi,!1),Le(this,ec,t.defaultOptions),this.setOptions(t.options),this.observers=[],Le(this,Xi,t.client),Le(this,cn,se(this,Xi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Le(this,ca,M4(this.options)),this.state=t.state??se(this,ca),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=se(this,yr))==null?void 0:t.promise}setOptions(t){this.options={...se(this,ec),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,cn).remove(this)}setData(t,r){const n=S4(this.state.data,t,this.options);return pr(this,Nn,cs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){pr(this,Nn,cs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=se(this,yr))==null?void 0:n.promise;return(i=se(this,yr))==null||i.cancel(t),r?r.then(Sn).catch(Sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,ca))}isActive(){return this.observers.some(t=>C4(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===im||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>E0(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!E4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=se(this,yr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=se(this,yr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),se(this,cn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(se(this,yr)&&(se(this,Yi)?se(this,yr).cancel({revert:!0}):se(this,yr).cancelRetry()),this.scheduleGc()),se(this,cn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pr(this,Nn,cs).call(this,{type:"invalidate"})}fetch(t,r){var x,w,b;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(se(this,yr))return se(this,yr).continueRetry(),se(this,yr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(E=>E.options.queryFn);C&&this.setOptions(C.options)}const n=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(Le(this,Yi,!0),n.signal)})},a=()=>{const C=Nv(this.options,r),k=(()=>{const A={client:se(this,Xi),queryKey:this.queryKey,meta:this.meta};return i(A),A})();return Le(this,Yi,!1),this.options.persister?this.options.persister(C,k,this):C(k)},m=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:se(this,Xi),state:this.state,fetchFn:a};return i(C),C})();(x=this.options.behavior)==null||x.onFetch(m,this),Le(this,Ki,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=m.fetchOptions)==null?void 0:w.meta))&&pr(this,Nn,cs).call(this,{type:"fetch",meta:(b=m.fetchOptions)==null?void 0:b.meta});const p=C=>{var E,k,A,j;qf(C)&&C.silent||pr(this,Nn,cs).call(this,{type:"error",error:C}),qf(C)||((k=(E=se(this,cn).config).onError)==null||k.call(E,C,this),(j=(A=se(this,cn).config).onSettled)==null||j.call(A,this.state.data,C,this)),this.scheduleGc()};return Le(this,yr,Rv({initialPromise:r==null?void 0:r.initialPromise,fn:m.fetchFn,abort:n.abort.bind(n),onSuccess:C=>{var E,k,A,j;if(C===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(C)}catch(T){p(T);return}(k=(E=se(this,cn).config).onSuccess)==null||k.call(E,C,this),(j=(A=se(this,cn).config).onSettled)==null||j.call(A,C,this.state.error,this),this.scheduleGc()},onError:p,onFail:(C,E)=>{pr(this,Nn,cs).call(this,{type:"failed",failureCount:C,error:E})},onPause:()=>{pr(this,Nn,cs).call(this,{type:"pause"})},onContinue:()=>{pr(this,Nn,cs).call(this,{type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0})),se(this,yr).start()}},ca=new WeakMap,Ki=new WeakMap,cn=new WeakMap,Xi=new WeakMap,yr=new WeakMap,ec=new WeakMap,Yi=new WeakMap,Nn=new WeakSet,cs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...D4(n.data,this.options),fetchMeta:t.meta??null};case"success":return Le(this,Ki,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return qf(i)&&i.revert&&se(this,Ki)?{...se(this,Ki),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),_r.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),se(this,cn).notify({query:this,type:"updated",action:t})})},Dx);function D4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kv(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function M4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Kn,Mx,L4=(Mx=class extends Md{constructor(t={}){super();et(this,Kn);this.config=t,Le(this,Kn,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??sm(i,r);let u=this.get(a);return u||(u=new P4({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(u)),u}add(t){se(this,Kn).has(t.queryHash)||(se(this,Kn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=se(this,Kn).get(t.queryHash);r&&(t.destroy(),r===t&&se(this,Kn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_r.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return se(this,Kn).get(t)}getAll(){return[...se(this,Kn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>vg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>vg(t,n)):r}notify(t){_r.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){_r.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_r.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Kn=new WeakMap,Mx),Xn,Er,Qi,Yn,zs,Lx,B4=(Lx=class extends Ov{constructor(t){super();et(this,Yn);et(this,Xn);et(this,Er);et(this,Qi);this.mutationId=t.mutationId,Le(this,Er,t.mutationCache),Le(this,Xn,[]),this.state=t.state||F4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){se(this,Xn).includes(t)||(se(this,Xn).push(t),this.clearGcTimeout(),se(this,Er).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Le(this,Xn,se(this,Xn).filter(r=>r!==t)),this.scheduleGc(),se(this,Er).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){se(this,Xn).length||(this.state.status==="pending"?this.scheduleGc():se(this,Er).remove(this))}continue(){var t;return((t=se(this,Qi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,u,m,p,x,w,b,C,E,k,A,j,T,S,_,P,F,L,M,W;const r=()=>{pr(this,Yn,zs).call(this,{type:"continue"})};Le(this,Qi,Rv({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(z,ne)=>{pr(this,Yn,zs).call(this,{type:"failed",failureCount:z,error:ne})},onPause:()=>{pr(this,Yn,zs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Er).canRun(this)}));const n=this.state.status==="pending",i=!se(this,Qi).canStart();try{if(n)r();else{pr(this,Yn,zs).call(this,{type:"pending",variables:t,isPaused:i}),await((u=(a=se(this,Er).config).onMutate)==null?void 0:u.call(a,t,this));const ne=await((p=(m=this.options).onMutate)==null?void 0:p.call(m,t));ne!==this.state.context&&pr(this,Yn,zs).call(this,{type:"pending",context:ne,variables:t,isPaused:i})}const z=await se(this,Qi).start();return await((w=(x=se(this,Er).config).onSuccess)==null?void 0:w.call(x,z,t,this.state.context,this)),await((C=(b=this.options).onSuccess)==null?void 0:C.call(b,z,t,this.state.context)),await((k=(E=se(this,Er).config).onSettled)==null?void 0:k.call(E,z,null,this.state.variables,this.state.context,this)),await((j=(A=this.options).onSettled)==null?void 0:j.call(A,z,null,t,this.state.context)),pr(this,Yn,zs).call(this,{type:"success",data:z}),z}catch(z){try{throw await((S=(T=se(this,Er).config).onError)==null?void 0:S.call(T,z,t,this.state.context,this)),await((P=(_=this.options).onError)==null?void 0:P.call(_,z,t,this.state.context)),await((L=(F=se(this,Er).config).onSettled)==null?void 0:L.call(F,void 0,z,this.state.variables,this.state.context,this)),await((W=(M=this.options).onSettled)==null?void 0:W.call(M,void 0,z,t,this.state.context)),z}finally{pr(this,Yn,zs).call(this,{type:"error",error:z})}}finally{se(this,Er).runNext(this)}}},Xn=new WeakMap,Er=new WeakMap,Qi=new WeakMap,Yn=new WeakSet,zs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),_r.batch(()=>{se(this,Xn).forEach(n=>{n.onMutationUpdate(t)}),se(this,Er).notify({mutation:this,type:"updated",action:t})})},Lx);function F4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ms,Tn,tc,Bx,U4=(Bx=class extends Md{constructor(t={}){super();et(this,ms);et(this,Tn);et(this,tc);this.config=t,Le(this,ms,new Set),Le(this,Tn,new Map),Le(this,tc,0)}build(t,r,n){const i=new B4({mutationCache:this,mutationId:++Sc(this,tc)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){se(this,ms).add(t);const r=qc(t);if(typeof r=="string"){const n=se(this,Tn).get(r);n?n.push(t):se(this,Tn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(se(this,ms).delete(t)){const r=qc(t);if(typeof r=="string"){const n=se(this,Tn).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&se(this,Tn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=qc(t);if(typeof r=="string"){const n=se(this,Tn).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=qc(t);if(typeof r=="string"){const i=(n=se(this,Tn).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_r.batch(()=>{se(this,ms).forEach(t=>{this.notify({type:"removed",mutation:t})}),se(this,ms).clear(),se(this,Tn).clear()})}getAll(){return Array.from(se(this,ms))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>bg(r,n))}findAll(t={}){return this.getAll().filter(r=>bg(t,r))}notify(t){_r.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return _r.batch(()=>Promise.all(t.map(r=>r.continue().catch(Sn))))}},ms=new WeakMap,Tn=new WeakMap,tc=new WeakMap,Bx);function qc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function _g(e){return{onFetch:(t,r)=>{var w,b,C,E,k;const n=t.options,i=(C=(b=(w=t.fetchOptions)==null?void 0:w.meta)==null?void 0:b.fetchMore)==null?void 0:C.direction,a=((E=t.state.data)==null?void 0:E.pages)||[],u=((k=t.state.data)==null?void 0:k.pageParams)||[];let m={pages:[],pageParams:[]},p=0;const x=async()=>{let A=!1;const j=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?A=!0:t.signal.addEventListener("abort",()=>{A=!0}),t.signal)})},T=Nv(t.options,t.fetchOptions),S=async(_,P,F)=>{if(A)return Promise.reject();if(P==null&&_.pages.length)return Promise.resolve(_);const M=(()=>{const H={client:t.client,queryKey:t.queryKey,pageParam:P,direction:F?"backward":"forward",meta:t.options.meta};return j(H),H})(),W=await T(M),{maxPages:z}=t.options,ne=F?N4:A4;return{pages:ne(_.pages,W,z),pageParams:ne(_.pageParams,P,z)}};if(i&&a.length){const _=i==="backward",P=_?z4:Sg,F={pages:a,pageParams:u},L=P(n,F);m=await S(F,L,_)}else{const _=e??a.length;do{const P=p===0?u[0]??n.initialPageParam:Sg(n,m);if(p>0&&P==null)break;m=await S(m,P),p++}while(p<_)}return m};t.options.persister?t.fetchFn=()=>{var A,j;return(j=(A=t.options).persister)==null?void 0:j.call(A,x,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=x}}}function Sg(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function z4(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ot,Qs,Zs,ua,da,Js,fa,ha,Fx,V4=(Fx=class{constructor(e={}){et(this,Ot);et(this,Qs);et(this,Zs);et(this,ua);et(this,da);et(this,Js);et(this,fa);et(this,ha);Le(this,Ot,e.queryCache||new L4),Le(this,Qs,e.mutationCache||new U4),Le(this,Zs,e.defaultOptions||{}),Le(this,ua,new Map),Le(this,da,new Map),Le(this,Js,0)}mount(){Sc(this,Js)._++,se(this,Js)===1&&(Le(this,fa,Tv.subscribe(async e=>{e&&(await this.resumePausedMutations(),se(this,Ot).onFocus())})),Le(this,ha,Ju.subscribe(async e=>{e&&(await this.resumePausedMutations(),se(this,Ot).onOnline())})))}unmount(){var e,t;Sc(this,Js)._--,se(this,Js)===0&&((e=se(this,fa))==null||e.call(this),Le(this,fa,void 0),(t=se(this,ha))==null||t.call(this),Le(this,ha,void 0))}isFetching(e){return se(this,Ot).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return se(this,Qs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=se(this,Ot).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=se(this,Ot).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(E0(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return se(this,Ot).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=se(this,Ot).get(n.queryHash),a=i==null?void 0:i.state.data,u=v4(t,a);if(u!==void 0)return se(this,Ot).build(this,n).setData(u,{...r,manual:!0})}setQueriesData(e,t,r){return _r.batch(()=>se(this,Ot).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=se(this,Ot).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=se(this,Ot);_r.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=se(this,Ot);return _r.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=_r.batch(()=>se(this,Ot).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Sn).catch(Sn)}invalidateQueries(e,t={}){return _r.batch(()=>(se(this,Ot).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=_r.batch(()=>se(this,Ot).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Sn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Sn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=se(this,Ot).build(this,t);return r.isStaleByTime(E0(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Sn).catch(Sn)}fetchInfiniteQuery(e){return e.behavior=_g(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Sn).catch(Sn)}ensureInfiniteQueryData(e){return e.behavior=_g(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ju.isOnline()?se(this,Qs).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,Ot)}getMutationCache(){return se(this,Qs)}getDefaultOptions(){return se(this,Zs)}setDefaultOptions(e){Le(this,Zs,e)}setQueryDefaults(e,t){se(this,ua).set(Wl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...se(this,ua).values()],r={};return t.forEach(n=>{Hl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){se(this,da).set(Wl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...se(this,da).values()],r={};return t.forEach(n=>{Hl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...se(this,Zs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===im&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...se(this,Zs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){se(this,Ot).clear(),se(this,Qs).clear()}},Ot=new WeakMap,Qs=new WeakMap,Zs=new WeakMap,ua=new WeakMap,da=new WeakMap,Js=new WeakMap,fa=new WeakMap,ha=new WeakMap,Fx),W4=I.createContext(void 0),H4=({client:e,children:t})=>(I.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(W4.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(this,arguments)}var ri;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ri||(ri={}));const Ag="popstate";function $4(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:u,hash:m}=n.location;return _0("",{pathname:a,search:u,hash:m},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ed(i)}return q4(t,r,null,e)}function Ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function G4(){return Math.random().toString(36).substr(2,8)}function Ng(e,t){return{usr:e.state,key:e.key,idx:t}}function _0(e,t,r,n){return r===void 0&&(r=null),$l({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Da(t):t,{state:r,key:t&&t.key||n||G4()})}function ed(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Da(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function q4(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,u=i.history,m=ri.Pop,p=null,x=w();x==null&&(x=0,u.replaceState($l({},u.state,{idx:x}),""));function w(){return(u.state||{idx:null}).idx}function b(){m=ri.Pop;let j=w(),T=j==null?null:j-x;x=j,p&&p({action:m,location:A.location,delta:T})}function C(j,T){m=ri.Push;let S=_0(A.location,j,T);x=w()+1;let _=Ng(S,x),P=A.createHref(S);try{u.pushState(_,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(P)}a&&p&&p({action:m,location:A.location,delta:1})}function E(j,T){m=ri.Replace;let S=_0(A.location,j,T);x=w();let _=Ng(S,x),P=A.createHref(S);u.replaceState(_,"",P),a&&p&&p({action:m,location:A.location,delta:0})}function k(j){let T=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof j=="string"?j:ed(j);return S=S.replace(/ $/,"%20"),Ft(T,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,T)}let A={get action(){return m},get location(){return e(i,u)},listen(j){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(Ag,b),p=j,()=>{i.removeEventListener(Ag,b),p=null}},createHref(j){return t(i,j)},createURL:k,encodeLocation(j){let T=k(j);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:C,replace:E,go(j){return u.go(j)}};return A}var Tg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tg||(Tg={}));function K4(e,t,r){return r===void 0&&(r="/"),X4(e,t,r,!1)}function X4(e,t,r,n){let i=typeof t=="string"?Da(t):t,a=om(i.pathname||"/",r);if(a==null)return null;let u=Pv(e);Y4(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let x=aT(a);m=iT(u[p],x,n)}return m}function Pv(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,u,m)=>{let p={relativePath:m===void 0?a.path||"":m,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};p.relativePath.startsWith("/")&&(Ft(p.relativePath.startsWith(n),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(n.length));let x=hi([n,p.relativePath]),w=r.concat(p);a.children&&a.children.length>0&&(Ft(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),Pv(a.children,t,w,x)),!(a.path==null&&!a.index)&&t.push({path:x,score:nT(x,a.index),routesMeta:w})};return e.forEach((a,u)=>{var m;if(a.path===""||!((m=a.path)!=null&&m.includes("?")))i(a,u);else for(let p of Dv(a.path))i(a,u,p)}),t}function Dv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let u=Dv(n.join("/")),m=[];return m.push(...u.map(p=>p===""?a:[a,p].join("/"))),i&&m.push(...u),m.map(p=>e.startsWith("/")&&p===""?"/":p)}function Y4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:sT(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Q4=/^:[\w-]+$/,Z4=3,J4=2,eT=1,tT=10,rT=-2,kg=e=>e==="*";function nT(e,t){let r=e.split("/"),n=r.length;return r.some(kg)&&(n+=rT),t&&(n+=J4),r.filter(i=>!kg(i)).reduce((i,a)=>i+(Q4.test(a)?Z4:a===""?eT:tT),n)}function sT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function iT(e,t,r){let{routesMeta:n}=e,i={},a="/",u=[];for(let m=0;m<n.length;++m){let p=n[m],x=m===n.length-1,w=a==="/"?t:t.slice(a.length)||"/",b=Ig({path:p.relativePath,caseSensitive:p.caseSensitive,end:x},w),C=p.route;if(!b&&x&&r&&!n[n.length-1].route.index&&(b=Ig({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!b)return null;Object.assign(i,b.params),u.push({params:i,pathname:hi([a,b.pathname]),pathnameBase:dT(hi([a,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(a=hi([a,b.pathnameBase]))}return u}function Ig(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=oT(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),m=i.slice(1);return{params:n.reduce((x,w,b)=>{let{paramName:C,isOptional:E}=w;if(C==="*"){let A=m[b]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const k=m[b];return E&&!k?x[C]=void 0:x[C]=(k||"").replace(/%2F/g,"/"),x},{}),pathname:a,pathnameBase:u,pattern:e}}function oT(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),jv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(n.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function aT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function om(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function lT(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Da(e):e;return{pathname:r?r.startsWith("/")?r:cT(r,t):t,search:fT(n),hash:hT(i)}}function cT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Kf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function am(e,t){let r=uT(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function lm(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Da(e):(i=$l({},e),Ft(!i.pathname||!i.pathname.includes("?"),Kf("?","pathname","search",i)),Ft(!i.pathname||!i.pathname.includes("#"),Kf("#","pathname","hash",i)),Ft(!i.search||!i.search.includes("#"),Kf("#","search","hash",i)));let a=e===""||i.pathname==="",u=a?"/":i.pathname,m;if(u==null)m=r;else{let b=t.length-1;if(!n&&u.startsWith("..")){let C=u.split("/");for(;C[0]==="..";)C.shift(),b-=1;i.pathname=C.join("/")}m=b>=0?t[b]:"/"}let p=lT(i,m),x=u&&u!=="/"&&u.endsWith("/"),w=(a||u===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(x||w)&&(p.pathname+="/"),p}const hi=e=>e.join("/").replace(/\/\/+/g,"/"),dT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Mv=["post","put","patch","delete"];new Set(Mv);const pT=["get",...Mv];new Set(pT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gl.apply(this,arguments)}const cm=I.createContext(null),gT=I.createContext(null),Si=I.createContext(null),Bd=I.createContext(null),Ns=I.createContext({outlet:null,matches:[],isDataRoute:!1}),Lv=I.createContext(null);function xT(e,t){let{relative:r}=t===void 0?{}:t;Ma()||Ft(!1);let{basename:n,navigator:i}=I.useContext(Si),{hash:a,pathname:u,search:m}=Fv(e,{relative:r}),p=u;return n!=="/"&&(p=u==="/"?n:hi([n,u])),i.createHref({pathname:p,search:m,hash:a})}function Ma(){return I.useContext(Bd)!=null}function Ts(){return Ma()||Ft(!1),I.useContext(Bd).location}function Bv(e){I.useContext(Si).static||I.useLayoutEffect(e)}function ss(){let{isDataRoute:e}=I.useContext(Ns);return e?IT():yT()}function yT(){Ma()||Ft(!1);let e=I.useContext(cm),{basename:t,future:r,navigator:n}=I.useContext(Si),{matches:i}=I.useContext(Ns),{pathname:a}=Ts(),u=JSON.stringify(am(i,r.v7_relativeSplatPath)),m=I.useRef(!1);return Bv(()=>{m.current=!0}),I.useCallback(function(x,w){if(w===void 0&&(w={}),!m.current)return;if(typeof x=="number"){n.go(x);return}let b=lm(x,JSON.parse(u),a,w.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:hi([t,b.pathname])),(w.replace?n.replace:n.push)(b,w.state,w)},[t,n,u,a,e])}function um(){let{matches:e}=I.useContext(Ns),t=e[e.length-1];return t?t.params:{}}function Fv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=I.useContext(Si),{matches:i}=I.useContext(Ns),{pathname:a}=Ts(),u=JSON.stringify(am(i,n.v7_relativeSplatPath));return I.useMemo(()=>lm(e,JSON.parse(u),a,r==="path"),[e,u,a,r])}function wT(e,t){return vT(e,t)}function vT(e,t,r,n){Ma()||Ft(!1);let{navigator:i}=I.useContext(Si),{matches:a}=I.useContext(Ns),u=a[a.length-1],m=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let x=Ts(),w;if(t){var b;let j=typeof t=="string"?Da(t):t;p==="/"||(b=j.pathname)!=null&&b.startsWith(p)||Ft(!1),w=j}else w=x;let C=w.pathname||"/",E=C;if(p!=="/"){let j=p.replace(/^\//,"").split("/");E="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let k=K4(e,{pathname:E}),A=ST(k&&k.map(j=>Object.assign({},j,{params:Object.assign({},m,j.params),pathname:hi([p,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:hi([p,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,r,n);return t&&A?I.createElement(Bd.Provider,{value:{location:Gl({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:ri.Pop}},A):A}function bT(){let e=kT(),t=mT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),r?I.createElement("pre",{style:i},r):null,null)}const ET=I.createElement(bT,null);class CT extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?I.createElement(Ns.Provider,{value:this.props.routeContext},I.createElement(Lv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _T(e){let{routeContext:t,match:r,children:n}=e,i=I.useContext(cm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(Ns.Provider,{value:t},n)}function ST(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let u=e,m=(i=r)==null?void 0:i.errors;if(m!=null){let w=u.findIndex(b=>b.route.id&&(m==null?void 0:m[b.route.id])!==void 0);w>=0||Ft(!1),u=u.slice(0,Math.min(u.length,w+1))}let p=!1,x=-1;if(r&&n&&n.v7_partialHydration)for(let w=0;w<u.length;w++){let b=u[w];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=w),b.route.id){let{loaderData:C,errors:E}=r,k=b.route.loader&&C[b.route.id]===void 0&&(!E||E[b.route.id]===void 0);if(b.route.lazy||k){p=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}return u.reduceRight((w,b,C)=>{let E,k=!1,A=null,j=null;r&&(E=m&&b.route.id?m[b.route.id]:void 0,A=b.route.errorElement||ET,p&&(x<0&&C===0?(k=!0,j=null):x===C&&(k=!0,j=b.route.hydrateFallbackElement||null)));let T=t.concat(u.slice(0,C+1)),S=()=>{let _;return E?_=A:k?_=j:b.route.Component?_=I.createElement(b.route.Component,null):b.route.element?_=b.route.element:_=w,I.createElement(_T,{match:b,routeContext:{outlet:w,matches:T,isDataRoute:r!=null},children:_})};return r&&(b.route.ErrorBoundary||b.route.errorElement||C===0)?I.createElement(CT,{location:r.location,revalidation:r.revalidation,component:A,error:E,children:S(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):S()},null)}var Uv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Uv||{}),td=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(td||{});function AT(e){let t=I.useContext(cm);return t||Ft(!1),t}function NT(e){let t=I.useContext(gT);return t||Ft(!1),t}function TT(e){let t=I.useContext(Ns);return t||Ft(!1),t}function zv(e){let t=TT(),r=t.matches[t.matches.length-1];return r.route.id||Ft(!1),r.route.id}function kT(){var e;let t=I.useContext(Lv),r=NT(td.UseRouteError),n=zv(td.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function IT(){let{router:e}=AT(Uv.UseNavigateStable),t=zv(td.UseNavigateStable),r=I.useRef(!1);return Bv(()=>{r.current=!0}),I.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Gl({fromRouteId:t},a)))},[e,t])}function RT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function S0(e){let{to:t,replace:r,state:n,relative:i}=e;Ma()||Ft(!1);let{future:a,static:u}=I.useContext(Si),{matches:m}=I.useContext(Ns),{pathname:p}=Ts(),x=ss(),w=lm(t,am(m,a.v7_relativeSplatPath),p,i==="path"),b=JSON.stringify(w);return I.useEffect(()=>x(JSON.parse(b),{replace:r,state:n,relative:i}),[x,b,i,r,n]),null}function qt(e){Ft(!1)}function OT(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ri.Pop,navigator:a,static:u=!1,future:m}=e;Ma()&&Ft(!1);let p=t.replace(/^\/*/,"/"),x=I.useMemo(()=>({basename:p,navigator:a,static:u,future:Gl({v7_relativeSplatPath:!1},m)}),[p,m,a,u]);typeof n=="string"&&(n=Da(n));let{pathname:w="/",search:b="",hash:C="",state:E=null,key:k="default"}=n,A=I.useMemo(()=>{let j=om(w,p);return j==null?null:{location:{pathname:j,search:b,hash:C,state:E,key:k},navigationType:i}},[p,w,b,C,E,k,i]);return A==null?null:I.createElement(Si.Provider,{value:x},I.createElement(Bd.Provider,{children:r,value:A}))}function jT(e){let{children:t,location:r}=e;return wT(A0(t),r)}new Promise(()=>{});function A0(e,t){t===void 0&&(t=[]);let r=[];return I.Children.forEach(e,(n,i)=>{if(!I.isValidElement(n))return;let a=[...t,i];if(n.type===I.Fragment){r.push.apply(r,A0(n.props.children,a));return}n.type!==qt&&Ft(!1),!n.props.index||!n.props.children||Ft(!1);let u={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=A0(n.props.children,a)),r.push(u)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(this,arguments)}function PT(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function DT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MT(e,t){return e.button===0&&(!t||t==="_self")&&!DT(e)}const LT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BT="6";try{window.__reactRouterVersion=BT}catch{}const FT="startTransition",Rg=Q0[FT];function UT(e){let{basename:t,children:r,future:n,window:i}=e,a=I.useRef();a.current==null&&(a.current=$4({window:i,v5Compat:!0}));let u=a.current,[m,p]=I.useState({action:u.action,location:u.location}),{v7_startTransition:x}=n||{},w=I.useCallback(b=>{x&&Rg?Rg(()=>p(b)):p(b)},[p,x]);return I.useLayoutEffect(()=>u.listen(w),[u,w]),I.useEffect(()=>RT(n),[n]),I.createElement(OT,{basename:t,children:r,location:m.location,navigationType:m.action,navigator:u,future:n})}const zT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=I.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:u,state:m,target:p,to:x,preventScrollReset:w,viewTransition:b}=t,C=PT(t,LT),{basename:E}=I.useContext(Si),k,A=!1;if(typeof x=="string"&&VT.test(x)&&(k=x,zT))try{let _=new URL(window.location.href),P=x.startsWith("//")?new URL(_.protocol+x):new URL(x),F=om(P.pathname,E);P.origin===_.origin&&F!=null?x=F+P.search+P.hash:A=!0}catch{}let j=xT(x,{relative:i}),T=WT(x,{replace:u,state:m,target:p,preventScrollReset:w,relative:i,viewTransition:b});function S(_){n&&n(_),_.defaultPrevented||T(_)}return I.createElement("a",N0({},C,{href:k||j,onClick:A||a?n:S,ref:r,target:p}))});var Og;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Og||(Og={}));var jg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jg||(jg={}));function WT(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:u,viewTransition:m}=t===void 0?{}:t,p=ss(),x=Ts(),w=Fv(e,{relative:u});return I.useCallback(b=>{if(MT(b,r)){b.preventDefault();let C=n!==void 0?n:ed(x)===ed(w);p(e,{replace:C,state:i,preventScrollReset:a,relative:u,viewTransition:m})}},[x,p,w,n,i,r,e,a,u,m])}function HT(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{x(n.next(w))}catch(b){u(b)}}function p(w){try{x(n.throw(w))}catch(b){u(b)}}function x(w){w.done?a(w.value):i(w.value).then(m,p)}x((n=n.apply(e,t||[])).next())})}const $T=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class dm extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class GT extends dm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Pg extends dm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dg extends dm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var T0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(T0||(T0={}));class qT{constructor(t,{headers:r={},customFetch:n,region:i=T0.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=$T(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return HT(this,arguments,void 0,function*(r,n={}){var i;let a,u;try{const{headers:m,method:p,body:x,signal:w,timeout:b}=n;let C={},{region:E}=n;E||(E=this.region);const k=new URL(`${this.url}/${r}`);E&&E!=="any"&&(C["x-region"]=E,k.searchParams.set("forceFunctionRegion",E));let A;x&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(C["Content-Type"]="application/octet-stream",A=x):typeof x=="string"?(C["Content-Type"]="text/plain",A=x):typeof FormData<"u"&&x instanceof FormData?A=x:(C["Content-Type"]="application/json",A=JSON.stringify(x)):x&&typeof x!="string"&&!(typeof Blob<"u"&&x instanceof Blob)&&!(x instanceof ArrayBuffer)&&!(typeof FormData<"u"&&x instanceof FormData)?A=JSON.stringify(x):A=x;let j=w;b&&(u=new AbortController,a=setTimeout(()=>u.abort(),b),w?(j=u.signal,w.addEventListener("abort",()=>u.abort())):j=u.signal);const T=yield this.fetch(k.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},C),this.headers),m),body:A,signal:j}).catch(F=>{throw new GT(F)}),S=T.headers.get("x-relay-error");if(S&&S==="true")throw new Pg(T);if(!T.ok)throw new Dg(T);let _=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return _==="application/json"?P=yield T.json():_==="application/octet-stream"||_==="application/pdf"?P=yield T.blob():_==="text/event-stream"?P=T:_==="multipart/form-data"?P=yield T.formData():P=yield T.text(),{data:P,error:null,response:T}}catch(m){return{data:null,error:m,response:m instanceof Dg||m instanceof Pg?m.context:void 0}}finally{a&&clearTimeout(a)}})}}var KT=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},XT=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let u=null,m=null,p=null,x=a.status,w=a.statusText;if(a.ok){var b,C;if(r.method!=="HEAD"){var E;const T=await a.text();T===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((E=r.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?m=T:m=JSON.parse(T))}const A=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),j=(C=a.headers.get("content-range"))===null||C===void 0?void 0:C.split("/");A&&j&&j.length>1&&(p=parseInt(j[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(m)&&(m.length>1?(u={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,x=406,w="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var k;const A=await a.text();try{u=JSON.parse(A),Array.isArray(u)&&a.status===404&&(m=[],u=null,x=200,w="OK")}catch{a.status===404&&A===""?(x=204,w="No Content"):u={message:A}}if(u&&r.isMaybeSingle&&(!(u==null||(k=u.details)===null||k===void 0)&&k.includes("0 rows"))&&(u=null,x=200,w="OK"),u&&r.shouldThrowOnError)throw new KT(u)}return{error:u,data:m,count:p,status:x,statusText:w}});return this.shouldThrowOnError||(i=i.catch(a=>{var u;let m="";const p=a==null?void 0:a.cause;if(p){var x,w,b,C;const k=(x=p==null?void 0:p.message)!==null&&x!==void 0?x:"",A=(w=p==null?void 0:p.code)!==null&&w!==void 0?w:"";m=`${(b=a==null?void 0:a.name)!==null&&b!==void 0?b:"FetchError"}: ${a==null?void 0:a.message}`,m+=`

Caused by: ${(C=p==null?void 0:p.name)!==null&&C!==void 0?C:"Error"}: ${k}`,A&&(m+=` (${A})`),p!=null&&p.stack&&(m+=`
${p.stack}`)}else{var E;m=(E=a==null?void 0:a.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},YT=class extends XT{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",u=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${u?`${u},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var u;const m=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${p}"; options=${m};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Mg=new RegExp("[,()]");var jo=class extends YT{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Mg.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Mg.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},QT=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let a=!1;const u=(e??"*").split("").map(x=>/\s/.test(x)&&!a?"":(x==='"'&&(a=!a),x)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",u),n&&p.append("Prefer",`count=${n}`),new jo({method:i,url:m,headers:p,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:u}=this.cloneRequestState();if(t&&u.append("Prefer",`count=${t}`),r||u.append("Prefer","missing=default"),Array.isArray(e)){const m=e.reduce((p,x)=>p.concat(Object.keys(x)),[]);if(m.length>0){const p=[...new Set(m)].map(x=>`"${x}"`);a.searchParams.set("columns",p.join(","))}}return new jo({method:i,url:a,headers:u,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const u="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&m.searchParams.set("on_conflict",t),n&&p.append("Prefer",`count=${n}`),i||p.append("Prefer","missing=default"),Array.isArray(e)){const x=e.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(x.length>0){const w=[...new Set(x)].map(b=>`"${b}"`);m.searchParams.set("columns",w.join(","))}}return new jo({method:u,url:m,headers:p,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new jo({method:n,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new jo({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},ZT=class Vv{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new QT(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Vv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var u;let m;const p=new URL(`${this.url}/rpc/${t}`);let x;const w=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(w)),b=n&&Object.values(r).some(w);b?(m="POST",x=r):n||i?(m=n?"HEAD":"GET",Object.entries(r).filter(([E,k])=>k!==void 0).map(([E,k])=>[E,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([E,k])=>{p.searchParams.append(E,k)})):(m="POST",x=r);const C=new Headers(this.headers);return b?C.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&C.set("Prefer",`count=${a}`),new jo({method:m,url:p,headers:C,schema:this.schemaName,body:x,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class JT{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const e8="2.91.1",t8=`realtime-js/${e8}`,r8="1.0.0",Wv="2.0.0",Lg=Wv,k0=1e4,n8=1e3,s8=100;var $s;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($s||($s={}));var Kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Kt||(Kt={}));var In;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(In||(In={}));var I0;(function(e){e.websocket="websocket"})(I0||(I0={}));var Ui;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ui||(Ui={}));class i8{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},u=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,r,n){var i,a;const u=t.topic,m=(i=t.ref)!==null&&i!==void 0?i:"",p=(a=t.join_ref)!==null&&a!==void 0?a:"",x=t.payload.event,w=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(w).length===0?"":JSON.stringify(w);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const C=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+u.length+x.length+b.length,E=new ArrayBuffer(this.HEADER_LENGTH+C);let k=new DataView(E),A=0;k.setUint8(A++,this.KINDS.userBroadcastPush),k.setUint8(A++,p.length),k.setUint8(A++,m.length),k.setUint8(A++,u.length),k.setUint8(A++,x.length),k.setUint8(A++,b.length),k.setUint8(A++,r),Array.from(p,T=>k.setUint8(A++,T.charCodeAt(0))),Array.from(m,T=>k.setUint8(A++,T.charCodeAt(0))),Array.from(u,T=>k.setUint8(A++,T.charCodeAt(0))),Array.from(x,T=>k.setUint8(A++,T.charCodeAt(0))),Array.from(b,T=>k.setUint8(A++,T.charCodeAt(0)));var j=new Uint8Array(E.byteLength+n.byteLength);return j.set(new Uint8Array(E),0),j.set(new Uint8Array(n),E.byteLength),j.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,u,m,p]=n;return r({join_ref:i,ref:a,topic:u,event:m,payload:p})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),u=r.getUint8(3),m=r.getUint8(4);let p=this.HEADER_LENGTH+4;const x=n.decode(t.slice(p,p+i));p=p+i;const w=n.decode(t.slice(p,p+a));p=p+a;const b=n.decode(t.slice(p,p+u));p=p+u;const C=t.slice(p,t.byteLength),E=m===this.JSON_ENCODING?JSON.parse(n.decode(C)):C,k={type:this.BROADCAST_EVENT,event:w,payload:E};return u>0&&(k.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Hv{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ct||(ct={}));const Bg=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,u)=>(a[u]=o8(u,e,t,i),a),{}):{}},o8=(e,t,r,n)=>{const i=t.find(m=>m.name===e),a=i==null?void 0:i.type,u=r[e];return a&&!n.includes(a)?$v(a,u):R0(u)},$v=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return u8(t,r)}switch(e){case ct.bool:return a8(t);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return l8(t);case ct.json:case ct.jsonb:return c8(t);case ct.timestamp:return d8(t);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return R0(t);default:return R0(t)}},R0=e=>e,a8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},l8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},c8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},u8=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const u=e.slice(1,r);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(m=>$v(t,m))}return e},d8=e=>typeof e=="string"?e.replace(" ","T"):e,Gv=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Xf{constructor(t,r,n={},i=k0){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fg||(Fg={}));class vl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:u,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vl.syncState(this.state,i,a,u),this.pendingDiffs.forEach(p=>{this.state=vl.syncDiff(this.state,p,a,u)}),this.pendingDiffs=[],m()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:u,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=vl.syncDiff(this.state,i,a,u),m())}),this.onJoin((i,a,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:u})}),this.onLeave((i,a,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),u=this.transformState(r),m={},p={};return this.map(a,(x,w)=>{u[x]||(p[x]=w)}),this.map(u,(x,w)=>{const b=a[x];if(b){const C=w.map(j=>j.presence_ref),E=b.map(j=>j.presence_ref),k=w.filter(j=>E.indexOf(j.presence_ref)<0),A=b.filter(j=>C.indexOf(j.presence_ref)<0);k.length>0&&(m[x]=k),A.length>0&&(p[x]=A)}else m[x]=w}),this.syncDiff(a,{joins:m,leaves:p},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(m,p)=>{var x;const w=(x=t[m])!==null&&x!==void 0?x:[];if(t[m]=this.cloneDeep(p),w.length>0){const b=t[m].map(E=>E.presence_ref),C=w.filter(E=>b.indexOf(E.presence_ref)<0);t[m].unshift(...C)}n(m,w,p)}),this.map(u,(m,p)=>{let x=t[m];if(!x)return;const w=p.map(b=>b.presence_ref);x=x.filter(b=>w.indexOf(b.presence_ref)<0),t[m]=x,i(m,x,p),x.length===0&&delete t[m]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ug;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ug||(Ug={}));var bl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(bl||(bl={}));var fs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fs||(fs={}));class Ko{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xf(this,In.join,this.params,this.timeout),this.rejoinTimer=new Hv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(In.reply,{},(u,m)=>{this._trigger(this._replyEventName(m),u)}),this.presence=new vl(this),this.broadcastEndpointURL=Gv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Kt.closed){const{config:{broadcast:u,presence:m,private:p}}=this.params,x=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(E=>E.filter))!==null&&i!==void 0?i:[],w=!!this.bindings[bl.PRESENCE]&&this.bindings[bl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,b={},C={broadcast:u,presence:Object.assign(Object.assign({},m),{enabled:w}),postgres_changes:x,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(E=>t==null?void 0:t(fs.CHANNEL_ERROR,E)),this._onClose(()=>t==null?void 0:t(fs.CLOSED)),this.updateJoinPayload(Object.assign({config:C},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:E})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){t==null||t(fs.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,j=(k=A==null?void 0:A.length)!==null&&k!==void 0?k:0,T=[];for(let S=0;S<j;S++){const _=A[S],{filter:{event:P,schema:F,table:L,filter:M}}=_,W=E&&E[S];if(W&&W.event===P&&Ko.isFilterValueEqual(W.schema,F)&&Ko.isFilterValueEqual(W.table,L)&&Ko.isFilterValueEqual(W.filter,M))T.push(Object.assign(Object.assign({},_),{id:W.id}));else{this.unsubscribe(),this.state=Kt.errored,t==null||t(fs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(fs.SUBSCRIBED);return}}).receive("error",E=>{this.state=Kt.errored,t==null||t(fs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Kt.joined&&t===bl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const x=await m.json();p=x.error||x.message||p}catch{}return Promise.reject(new Error(p))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=t,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=x.body)===null||i===void 0?void 0:i.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,m,p;const x=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(m=(u=this.params)===null||u===void 0?void 0:u.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&a("ok"),x.receive("ok",()=>a("ok")),x.receive("error",()=>a("error")),x.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Kt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(In.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Xf(this,In.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),u=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),u}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Xf(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>s8){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const u=t.toLocaleLowerCase(),{close:m,error:p,leave:x,join:w}=In;if(n&&[m,p,x,w].indexOf(u)>=0&&n!==this._joinRef())return;let C=this._onMessage(u,r,n);if(r&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(E=>{var k,A,j;return((k=E.filter)===null||k===void 0?void 0:k.event)==="*"||((j=(A=E.filter)===null||A===void 0?void 0:A.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(E=>E.callback(C,n)):(a=this.bindings[u])===null||a===void 0||a.filter(E=>{var k,A,j,T,S,_,P,F;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in E){const L=E.id,M=(k=E.filter)===null||k===void 0?void 0:k.event;return L&&((A=r.ids)===null||A===void 0?void 0:A.includes(L))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))&&(!(!((T=E.filter)===null||T===void 0)&&T.table)||E.filter.table===((S=r.data)===null||S===void 0?void 0:S.table))}else{const L=(P=(_=E==null?void 0:E.filter)===null||_===void 0?void 0:_.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return L==="*"||L===((F=r==null?void 0:r.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===u}).map(E=>{if(typeof C=="object"&&"ids"in C){const k=C.data,{schema:A,table:j,commit_timestamp:T,type:S,errors:_}=k;C=Object.assign(Object.assign({},{schema:A,table:j,commit_timestamp:T,eventType:S,new:{},old:{},errors:_}),this._getPayloadRecords(k))}E.callback(C,n)})}_isClosed(){return this.state===Kt.closed}_isJoined(){return this.state===Kt.joined}_isJoining(){return this.state===Kt.joining}_isLeaving(){return this.state===Kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Ko.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(In.close,{},t)}_onError(t){this._on(In.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Bg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Bg(t.columns,t.old_record)),r}}const Yf=()=>{},Kc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},f8=[1e3,2e3,5e3,1e4],h8=1e4,m8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class p8{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=k0,this.transport=null,this.heartbeatIntervalMs=Kc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yf,this.ref=0,this.reconnectTimer=null,this.vsn=Lg,this.logger=Yf,this.conn=null,this.sendBuffer=[],this.serializer=new i8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${I0.websocket}`,this.httpEndpoint=Gv(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $s.connecting:return Ui.Connecting;case $s.open:return Ui.Open;case $s.closing:return Ui.Closing;default:return Ui.Closed}}isConnected(){return this.connectionState()===Ui.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Ko(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,u=()=>{this.encode(t,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(n8,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Kc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const x=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",x)}catch(w){this.log("error","error in heartbeat callback",w)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:u}=r,m=u?`(${u})`:"",p=a.status||"";this.log("receive",`${p} ${n} ${i} ${m}`.trim(),a),this.channels.filter(x=>x._isMember(n)).forEach(x=>x._trigger(i,a,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===$s.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===$s.open||this.conn.readyState===$s.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(In.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([m8],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:t8};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(In.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Hv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,u,m,p,x,w,b,C,E;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:k0,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Kc.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=t==null?void 0:t.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(m=t==null?void 0:t.heartbeatCallback)!==null&&m!==void 0?m:Yf,this.vsn=(p=t==null?void 0:t.vsn)!==null&&p!==void 0?p:Lg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=t==null?void 0:t.reconnectAfterMs)!==null&&x!==void 0?x:k=>f8[k-1]||h8,this.vsn){case r8:this.encode=(w=t==null?void 0:t.encode)!==null&&w!==void 0?w:(k,A)=>A(JSON.stringify(k)),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:(k,A)=>A(JSON.parse(k));break;case Wv:this.encode=(C=t==null?void 0:t.encode)!==null&&C!==void 0?C:this.serializer.encode.bind(this.serializer),this.decode=(E=t==null?void 0:t.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ql=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function g8(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function x8(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function y8(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:u}){const m=g8(e.baseUrl,n,i),p=await x8(e.auth),x=await t(m,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...p,...u},body:a?JSON.stringify(a):void 0}),w=await x.text(),b=(x.headers.get("content-type")||"").includes("application/json"),C=b&&w?JSON.parse(w):w;if(!x.ok){const E=b?C:void 0,k=E==null?void 0:E.error;throw new ql((k==null?void 0:k.message)??`Request failed with status ${x.status}`,{status:x.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:E})}return{status:x.status,headers:x.headers,data:C}}}}function Xc(e){return e.join("")}var w8=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Xc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xc(e.namespace)}`}),!0}catch(t){if(t instanceof ql&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ql&&r.status===409)return;throw r}}};function _o(e){return e.join("")}var v8=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ql&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ql&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},b8=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=y8({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new w8(this.client,t),this.tableOps=new v8(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Fd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function St(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var E8=class extends Fd{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},O0=class extends Fd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const fm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),C8=()=>Response,j0=e=>{if(Array.isArray(e))return e.map(r=>j0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=j0(n)}),t},_8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},S8=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function A8(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N8(e){var t=A8(e,"string");return Kl(t)=="symbol"?t:t+""}function T8(e,t,r){return(t=N8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zg(Object(r),!0).forEach(function(n){T8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Qf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},k8=async(e,t,r)=>{e instanceof await C8()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const i=e.status||500,a=(n==null?void 0:n.statusCode)||i+"";t(new E8(Qf(n),i,a))}).catch(n=>{t(new O0(Qf(n),n))}):t(new O0(Qf(e),e))},I8=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(_8(n)?(i.headers=De({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),De(De({},i),r))};async function fc(e,t,r,n,i,a){return new Promise((u,m)=>{e(r,I8(t,n,i,a)).then(p=>{if(!p.ok)throw p;return n!=null&&n.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>k8(p,m,n))})}async function Xl(e,t,r,n){return fc(e,"GET",t,r,n)}async function An(e,t,r,n,i){return fc(e,"POST",t,n,i,r)}async function P0(e,t,r,n,i){return fc(e,"PUT",t,n,i,r)}async function R8(e,t,r,n){return fc(e,"HEAD",t,De(De({},r),{},{noResolveJson:!0}),n)}async function hm(e,t,r,n,i){return fc(e,"DELETE",t,n,i,r)}var O8=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(St(t))return{data:null,error:t};throw t}}};let qv;qv=Symbol.toStringTag;var j8=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[qv]="BlobDownloadBuilder",this.promise=null}asStream(){return new O8(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(St(t))return{data:null,error:t};throw t}}};const P8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var D8=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=fm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var i=this;try{let a;const u=De(De({},Vg),n);let m=De(De({},i.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),p&&a.append("metadata",i.encodeMetadata(p)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),p&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(p))):(a=r,m["cache-control"]=`max-age=${u.cacheControl}`,m["content-type"]=u.contentType,p&&(m["x-metadata"]=i.toBase64(i.encodeMetadata(p))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),n!=null&&n.headers&&(m=De(De({},m),n.headers));const x=i._removeEmptyFolders(t),w=i._getFinalPath(x),b=await(e=="PUT"?P0:An)(i.fetch,`${i.url}/object/${w}`,a,De({headers:m},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:x,id:b.Id,fullPath:b.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(St(a))return{data:null,error:a};throw a}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const a=i._removeEmptyFolders(e),u=i._getFinalPath(a),m=new URL(i.url+`/object/upload/sign/${u}`);m.searchParams.set("token",t);try{let p;const x=De({upsert:Vg.upsert},n),w=De(De({},i.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",x.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",x.cacheControl)):(p=r,w["cache-control"]=`max-age=${x.cacheControl}`,w["content-type"]=x.contentType),{data:{path:a,fullPath:(await P0(i.fetch,m.toString(),p,{headers:w})).Key},error:null}}catch(p){if(i.shouldThrowOnError)throw p;if(St(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const i=De({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await An(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),u=new URL(r.url+a.url),m=u.searchParams.get("token");if(!m)throw new Fd("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:m},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await An(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}}async copy(e,t,r){var n=this;try{return{data:{path:(await An(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,r){var n=this;try{let i=n._getFinalPath(e),a=await An(n.fetch,`${n.url}/object/sign/${i}`,De({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,r){var n=this;try{const i=await An(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(u=>De(De({},u),{},{signedUrl:u.signedURL?encodeURI(`${n.url}${u.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(e),u=()=>Xl(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new j8(u,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:j0(await Xl(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await R8(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(St(n)&&n instanceof O0){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});u!==""&&n.push(u);let m=n.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${m}`)}}}async remove(e){var t=this;try{return{data:await hm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const i=De(De(De({},P8),t),{},{prefix:e||""});return{data:await An(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}}async listV2(e,t){var r=this;try{const n=De({},e);return{data:await An(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Kv="2.91.1",Xv={"X-Client-Info":`storage-js/${Kv}`};var M8=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=De(De({},Xv),t),this.fetch=fm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Xl(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Xl(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await An(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await P0(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await An(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await hm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},L8=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=De(De({},Xv),t),this.fetch=fm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await An(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Xl(t.fetch,i,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await hm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!S8(e))throw new Fd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new b8({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const u=i[a];return typeof u!="function"?u:async(...m)=>{try{return{data:await u.apply(i,m),error:null}}catch(p){if(n)throw p;return{data:null,error:p}}}}})}};const mm={"X-Client-Info":`storage-js/${Kv}`,"Content-Type":"application/json"};var Yv=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function qr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Zf=class extends Yv{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},B8=class extends Yv{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const pm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),F8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Wg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),U8=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const u=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";t(new Zf(Wg(a),n,u))}).catch(()=>{const a=n+"";t(new Zf(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";t(new Zf(i.statusText||`HTTP ${n} error`,n,a))}}else t(new B8(Wg(e),e))},z8=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(F8(n)?(i.headers=De({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,De(De({},i),r)):i};async function V8(e,t,r,n,i,a){return new Promise((u,m)=>{e(r,z8(t,n,i,a)).then(p=>{if(!p.ok)throw p;if(n!=null&&n.noResolveJson)return p;const x=p.headers.get("content-type");return!x||!x.includes("application/json")?{}:p.json()}).then(p=>u(p)).catch(p=>U8(p,m,n))})}async function Kr(e,t,r,n,i){return V8(e,"POST",t,n,i,r)}var W8=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=De(De({},mm),t),this.fetch=pm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Kr(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Kr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(qr(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Kr(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Kr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(qr(n))return{data:null,error:n};throw n}}},H8=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=De(De({},mm),t),this.fetch=pm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Kr(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Kr(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Kr(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Kr(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Kr(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}}},$8=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=De(De({},mm),t),this.fetch=pm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Kr(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Kr(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Kr(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Kr(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}}},G8=class extends $8{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new q8(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},q8=class extends W8{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,De(De({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,De(De({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new K8(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},K8=class extends H8{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,De(De({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,De(De({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,De(De({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,De(De({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,De(De({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},X8=class extends M8{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new D8(this.url,this.headers,e,this.fetch)}get vectors(){return new G8(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new L8(this.url+"/iceberg",this.headers,this.fetch)}};function Ud(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}const Qv="2.91.1",Po=30*1e3,D0=3,Jf=D0*Po,Y8="http://localhost:9999",Q8="supabase.auth.token",Z8={"X-Client-Info":`gotrue-js/${Qv}`},M0="X-Supabase-Api-Version",Zv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},J8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ek=10*60*1e3;class Yl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function _e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class tk extends Yl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function rk(e){return _e(e)&&e.name==="AuthApiError"}class zi extends Yl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ks extends Yl{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Wr extends ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nk(e){return _e(e)&&e.name==="AuthSessionMissingError"}class So extends ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yc extends ks{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qc extends ks{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sk(e){return _e(e)&&e.name==="AuthImplicitGrantRedirectError"}class Hg extends ks{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ik extends ks{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class L0 extends ks{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function eh(e){return _e(e)&&e.name==="AuthRetryableFetchError"}class $g extends ks{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class B0 extends ks{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gg=` 	
\r=`.split(""),ok=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Gg.length;t+=1)e[Gg[t].charCodeAt(0)]=-2;for(let t=0;t<rd.length;t+=1)e[rd[t].charCodeAt(0)]=t;return e})();function qg(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(rd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(rd[n]),t.queuedBits-=6}}function Jv(e,t,r){const n=ok[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Kg(e){const t=[],r=u=>{t.push(String.fromCodePoint(u))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=u=>{ck(u,n,r)};for(let u=0;u<e.length;u+=1)Jv(e.charCodeAt(u),i,a);return t.join("")}function ak(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function lk(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}ak(n,t)}}function ck(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function sa(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Jv(e.charCodeAt(i),r,n);return new Uint8Array(t)}function uk(e){const t=[];return lk(e,r=>t.push(r)),new Uint8Array(t)}function $i(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>qg(i,r,n)),qg(null,r,n),t.join("")}function dk(e){return Math.round(Date.now()/1e3)+e}function fk(){return Symbol("auth-callback")}const lr=()=>typeof window<"u"&&typeof document<"u",Di={tested:!1,writable:!1},eb=()=>{if(!lr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Di.tested)return Di.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Di.tested=!0,Di.writable=!0}catch{Di.tested=!0,Di.writable=!1}return Di.writable};function hk(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const tb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),mk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Do=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Mi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ar=async(e,t)=>{await e.removeItem(t)};class zd{constructor(){this.promise=new zd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}zd.promiseConstructor=Promise;function th(e){const t=e.split(".");if(t.length!==3)throw new B0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!J8.test(t[n]))throw new B0("JWT not in base64url format");return{header:JSON.parse(Kg(t[0])),payload:JSON.parse(Kg(t[1])),signature:sa(t[2]),raw:{header:t[0],payload:t[1]}}}async function pk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function gk(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await e(a);if(!t(a,null,u)){n(u);return}}catch(u){if(!t(a,u)){i(u);return}}})()})}function xk(e){return("0"+e.toString(16)).substr(-2)}function yk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,xk).join("")}async function wk(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function vk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await wk(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ao(e,t,r=!1){const n=yk();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Do(e,`${t}-code-verifier`,i);const a=await vk(n);return[a,n===a?"plain":"s256"]}const bk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ek(e){const t=e.headers.get(M0);if(!t||!t.match(bk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ck(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _k(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Sk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function No(e){if(!Sk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rh(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ak(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function Xg(e){return JSON.parse(JSON.stringify(e))}const Fi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Nk=[502,503,504];async function Yg(e){var t;if(!mk(e))throw new L0(Fi(e),0);if(Nk.includes(e.status))throw new L0(Fi(e),e.status);let r;try{r=await e.json()}catch(a){throw new zi(Fi(a),a)}let n;const i=Ek(e);if(i&&i.getTime()>=Zv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $g(Fi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Wr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new $g(Fi(r),e.status,r.weak_password.reasons);throw new tk(Fi(r),e.status||500,n)}const Tk=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Pe(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[M0]||(a[M0]=Zv["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const u=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(u.redirect_to=n.redirectTo);const m=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await kk(e,t,r+m,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(p):{data:Object.assign({},p),error:null}}async function kk(e,t,r,n,i,a){const u=Tk(t,n,i,a);let m;try{m=await e(r,Object.assign({},u))}catch(p){throw console.error(p),new L0(Fi(p),0)}if(m.ok||await Yg(m),n!=null&&n.noResolveJson)return m;try{return await m.json()}catch(p){await Yg(p)}}function Cn(e){var t;let r=null;Ok(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=dk(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Qg(e){const t=Cn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ks(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ik(e){return{data:e,error:null}}function Rk(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,u=Ud(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},p=Object.assign({},u);return{data:{properties:m,user:p},error:null}}function Zg(e){return e}function Ok(e){return e.access_token&&e.refresh_token&&e.expires_in}const nh=["global","local","others"];class jk{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=tb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=nh[0]){if(nh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nh.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ks})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ud(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Rk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(_e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ks})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,u,m,p;try{const x={nextPage:null,lastPage:0,total:0},w=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Zg});if(w.error)throw w.error;const b=await w.json(),C=(u=w.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(p=(m=w.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(k=>{const A=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(k.split(";")[1].split("=")[1]);x[`${j}Page`]=A}),x.total=parseInt(C)),{data:Object.assign(Object.assign({},b),x),error:null}}catch(x){if(_e(x))return{data:{users:[]},error:x};throw x}}async getUserById(t){No(t);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ks})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){No(t);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ks})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){No(t);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ks})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){No(t.userId);try{const{data:r,error:n}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _deleteFactor(t){No(t.userId),No(t.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,u,m,p;try{const x={nextPage:null,lastPage:0,total:0},w=await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Zg});if(w.error)throw w.error;const b=await w.json(),C=(u=w.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(p=(m=w.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(k=>{const A=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(k.split(";")[1].split("=")[1]);x[`${j}Page`]=A}),x.total=parseInt(C)),{data:Object.assign(Object.assign({},b),x),error:null}}catch(x){if(_e(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}}function Jg(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const To={debug:!!(globalThis&&eb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Pk extends rb{}async function Dk(e,t,r){To.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),To.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){To.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{To.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw To.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Pk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(To.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Mk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Lk(e){return parseInt(e,16)}function Bk(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Fk(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:u,notBefore:m,requestId:p,resources:x,scheme:w,uri:b,version:C}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(C!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${C}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const E=nb(e.address),k=w?`${w}://${n}`:n,A=e.statement?`${e.statement}
`:"",j=`${k} wants you to sign in with your Ethereum account:
${E}

${A}`;let T=`URI: ${b}
Version: ${C}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),m&&(T+=`
Not Before: ${m.toISOString()}`),p&&(T+=`
Request ID: ${p}`),x){let S=`
Resources:`;for(const _ of x){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);S+=`
- ${_}`}T+=S}return`${j}
${T}`}class Ut extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class nd extends Ut{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Uk({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const u=window.location.hostname;if(sb(u)){if(a.rp.id!==u)return new Ut({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function zk({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(sb(n)){if(r.rpId!==n)return new Ut({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Vk{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Wk=new Vk;function Hk(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Ud(e,["challenge","user","excludeCredentials"]),a=sa(t).buffer,u=Object.assign(Object.assign({},r),{id:sa(r.id).buffer}),m=Object.assign(Object.assign({},i),{challenge:a,user:u});if(n&&n.length>0){m.excludeCredentials=new Array(n.length);for(let p=0;p<n.length;p++){const x=n[p];m.excludeCredentials[p]=Object.assign(Object.assign({},x),{id:sa(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return m}function $k(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ud(e,["challenge","allowCredentials"]),i=sa(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const m=r[u];a.allowCredentials[u]=Object.assign(Object.assign({},m),{id:sa(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return a}function Gk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:$i(new Uint8Array(e.response.attestationObject)),clientDataJSON:$i(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function qk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:$i(new Uint8Array(i.authenticatorData)),clientDataJSON:$i(new Uint8Array(i.clientDataJSON)),signature:$i(new Uint8Array(i.signature)),userHandle:i.userHandle?$i(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ex(){var e,t;return!!(lr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Kk(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nd("Browser returned unexpected credential type",t)}:{data:null,error:new nd("Empty credential response",t)}}catch(t){return{data:null,error:Uk({error:t,options:e})}}}async function Xk(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nd("Browser returned unexpected credential type",t)}:{data:null,error:new nd("Empty credential response",t)}}catch(t){return{data:null,error:zk({error:t,options:e})}}}const Yk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Qk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function sd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const u=i[a];if(u!==void 0)if(Array.isArray(u))n[a]=u;else if(r(u))n[a]=u;else if(t(u)){const m=n[a];t(m)?n[a]=sd(m,u):n[a]=sd(u)}else n[a]=u}return n}function Zk(e,t){return sd(Yk,e,t||{})}function Jk(e,t){return sd(Qk,e,t||{})}class eI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:u,error:m}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!u)return{data:null,error:m};const p=i??Wk.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:x}=u.webauthn.credential_options.publicKey;x.name||(x.name=`${x.id}:${n}`),x.displayName||(x.displayName=x.name)}switch(u.webauthn.type){case"create":{const x=Zk(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:w,error:b}=await Kk({publicKey:x,signal:p});return w?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:w}},error:null}:{data:null,error:b}}case"request":{const x=Jk(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:w,error:b}=await Xk(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:x,signal:p}));return w?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:w}},error:null}:{data:null,error:b}}}}catch(u){return _e(u)?{data:null,error:u}:{data:null,error:new zi("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Yl("rpId is required for WebAuthn authentication")};try{if(!ex())return{data:null,error:new zi("Browser does not support WebAuthn",null)};const{data:u,error:m}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!u)return{data:null,error:m};const{webauthn:p}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:n,credential_response:p.credential_response}})}catch(u){return _e(u)?{data:null,error:u}:{data:null,error:new zi("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Yl("rpId is required for WebAuthn registration")};try{if(!ex())return{data:null,error:new zi("Browser does not support WebAuthn",null)};const{data:u,error:m}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(w=>{var b;return(b=w.data)===null||b===void 0?void 0:b.all.find(C=>C.factor_type==="webauthn"&&C.friendly_name===t&&C.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w==null?void 0:w.id}):void 0),{data:null,error:m};const{data:p,error:x}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:n,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:x}}catch(u){return _e(u)?{data:null,error:u}:{data:null,error:new zi("Unexpected error in register",u)}}}}Mk();const tI={url:Y8,storageKey:Q8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Z8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function tx(e,t,r){return await r()}const ko={};class Ql{get jwks(){var t,r;return(r=(t=ko[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ko[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},tI),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Ql.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ql.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&lr()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new jk({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=tb(a.fetch),this.lock=a.lock||tx,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&lr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Dk:this.lock=tx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new eI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:eb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Jg(this.memoryStorage)),lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Qv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(lr()&&(r=hk(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),lr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),sk(a)){const p=(t=a.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:u,redirectType:m}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",m),await this._saveSession(u),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _e(r)?this._returnResult({error:r}):this._returnResult({error:new zi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Cn}),{data:u,error:m}=a;if(m||!u)return this._returnResult({data:{user:null,session:null},error:m});const p=u.session,x=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(a){if(_e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:w,password:b,options:C}=t;let E=null,k=null;this.flowType==="pkce"&&([E,k]=await Ao(this.storage,this.storageKey)),a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:C==null?void 0:C.emailRedirectTo,body:{email:w,password:b,data:(r=C==null?void 0:C.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken},code_challenge:E,code_challenge_method:k},xform:Cn})}else if("phone"in t){const{phone:w,password:b,options:C}=t;a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:b,data:(n=C==null?void 0:C.data)!==null&&n!==void 0?n:{},channel:(i=C==null?void 0:C.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken}},xform:Cn})}else throw new Yc("You must provide either an email or phone number and a password");const{data:u,error:m}=a;if(m||!u)return await ar(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=u.session,x=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(a){if(await ar(this.storage,`${this.storageKey}-code-verifier`),_e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:u,options:m}=t;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Qg})}else if("phone"in t){const{phone:a,password:u,options:m}=t;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Qg})}else throw new Yc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new So;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,u,m,p,x,w,b,C;let E,k;if("message"in t)E=t.message,k=t.signature;else{const{chain:A,wallet:j,statement:T,options:S}=t;let _;if(lr())if(typeof j=="object")_=j;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")_=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=j}const P=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href),F=await _.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=nb(F[0]);let M=(n=S==null?void 0:S.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!M){const z=await _.request({method:"eth_chainId"});M=Lk(z)}const W={domain:P.host,address:L,statement:T,uri:P.href,version:"1",chainId:M,nonce:(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(a=S==null?void 0:S.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(m=S==null?void 0:S.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=S==null?void 0:S.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(x=S==null?void 0:S.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(w=S==null?void 0:S.signInWithEthereum)===null||w===void 0?void 0:w.resources};E=Fk(W),k=await _.request({method:"personal_sign",params:[Bk(E),L]})}try{const{data:A,error:j}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:k},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(C=t.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Cn});if(j)throw j;if(!A||!A.session||!A.user){const T=new So;return this._returnResult({data:{user:null,session:null},error:T})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:j})}catch(A){if(_e(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(t){var r,n,i,a,u,m,p,x,w,b,C,E;let k,A;if("message"in t)k=t.message,A=t.signature;else{const{chain:j,wallet:T,statement:S,options:_}=t;let P;if(lr())if(typeof T=="object")P=T;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))P=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=T}const F=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const L=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),S?{statement:S}:null));let M;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")M=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)M=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)k=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),A=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${F.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((m=_==null?void 0:_.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((p=_==null?void 0:_.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((x=_==null?void 0:_.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((b=(w=_==null?void 0:_.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||b===void 0)&&b.length?["Resources",..._.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const L=await P.signMessage(new TextEncoder().encode(k),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=L}}try{const{data:j,error:T}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:$i(A)},!((C=t.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Cn});if(T)throw T;if(!j||!j.session||!j.user){const S=new So;return this._returnResult({data:{user:null,session:null},error:S})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:T})}catch(j){if(_e(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(t){const r=await Mi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new ik;const{data:a,error:u}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Cn});if(await ar(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const m=new So;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:u})}catch(a){if(await ar(this.storage,`${this.storageKey}-code-verifier`),_e(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:u}=t,m=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Cn}),{data:p,error:x}=m;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!p||!p.session||!p.user){const w=new So;return this._returnResult({data:{user:null,session:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:x})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,u;try{if("email"in t){const{email:m,options:p}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await Ao(this.storage,this.storageKey));const{error:b}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},create_user:(n=p==null?void 0:p.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:x,code_challenge_method:w},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:m,options:p}=t,{data:x,error:w}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(i=p==null?void 0:p.data)!==null&&i!==void 0?i:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:w})}throw new Yc("You must provide either an email or phone number.")}catch(m){if(await ar(this.storage,`${this.storageKey}-code-verifier`),_e(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:u,error:m}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Cn});if(m)throw m;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,x=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(i){if(_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,u;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Ao(this.storage,this.storageKey));const x=await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:Ik});return!((a=x.data)===null||a===void 0)&&a.url&&lr()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(m){if(await ar(this.storage,`${this.storageKey}-code-verifier`),_e(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Wr;const{error:i}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(_e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:u}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:u,error:m}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:m})}throw new Yc("You must provide either an email or phone number and a type")}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Mi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Jf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const u=await Mi(this.userStorage,this.storageKey+"-user");u!=null&&u.user?t.user=u.user:t.user=rh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=Ak(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ks}):await this._useSession(async r=>{var n,i,a;const{data:u,error:m}=r;if(m)throw m;return!(!((n=u.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wr}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ks})})}catch(r){if(_e(r))return nk(r)&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Wr;const u=i.session;let m=null,p=null;this.flowType==="pkce"&&t.email!=null&&([m,p]=await Ao(this.storage,this.storageKey));const{data:x,error:w}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:p}),jwt:u.access_token,xform:Ks});if(w)throw w;return u.user=x.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(n){if(await ar(this.storage,`${this.storageKey}-code-verifier`),_e(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Wr;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:u}=th(t.access_token);if(u.exp&&(n=u.exp,i=n<=r),i){const{data:m,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};a=m}else{const{data:m,error:p}=await this._getUser(t.access_token);if(p)throw p;a={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(_e(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:u,error:m}=r;if(m)throw m;t=(n=u.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Wr;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!lr())throw new Qc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Hg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Hg("No code detected.");const{data:S,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:u,expires_in:m,expires_at:p,token_type:x}=t;if(!a||!m||!u||!x)throw new Qc("No session defined in URL");const w=Math.round(Date.now()/1e3),b=parseInt(m);let C=w+b;p&&(C=parseInt(p));const E=C-w;E*1e3<=Po&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${b}s`);const k=C-b;w-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,C,w):w-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,C,w);const{data:A,error:j}=await this._getUser(a);if(j)throw j;const T={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:b,expires_at:C,refresh_token:u,token_type:x,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(n){if(_e(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Mi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const u=(n=i.session)===null||n===void 0?void 0:n.access_token;if(u){const{error:m}=await this.admin.signOut(u,t);if(m&&!(rk(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return t!=="others"&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=fk(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:u}=r;if(u)throw u;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ao(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await ar(this.storage,`${this.storageKey}-code-verifier`),_e(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var u,m,p,x,w;const{data:b,error:C}=a;if(C)throw C;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",E,{headers:this.headers,jwt:(w=(x=b.session)===null||x===void 0?void 0:x.access_token)!==null&&w!==void 0?w:void 0})});if(i)throw i;return lr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(_e(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:u,provider:m,token:p,access_token:x,nonce:w}=t,b=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:m,id_token:p,access_token:x,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Cn}),{data:C,error:E}=b;return E?this._returnResult({data:{user:null,session:null},error:E}):!C||!C.session||!C.user?this._returnResult({data:{user:null,session:null},error:new So}):(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("USER_UPDATED",C.session)),this._returnResult({data:C,error:E}))}catch(i){if(await ar(this.storage,`${this.storageKey}-code-verifier`),_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:u}=r;if(u)throw u;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gk(async i=>(i>0&&await pk(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cn})),(i,a)=>{const u=200*Math.pow(2,i);return a&&eh(a)&&Date.now()+u-n<Po})}catch(n){if(this._debug(r,"error",n),_e(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),lr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Mi(this.storage,this.storageKey);if(i&&this.userStorage){let u=await Mi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await Do(this.userStorage,this.storageKey+"-user",u)),i.user=(t=u==null?void 0:u.user)!==null&&t!==void 0?t:rh()}else if(i&&!i.user&&!i.user){const u=await Mi(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(i.user=u.user,await ar(this.storage,this.storageKey+"-user"),await Do(this.storage,this.storageKey,i)):i.user=rh()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Jf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Jf}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),eh(u)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:m}=await this._getUser(i.access_token);!m&&(u!=null&&u.user)?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(n,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new zd;const{data:a,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!a.session)throw new Wr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const m={data:a.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(a){if(this._debug(i,"error",a),_e(a)){const u={data:null,error:a};return eh(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,r)}catch(p){a.push(p)}});if(await Promise.all(u),a.length>0){for(let m=0;m<a.length;m+=1)console.error(a[m]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ar(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Do(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Xg(i);await Do(this.storage,this.storageKey,a)}else{const i=Xg(r);await Do(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ar(this.storage,this.storageKey),await ar(this.storage,this.storageKey+"-code-verifier"),await ar(this.storage,this.storageKey+"-user"),this.userStorage&&await ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&lr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Po);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Po);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Po}ms, refresh threshold is ${D0} ticks`),i<=D0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof rb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,u]=await Ao(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(m.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:u}=r;if(u)return this._returnResult({data:null,error:u});const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:x}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return x?this._returnResult({data:null,error:x}):(t.factorType==="totp"&&p.type==="totp"&&(!((i=p==null?void 0:p.totp)===null||i===void 0)&&i.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Gk(t.webauthn.credential_response):qk(t.webauthn.credential_response)})}:{code:t.code}),{data:m,error:p}=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const u=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(u.error)return u;const{data:m}=u;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Hk(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:$k(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=th(n.access_token);let u=null;a.aal&&(u=a.aal);let m=u;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(w=>w.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const x=a.amr||[];return{data:{currentLevel:u,nextLevel:m,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Wr})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Wr});const u=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return u.data&&u.data.redirect_url&&lr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Wr});const u=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return u.data&&u.data.redirect_url&&lr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Wr})})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Wr})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(m=>m.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(m=>m.kid===t),n&&this.jwks_cached_at+ek>i)return n;const{data:a,error:u}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(m=>m.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:E,error:k}=await this.getSession();if(k||!E.session)return this._returnResult({data:null,error:k});n=E.session.access_token}const{header:i,payload:a,signature:u,raw:{header:m,payload:p}}=th(n);r!=null&&r.allowExpired||Ck(a.exp);const x=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!x){const{error:E}=await this.getUser(n);if(E)throw E;return{data:{claims:a,header:i,signature:u},error:null}}const w=_k(i.alg),b=await crypto.subtle.importKey("jwk",x,w,!0,["verify"]);if(!await crypto.subtle.verify(w,b,u,uk(`${m}.${p}`)))throw new B0("Invalid JWT signature");return{data:{claims:a,header:i,signature:u},error:null}}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}}Ql.nextInstanceID={};const rI=Ql,nI="2.91.1";let cl="";typeof Deno<"u"?cl="deno":typeof document<"u"?cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cl="react-native":cl="node";const sI={"X-Client-Info":`supabase-js-${cl}/${nI}`},iI={headers:sI},oI={schema:"public"},aI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lI={};function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function cI(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uI(e){var t=cI(e,"string");return Zl(t)=="symbol"?t:t+""}function dI(e,t,r){return(t=uI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rx(Object(r),!0).forEach(function(n){dI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const fI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hI=()=>Headers,mI=(e,t,r)=>{const n=fI(r),i=hI();return async(a,u)=>{var m;const p=(m=await t())!==null&&m!==void 0?m:e;let x=new i(u==null?void 0:u.headers);return x.has("apikey")||x.set("apikey",e),x.has("Authorization")||x.set("Authorization",`Bearer ${p}`),n(a,Pt(Pt({},u),{},{headers:x}))}};function pI(e){return e.endsWith("/")?e:e+"/"}function gI(e,t){var r,n;const{db:i,auth:a,realtime:u,global:m}=e,{db:p,auth:x,realtime:w,global:b}=t,C={db:Pt(Pt({},p),i),auth:Pt(Pt({},x),a),realtime:Pt(Pt({},w),u),storage:{},global:Pt(Pt(Pt({},b),m),{},{headers:Pt(Pt({},(r=b==null?void 0:b.headers)!==null&&r!==void 0?r:{}),(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?C.accessToken=e.accessToken:delete C.accessToken,C}function xI(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var yI=class extends rI{constructor(e){super(e)}},wI=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=xI(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,m={db:oI,realtime:lI,auth:Pt(Pt({},aI),{},{storageKey:u}),global:iI},p=gI(r??{},m);if(this.storageKey=(n=p.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(w,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=p.auth)!==null&&x!==void 0?x:{},this.headers,p.global.fetch)}this.fetch=mI(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Pt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new ZT(new URL("rest/v1",a).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new X8(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new qT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:u,lock:m,debug:p,throwOnError:x},w,b){const C={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yI({url:this.authUrl.href,headers:Pt(Pt({},C),w),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:u,lock:m,debug:p,throwOnError:x,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new p8(this.realtimeUrl.href,Pt(Pt({},e),{},{params:Pt(Pt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vI=(e,t,r)=>new wI(e,t,r);function bI(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}bI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const EI=void 0,CI=void 0;throw new Error("Missing Supabase environment variables");const Te=vI(EI,CI,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),ib=I.createContext(void 0),Is=()=>{const e=I.useContext(ib);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},_I=({children:e})=>{const[t,r]=I.useState(null),[n,i]=I.useState(null),[a,u]=I.useState(null),[m,p]=I.useState(!0),x=async k=>{try{const{data:A,error:j}=await Te.from("profiles").select("*").eq("id",k).single();return j||!A?(console.warn("Profile fetch failed:",j==null?void 0:j.message),null):A}catch(A){return console.error("Profile fetch error:",A),null}},w=async()=>{if(t){const k=await x(t.id);k&&u(k)}};I.useEffect(()=>{let k=!0;const A=async T=>{var S,_,P;if(k){if(T!=null&&T.user){i(T),r(T.user);const F=await x(T.user.id);k&&u(F||{id:T.user.id,full_name:((S=T.user.user_metadata)==null?void 0:S.full_name)||((_=T.user.user_metadata)==null?void 0:_.name)||"",email:T.user.email||"",phone:((P=T.user.user_metadata)==null?void 0:P.phone)||"",referral_code:null,is_admin:!1,is_volunteer:!1})}else i(null),r(null),u(null);k&&p(!1)}};Te.auth.getSession().then(({data:{session:T}})=>{A(T)}).catch(T=>{console.error("getSession error:",T),k&&p(!1)});const{data:{subscription:j}}=Te.auth.onAuthStateChange((T,S)=>{A(S)});return()=>{k=!1,j.unsubscribe()}},[]);const b=async()=>{await Te.auth.signOut(),r(null),i(null),u(null)},C=(a==null?void 0:a.is_admin)??!1,E=(a==null?void 0:a.is_volunteer)??!1;return f.jsx(ib.Provider,{value:{user:t,session:n,profile:a,loading:m,isAdmin:C,isVolunteer:E,signOut:b,refreshProfile:w},children:e})},Us=({children:e})=>{const{user:t,loading:r,isAdmin:n}=Is();return r?f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsx("div",{className:"text-primary font-mono animate-pulse",children:"LOADING..."})}):t?n?f.jsx(f.Fragment,{children:e}):f.jsx(S0,{to:"/dashboard",replace:!0}):f.jsx(S0,{to:"/login",replace:!0})},nx=({children:e})=>{const{user:t,loading:r,isAdmin:n,isVolunteer:i}=Is();return r?f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsx("div",{className:"text-primary font-mono animate-pulse",children:"AUTHENTICATING..."})}):!t||!n&&!i?f.jsx(S0,{to:"/login",replace:!0}):f.jsx(f.Fragment,{children:e})},sx=[{label:"HOME",href:"#home"},{label:"ABOUT",href:"#about"},{label:"EVENTS",href:"#events"},{label:"GALLERY",href:"#gallery"}],uo=({hideOnMobile:e=!1})=>{const[t,r]=I.useState(!1),[n,i]=I.useState("home");I.useEffect(()=>{const u=()=>{const m=sx.map(x=>x.href.slice(1)),p=window.scrollY+200;for(const x of m){const w=document.getElementById(x);if(w){const{offsetTop:b,offsetHeight:C}=w;if(p>=b&&p<b+C){i(x);break}}}};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const a=u=>{r(!1);const m=document.querySelector(u);m&&m.scrollIntoView({behavior:"smooth"})};return f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>r(!t),className:`menu-button ${e?"hidden md:block":""}`,"aria-label":"Toggle navigation menu",children:t?f.jsx(_i,{className:"w-6 h-6 text-primary"}):f.jsxs("div",{className:"flex flex-col gap-1.5",children:[f.jsx("span",{className:"w-6 h-0.5 bg-primary rounded-full"}),f.jsx("span",{className:"w-6 h-0.5 bg-primary rounded-full"}),f.jsx("span",{className:"w-6 h-0.5 bg-primary rounded-full"})]})}),t&&f.jsx("div",{className:"nav-overlay animate-fade-in",children:f.jsx("nav",{className:"glass-card p-8 md:p-12 rounded-2xl",children:f.jsx("ul",{className:"space-y-6",children:sx.map(u=>f.jsx("li",{children:f.jsxs("button",{onClick:()=>a(u.href),className:`nav-link ${n===u.href.slice(1)?"text-primary glow-text":""}`,children:[f.jsx("span",{className:"text-primary/60",children:">"}),u.label]})},u.href))})})})]})},SI=()=>f.jsx("div",{className:"fixed top-6 left-6 z-40 pointer-events-none select-none",children:f.jsx("div",{className:"glass-card bg-black/20 backdrop-blur-sm border border-white/10 px-6 py-2 rounded-2xl shadow-lg",children:f.jsx("span",{className:"text-2xl md:text-3xl font-bold text-white tracking-wider font-sans",children:"IEEE"})})}),AI=new Date("2026-01-31T00:00:00"),NI=()=>{ss();const[e,t]=I.useState({days:0,hours:0,minutes:0,seconds:0});I.useEffect(()=>{const i=()=>{const u=AI.getTime()-new Date().getTime();u>0&&t({days:Math.floor(u/864e5),hours:Math.floor(u/36e5%24),minutes:Math.floor(u/1e3/60%60),seconds:Math.floor(u/1e3%60)})};i();const a=setInterval(i,1e3);return()=>clearInterval(a)},[]);const r=i=>i.toString().padStart(2,"0"),n=[{value:e.days,label:"DAYS"},{value:e.hours,label:"HOURS"},{value:e.minutes,label:"MINS"},{value:e.seconds,label:"SECS"}];return f.jsxs("div",{className:"flex flex-col items-center gap-12 w-full max-w-5xl mx-auto px-4",children:[f.jsxs("div",{className:"flex flex-row items-center justify-center w-full gap-4 md:gap-12",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-[10px] md:text-2xl text-primary font-display tracking-widest mb-1 md:mb-2",children:"JANUARY"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("div",{className:"bg-primary text-background p-1 md:p-2 rounded w-8 h-12 md:w-24 md:h-32 flex items-center justify-center",children:f.jsx("span",{className:"text-2xl md:text-8xl font-bold font-display",children:"3"})}),f.jsx("div",{className:"bg-primary text-background p-1 md:p-2 rounded w-8 h-12 md:w-24 md:h-32 flex items-center justify-center",children:f.jsx("span",{className:"text-2xl md:text-8xl font-bold font-display",children:"1"})})]})]}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute -inset-1 bg-primary rounded-lg blur opacity-25 group-hover:opacity-75 transition duration-1000 group-hover:duration-200"}),f.jsx("a",{href:"https://app.makemypass.com/event/tesseract-9-0",target:"_blank",rel:"noopener noreferrer",className:"relative glow-button bg-primary text-background px-3 py-2 md:px-8 md:py-4 text-xs md:text-2xl font-bold font-display tracking-wider rounded-lg hover:scale-105 transition-transform flex items-center gap-2 whitespace-nowrap",children:"REGISTER NOW"})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-[10px] md:text-2xl text-primary font-display tracking-widest mb-1 md:mb-2",children:"FEBRUARY"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("div",{className:"bg-primary text-background p-1 md:p-2 rounded w-8 h-12 md:w-24 md:h-32 flex items-center justify-center",children:f.jsx("span",{className:"text-2xl md:text-8xl font-bold font-display",children:"0"})}),f.jsx("div",{className:"bg-primary text-background p-1 md:p-2 rounded w-8 h-12 md:w-24 md:h-32 flex items-center justify-center",children:f.jsx("span",{className:"text-2xl md:text-8xl font-bold font-display",children:"1"})})]})]})]}),f.jsx("div",{className:"flex gap-2 md:gap-8 justify-center w-full",children:n.map((i,a)=>f.jsxs("div",{className:"countdown-box glow-border",children:[f.jsx("span",{className:"countdown-number font-display",children:r(i.value)}),f.jsx("span",{className:"countdown-label",children:i.label})]},i.label))})]})},gm=()=>f.jsx("div",{className:"w-full overflow-hidden",children:f.jsx("div",{className:"relative w-full",style:{paddingTop:"15%"},children:f.jsx("img",{src:"/pixel-mountains-%20and-%20stuff.png",alt:"Pixel mountains",className:"absolute inset-0 w-full h-full object-cover"})})}),TI=()=>f.jsxs("section",{id:"home",className:"min-h-screen flex flex-col relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-30 pointer-events-none"}),f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-4 pt-20 pb-8 relative z-10",children:[f.jsx("img",{src:"/tesseractlogo.png",alt:"Tesseract 9.0 logo",className:"w-20 h-20 md:w-28 md:h-28 mb-6 animate-float object-contain"}),f.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-display font-bold text-primary tracking-wider text-center glow-text mb-8",children:"TESSERACT 9.0"}),f.jsx(NI,{})]}),f.jsx("div",{className:"relative z-10 mt-auto",children:f.jsx(gm,{})})]}),kI=[{icon:kS,title:"ABOUT TESSERACT 9.0",content:"Tesseract is no less than a celebration for the IEEE SB SJCET since it's our annual flagship event. Tesseract provides an avenue for all the minds out there to meet, network, and find new opportunities. Enjoy these two days with fun workshops, a cultural night, and, of course, the food fiesta."},{icon:Ra,title:"ONCE IN A LIFETIME EXPERIENCE",content:"Join us at Tesseract 9.0 for a once-in-a-lifetime experience where you can immerse yourself in two days of tech, fun, networking, and insightful discussions on the ever-evolving world of technology."},{icon:CS,title:"ABOUT THE HOST",content:"St. Joseph's College of Engineering and Technology, Palai is a place where diversity is celebrated. Our campus is a melting pot of cultures, backgrounds, and perspectives. You will have the opportunity to engage with a diverse community of students and faculty, broadening your horizons and fostering a global mindset."}],II=()=>f.jsxs("section",{id:"about",className:"py-20 px-4 relative",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20 pointer-events-none"}),f.jsxs("div",{className:"container mx-auto max-w-4xl relative z-10",children:[f.jsx("h2",{className:"section-title font-display",children:"ABOUT"}),f.jsx("div",{className:"section-underline mb-16"}),f.jsx("div",{className:"space-y-6",children:kI.map((e,t)=>f.jsxs("div",{className:"terminal-card animate-fade-in",style:{animationDelay:`${t*.1}s`},children:[f.jsxs("div",{className:"flex items-center gap-3 p-5 border-b border-border",children:[f.jsx("div",{className:"p-2 rounded-lg bg-secondary/50",children:f.jsx(e.icon,{className:"w-5 h-5 text-primary"})}),f.jsx("h3",{className:"text-lg md:text-xl font-display font-semibold text-primary tracking-wide",children:e.title})]}),f.jsxs("div",{className:"p-5",children:[f.jsx("p",{className:"text-foreground/80 leading-relaxed",children:e.content}),f.jsx("div",{className:"mt-4 h-1 bg-border rounded-full overflow-hidden",children:f.jsx("div",{className:"progress-bar w-full"})})]})]},t))}),f.jsx("div",{className:"mt-12 flex justify-center",children:f.jsx("div",{className:"glass-card glow-border px-8 py-4 rounded-none",children:f.jsx("span",{className:"text-sm md:text-base font-display text-primary tracking-widest",children:"POWERED BY IEEE SB SJCET"})})})]})]}),RI=[{title:"TECHNICAL WORKSHOPS",locked:!1,path:"/workshops",description:"Explore our hands-on technical workshops.",icon:vS},{title:"SPECIAL GUEST",locked:!0,icon:Vf},{title:"CULTURAL NIGHT",locked:!0,icon:Vf},{title:"TECH TALKS",locked:!0,icon:Vf}],OI=()=>{const e=ss();return f.jsxs("section",{id:"events",className:"py-20 px-4 relative",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20 pointer-events-none"}),f.jsxs("div",{className:"container mx-auto max-w-4xl relative z-10",children:[f.jsx("h2",{className:"section-title font-display",children:"EVENTS"}),f.jsx("div",{className:"section-underline mb-8"}),f.jsxs("p",{className:"section-subtitle mb-12",children:[f.jsx("span",{className:"text-primary",children:">"})," Plans loading",f.jsx("span",{className:"animate-blink",children:"..."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:RI.map((t,r)=>{const n=t.icon;return f.jsxs("div",{className:`group transition-all duration-300 border border-border relative overflow-hidden
                  ${t.locked?"event-card-locked hover:border-primary/50":"glass-card p-6 cursor-pointer hover:border-primary hover:shadow-glow"}`,style:{animationDelay:`${r*.1}s`},onClick:()=>!t.locked&&t.path&&e(t.path),children:[f.jsx("div",{className:"flex justify-center mb-4 relative z-10",children:f.jsx("div",{className:`p-4 rounded-xl border transition-colors
                    ${t.locked?"bg-secondary/80 border-border group-hover:border-primary/50":"bg-primary/10 border-primary/30 group-hover:bg-primary/20 group-hover:border-primary"}`,children:f.jsx(n,{className:`w-8 h-8 transition-colors
                      ${t.locked?"text-primary/70":"text-primary"}`})})}),f.jsx("h3",{className:"text-lg font-display font-semibold text-primary tracking-wide mb-2 relative z-10 text-center",children:t.title}),f.jsx("p",{className:"text-muted-foreground text-sm relative z-10 text-center",children:t.locked?"Event details will be revealed soon...":t.description}),!t.locked&&f.jsx("div",{className:"mt-4 flex justify-center relatives z-10",children:f.jsxs("div",{className:"flex items-center gap-2 text-xs font-mono text-primary/80 group-hover:text-primary transition-colors",children:["[ ACCESS GRANTED ] ",f.jsx(fS,{className:"w-3 h-3 animate-pulse"})]})}),t.locked&&f.jsx("div",{className:"mt-4 relative z-10",children:f.jsx("div",{className:"h-0.5 bg-border rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full w-1/4 bg-primary rounded-full"})})})]},r)})})]})]})},sl=[{id:"img1",src:"/gallery/img8.webp"},{id:"img2",src:"/gallery/tess7_2.jpg"},{id:"img3",src:"/gallery/tess7_4.jpg"},{id:"img4",src:"/gallery/img5.webp"},{id:"img5",src:"/gallery/img7.webp"},{id:"img6",src:"/gallery/tess7_1.jpg"}],jI=()=>{const[e,t]=I.useState(4),[r,n]=I.useState(!1),[i,a]=I.useState(!0);I.useEffect(()=>{const m=()=>{const p=typeof window<"u"?window.innerWidth<768:!0;a(p),t(p?Math.min(4,sl.length):sl.length)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const u=()=>{n(!0),setTimeout(()=>{t(m=>Math.min(m+2,sl.length)),n(!1)},800)};return f.jsxs("section",{id:"gallery",className:"py-20 px-4 relative",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20 pointer-events-none"}),f.jsxs("div",{className:"container mx-auto max-w-4xl relative z-10",children:[f.jsx("h2",{className:"section-title font-display",children:"GALLERY"}),f.jsx("div",{className:"section-underline mb-8"}),f.jsxs("p",{className:"section-subtitle mb-12",children:[f.jsx("span",{className:"text-primary",children:">"})," Memories from previous Tesseracts"]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:sl.slice(0,e).map((m,p)=>f.jsx("div",{className:"gallery-image animate-fade-in bg-card overflow-hidden rounded-none relative",style:{animationDelay:`${p*.05}s`},children:f.jsx("img",{src:m.src,alt:m.id,className:"w-full h-56 md:h-48 lg:h-64 object-cover block rounded-none"})},m.id))}),i&&e<sl.length&&f.jsx("div",{className:"mt-12 flex justify-center",children:f.jsx("button",{onClick:u,disabled:r,className:"glass-card glow-button px-8 py-4 font-mono text-primary hover:border-primary/50 transition-all duration-300 disabled:opacity-50 rounded-none",children:r?f.jsxs("span",{children:[f.jsx("span",{className:"text-primary",children:">"})," Loading",f.jsx("span",{className:"animate-blink",children:"..."})]}):f.jsxs("span",{children:[f.jsx("span",{className:"text-primary",children:">"})," More memories"]})})})]})]})},PI=[{icon:xS,title:"IEEE SB SJCET",subtitle:"Official Website",href:"https://ieee.sjcetpalai.ac.in/"},{icon:wS,title:"INSTAGRAM",subtitle:"@ieee_sb_sjcet",href:"https://www.instagram.com/ieeesbsjcet/"},{icon:ES,title:"LINKEDIN",subtitle:"IEEE SB SJCET",href:"https://www.linkedin.com/in/ieee-sb-sjcet-palai-2a0a3a1a6/"},{icon:P2,title:"EMAIL",subtitle:"contact@ieeesbsjcet.org",href:"mailto:contact@ieeesbsjcet@gmail.com"}],DI=()=>f.jsxs("section",{className:"py-20 px-4 relative",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20 pointer-events-none"}),f.jsxs("div",{className:"container mx-auto max-w-4xl relative z-10",children:[f.jsx("h2",{className:"section-title font-display",children:"LINKS"}),f.jsx("div",{className:"section-underline mb-8"}),f.jsxs("p",{className:"section-subtitle mb-12",children:[f.jsx("span",{className:"text-primary",children:">"})," Connect with us"]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:PI.map((e,t)=>f.jsxs("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"link-card group",children:[f.jsx("div",{className:"p-3 rounded-xl bg-secondary/80 border border-border group-hover:border-primary/50 transition-colors",children:f.jsx(e.icon,{className:"w-6 h-6 text-primary"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-display font-semibold text-primary tracking-wide",children:e.title}),f.jsx("p",{className:"text-muted-foreground text-sm",children:e.subtitle})]})]},t))}),f.jsx("div",{className:"mt-12 flex justify-center",children:f.jsx("div",{className:"glass-card glow-border px-8 py-4",children:f.jsxs("span",{className:"text-sm md:text-base font-mono text-primary",children:[f.jsx("span",{className:"text-primary/60",children:">"})," Stay connected for updates"]})})})]})]}),MI=[{terminal:"contact_terminal_1.exe",name:"Blesson K Tomy",role:"Chair, IEEE SB SJCET",phone:"+91 89213 03814"},{terminal:"contact_terminal_2.exe",name:"Ayswaryalakshmi R",role:"Program Co-ordinator, IEEE SB SJCET",phone:"+91 94002 06919"}],LI=()=>f.jsxs("section",{className:"py-20 px-4 relative",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20 pointer-events-none"}),f.jsxs("div",{className:"container mx-auto max-w-4xl relative z-10",children:[f.jsx("h2",{className:"section-title font-display",children:"ANY DOUBTS?"}),f.jsx("div",{className:"section-underline mb-8"}),f.jsxs("p",{className:"section-subtitle mb-12",children:[f.jsx("span",{className:"text-primary",children:">"})," Contact our organizers"]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:MI.map((e,t)=>f.jsxs("div",{className:"terminal-card rounded-none",children:[f.jsxs("div",{className:"terminal-header",children:[f.jsx("span",{className:"terminal-dot-red"}),f.jsx("span",{className:"terminal-dot-yellow"}),f.jsx("span",{className:"terminal-dot-green"}),f.jsx("span",{className:"text-muted-foreground text-sm ml-2 font-mono",children:e.terminal})]}),f.jsxs("div",{className:"p-5 space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(uc,{className:"w-5 h-5 text-muted-foreground mt-0.5"}),f.jsxs("div",{children:[f.jsx("span",{className:"text-muted-foreground text-sm block",children:"> NAME"}),f.jsx("span",{className:"text-foreground font-semibold",children:e.name})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(hS,{className:"w-5 h-5 text-muted-foreground mt-0.5"}),f.jsxs("div",{children:[f.jsx("span",{className:"text-muted-foreground text-sm block",children:"> ROLE"}),f.jsx("span",{className:"text-foreground font-semibold",children:e.role})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(L2,{className:"w-5 h-5 text-muted-foreground mt-0.5"}),f.jsxs("div",{children:[f.jsx("span",{className:"text-muted-foreground text-sm block",children:"> PHONE"}),f.jsx("a",{href:`tel:${e.phone.replace(/\s/g,"")}`,className:"text-foreground font-semibold hover:text-primary transition-colors",children:e.phone})]})]})]})]},t))})]})]}),BI=()=>{const e="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3932.462339742505!2d76.7260948!3d9.7268467!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3b07cc024cb7c83f%3A0xc8944aaebb3ba492!2sSt.%20Joseph%27s%20College%20of%20Engineering%20and%20Technology%2C%20Palai%20(Autonomous)!5e0!3m2!1sen!2sin!4v1766851408365!5m2!1sen!2sin",t=()=>{window.open("https://www.google.com/maps/place/St.+Joseph's+College+of+Engineering+and+Technology,+Palai","_blank")};return f.jsxs("section",{className:"py-20 px-4 relative",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20 pointer-events-none"}),f.jsxs("div",{className:"container mx-auto max-w-4xl relative z-10",children:[f.jsx("h2",{className:"section-title font-display",children:"LOCATION"}),f.jsx("div",{className:"section-underline mb-8"}),f.jsxs("p",{className:"section-subtitle mb-12",children:[f.jsx("span",{className:"text-primary",children:">"})," Find us here"]}),f.jsxs("div",{className:"terminal-card mb-6 relative",children:[f.jsx("div",{className:"absolute top-4 left-4 z-10",children:f.jsx("div",{className:"glass-card px-4 py-2 backdrop-blur-md",children:f.jsx("span",{className:"font-mono text-sm text-muted-foreground",children:"St. Joseph's College of Engineering and Technology, Palai"})})}),f.jsxs("div",{className:"aspect-video bg-secondary/30 flex items-center justify-center relative overflow-hidden",children:[f.jsx("iframe",{title:"SJCET Palai - map",src:e,className:"absolute inset-0 w-full h-full border-0",allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"}),f.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:f.jsx("button",{onClick:t,className:"glass-card px-3 py-2 font-mono text-xs text-primary hover:border-primary/50",type:"button",children:"Open in Google Maps"})})]})]}),f.jsxs("div",{className:"terminal-card",children:[f.jsxs("div",{className:"terminal-header",children:[f.jsx("span",{className:"terminal-dot-red"}),f.jsx("span",{className:"terminal-dot-yellow"}),f.jsx("span",{className:"terminal-dot-green"}),f.jsx("span",{className:"text-muted-foreground text-sm ml-2 font-mono",children:"location_data.txt"})]}),f.jsxs("div",{className:"p-5 space-y-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-muted-foreground text-sm block",children:"> VENUE"}),f.jsx("h3",{className:"text-lg md:text-xl font-display font-semibold text-primary tracking-wide",children:"ST. JOSEPH'S COLLEGE OF ENGINEERING AND TECHNOLOGY"}),f.jsx("p",{className:"text-foreground mt-1",children:"Palai, Kerala"})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-muted-foreground text-sm block",children:"> ADDRESS"}),f.jsxs("p",{className:"text-foreground",children:["Choondacherry P.O.",f.jsx("br",{}),"Palai, Kottayam",f.jsx("br",{}),"Kerala - 686579"]})]})]})]}),f.jsx("div",{className:"mt-8 flex justify-center",children:f.jsxs("button",{onClick:t,className:"glass-card glow-button px-8 py-4 flex items-center gap-3 font-mono text-primary hover:border-primary/50 transition-all duration-300 group",type:"button",children:[f.jsx(SS,{className:"w-5 h-5 group-hover:animate-pulse"}),f.jsx("span",{children:"GET DIRECTIONS"})]})})]})]})},fo=()=>f.jsxs("footer",{className:"py-12 px-4 border-t border-border relative",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-10 pointer-events-none"}),f.jsx("div",{className:"container mx-auto max-w-4xl relative z-10",children:f.jsxs("div",{className:"flex flex-col items-center gap-6",children:[f.jsx("img",{src:"/tesseractlogo.png",alt:"Tesseract 9.0 logo",className:"w-12 h-12 opacity-50 object-contain"}),f.jsx("p",{className:"font-display text-sm text-muted-foreground tracking-widest text-center",children:"TESSERACT 9.0  Annual Flagship Event of IEEE SB SJCET"})]})})]}),FI=()=>f.jsxs("div",{className:"min-h-screen bg-background relative scanlines",children:[f.jsx(SI,{}),f.jsx(uo,{}),f.jsxs("main",{children:[f.jsx(TI,{}),f.jsx(II,{}),f.jsx(OI,{}),f.jsx(jI,{}),f.jsx(DI,{}),f.jsx(LI,{}),f.jsx(BI,{})]}),f.jsx(fo,{})]}),UI=()=>{const e=ss(),{toast:t}=Ir(),[r,n]=I.useState(""),[i,a]=I.useState(""),[u,m]=I.useState(!1),p=async w=>{if(w.preventDefault(),!r||!i){t({title:"Validation Error",description:"Please enter both email and password.",variant:"destructive"});return}m(!0);try{const{data:b,error:C}=await Te.auth.signInWithPassword({email:r,password:i});if(C)t({title:"Login Failed",description:C.message,variant:"destructive"});else if(b.session){t({title:"Success",description:"Logged in successfully."}),e("/dashboard");return}else t({title:"Email Not Verified",description:"Please check your email to verify your account before logging in.",variant:"destructive"})}catch{t({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{m(!1)}},x=async()=>{m(!0);const{error:w}=await Te.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});w&&(t({title:"Login Failed",description:w.message,variant:"destructive"}),m(!1))};return f.jsxs("div",{className:"min-h-screen bg-background relative scanlines flex flex-col",children:[f.jsx(uo,{}),f.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-30 pointer-events-none"}),f.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[f.jsx("h1",{className:"text-3xl md:text-5xl font-display font-bold text-primary glow-text mb-8 text-center tracking-wider",children:"LOGIN"}),f.jsxs("div",{className:"terminal-card",children:[f.jsxs("div",{className:"terminal-header",children:[f.jsx("span",{className:"terminal-dot terminal-dot-red"}),f.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),f.jsx("span",{className:"terminal-dot terminal-dot-green"}),f.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"auth://login"})]}),f.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[f.jsxs("form",{onSubmit:p,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm text-primary/80 font-mono mb-2",children:"EMAIL"}),f.jsx("input",{id:"email",type:"email",value:r,onChange:w=>n(w.target.value),placeholder:"user@example.com",className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",disabled:u})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm text-primary/80 font-mono mb-2",children:"PASSWORD"}),f.jsx("input",{id:"password",type:"password",value:i,onChange:w=>a(w.target.value),placeholder:"",className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",disabled:u})]}),f.jsx("button",{type:"submit",disabled:u,className:"w-full glow-button bg-primary text-background py-3 font-display font-bold tracking-wider rounded hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:cursor-not-allowed",children:u?"AUTHENTICATING...":"LOGIN"})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-border"})}),f.jsx("div",{className:"relative flex justify-center text-xs",children:f.jsx("span",{className:"bg-card px-4 text-muted-foreground font-mono",children:"OR"})})]}),f.jsxs("button",{onClick:x,disabled:u,className:"w-full flex items-center justify-center gap-3 border border-border bg-secondary/30 py-3 rounded font-mono text-primary hover:bg-secondary/50 hover:border-primary/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"CONTINUE WITH GOOGLE"]}),f.jsxs("p",{className:"text-center text-sm text-muted-foreground font-mono",children:["Don't have an account?"," ",f.jsx(Sr,{to:"/register",className:"text-primary hover:underline hover:glow-text transition-all",children:"Register here"})]})]})]})]})]}),f.jsx(fo,{})]})},zI=()=>{const e=ss(),{toast:t}=Ir(),[r,n]=I.useState({name:"",email:"",phone:"",password:""}),[i,a]=I.useState(!1),u=x=>{const{name:w,value:b}=x.target;n(C=>({...C,[w]:b}))},m=async()=>{a(!0);const{error:x}=await Te.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});x&&(t({title:"Registration Failed",description:x.message,variant:"destructive"}),a(!1))},p=async x=>{if(x.preventDefault(),!r.name||!r.email||!r.phone||!r.password){t({title:"Validation Error",description:"Please fill in all fields.",variant:"destructive"});return}if(r.password.length<6){t({title:"Validation Error",description:"Password must be at least 6 characters.",variant:"destructive"});return}a(!0);const{error:w}=await Te.auth.signUp({email:r.email,password:r.password,options:{data:{full_name:r.name,phone:r.phone}}});w?t({title:"Registration Failed",description:w.message,variant:"destructive"}):(t({title:"Registration Successful",description:"Please check your email inbox / spam to verify your account."}),e("/dashboard")),a(!1)};return f.jsxs("div",{className:"min-h-screen bg-background relative scanlines flex flex-col",children:[f.jsx(uo,{}),f.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-30 pointer-events-none"}),f.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[f.jsx("h1",{className:"text-3xl md:text-5xl font-display font-bold text-primary glow-text mb-8 text-center tracking-wider",children:"REGISTER"}),f.jsxs("div",{className:"terminal-card",children:[f.jsxs("div",{className:"terminal-header",children:[f.jsx("span",{className:"terminal-dot terminal-dot-red"}),f.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),f.jsx("span",{className:"terminal-dot terminal-dot-green"}),f.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"auth://register"})]}),f.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[f.jsxs("button",{onClick:m,disabled:i,className:"w-full flex items-center justify-center gap-3 border border-border bg-secondary/30 py-3 rounded font-mono text-primary hover:bg-secondary/50 hover:border-primary/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"CONTINUE WITH GOOGLE"]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-border"})}),f.jsx("div",{className:"relative flex justify-center text-xs",children:f.jsx("span",{className:"bg-card px-4 text-muted-foreground font-mono",children:"OR"})})]}),f.jsxs("form",{onSubmit:p,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm text-primary/80 font-mono mb-2",children:"FULL NAME"}),f.jsx("input",{id:"name",name:"name",type:"text",value:r.name,onChange:u,placeholder:"John Doe",className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",disabled:i})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm text-primary/80 font-mono mb-2",children:"EMAIL"}),f.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:u,placeholder:"user@example.com",className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",disabled:i})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"phone",className:"block text-sm text-primary/80 font-mono mb-2",children:"PHONE"}),f.jsx("input",{id:"phone",name:"phone",type:"tel",value:r.phone,onChange:u,placeholder:"+91 9876543210",className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",disabled:i})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm text-primary/80 font-mono mb-2",children:"PASSWORD"}),f.jsx("input",{id:"password",name:"password",type:"password",value:r.password,onChange:u,placeholder:"",className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",disabled:i})]}),f.jsx("button",{type:"submit",disabled:i,className:"w-full glow-button bg-primary text-background py-3 font-display font-bold tracking-wider rounded hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:cursor-not-allowed mt-6",children:i?"CREATING ACCOUNT...":"CREATE ACCOUNT"})]}),f.jsxs("p",{className:"text-center text-sm text-muted-foreground font-mono mt-6",children:["Already have an account?"," ",f.jsx(Sr,{to:"/login",className:"text-primary hover:underline hover:glow-text transition-all",children:"Login here"})]})]})]})]})]}),f.jsx(fo,{})]})};var sh="focusScope.autoFocusOnMount",ih="focusScope.autoFocusOnUnmount",ix={bubbles:!1,cancelable:!0},VI="FocusScope",ob=I.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...u}=e,[m,p]=I.useState(null),x=ts(i),w=ts(a),b=I.useRef(null),C=Nr(t,A=>p(A)),E=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(n){let A=function(_){if(E.paused||!m)return;const P=_.target;m.contains(P)?b.current=P:Vs(b.current,{select:!0})},j=function(_){if(E.paused||!m)return;const P=_.relatedTarget;P!==null&&(m.contains(P)||Vs(b.current,{select:!0}))},T=function(_){if(document.activeElement===document.body)for(const F of _)F.removedNodes.length>0&&Vs(m)};document.addEventListener("focusin",A),document.addEventListener("focusout",j);const S=new MutationObserver(T);return m&&S.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",j),S.disconnect()}}},[n,m,E.paused]),I.useEffect(()=>{if(m){ax.add(E);const A=document.activeElement;if(!m.contains(A)){const T=new CustomEvent(sh,ix);m.addEventListener(sh,x),m.dispatchEvent(T),T.defaultPrevented||(WI(KI(ab(m)),{select:!0}),document.activeElement===A&&Vs(m))}return()=>{m.removeEventListener(sh,x),setTimeout(()=>{const T=new CustomEvent(ih,ix);m.addEventListener(ih,w),m.dispatchEvent(T),T.defaultPrevented||Vs(A??document.body,{select:!0}),m.removeEventListener(ih,w),ax.remove(E)},0)}}},[m,x,w,E]);const k=I.useCallback(A=>{if(!r&&!n||E.paused)return;const j=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,T=document.activeElement;if(j&&T){const S=A.currentTarget,[_,P]=HI(S);_&&P?!A.shiftKey&&T===P?(A.preventDefault(),r&&Vs(_,{select:!0})):A.shiftKey&&T===_&&(A.preventDefault(),r&&Vs(P,{select:!0})):T===S&&A.preventDefault()}},[r,n,E.paused]);return f.jsx(Vt.div,{tabIndex:-1,...u,ref:C,onKeyDown:k})});ob.displayName=VI;function WI(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Vs(n,{select:t}),document.activeElement!==r)return}function HI(e){const t=ab(e),r=ox(t,e),n=ox(t.reverse(),e);return[r,n]}function ab(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ox(e,t){for(const r of e)if(!$I(r,{upTo:t}))return r}function $I(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function GI(e){return e instanceof HTMLInputElement&&"select"in e}function Vs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&GI(e)&&t&&e.select()}}var ax=qI();function qI(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=lx(e,t),e.unshift(t)},remove(t){var r;e=lx(e,t),(r=e[0])==null||r.resume()}}}function lx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function KI(e){return e.filter(t=>t.tagName!=="A")}var oh=0;function XI(){I.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??cx()),document.body.insertAdjacentElement("beforeend",e[1]??cx()),oh++,()=>{oh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),oh--}},[])}function cx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zn=function(){return Zn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Zn.apply(this,arguments)};function lb(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function YI(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var bu="right-scroll-bar-position",Eu="width-before-scroll-bar",QI="with-scroll-bars-hidden",ZI="--removed-body-scroll-bar-size";function ah(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function JI(e,t){var r=I.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var e6=typeof window<"u"?I.useLayoutEffect:I.useEffect,ux=new WeakMap;function t6(e,t){var r=JI(null,function(n){return e.forEach(function(i){return ah(i,n)})});return e6(function(){var n=ux.get(r);if(n){var i=new Set(n),a=new Set(e),u=r.current;i.forEach(function(m){a.has(m)||ah(m,null)}),a.forEach(function(m){i.has(m)||ah(m,u)})}ux.set(r,e)},[e]),r}function r6(e){return e}function n6(e,t){t===void 0&&(t=r6);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var u=t(a,n);return r.push(u),function(){r=r.filter(function(m){return m!==u})}},assignSyncMedium:function(a){for(n=!0;r.length;){var u=r;r=[],u.forEach(a)}r={push:function(m){return a(m)},filter:function(){return r}}},assignMedium:function(a){n=!0;var u=[];if(r.length){var m=r;r=[],m.forEach(a),u=r}var p=function(){var w=u;u=[],w.forEach(a)},x=function(){return Promise.resolve().then(p)};x(),r={push:function(w){u.push(w),x()},filter:function(w){return u=u.filter(w),r}}}};return i}function s6(e){e===void 0&&(e={});var t=n6(null);return t.options=Zn({async:!0,ssr:!1},e),t}var cb=function(e){var t=e.sideCar,r=lb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return I.createElement(n,Zn({},r))};cb.isSideCarExport=!0;function i6(e,t){return e.useMedium(t),cb}var ub=s6(),lh=function(){},Vd=I.forwardRef(function(e,t){var r=I.useRef(null),n=I.useState({onScrollCapture:lh,onWheelCapture:lh,onTouchMoveCapture:lh}),i=n[0],a=n[1],u=e.forwardProps,m=e.children,p=e.className,x=e.removeScrollBar,w=e.enabled,b=e.shards,C=e.sideCar,E=e.noRelative,k=e.noIsolation,A=e.inert,j=e.allowPinchZoom,T=e.as,S=T===void 0?"div":T,_=e.gapMode,P=lb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=C,L=t6([r,t]),M=Zn(Zn({},P),i);return I.createElement(I.Fragment,null,w&&I.createElement(F,{sideCar:ub,removeScrollBar:x,shards:b,noRelative:E,noIsolation:k,inert:A,setCallbacks:a,allowPinchZoom:!!j,lockRef:r,gapMode:_}),u?I.cloneElement(I.Children.only(m),Zn(Zn({},M),{ref:L})):I.createElement(S,Zn({},M,{className:p,ref:L}),m))});Vd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vd.classNames={fullWidth:Eu,zeroRight:bu};var o6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function a6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=o6();return t&&e.setAttribute("nonce",t),e}function l6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function c6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var u6=function(){var e=0,t=null;return{add:function(r){e==0&&(t=a6())&&(l6(t,r),c6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},d6=function(){var e=u6();return function(t,r){I.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},db=function(){var e=d6(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},f6={left:0,top:0,right:0,gap:0},ch=function(e){return parseInt(e||"",10)||0},h6=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[ch(r),ch(n),ch(i)]},m6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return f6;var t=h6(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},p6=db(),ia="data-scroll-locked",g6=function(e,t,r,n){var i=e.left,a=e.top,u=e.right,m=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(QI,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(m,"px ").concat(n,`;
  }
  body[`).concat(ia,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(m,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bu,` {
    right: `).concat(m,"px ").concat(n,`;
  }
  
  .`).concat(Eu,` {
    margin-right: `).concat(m,"px ").concat(n,`;
  }
  
  .`).concat(bu," .").concat(bu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Eu," .").concat(Eu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ia,`] {
    `).concat(ZI,": ").concat(m,`px;
  }
`)},dx=function(){var e=parseInt(document.body.getAttribute(ia)||"0",10);return isFinite(e)?e:0},x6=function(){I.useEffect(function(){return document.body.setAttribute(ia,(dx()+1).toString()),function(){var e=dx()-1;e<=0?document.body.removeAttribute(ia):document.body.setAttribute(ia,e.toString())}},[])},y6=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;x6();var a=I.useMemo(function(){return m6(i)},[i]);return I.createElement(p6,{styles:g6(a,!t,i,r?"":"!important")})},F0=!1;if(typeof window<"u")try{var Zc=Object.defineProperty({},"passive",{get:function(){return F0=!0,!0}});window.addEventListener("test",Zc,Zc),window.removeEventListener("test",Zc,Zc)}catch{F0=!1}var Io=F0?{passive:!1}:!1,w6=function(e){return e.tagName==="TEXTAREA"},fb=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!w6(e)&&r[t]==="visible")},v6=function(e){return fb(e,"overflowY")},b6=function(e){return fb(e,"overflowX")},fx=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=hb(e,n);if(i){var a=mb(e,n),u=a[1],m=a[2];if(u>m)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},E6=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},C6=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},hb=function(e,t){return e==="v"?v6(t):b6(t)},mb=function(e,t){return e==="v"?E6(t):C6(t)},_6=function(e,t){return e==="h"&&t==="rtl"?-1:1},S6=function(e,t,r,n,i){var a=_6(e,window.getComputedStyle(t).direction),u=a*n,m=r.target,p=t.contains(m),x=!1,w=u>0,b=0,C=0;do{if(!m)break;var E=mb(e,m),k=E[0],A=E[1],j=E[2],T=A-j-a*k;(k||T)&&hb(e,m)&&(b+=T,C+=k);var S=m.parentNode;m=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!p&&m!==document.body||p&&(t.contains(m)||t===m));return(w&&(Math.abs(b)<1||!i)||!w&&(Math.abs(C)<1||!i))&&(x=!0),x},Jc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hx=function(e){return[e.deltaX,e.deltaY]},mx=function(e){return e&&"current"in e?e.current:e},A6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},N6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},T6=0,Ro=[];function k6(e){var t=I.useRef([]),r=I.useRef([0,0]),n=I.useRef(),i=I.useState(T6++)[0],a=I.useState(db)[0],u=I.useRef(e);I.useEffect(function(){u.current=e},[e]),I.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var A=YI([e.lockRef.current],(e.shards||[]).map(mx),!0).filter(Boolean);return A.forEach(function(j){return j.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),A.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var m=I.useCallback(function(A,j){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!u.current.allowPinchZoom;var T=Jc(A),S=r.current,_="deltaX"in A?A.deltaX:S[0]-T[0],P="deltaY"in A?A.deltaY:S[1]-T[1],F,L=A.target,M=Math.abs(_)>Math.abs(P)?"h":"v";if("touches"in A&&M==="h"&&L.type==="range")return!1;var W=fx(M,L);if(!W)return!0;if(W?F=M:(F=M==="v"?"h":"v",W=fx(M,L)),!W)return!1;if(!n.current&&"changedTouches"in A&&(_||P)&&(n.current=F),!F)return!0;var z=n.current||F;return S6(z,j,A,z==="h"?_:P,!0)},[]),p=I.useCallback(function(A){var j=A;if(!(!Ro.length||Ro[Ro.length-1]!==a)){var T="deltaY"in j?hx(j):Jc(j),S=t.current.filter(function(F){return F.name===j.type&&(F.target===j.target||j.target===F.shadowParent)&&A6(F.delta,T)})[0];if(S&&S.should){j.cancelable&&j.preventDefault();return}if(!S){var _=(u.current.shards||[]).map(mx).filter(Boolean).filter(function(F){return F.contains(j.target)}),P=_.length>0?m(j,_[0]):!u.current.noIsolation;P&&j.cancelable&&j.preventDefault()}}},[]),x=I.useCallback(function(A,j,T,S){var _={name:A,delta:j,target:T,should:S,shadowParent:I6(T)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(P){return P!==_})},1)},[]),w=I.useCallback(function(A){r.current=Jc(A),n.current=void 0},[]),b=I.useCallback(function(A){x(A.type,hx(A),A.target,m(A,e.lockRef.current))},[]),C=I.useCallback(function(A){x(A.type,Jc(A),A.target,m(A,e.lockRef.current))},[]);I.useEffect(function(){return Ro.push(a),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:C}),document.addEventListener("wheel",p,Io),document.addEventListener("touchmove",p,Io),document.addEventListener("touchstart",w,Io),function(){Ro=Ro.filter(function(A){return A!==a}),document.removeEventListener("wheel",p,Io),document.removeEventListener("touchmove",p,Io),document.removeEventListener("touchstart",w,Io)}},[]);var E=e.removeScrollBar,k=e.inert;return I.createElement(I.Fragment,null,k?I.createElement(a,{styles:N6(i)}):null,E?I.createElement(y6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function I6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const R6=i6(ub,k6);var pb=I.forwardRef(function(e,t){return I.createElement(Vd,Zn({},e,{ref:t,sideCar:R6}))});pb.classNames=Vd.classNames;var O6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Oo=new WeakMap,eu=new WeakMap,tu={},uh=0,gb=function(e){return e&&(e.host||gb(e.parentNode))},j6=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=gb(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},P6=function(e,t,r,n){var i=j6(t,Array.isArray(e)?e:[e]);tu[r]||(tu[r]=new WeakMap);var a=tu[r],u=[],m=new Set,p=new Set(i),x=function(b){!b||m.has(b)||(m.add(b),x(b.parentNode))};i.forEach(x);var w=function(b){!b||p.has(b)||Array.prototype.forEach.call(b.children,function(C){if(m.has(C))w(C);else try{var E=C.getAttribute(n),k=E!==null&&E!=="false",A=(Oo.get(C)||0)+1,j=(a.get(C)||0)+1;Oo.set(C,A),a.set(C,j),u.push(C),A===1&&k&&eu.set(C,!0),j===1&&C.setAttribute(r,"true"),k||C.setAttribute(n,"true")}catch(T){console.error("aria-hidden: cannot operate on ",C,T)}})};return w(t),m.clear(),uh++,function(){u.forEach(function(b){var C=Oo.get(b)-1,E=a.get(b)-1;Oo.set(b,C),a.set(b,E),C||(eu.has(b)||b.removeAttribute(n),eu.delete(b)),E||b.removeAttribute(r)}),uh--,uh||(Oo=new WeakMap,Oo=new WeakMap,eu=new WeakMap,tu={})}},D6=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=O6(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),P6(n,i,r,"aria-hidden")):function(){return null}},Wd="Dialog",[xb,U5]=lc(Wd),[M6,Bn]=xb(Wd),yb=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:u=!0}=e,m=I.useRef(null),p=I.useRef(null),[x,w]=a2({prop:n,defaultProp:i??!1,onChange:a,caller:Wd});return f.jsx(M6,{scope:t,triggerRef:m,contentRef:p,contentId:Hf(),titleId:Hf(),descriptionId:Hf(),open:x,onOpenChange:w,onOpenToggle:I.useCallback(()=>w(b=>!b),[w]),modal:u,children:r})};yb.displayName=Wd;var wb="DialogTrigger",L6=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Bn(wb,r),a=Nr(t,i.triggerRef);return f.jsx(Vt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":wm(i.open),...n,ref:a,onClick:Et(e.onClick,i.onOpenToggle)})});L6.displayName=wb;var xm="DialogPortal",[B6,vb]=xb(xm,{forceMount:void 0}),bb=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=Bn(xm,t);return f.jsx(B6,{scope:t,forceMount:r,children:I.Children.map(n,u=>f.jsx(Ia,{present:r||a.open,children:f.jsx(V1,{asChild:!0,container:i,children:u})}))})};bb.displayName=xm;var id="DialogOverlay",Eb=I.forwardRef((e,t)=>{const r=vb(id,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Bn(id,e.__scopeDialog);return a.modal?f.jsx(Ia,{present:n||a.open,children:f.jsx(U6,{...i,ref:t})}):null});Eb.displayName=id;var F6=qu("DialogOverlay.RemoveScroll"),U6=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Bn(id,r);return f.jsx(pb,{as:F6,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(Vt.div,{"data-state":wm(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ao="DialogContent",Cb=I.forwardRef((e,t)=>{const r=vb(ao,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Bn(ao,e.__scopeDialog);return f.jsx(Ia,{present:n||a.open,children:a.modal?f.jsx(z6,{...i,ref:t}):f.jsx(V6,{...i,ref:t})})});Cb.displayName=ao;var z6=I.forwardRef((e,t)=>{const r=Bn(ao,e.__scopeDialog),n=I.useRef(null),i=Nr(t,r.contentRef,n);return I.useEffect(()=>{const a=n.current;if(a)return D6(a)},[]),f.jsx(_b,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Et(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Et(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0;(u.button===2||m)&&a.preventDefault()}),onFocusOutside:Et(e.onFocusOutside,a=>a.preventDefault())})}),V6=I.forwardRef((e,t)=>{const r=Bn(ao,e.__scopeDialog),n=I.useRef(!1),i=I.useRef(!1);return f.jsx(_b,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,m;(u=e.onCloseAutoFocus)==null||u.call(e,a),a.defaultPrevented||(n.current||(m=r.triggerRef.current)==null||m.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var p,x;(p=e.onInteractOutside)==null||p.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=a.target;((x=r.triggerRef.current)==null?void 0:x.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),_b=I.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...u}=e,m=Bn(ao,r),p=I.useRef(null),x=Nr(t,p);return XI(),f.jsxs(f.Fragment,{children:[f.jsx(ob,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:f.jsx(Nd,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":wm(m.open),...u,ref:x,onDismiss:()=>m.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(W6,{titleId:m.titleId}),f.jsx($6,{contentRef:p,descriptionId:m.descriptionId})]})]})}),ym="DialogTitle",Sb=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Bn(ym,r);return f.jsx(Vt.h2,{id:i.titleId,...n,ref:t})});Sb.displayName=ym;var Ab="DialogDescription",Nb=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Bn(Ab,r);return f.jsx(Vt.p,{id:i.descriptionId,...n,ref:t})});Nb.displayName=Ab;var Tb="DialogClose",kb=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Bn(Tb,r);return f.jsx(Vt.button,{type:"button",...n,ref:t,onClick:Et(e.onClick,()=>i.onOpenChange(!1))})});kb.displayName=Tb;function wm(e){return e?"open":"closed"}var Ib="DialogTitleWarning",[z5,Rb]=p_(Ib,{contentName:ao,titleName:ym,docsSlug:"dialog"}),W6=({titleId:e})=>{const t=Rb(Ib),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return I.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},H6="DialogDescriptionWarning",$6=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Rb(H6).contentName}}.`;return I.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},G6=yb,q6=bb,Ob=Eb,jb=Cb,Pb=Sb,Db=Nb,K6=kb;const Mb=G6,X6=q6,Lb=I.forwardRef(({className:e,...t},r)=>f.jsx(Ob,{ref:r,className:gn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Lb.displayName=Ob.displayName;const vm=I.forwardRef(({className:e,children:t,...r},n)=>f.jsxs(X6,{children:[f.jsx(Lb,{}),f.jsxs(jb,{ref:n,className:gn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,f.jsxs(K6,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[f.jsx(_i,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vm.displayName=jb.displayName;const bm=({className:e,...t})=>f.jsx("div",{className:gn("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});bm.displayName="DialogHeader";const Em=I.forwardRef(({className:e,...t},r)=>f.jsx(Pb,{ref:r,className:gn("text-lg font-semibold leading-none tracking-tight",e),...t}));Em.displayName=Pb.displayName;const Bb=I.forwardRef(({className:e,...t},r)=>f.jsx(Db,{ref:r,className:gn("text-sm text-muted-foreground",e),...t}));Bb.displayName=Db.displayName;const Y6=({open:e,onComplete:t})=>{const{user:r,refreshProfile:n}=Is(),{toast:i}=Ir(),[a,u]=I.useState(""),[m,p]=I.useState(!1),x=async w=>{if(w.preventDefault(),!a.trim()){i({title:"Validation Error",description:"Please enter your phone number.",variant:"destructive"});return}if(!r)return;p(!0);const{error:b}=await Te.from("profiles").update({phone:a.trim()}).eq("id",r.id);b?i({title:"Error",description:"Failed to save phone number. Please try again.",variant:"destructive"}):(await n(),i({title:"Success",description:"Phone number saved successfully."}),t()),p(!1)};return f.jsx(Mb,{open:e,onOpenChange:()=>{},children:f.jsxs(vm,{className:"terminal-card border-primary/30 sm:max-w-md",onPointerDownOutside:w=>w.preventDefault(),children:[f.jsxs(bm,{children:[f.jsx(Em,{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"COMPLETE PROFILE"}),f.jsx(Bb,{className:"text-muted-foreground font-mono",children:"Please enter your phone number to continue."})]}),f.jsxs("form",{onSubmit:x,className:"space-y-4 mt-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"phone-dialog",className:"block text-sm text-primary/80 font-mono mb-2",children:"PHONE NUMBER"}),f.jsx("input",{id:"phone-dialog",type:"tel",value:a,onChange:w=>u(w.target.value),placeholder:"+91 9876543210",className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",disabled:m,autoFocus:!0})]}),f.jsx("button",{type:"submit",disabled:m,className:"w-full glow-button bg-primary text-background py-3 font-display font-bold tracking-wider rounded hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:cursor-not-allowed",children:m?"SAVING...":"CONTINUE"})]})]})})};var hc={},Q6=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Fb={},tn={};let Cm;const Z6=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];tn.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};tn.getSymbolTotalCodewords=function(t){return Z6[t]};tn.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};tn.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Cm=t};tn.isKanjiModeEnabled=function(){return typeof Cm<"u"};tn.toSJIS=function(t){return Cm(t)};var Hd={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(Hd);function Ub(){this.buffer=[],this.length=0}Ub.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var J6=Ub;function mc(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}mc.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)};mc.prototype.get=function(e,t){return this.data[e*this.size+t]};mc.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};mc.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var eR=mc,zb={};(function(e){const t=tn.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=t(n),u=a===145?26:Math.ceil((a-13)/(2*i-2))*2,m=[a-7];for(let p=1;p<i-1;p++)m[p]=m[p-1]-u;return m.push(6),m.reverse()},e.getPositions=function(n){const i=[],a=e.getRowColCoords(n),u=a.length;for(let m=0;m<u;m++)for(let p=0;p<u;p++)m===0&&p===0||m===0&&p===u-1||m===u-1&&p===0||i.push([a[m],a[p]]);return i}})(zb);var Vb={};const tR=tn.getSymbolSize,px=7;Vb.getPositions=function(t){const r=tR(t);return[[0,0],[r-px,0],[0,r-px]]};var Wb={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let u=0,m=0,p=0,x=null,w=null;for(let b=0;b<a;b++){m=p=0,x=w=null;for(let C=0;C<a;C++){let E=i.get(b,C);E===x?m++:(m>=5&&(u+=t.N1+(m-5)),x=E,m=1),E=i.get(C,b),E===w?p++:(p>=5&&(u+=t.N1+(p-5)),w=E,p=1)}m>=5&&(u+=t.N1+(m-5)),p>=5&&(u+=t.N1+(p-5))}return u},e.getPenaltyN2=function(i){const a=i.size;let u=0;for(let m=0;m<a-1;m++)for(let p=0;p<a-1;p++){const x=i.get(m,p)+i.get(m,p+1)+i.get(m+1,p)+i.get(m+1,p+1);(x===4||x===0)&&u++}return u*t.N2},e.getPenaltyN3=function(i){const a=i.size;let u=0,m=0,p=0;for(let x=0;x<a;x++){m=p=0;for(let w=0;w<a;w++)m=m<<1&2047|i.get(x,w),w>=10&&(m===1488||m===93)&&u++,p=p<<1&2047|i.get(w,x),w>=10&&(p===1488||p===93)&&u++}return u*t.N3},e.getPenaltyN4=function(i){let a=0;const u=i.data.length;for(let p=0;p<u;p++)a+=i.data[p];return Math.abs(Math.ceil(a*100/u/5)-10)*t.N4};function r(n,i,a){switch(n){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,a){const u=a.size;for(let m=0;m<u;m++)for(let p=0;p<u;p++)a.isReserved(p,m)||a.xor(p,m,r(i,p,m))},e.getBestMask=function(i,a){const u=Object.keys(e.Patterns).length;let m=0,p=1/0;for(let x=0;x<u;x++){a(x),e.applyMask(x,i);const w=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(x,i),w<p&&(p=w,m=x)}return m}})(Wb);var $d={};const ni=Hd,ru=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],nu=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];$d.getBlocksCount=function(t,r){switch(r){case ni.L:return ru[(t-1)*4+0];case ni.M:return ru[(t-1)*4+1];case ni.Q:return ru[(t-1)*4+2];case ni.H:return ru[(t-1)*4+3];default:return}};$d.getTotalCodewordsCount=function(t,r){switch(r){case ni.L:return nu[(t-1)*4+0];case ni.M:return nu[(t-1)*4+1];case ni.Q:return nu[(t-1)*4+2];case ni.H:return nu[(t-1)*4+3];default:return}};var Hb={},Gd={};const El=new Uint8Array(512),od=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)El[r]=t,od[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)El[r]=El[r-255]})();Gd.log=function(t){if(t<1)throw new Error("log("+t+")");return od[t]};Gd.exp=function(t){return El[t]};Gd.mul=function(t,r){return t===0||r===0?0:El[od[t]+od[r]]};(function(e){const t=Gd;e.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let u=0;u<n.length;u++)for(let m=0;m<i.length;m++)a[u+m]^=t.mul(n[u],i[m]);return a},e.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const u=a[0];for(let p=0;p<i.length;p++)a[p]^=t.mul(i[p],u);let m=0;for(;m<a.length&&a[m]===0;)m++;a=a.slice(m)}return a},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})(Hb);const $b=Hb;function _m(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}_m.prototype.initialize=function(t){this.degree=t,this.genPoly=$b.generateECPolynomial(this.degree)};_m.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=$b.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var rR=_m,Gb={},Ai={},Sm={};Sm.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var is={};const qb="[0-9]+",nR="[A-Z $%*+\\-./:]+";let Jl="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Jl=Jl.replace(/u/g,"\\u");const sR="(?:(?![A-Z0-9 $%*+\\-./:]|"+Jl+`)(?:.|[\r
]))+`;is.KANJI=new RegExp(Jl,"g");is.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");is.BYTE=new RegExp(sR,"g");is.NUMERIC=new RegExp(qb,"g");is.ALPHANUMERIC=new RegExp(nR,"g");const iR=new RegExp("^"+Jl+"$"),oR=new RegExp("^"+qb+"$"),aR=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");is.testKanji=function(t){return iR.test(t)};is.testNumeric=function(t){return oR.test(t)};is.testAlphanumeric=function(t){return aR.test(t)};(function(e){const t=Sm,r=is;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,u){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?a.ccBits[0]:u<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return r.testNumeric(a)?e.NUMERIC:r.testAlphanumeric(a)?e.ALPHANUMERIC:r.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,u){if(e.isValid(a))return a;try{return n(a)}catch{return u}}})(Ai);(function(e){const t=tn,r=$d,n=Hd,i=Ai,a=Sm,u=7973,m=t.getBCHDigit(u);function p(C,E,k){for(let A=1;A<=40;A++)if(E<=e.getCapacity(A,k,C))return A}function x(C,E){return i.getCharCountIndicator(C,E)+4}function w(C,E){let k=0;return C.forEach(function(A){const j=x(A.mode,E);k+=j+A.getBitsLength()}),k}function b(C,E){for(let k=1;k<=40;k++)if(w(C,k)<=e.getCapacity(k,E,i.MIXED))return k}e.from=function(E,k){return a.isValid(E)?parseInt(E,10):k},e.getCapacity=function(E,k,A){if(!a.isValid(E))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=i.BYTE);const j=t.getSymbolTotalCodewords(E),T=r.getTotalCodewordsCount(E,k),S=(j-T)*8;if(A===i.MIXED)return S;const _=S-x(A,E);switch(A){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},e.getBestVersionForData=function(E,k){let A;const j=n.from(k,n.M);if(Array.isArray(E)){if(E.length>1)return b(E,j);if(E.length===0)return 1;A=E[0]}else A=E;return p(A.mode,A.getLength(),j)},e.getEncodedBits=function(E){if(!a.isValid(E)||E<7)throw new Error("Invalid QR Code version");let k=E<<12;for(;t.getBCHDigit(k)-m>=0;)k^=u<<t.getBCHDigit(k)-m;return E<<12|k}})(Gb);var Kb={};const U0=tn,Xb=1335,lR=21522,gx=U0.getBCHDigit(Xb);Kb.getEncodedBits=function(t,r){const n=t.bit<<3|r;let i=n<<10;for(;U0.getBCHDigit(i)-gx>=0;)i^=Xb<<U0.getBCHDigit(i)-gx;return(n<<10|i)^lR};var Yb={};const cR=Ai;function Ca(e){this.mode=cR.NUMERIC,this.data=e.toString()}Ca.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Ca.prototype.getLength=function(){return this.data.length};Ca.prototype.getBitsLength=function(){return Ca.getBitsLength(this.data.length)};Ca.prototype.write=function(t){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),t.put(i,10);const a=this.data.length-r;a>0&&(n=this.data.substr(r),i=parseInt(n,10),t.put(i,a*3+1))};var uR=Ca;const dR=Ai,dh=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function _a(e){this.mode=dR.ALPHANUMERIC,this.data=e}_a.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};_a.prototype.getLength=function(){return this.data.length};_a.prototype.getBitsLength=function(){return _a.getBitsLength(this.data.length)};_a.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=dh.indexOf(this.data[r])*45;n+=dh.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(dh.indexOf(this.data[r]),6)};var fR=_a;const hR=Ai;function Sa(e){this.mode=hR.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Sa.getBitsLength=function(t){return t*8};Sa.prototype.getLength=function(){return this.data.length};Sa.prototype.getBitsLength=function(){return Sa.getBitsLength(this.data.length)};Sa.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var mR=Sa;const pR=Ai,gR=tn;function Aa(e){this.mode=pR.KANJI,this.data=e}Aa.getBitsLength=function(t){return t*13};Aa.prototype.getLength=function(){return this.data.length};Aa.prototype.getBitsLength=function(){return Aa.getBitsLength(this.data.length)};Aa.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=gR.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var xR=Aa,Qb={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,i){var a={},u={};u[n]=0;var m=t.PriorityQueue.make();m.push(n,0);for(var p,x,w,b,C,E,k,A,j;!m.empty();){p=m.pop(),x=p.value,b=p.cost,C=r[x]||{};for(w in C)C.hasOwnProperty(w)&&(E=C[w],k=b+E,A=u[w],j=typeof u[w]>"u",(j||A>k)&&(u[w]=k,m.push(w,k),a[w]=x))}if(typeof i<"u"&&typeof u[i]>"u"){var T=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(T)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],a=n;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,n,i){var a=t.single_source_shortest_paths(r,n,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,i={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Qb);var yR=Qb.exports;(function(e){const t=Ai,r=uR,n=fR,i=mR,a=xR,u=is,m=tn,p=yR;function x(T){return unescape(encodeURIComponent(T)).length}function w(T,S,_){const P=[];let F;for(;(F=T.exec(_))!==null;)P.push({data:F[0],index:F.index,mode:S,length:F[0].length});return P}function b(T){const S=w(u.NUMERIC,t.NUMERIC,T),_=w(u.ALPHANUMERIC,t.ALPHANUMERIC,T);let P,F;return m.isKanjiModeEnabled()?(P=w(u.BYTE,t.BYTE,T),F=w(u.KANJI,t.KANJI,T)):(P=w(u.BYTE_KANJI,t.BYTE,T),F=[]),S.concat(_,P,F).sort(function(M,W){return M.index-W.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function C(T,S){switch(S){case t.NUMERIC:return r.getBitsLength(T);case t.ALPHANUMERIC:return n.getBitsLength(T);case t.KANJI:return a.getBitsLength(T);case t.BYTE:return i.getBitsLength(T)}}function E(T){return T.reduce(function(S,_){const P=S.length-1>=0?S[S.length-1]:null;return P&&P.mode===_.mode?(S[S.length-1].data+=_.data,S):(S.push(_),S)},[])}function k(T){const S=[];for(let _=0;_<T.length;_++){const P=T[_];switch(P.mode){case t.NUMERIC:S.push([P,{data:P.data,mode:t.ALPHANUMERIC,length:P.length},{data:P.data,mode:t.BYTE,length:P.length}]);break;case t.ALPHANUMERIC:S.push([P,{data:P.data,mode:t.BYTE,length:P.length}]);break;case t.KANJI:S.push([P,{data:P.data,mode:t.BYTE,length:x(P.data)}]);break;case t.BYTE:S.push([{data:P.data,mode:t.BYTE,length:x(P.data)}])}}return S}function A(T,S){const _={},P={start:{}};let F=["start"];for(let L=0;L<T.length;L++){const M=T[L],W=[];for(let z=0;z<M.length;z++){const ne=M[z],H=""+L+z;W.push(H),_[H]={node:ne,lastCount:0},P[H]={};for(let q=0;q<F.length;q++){const ie=F[q];_[ie]&&_[ie].node.mode===ne.mode?(P[ie][H]=C(_[ie].lastCount+ne.length,ne.mode)-C(_[ie].lastCount,ne.mode),_[ie].lastCount+=ne.length):(_[ie]&&(_[ie].lastCount=ne.length),P[ie][H]=C(ne.length,ne.mode)+4+t.getCharCountIndicator(ne.mode,S))}}F=W}for(let L=0;L<F.length;L++)P[F[L]].end=0;return{map:P,table:_}}function j(T,S){let _;const P=t.getBestModeForData(T);if(_=t.from(S,P),_!==t.BYTE&&_.bit<P.bit)throw new Error('"'+T+'" cannot be encoded with mode '+t.toString(_)+`.
 Suggested mode is: `+t.toString(P));switch(_===t.KANJI&&!m.isKanjiModeEnabled()&&(_=t.BYTE),_){case t.NUMERIC:return new r(T);case t.ALPHANUMERIC:return new n(T);case t.KANJI:return new a(T);case t.BYTE:return new i(T)}}e.fromArray=function(S){return S.reduce(function(_,P){return typeof P=="string"?_.push(j(P,null)):P.data&&_.push(j(P.data,P.mode)),_},[])},e.fromString=function(S,_){const P=b(S,m.isKanjiModeEnabled()),F=k(P),L=A(F,_),M=p.find_path(L.map,"start","end"),W=[];for(let z=1;z<M.length-1;z++)W.push(L.table[M[z]].node);return e.fromArray(E(W))},e.rawSplit=function(S){return e.fromArray(b(S,m.isKanjiModeEnabled()))}})(Yb);const qd=tn,fh=Hd,wR=J6,vR=eR,bR=zb,ER=Vb,z0=Wb,V0=$d,CR=rR,ad=Gb,_R=Kb,SR=Ai,hh=Yb;function AR(e,t){const r=e.size,n=ER.getPositions(t);for(let i=0;i<n.length;i++){const a=n[i][0],u=n[i][1];for(let m=-1;m<=7;m++)if(!(a+m<=-1||r<=a+m))for(let p=-1;p<=7;p++)u+p<=-1||r<=u+p||(m>=0&&m<=6&&(p===0||p===6)||p>=0&&p<=6&&(m===0||m===6)||m>=2&&m<=4&&p>=2&&p<=4?e.set(a+m,u+p,!0,!0):e.set(a+m,u+p,!1,!0))}}function NR(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function TR(e,t){const r=bR.getPositions(t);for(let n=0;n<r.length;n++){const i=r[n][0],a=r[n][1];for(let u=-2;u<=2;u++)for(let m=-2;m<=2;m++)u===-2||u===2||m===-2||m===2||u===0&&m===0?e.set(i+u,a+m,!0,!0):e.set(i+u,a+m,!1,!0)}}function kR(e,t){const r=e.size,n=ad.getEncodedBits(t);let i,a,u;for(let m=0;m<18;m++)i=Math.floor(m/3),a=m%3+r-8-3,u=(n>>m&1)===1,e.set(i,a,u,!0),e.set(a,i,u,!0)}function mh(e,t,r){const n=e.size,i=_R.getEncodedBits(t,r);let a,u;for(a=0;a<15;a++)u=(i>>a&1)===1,a<6?e.set(a,8,u,!0):a<8?e.set(a+1,8,u,!0):e.set(n-15+a,8,u,!0),a<8?e.set(8,n-a-1,u,!0):a<9?e.set(8,15-a-1+1,u,!0):e.set(8,15-a-1,u,!0);e.set(n-8,8,1,!0)}function IR(e,t){const r=e.size;let n=-1,i=r-1,a=7,u=0;for(let m=r-1;m>0;m-=2)for(m===6&&m--;;){for(let p=0;p<2;p++)if(!e.isReserved(i,m-p)){let x=!1;u<t.length&&(x=(t[u]>>>a&1)===1),e.set(i,m-p,x),a--,a===-1&&(u++,a=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function RR(e,t,r){const n=new wR;r.forEach(function(p){n.put(p.mode.bit,4),n.put(p.getLength(),SR.getCharCountIndicator(p.mode,e)),p.write(n)});const i=qd.getSymbolTotalCodewords(e),a=V0.getTotalCodewordsCount(e,t),u=(i-a)*8;for(n.getLengthInBits()+4<=u&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const m=(u-n.getLengthInBits())/8;for(let p=0;p<m;p++)n.put(p%2?17:236,8);return OR(n,e,t)}function OR(e,t,r){const n=qd.getSymbolTotalCodewords(t),i=V0.getTotalCodewordsCount(t,r),a=n-i,u=V0.getBlocksCount(t,r),m=n%u,p=u-m,x=Math.floor(n/u),w=Math.floor(a/u),b=w+1,C=x-w,E=new CR(C);let k=0;const A=new Array(u),j=new Array(u);let T=0;const S=new Uint8Array(e.buffer);for(let M=0;M<u;M++){const W=M<p?w:b;A[M]=S.slice(k,k+W),j[M]=E.encode(A[M]),k+=W,T=Math.max(T,W)}const _=new Uint8Array(n);let P=0,F,L;for(F=0;F<T;F++)for(L=0;L<u;L++)F<A[L].length&&(_[P++]=A[L][F]);for(F=0;F<C;F++)for(L=0;L<u;L++)_[P++]=j[L][F];return _}function jR(e,t,r,n){let i;if(Array.isArray(e))i=hh.fromArray(e);else if(typeof e=="string"){let x=t;if(!x){const w=hh.rawSplit(e);x=ad.getBestVersionForData(w,r)}i=hh.fromString(e,x||40)}else throw new Error("Invalid data");const a=ad.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const u=RR(t,r,i),m=qd.getSymbolSize(t),p=new vR(m);return AR(p,t),NR(p),TR(p,t),mh(p,r,0),t>=7&&kR(p,t),IR(p,u),isNaN(n)&&(n=z0.getBestMask(p,mh.bind(null,p,r))),z0.applyMask(n,p),mh(p,r,n),{modules:p,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}Fb.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=fh.M,i,a;return typeof r<"u"&&(n=fh.from(r.errorCorrectionLevel,fh.M),i=ad.from(r.version),a=z0.from(r.maskPattern),r.toSJISFunc&&qd.setToSJISFunction(r.toSJISFunc)),jR(t,i,n,a)};var Zb={},Am={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,u=n.scale||4;return{width:a,scale:a?4:u,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const a=e.getScale(n,i);return Math.floor((n+i.margin*2)*a)},e.qrToImageData=function(n,i,a){const u=i.modules.size,m=i.modules.data,p=e.getScale(u,a),x=Math.floor((u+a.margin*2)*p),w=a.margin*p,b=[a.color.light,a.color.dark];for(let C=0;C<x;C++)for(let E=0;E<x;E++){let k=(C*x+E)*4,A=a.color.light;if(C>=w&&E>=w&&C<x-w&&E<x-w){const j=Math.floor((C-w)/p),T=Math.floor((E-w)/p);A=b[m[j*u+T]?1:0]}n[k++]=A.r,n[k++]=A.g,n[k++]=A.b,n[k]=A.a}}})(Am);(function(e){const t=Am;function r(i,a,u){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=u,a.width=u,a.style.height=u+"px",a.style.width=u+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,u,m){let p=m,x=u;typeof p>"u"&&(!u||!u.getContext)&&(p=u,u=void 0),u||(x=n()),p=t.getOptions(p);const w=t.getImageWidth(a.modules.size,p),b=x.getContext("2d"),C=b.createImageData(w,w);return t.qrToImageData(C.data,a,p),r(b,x,w),b.putImageData(C,0,0),x},e.renderToDataURL=function(a,u,m){let p=m;typeof p>"u"&&(!u||!u.getContext)&&(p=u,u=void 0),p||(p={});const x=e.render(a,u,p),w=p.type||"image/png",b=p.rendererOpts||{};return x.toDataURL(w,b.quality)}})(Zb);var Jb={};const PR=Am;function xx(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function ph(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function DR(e,t,r){let n="",i=0,a=!1,u=0;for(let m=0;m<e.length;m++){const p=Math.floor(m%t),x=Math.floor(m/t);!p&&!a&&(a=!0),e[m]?(u++,m>0&&p>0&&e[m-1]||(n+=a?ph("M",p+r,.5+x+r):ph("m",i,0),i=0,a=!1),p+1<t&&e[m+1]||(n+=ph("h",u),u=0)):i++}return n}Jb.render=function(t,r,n){const i=PR.getOptions(r),a=t.modules.size,u=t.modules.data,m=a+i.margin*2,p=i.color.light.a?"<path "+xx(i.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",x="<path "+xx(i.color.dark,"stroke")+' d="'+DR(u,a,i.margin)+'"/>',w='viewBox="0 0 '+m+" "+m+'"',C='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+w+' shape-rendering="crispEdges">'+p+x+`</svg>
`;return typeof n=="function"&&n(null,C),C};const MR=Q6,W0=Fb,eE=Zb,LR=Jb;function Nm(e,t,r,n,i){const a=[].slice.call(arguments,1),u=a.length,m=typeof a[u-1]=="function";if(!m&&!MR())throw new Error("Callback required as last argument");if(m){if(u<2)throw new Error("Too few arguments provided");u===2?(i=r,r=t,t=n=void 0):u===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0))}else{if(u<1)throw new Error("Too few arguments provided");return u===1?(r=t,t=n=void 0):u===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(p,x){try{const w=W0.create(r,n);p(e(w,t,n))}catch(w){x(w)}})}try{const p=W0.create(r,n);i(null,e(p,t,n))}catch(p){i(p)}}hc.create=W0.create;hc.toCanvas=Nm.bind(null,eE.render);hc.toDataURL=Nm.bind(null,eE.renderToDataURL);hc.toString=Nm.bind(null,function(e,t,r){return LR.render(e,r)});async function tE(e,t){return new Promise((r,n)=>{const i=document.createElement("canvas"),a=i.getContext("2d");if(!a){n(new Error("Could not get canvas context"));return}const u=new Image;u.crossOrigin="anonymous",u.onload=async()=>{i.width=u.width,i.height=u.height,a.drawImage(u,0,0);for(const m of e.fields)await BR(a,m,t);i.toBlob(m=>{m?r(m):n(new Error("Could not generate image blob"))},"image/png")},u.onerror=()=>{n(new Error("Could not load background image"))},u.src=e.background_url})}async function BR(e,t,r){const n=FR(t,r);if(t.type==="text"){const i=t.fontSize||24,a=t.fontFamily||"Arial",u=t.color||"#000000",m=t.align||"left";e.font=`${i}px ${a}`,e.fillStyle=u,e.textAlign=m,e.textBaseline="top",e.fillText(n,t.x,t.y)}else if(t.type==="qrcode"){const i=t.size||100;try{const a=await hc.toDataURL(n,{width:i,margin:1,color:{dark:t.color||"#000000",light:"#ffffff"}}),u=new Image;await new Promise((m,p)=>{u.onload=()=>{e.drawImage(u,t.x,t.y,i,i),m()},u.onerror=p,u.src=a})}catch(a){console.error("Error generating QR code:",a)}}}function FR(e,t){return e.field==="custom"&&e.customValue?e.customValue:t[e.field]||""}function UR(e,t){const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}async function rE(e,t){const r=await tE(e,t);return URL.createObjectURL(r)}const zR=()=>{const e=ss(),t=Ts(),{toast:r}=Ir(),{user:n,profile:i,loading:a,signOut:u,isAdmin:m,isVolunteer:p}=Is(),[x,w]=I.useState(!1),[b,C]=I.useState([]),[E,k]=I.useState([]),[A,j]=I.useState(0),[T,S]=I.useState(!1),[_,P]=I.useState(!0),[F,L]=I.useState(null),[M,W]=I.useState(!1),[z,ne]=I.useState(null);I.useEffect(()=>{!a&&!n&&e("/login")},[n,a,e]),I.useEffect(()=>{i&&!i.phone&&w(!0)},[i]),I.useEffect(()=>{n&&(async()=>{if(!n)return;const[J,Y]=await Promise.all([Te.from("tickets").select("*").eq("is_active",!0),Te.from("registrations").select("*, ticket:tickets(*)").eq("user_id",n.id).order("created_at",{ascending:!1})]);J.error||C(J.data||[]),Y.error||k(Y.data||[]),P(!1)})()},[n]),I.useEffect(()=>{(async()=>{if(!(i!=null&&i.referral_code))return;const{count:J}=await Te.from("registrations").select("id",{count:"exact",head:!0}).eq("referred_by",i.referral_code);j(J||0)})()},[i==null?void 0:i.referral_code,t.key]);const H=()=>{i!=null&&i.referral_code&&(navigator.clipboard.writeText(i.referral_code),S(!0),setTimeout(()=>S(!1),2e3))},q=async()=>{await u(),e("/")},ie=()=>{w(!1)},re=async ee=>{var J;if(!(!ee.registration_id||!ee.ticket_id)){W(!0);try{const{data:Y,error:le}=await Te.from("ticket_templates").select("*").eq("ticket_id",ee.ticket_id).single();if(le||!Y){r({title:"No Template",description:"No ticket template has been created for this event yet.",variant:"destructive"}),W(!1);return}const Ae={user_name:(i==null?void 0:i.full_name)||"User",ticket_name:((J=ee.ticket)==null?void 0:J.title)||"Event",registration_id:ee.registration_id,date:new Date(ee.created_at).toLocaleDateString()},xe=await rE(Y,Ae);L(xe),ne({template:Y,data:Ae})}catch{r({title:"Error",description:"Could not generate ticket. Please try again.",variant:"destructive"})}W(!1)}},G=async()=>{if(z)try{const ee=await tE(z.template,z.data);UR(ee,`ticket-${z.data.registration_id}.png`)}catch{r({title:"Error",description:"Could not download ticket.",variant:"destructive"})}},ue=()=>{F&&URL.revokeObjectURL(F),L(null),ne(null)};return a?f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsx("div",{className:"text-primary font-mono animate-pulse",children:"LOADING..."})}):n?f.jsxs("div",{className:"min-h-screen bg-background relative scanlines flex flex-col",children:[f.jsx(uo,{}),f.jsxs("main",{className:"flex-1 p-4 pt-20",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-30 pointer-events-none"}),f.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto space-y-8",children:[f.jsx("h1",{className:"text-3xl md:text-5xl font-display font-bold text-primary glow-text text-center tracking-wider",children:"DASHBOARD"}),m&&f.jsxs(Sr,{to:"/admin",className:"flex items-center justify-center gap-2 bg-secondary/30 border border-primary/30 py-3 rounded font-mono text-primary hover:bg-secondary/50 hover:border-primary transition-colors",children:[f.jsx(TS,{className:"w-5 h-5"}),"ADMIN PANEL"]}),(p||m)&&f.jsxs(Sr,{to:"/volunteer",className:"flex items-center justify-center gap-2 bg-secondary/30 border border-green-500/30 py-3 rounded font-mono text-green-400 hover:bg-secondary/50 hover:border-green-500 transition-colors",children:[f.jsx(q1,{className:"w-5 h-5"}),"VOLUNTEER PANEL"]}),f.jsxs("div",{className:"terminal-card",children:[f.jsxs("div",{className:"terminal-header",children:[f.jsx("span",{className:"terminal-dot terminal-dot-red"}),f.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),f.jsx("span",{className:"terminal-dot terminal-dot-green"}),f.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"user://profile"})]}),f.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[f.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-primary/20 border border-primary/50 flex items-center justify-center shrink-0",children:f.jsx(uc,{className:"w-6 h-6 sm:w-7 sm:h-7 text-primary"})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("h2",{className:"text-base sm:text-lg font-display text-primary break-words",children:(i==null?void 0:i.full_name)||"User"}),f.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:"Welcome back"})]})]}),f.jsxs("button",{onClick:q,className:"flex items-center justify-center gap-2 px-3 py-2 border border-destructive/50 bg-destructive/10 rounded font-mono text-sm text-destructive hover:bg-destructive/20 shrink-0",children:[f.jsx(G1,{className:"w-4 h-4"}),"SIGN OUT"]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background border border-border rounded",children:[f.jsx(P2,{className:"w-4 h-4 text-primary/60"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("span",{className:"text-xs text-muted-foreground font-mono block",children:"EMAIL"}),f.jsx("span",{className:"text-sm text-primary font-mono truncate block",children:(i==null?void 0:i.email)||n.email})]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background border border-border rounded",children:[f.jsx(L2,{className:"w-4 h-4 text-primary/60"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("span",{className:"text-xs text-muted-foreground font-mono block",children:"PHONE"}),f.jsx("span",{className:"text-sm text-primary font-mono truncate block",children:(i==null?void 0:i.phone)||"Not provided"})]})]})]})]})]}),f.jsxs("div",{className:"terminal-card",children:[f.jsxs("div",{className:"terminal-header",children:[f.jsx("span",{className:"terminal-dot terminal-dot-red"}),f.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),f.jsx("span",{className:"terminal-dot terminal-dot-green"}),f.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"tickets://available"})]}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-display text-primary mb-4",children:"AVAILABLE TICKETS"}),_?f.jsx("div",{className:"text-muted-foreground font-mono text-sm animate-pulse",children:"Loading..."}):b.length===0?f.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:"No tickets available at the moment."}):f.jsx("div",{className:"grid gap-3",children:b.map(ee=>f.jsxs("div",{className:"p-4 bg-background border border-border rounded hover:border-primary/50 transition-colors",children:[f.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[f.jsx(gi,{className:"w-5 h-5 text-primary/60 flex-shrink-0 mt-0.5"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-display text-primary",children:ee.title}),ee.description&&f.jsx("p",{className:"text-xs text-muted-foreground font-mono mt-1",children:ee.description})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-primary font-display font-bold",children:ee.price>0?`${ee.price}`:"FREE"}),f.jsx(Sr,{to:`/tickets/${ee.id}/register`,className:"bg-primary text-background px-4 py-2 font-display font-bold text-sm rounded hover:scale-105 transition-transform",children:"REGISTER"})]})]},ee.id))})]})]}),f.jsxs("div",{className:"terminal-card",children:[f.jsxs("div",{className:"terminal-header",children:[f.jsx("span",{className:"terminal-dot terminal-dot-red"}),f.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),f.jsx("span",{className:"terminal-dot terminal-dot-green"}),f.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"registrations://mine"})]}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-display text-primary mb-4",children:"MY REGISTRATIONS"}),_?f.jsx("div",{className:"text-muted-foreground font-mono text-sm animate-pulse",children:"Loading..."}):E.length===0?f.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:"You haven't registered for any events yet."}):f.jsx("div",{className:"space-y-3",children:E.map(ee=>{var J;return f.jsxs("div",{className:"p-4 bg-background border border-border rounded",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h4",{className:"font-display text-primary",children:((J=ee.ticket)==null?void 0:J.title)||"Unknown"}),f.jsx("span",{className:`text-xs px-2 py-1 rounded font-mono ${ee.status==="confirmed"?"bg-green-500/20 text-green-500":ee.status==="cancelled"?"bg-red-500/20 text-red-500":"bg-yellow-500/20 text-yellow-500"}`,children:ee.status.toUpperCase()})]}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground font-mono",children:[f.jsx("span",{children:new Date(ee.created_at).toLocaleDateString()}),ee.registration_id&&f.jsxs("span",{className:"text-primary bg-primary/10 px-2 py-0.5 rounded tracking-wider",children:["ID: ",ee.registration_id]})]}),ee.status==="confirmed"&&ee.registration_id&&f.jsxs("button",{onClick:()=>re(ee),disabled:M,className:"mt-3 w-full flex items-center justify-center gap-2 px-3 py-2 border border-primary text-primary rounded font-mono text-sm hover:bg-primary/10 disabled:opacity-50",children:[f.jsx(O2,{className:"w-4 h-4"}),M?"Loading...":"View Ticket"]})]},ee.id)})})]})]}),f.jsxs("div",{className:"terminal-card",children:[f.jsxs("div",{className:"terminal-header",children:[f.jsx("span",{className:"terminal-dot terminal-dot-red"}),f.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),f.jsx("span",{className:"terminal-dot terminal-dot-green"}),f.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"referrals://code"})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(B2,{className:"w-5 h-5 text-primary"}),f.jsx("h3",{className:"text-lg font-display text-primary",children:"YOUR REFERRAL CODE"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"p-4 bg-background border border-border rounded",children:[f.jsx("span",{className:"text-xs text-muted-foreground font-mono block mb-2",children:"REFERRAL CODE"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl font-display font-bold text-primary tracking-widest",children:(i==null?void 0:i.referral_code)||"-----"}),f.jsx("button",{onClick:H,className:"p-2 hover:bg-secondary/50 rounded transition-colors",title:"Copy code",children:T?f.jsx(f0,{className:"w-4 h-4 text-green-500"}):f.jsx(pS,{className:"w-4 h-4 text-muted-foreground"})})]})]}),f.jsxs("div",{className:"p-4 bg-background border border-border rounded",children:[f.jsx("span",{className:"text-xs text-muted-foreground font-mono block mb-2",children:"TOTAL REFERRALS"}),f.jsx("span",{className:"text-2xl font-display font-bold text-primary",children:A})]})]}),f.jsx("p",{className:"text-xs text-muted-foreground font-mono mt-4",children:"Share your referral code with friends. When they use it during registration, you'll see them in your referral count!"})]})]})]})]}),f.jsx(fo,{}),F&&f.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] overflow-auto",children:[f.jsx("button",{onClick:ue,className:"absolute top-2 right-2 p-2 bg-black/50 rounded-full text-white hover:bg-black/70 z-10",children:f.jsx(_i,{className:"w-5 h-5"})}),f.jsx("img",{src:F,alt:"Your Ticket",className:"max-w-full h-auto"}),f.jsxs("div",{className:"mt-4 flex justify-center gap-3",children:[f.jsxs("button",{onClick:G,className:"flex items-center gap-2 bg-primary text-background px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform",children:[f.jsx(R2,{className:"w-5 h-5"}),"Download Ticket"]}),f.jsx("button",{onClick:ue,className:"flex items-center gap-2 border border-white text-white px-6 py-3 font-mono rounded hover:bg-white/10",children:"Close"})]})]})}),f.jsx(Y6,{open:x,onComplete:ie})]}):null},VR=void 0,yx=void 0,wx=void 0,WR=()=>{const{ticketId:e}=um(),t=ss(),{user:r,profile:n,session:i,loading:a}=Is(),{toast:u}=Ir(),[m,p]=I.useState(null),[x,w]=I.useState(!0),[b,C]=I.useState(!1),[E,k]=I.useState({}),[A,j]=I.useState("");I.useEffect(()=>{if(!a&&!r){t("/login");return}a||(async()=>{if(!e)return;const{data:W,error:z}=await Te.from("tickets").select("*").eq("id",e).eq("is_active",!0).single();if(z||!W){u({title:"Error",description:"Ticket not found or unavailable",variant:"destructive"}),t("/dashboard");return}p(W);const ne={};(W.form_fields||[]).forEach(H=>{ne[H.id]=H.type==="checkbox"?!1:""}),k(ne),w(!1)})()},[e,r,a,t,u]);const T=(M,W)=>{k(z=>({...z,[M]:W}))},S=()=>{const M="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let W="";for(let z=0;z<10;z++)W+=M.charAt(Math.floor(Math.random()*M.length));return W},_=()=>new Promise(M=>{if(window.Razorpay){M(!0);return}const W=document.createElement("script");W.src="https://checkout.razorpay.com/v1/checkout.js",W.onload=()=>M(!0),W.onerror=()=>M(!1),document.body.appendChild(W)}),P=async(M,W)=>{if(!(!m||!r))try{if(!await _())throw new Error("Failed to load payment gateway");const ne=i==null?void 0:i.access_token;if(!ne)throw new Error("No valid session. Please log in again.");const q=await(await fetch(`${yx}/functions/v1/create-order`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`,apikey:wx},body:JSON.stringify({amount:m.price,user_id:r.id,registration_id:W})})).json();if(!q.success)throw new Error(q.error||"Failed to create order");const ie={key:VR,amount:q.amount,currency:q.currency,order_id:q.order_id,name:"TESSERACT 9.0",description:`Registration for ${m.title}`,prefill:{name:(n==null?void 0:n.full_name)||"",email:(n==null?void 0:n.email)||"",contact:(n==null?void 0:n.phone)||""},handler:async G=>{try{const ee=await(await fetch(`${yx}/functions/v1/verify-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`,apikey:wx},body:JSON.stringify({razorpay_order_id:q.order_id,razorpay_payment_id:G.razorpay_payment_id,razorpay_signature:G.razorpay_signature,registration_id:W})})).json();if(!ee.success)throw new Error(ee.error||"Payment verification failed");u({title:"Payment Successful!",description:`Your registration ID is ${M}`}),t("/dashboard")}catch(ue){console.error("Payment verification error:",ue),u({title:"Verification Error",description:ue instanceof Error?ue.message:"Payment verification failed",variant:"destructive"})}finally{C(!1)}},theme:{color:"#00ff88"},modal:{ondismiss:()=>{u({title:"Payment Cancelled",description:"You can retry payment from your dashboard."}),C(!1),t("/dashboard")}}},re=new window.Razorpay(ie);re.on("payment.failed",G=>{u({title:"Payment Failed",description:G.error.description,variant:"destructive"}),C(!1)}),re.open()}catch(z){console.error("Payment error:",z),u({title:"Payment Error",description:z instanceof Error?z.message:"Failed to initiate payment",variant:"destructive"}),C(!1)}},F=async M=>{if(M.preventDefault(),!r||!m)return;const W=(m.form_fields||[]).filter(ue=>ue.required&&!E[ue.id]);if(W.length>0){u({title:"Validation Error",description:`Please fill in: ${W.map(ue=>ue.label).join(", ")}`,variant:"destructive"});return}C(!0);let z=null;if(A.trim()){const{data:ue,error:ee}=await Te.from("profiles").select("id").eq("referral_code",A.trim()).maybeSingle();if(ee){console.error("Referral validation error:",ee),u({title:"Validation Error",description:"Could not validate referral code. Please try again.",variant:"destructive"}),C(!1);return}if(ue)z=A.trim();else{u({title:"Invalid Referral Code",description:"The referral code you entered does not exist.",variant:"destructive"}),C(!1);return}}const ne=S(),H=m.price===0,{data:q,error:ie}=await Te.from("profiles").select("id").eq("id",r.id).single();if(ie||!q){console.error("Profile verification failed:",ie),u({title:"Profile Error",description:"Your profile was not found. Please try logging out and back in.",variant:"destructive"}),C(!1);return}const{data:re,error:G}=await Te.from("registrations").insert({user_id:r.id,ticket_id:m.id,form_data:E,status:H?"confirmed":"pending",referred_by:z,registration_id:ne}).select("id").single();if(G||!re){u({title:"Error",description:(G==null?void 0:G.message)||"Failed to create registration",variant:"destructive"}),C(!1);return}if(H){u({title:"Registration Successful!",description:`Your registration ID is ${ne}`}),t("/dashboard");return}await P(ne,re.id)},L=M=>{const W="w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors";switch(M.type){case"textarea":return f.jsx("textarea",{value:String(E[M.id]||""),onChange:z=>T(M.id,z.target.value),placeholder:M.placeholder,className:`${W} h-24 resize-none`,required:M.required});case"select":return f.jsxs("select",{value:String(E[M.id]||""),onChange:z=>T(M.id,z.target.value),className:W,required:M.required,children:[f.jsx("option",{value:"",children:"Select an option"}),(M.options||[]).map(z=>f.jsx("option",{value:z,children:z},z))]});case"checkbox":return f.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:!!E[M.id],onChange:z=>T(M.id,z.target.checked),className:"w-5 h-5 accent-primary"}),f.jsx("span",{className:"text-primary font-mono",children:M.label})]});default:return f.jsx("input",{type:M.type,value:String(E[M.id]||""),onChange:z=>T(M.id,z.target.value),placeholder:M.placeholder,className:W,required:M.required})}};return x||a?f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsx("div",{className:"text-primary font-mono animate-pulse",children:"LOADING..."})}):m?f.jsxs("div",{className:"min-h-screen bg-background relative scanlines flex flex-col",children:[f.jsx(uo,{}),f.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-30 pointer-events-none"}),f.jsxs("div",{className:"relative z-10 w-full max-w-lg",children:[f.jsx("h1",{className:"text-2xl md:text-4xl font-display font-bold text-primary glow-text mb-2 text-center tracking-wider",children:m.title}),m.description&&f.jsx("p",{className:"text-muted-foreground font-mono text-sm text-center mb-6",children:m.description}),f.jsxs("div",{className:"terminal-card",children:[f.jsxs("div",{className:"terminal-header",children:[f.jsx("span",{className:"terminal-dot terminal-dot-red"}),f.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),f.jsx("span",{className:"terminal-dot terminal-dot-green"}),f.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"register://ticket"})]}),f.jsxs("div",{className:"p-6 md:p-8",children:[f.jsxs("div",{className:"mb-6 pb-6 border-b border-border",children:[f.jsx("p",{className:"text-xs text-muted-foreground font-mono mb-3",children:"YOUR INFO"}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-muted-foreground",children:"Name:"}),f.jsx("span",{className:"text-primary font-mono",children:(n==null?void 0:n.full_name)||"-"})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-muted-foreground",children:"Email:"}),f.jsx("span",{className:"text-primary font-mono",children:(n==null?void 0:n.email)||"-"})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),f.jsx("span",{className:"text-primary font-mono",children:(n==null?void 0:n.phone)||"-"})]})]})]}),f.jsxs("form",{onSubmit:F,className:"space-y-4",children:[(m.form_fields||[]).map(M=>f.jsxs("div",{children:[M.type!=="checkbox"&&f.jsxs("label",{className:"block text-sm text-primary/80 font-mono mb-2",children:[M.label.toUpperCase(),M.required&&f.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),L(M)]},M.id)),f.jsxs("div",{className:"pt-4 border-t border-border",children:[f.jsx("label",{className:"block text-sm text-primary/80 font-mono mb-2",children:"REFERRAL CODE (OPTIONAL)"}),f.jsx("input",{type:"text",value:A,onChange:M=>j(M.target.value.toUpperCase()),placeholder:"Enter 5-digit referral code",maxLength:5,className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors tracking-widest"}),f.jsx("p",{className:"text-xs text-muted-foreground font-mono mt-1",children:"Have a friend's referral code? Enter it here."})]}),m.price>0&&f.jsxs("div",{className:"flex justify-between items-center py-4 border-t border-border",children:[f.jsx("span",{className:"text-muted-foreground font-mono",children:"Ticket Price:"}),f.jsxs("span",{className:"text-xl font-display font-bold text-primary",children:["",m.price]})]}),f.jsx("button",{type:"submit",disabled:b,className:"w-full glow-button bg-primary text-background py-3 font-display font-bold tracking-wider rounded hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:b?"PROCESSING...":m.price>0?"PROCEED TO PAYMENT":"REGISTER NOW"})]})]})]})]})]}),f.jsx(fo,{})]}):null},HR=[{href:"/admin",label:"Dashboard",icon:bS},{href:"/admin/tickets",label:"Tickets",icon:gi},{href:"/admin/registrations",label:"Registrations",icon:Ra},{href:"/admin/referrals",label:"Referrals",icon:B2},{href:"/admin/coupons",label:"Coupons",icon:fi},{href:"/admin/checkin",label:"Scanners",icon:q1},{href:"/admin/verify-payments",label:"Verify Payments",icon:F2}],Ss=({children:e})=>{const{profile:t,signOut:r}=Is(),n=Ts(),[i,a]=I.useState(!1),u=()=>a(!1);return f.jsxs("div",{className:"min-h-screen bg-background flex",children:[i&&f.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:u}),f.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 bg-card border-r border-border flex flex-col transform transition-transform duration-300 ease-in-out ${i?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[f.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(Sr,{to:"/",className:"flex items-center gap-2",onClick:u,children:f.jsx("span",{className:"text-xl font-display font-bold text-primary glow-text tracking-wider",children:"TESSERACT"})}),f.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:"Admin Panel"})]}),f.jsx("button",{onClick:u,className:"lg:hidden p-2 text-primary hover:bg-secondary/50 rounded",children:f.jsx(_i,{className:"w-5 h-5"})})]}),f.jsx("nav",{className:"flex-1 p-4 space-y-2",children:HR.map(m=>{const p=n.pathname===m.href,x=m.icon;return f.jsxs(Sr,{to:m.href,onClick:u,className:`flex items-center gap-3 px-3 py-2 rounded font-mono text-sm transition-colors ${p?"bg-primary text-background":"text-primary/70 hover:bg-secondary/50 hover:text-primary"}`,children:[f.jsx(x,{className:"w-4 h-4"}),m.label]},m.href)})}),f.jsxs("div",{className:"p-4 border-t border-border space-y-2",children:[f.jsxs(Sr,{to:"/",onClick:u,className:"flex items-center gap-3 px-3 py-2 rounded font-mono text-sm text-primary/70 hover:bg-secondary/50 hover:text-primary transition-colors",children:[f.jsx(j2,{className:"w-4 h-4"}),"Back to Site"]}),f.jsxs("button",{onClick:()=>{u(),r()},className:"w-full flex items-center gap-3 px-3 py-2 rounded font-mono text-sm text-destructive hover:bg-destructive/10 transition-colors",children:[f.jsx(G1,{className:"w-4 h-4"}),"Sign Out"]})]})]}),f.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[f.jsxs("header",{className:"h-16 bg-card border-b border-border flex items-center justify-between px-4 lg:px-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>a(!0),className:"lg:hidden p-2 text-primary hover:bg-secondary/50 rounded",children:f.jsx(D2,{className:"w-5 h-5"})}),f.jsx("h1",{className:"text-lg font-display text-primary",children:"Admin Panel"})]}),f.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[f.jsx("span",{className:"text-sm text-muted-foreground font-mono hidden sm:block",children:(t==null?void 0:t.full_name)||(t==null?void 0:t.email)}),f.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 border border-primary/50 flex items-center justify-center",children:f.jsx("span",{className:"text-xs font-bold text-primary",children:((t==null?void 0:t.full_name)||(t==null?void 0:t.email)||"A")[0].toUpperCase()})})]})]}),f.jsx("div",{className:"flex-1 p-4 lg:p-6 overflow-auto",children:e})]})]})},$R=()=>{const[e,t]=I.useState({totalTickets:0,activeTickets:0,totalRegistrations:0,pendingRegistrations:0}),[r,n]=I.useState(!0);I.useEffect(()=>{(async()=>{try{const[u,m,p,x]=await Promise.all([Te.from("tickets").select("id",{count:"exact",head:!0}),Te.from("tickets").select("id",{count:"exact",head:!0}).eq("is_active",!0),Te.from("registrations").select("id",{count:"exact",head:!0}),Te.from("registrations").select("id",{count:"exact",head:!0}).eq("status","pending")]);t({totalTickets:u.count||0,activeTickets:m.count||0,totalRegistrations:p.count||0,pendingRegistrations:x.count||0})}catch(u){console.error("Error fetching stats:",u)}finally{n(!1)}})()},[]);const i=[{label:"Total Tickets",value:e.totalTickets,icon:gi,color:"text-primary"},{label:"Active Tickets",value:e.activeTickets,icon:gi,color:"text-green-500"},{label:"Total Registrations",value:e.totalRegistrations,icon:Ra,color:"text-blue-500"},{label:"Pending",value:e.pendingRegistrations,icon:gS,color:"text-yellow-500"}];return f.jsx(Ss,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"DASHBOARD"}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Overview of your ticket system"})]}),r?f.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Loading stats..."}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map(a=>{const u=a.icon;return f.jsx("div",{className:"terminal-card p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-muted-foreground font-mono uppercase tracking-wider",children:a.label}),f.jsx("p",{className:`text-3xl font-display font-bold mt-2 ${a.color}`,children:a.value})]}),f.jsx(u,{className:`w-8 h-8 ${a.color} opacity-50`})]})},a.label)})}),f.jsxs("div",{className:"terminal-card p-6",children:[f.jsxs("div",{className:"terminal-header mb-4 -mx-6 -mt-6 px-4",children:[f.jsx("span",{className:"terminal-dot terminal-dot-red"}),f.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),f.jsx("span",{className:"terminal-dot terminal-dot-green"}),f.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"quick_actions.sh"})]}),f.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[f.jsxs("p",{className:"text-muted-foreground",children:[f.jsx("span",{className:"text-primary",children:">"})," Navigate to"," ",f.jsx("a",{href:"/admin/tickets",className:"text-primary hover:underline",children:"Tickets"})," ","to create and manage event tickets"]}),f.jsxs("p",{className:"text-muted-foreground",children:[f.jsx("span",{className:"text-primary",children:">"})," View"," ",f.jsx("a",{href:"/admin/registrations",className:"text-primary hover:underline",children:"Registrations"})," ","to see all user submissions"]})]})]})]})})},GR=["text","email","tel","number","textarea","select","checkbox"],vx={title:"",description:"",price:0,is_active:!0,form_fields:[],max_registrations:null},qR={id:"",label:"",type:"text",required:!1,options:[],placeholder:""},KR=()=>{const{toast:e}=Ir(),[t,r]=I.useState([]),[n,i]=I.useState(!0),[a,u]=I.useState(!1),[m,p]=I.useState(vx),[x,w]=I.useState(!1),b=async()=>{const{data:P,error:F}=await Te.from("tickets").select("*").order("created_at",{ascending:!1});F?e({title:"Error",description:F.message,variant:"destructive"}):r(P||[]),i(!1)};I.useEffect(()=>{b()},[]);const C=()=>{p(vx),u(!0)},E=P=>{p({...P}),u(!0)},k=async()=>{var P;if(!((P=m.title)!=null&&P.trim())){e({title:"Validation Error",description:"Title is required",variant:"destructive"});return}if(w(!0),m.id){const{error:F}=await Te.from("tickets").update({title:m.title,description:m.description,price:m.price,is_active:m.is_active,form_fields:m.form_fields,max_registrations:m.max_registrations,updated_at:new Date().toISOString()}).eq("id",m.id);F?e({title:"Error",description:F.message,variant:"destructive"}):(e({title:"Success",description:"Ticket updated"}),u(!1),b())}else{const{error:F}=await Te.from("tickets").insert({title:m.title,description:m.description,price:m.price||0,is_active:m.is_active??!0,form_fields:m.form_fields||[],max_registrations:m.max_registrations});F?e({title:"Error",description:F.message,variant:"destructive"}):(e({title:"Success",description:"Ticket created"}),u(!1),b())}w(!1)},A=async P=>{const{error:F}=await Te.from("tickets").update({is_active:!P.is_active}).eq("id",P.id);F?e({title:"Error",description:F.message,variant:"destructive"}):b()},j=async P=>{if(!confirm(`Delete "${P.title}"? This cannot be undone.`))return;const{error:F}=await Te.from("tickets").delete().eq("id",P.id);F?e({title:"Error",description:F.message,variant:"destructive"}):(e({title:"Deleted",description:"Ticket removed"}),b())},T=()=>{const P={...qR,id:`field_${Date.now()}`};p({...m,form_fields:[...m.form_fields||[],P]})},S=(P,F)=>{const L=[...m.form_fields||[]];L[P]={...L[P],...F},p({...m,form_fields:L})},_=P=>{const F=[...m.form_fields||[]];F.splice(P,1),p({...m,form_fields:F})};return f.jsxs(Ss,{children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"TICKETS"}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Manage event tickets and registration forms"})]}),f.jsxs("button",{onClick:C,className:"flex items-center justify-center gap-2 bg-primary text-background px-4 py-2 font-display font-bold rounded hover:scale-105 transition-transform",children:[f.jsx(Ku,{className:"w-4 h-4"}),"NEW TICKET"]})]}),n?f.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Loading tickets..."}):t.length===0?f.jsx("div",{className:"terminal-card p-8 text-center",children:f.jsx("p",{className:"text-muted-foreground font-mono",children:"No tickets created yet."})}):f.jsx("div",{className:"space-y-4",children:t.map(P=>{var F;return f.jsx("div",{className:`terminal-card p-4 ${P.is_active?"":"opacity-60"}`,children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[f.jsx("h3",{className:"font-display text-primary",children:P.title}),f.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-mono ${P.is_active?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"}`,children:P.is_active?"ACTIVE":"INACTIVE"})]}),f.jsxs("p",{className:"text-sm text-muted-foreground font-mono mt-1",children:["",P.price,"  ",((F=P.form_fields)==null?void 0:F.length)||0," custom fields"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Sr,{to:`/admin/tickets/${P.id}/template`,className:"p-2 rounded hover:bg-secondary/50 transition-colors text-primary",title:"Edit Ticket Template",children:f.jsx(yS,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>A(P),className:`p-2 rounded hover:bg-secondary/50 transition-colors ${P.is_active?"text-green-500":"text-muted-foreground"}`,title:P.is_active?"Deactivate":"Activate",children:f.jsx(AS,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>E(P),className:"p-2 rounded hover:bg-secondary/50 transition-colors text-primary",title:"Edit",children:f.jsx(M2,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>j(P),className:"p-2 rounded hover:bg-secondary/50 transition-colors text-destructive",title:"Delete",children:f.jsx(K1,{className:"w-4 h-4"})})]})]})},P.id)})})]}),f.jsx(Mb,{open:a,onOpenChange:u,children:f.jsxs(vm,{className:"terminal-card border-primary/30 max-w-2xl max-h-[90vh] overflow-y-auto mx-4",children:[f.jsx(bm,{children:f.jsx(Em,{className:"text-xl font-display text-primary tracking-wider",children:m.id?"EDIT TICKET":"CREATE TICKET"})}),f.jsxs("div",{className:"space-y-4 mt-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-primary/80 font-mono mb-2",children:"TITLE *"}),f.jsx("input",{type:"text",value:m.title||"",onChange:P=>p({...m,title:P.target.value}),className:"w-full bg-background border border-border rounded px-4 py-2 text-primary font-mono focus:border-primary focus:ring-1 focus:ring-primary",placeholder:"Event Name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-primary/80 font-mono mb-2",children:"DESCRIPTION"}),f.jsx("textarea",{value:m.description||"",onChange:P=>p({...m,description:P.target.value}),className:"w-full bg-background border border-border rounded px-4 py-2 text-primary font-mono focus:border-primary focus:ring-1 focus:ring-primary h-20 resize-none",placeholder:"Event description..."})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-primary/80 font-mono mb-2",children:"PRICE ()"}),f.jsx("input",{type:"number",value:m.price||0,onChange:P=>p({...m,price:parseFloat(P.target.value)||0}),className:"w-full bg-background border border-border rounded px-4 py-2 text-primary font-mono focus:border-primary focus:ring-1 focus:ring-primary",min:"0",step:"0.01"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-primary/80 font-mono mb-2",children:"MAX REGISTRATIONS"}),f.jsx("input",{type:"number",value:m.max_registrations||"",onChange:P=>p({...m,max_registrations:P.target.value?parseInt(P.target.value):null}),className:"w-full bg-background border border-border rounded px-4 py-2 text-primary font-mono focus:border-primary focus:ring-1 focus:ring-primary",min:"0",placeholder:"Unlimited"})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"checkbox",id:"is_active",checked:m.is_active??!0,onChange:P=>p({...m,is_active:P.target.checked}),className:"w-4 h-4 accent-primary"}),f.jsx("label",{htmlFor:"is_active",className:"text-sm text-primary/80 font-mono",children:"Active (visible to users)"})]}),f.jsxs("div",{className:"border-t border-border pt-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("label",{className:"text-sm text-primary/80 font-mono",children:"CUSTOM FORM FIELDS"}),f.jsx("button",{type:"button",onClick:T,className:"text-xs bg-secondary text-primary px-3 py-1 rounded font-mono hover:bg-secondary/80",children:"+ Add Field"})]}),(m.form_fields||[]).length===0?f.jsx("p",{className:"text-sm text-muted-foreground font-mono text-center py-4",children:"No custom fields. User profile data (name, email, phone) is collected by default."}):f.jsx("div",{className:"space-y-3",children:(m.form_fields||[]).map((P,F)=>{var L;return f.jsxs("div",{className:"bg-secondary/20 p-3 rounded border border-border",children:[f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-2",children:[f.jsx("input",{type:"text",value:P.label,onChange:M=>S(F,{label:M.target.value}),className:"bg-background border border-border rounded px-3 py-1.5 text-sm text-primary font-mono",placeholder:"Field Label"}),f.jsx("select",{value:P.type,onChange:M=>S(F,{type:M.target.value}),className:"bg-background border border-border rounded px-3 py-1.5 text-sm text-primary font-mono",children:GR.map(M=>f.jsx("option",{value:M,children:M},M))})]}),f.jsx("button",{type:"button",onClick:()=>_(F),className:"p-1.5 text-destructive hover:bg-destructive/10 rounded",children:f.jsx(_i,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[f.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground font-mono",children:[f.jsx("input",{type:"checkbox",checked:P.required,onChange:M=>S(F,{required:M.target.checked}),className:"w-3 h-3 accent-primary"}),"Required"]}),P.type==="select"&&f.jsx("input",{type:"text",value:((L=P.options)==null?void 0:L.join(", "))||"",onChange:M=>S(F,{options:M.target.value.split(",").map(W=>W.trim())}),className:"flex-1 bg-background border border-border rounded px-2 py-1 text-xs text-primary font-mono",placeholder:"Options (comma separated)"})]})]},P.id)})})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border",children:[f.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-border rounded font-mono text-sm hover:bg-secondary/50",children:"Cancel"}),f.jsx("button",{onClick:k,disabled:x,className:"px-4 py-2 bg-primary text-background rounded font-display font-bold hover:scale-105 transition-transform disabled:opacity-50",children:x?"SAVING...":"SAVE"})]})]})]})})]})},su=e=>{var r;if(!e.form_data||!((r=e.ticket)!=null&&r.form_fields))return"";const t=e.ticket.form_fields.find(n=>n.label.toLowerCase().includes("college"));return t&&e.form_data[t.id]?String(e.form_data[t.id]):""},XR=()=>{const{toast:e}=Ir(),[t,r]=I.useState([]),[n,i]=I.useState([]),[a,u]=I.useState(!0),[m,p]=I.useState(new Set),[x,w]=I.useState("created_at"),[b,C]=I.useState("desc"),[E,k]=I.useState(""),[A,j]=I.useState(""),[T,S]=I.useState(""),_=async()=>{const[H,q]=await Promise.all([Te.from("registrations").select("*, ticket:tickets(*), profile:profiles!fk_registrations_profile(full_name, email, phone)").order("created_at",{ascending:!1}),Te.from("tickets").select("*")]);H.error?e({title:"Error",description:H.error.message,variant:"destructive"}):r(H.data||[]),q.error||i(q.data||[]),u(!1)};I.useEffect(()=>{_()},[]);const P=H=>{const q=new Set(m);q.has(H)?q.delete(H):q.add(H),p(q)},F=H=>{x===H?C(b==="asc"?"desc":"asc"):(w(H),C("asc"))},L=(H,q)=>{if(!(H!=null&&H.form_fields))return q;const ie=H.form_fields.find(re=>re.id===q);return(ie==null?void 0:ie.label)||q},M=(H,q)=>{var ie,re,G;switch(q){case"profile.full_name":return((ie=H.profile)==null?void 0:ie.full_name)||"";case"profile.email":return((re=H.profile)==null?void 0:re.email)||"";case"college":return su(H);case"ticket.title":return((G=H.ticket)==null?void 0:G.title)||"";case"status":return H.status;case"created_at":default:return new Date(H.created_at).getTime()}},W=I.useMemo(()=>{let H=[...t];if(E){const q=E.toLowerCase();H=H.filter(ie=>{var re,G,ue,ee,J,Y,le,Ae;return((G=(re=ie.profile)==null?void 0:re.full_name)==null?void 0:G.toLowerCase().includes(q))||((ee=(ue=ie.profile)==null?void 0:ue.email)==null?void 0:ee.toLowerCase().includes(q))||((Y=(J=ie.profile)==null?void 0:J.phone)==null?void 0:Y.includes(q))||su(ie).toLowerCase().includes(q)||((Ae=(le=ie.ticket)==null?void 0:le.title)==null?void 0:Ae.toLowerCase().includes(q))})}return A&&(H=H.filter(q=>q.ticket_id===A)),T&&(H=H.filter(q=>q.status===T)),H.sort((q,ie)=>{const re=M(q,x),G=M(ie,x);return typeof re=="string"&&typeof G=="string"?b==="asc"?re.localeCompare(G):G.localeCompare(re):b==="asc"?re-G:G-re}),H},[t,E,A,T,x,b]),z=()=>{if(W.length===0){e({title:"No Data",description:"No registrations to export",variant:"destructive"});return}const H=["Name","Email","Phone","College","Ticket","Status","Check-in","Referred By","Date"],q=new Map;W.forEach(Y=>{Object.keys(Y.form_data||{}).forEach(le=>{q.has(le)||q.set(le,L(Y.ticket,le))})});const ie=[...H,...Array.from(q.values())],re=Array.from(q.keys()),G=W.map(Y=>{var xe,je,Ee,ae;const le=[((xe=Y.profile)==null?void 0:xe.full_name)||"",((je=Y.profile)==null?void 0:je.email)||"",((Ee=Y.profile)==null?void 0:Ee.phone)||"",su(Y),((ae=Y.ticket)==null?void 0:ae.title)||"",Y.status,Y.checked_in?"Yes":"No",Y.referred_by||"",new Date(Y.created_at).toLocaleDateString()],Ae=re.map(te=>{var ye;const ge=(ye=Y.form_data)==null?void 0:ye[te];return typeof ge=="object"?JSON.stringify(ge):String(ge??"")});return[...le,...Ae]}),ue=[ie.join(","),...G.map(Y=>Y.map(le=>`"${String(le).replace(/"/g,'""')}"`).join(","))].join(`
`),ee=new Blob([ue],{type:"text/csv;charset=utf-8;"}),J=document.createElement("a");J.href=URL.createObjectURL(ee),J.download=`registrations_${new Date().toISOString().split("T")[0]}.csv`,J.click(),e({title:"Exported",description:`${W.length} registrations exported`})},ne=({field:H,label:q})=>f.jsx("th",{onClick:()=>F(H),className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider cursor-pointer hover:text-primary",children:f.jsxs("div",{className:"flex items-center gap-1",children:[q,x===H&&(b==="asc"?f.jsx(h0,{className:"w-3 h-3"}):f.jsx(Ul,{className:"w-3 h-3"}))]})});return f.jsx(Ss,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"REGISTRATIONS"}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"View and export all user registrations"})]}),f.jsxs("button",{onClick:z,className:"flex items-center justify-center gap-2 bg-primary text-background px-4 py-2 font-display font-bold rounded hover:scale-105 transition-transform",children:[f.jsx(R2,{className:"w-4 h-4"}),"EXPORT CSV"]})]}),f.jsx("div",{className:"terminal-card p-4",children:f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsx("div",{className:"flex-1 min-w-[200px]",children:f.jsxs("div",{className:"relative",children:[f.jsx(Id,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),f.jsx("input",{type:"text",value:E,onChange:H=>k(H.target.value),placeholder:"Search by name, email, phone...",className:"w-full bg-background border border-border rounded pl-10 pr-4 py-2 text-sm text-primary font-mono focus:border-primary"})]})}),f.jsxs("select",{value:A,onChange:H=>j(H.target.value),className:"bg-background border border-border rounded px-4 py-2 text-sm text-primary font-mono focus:border-primary",children:[f.jsx("option",{value:"",children:"All Tickets"}),n.map(H=>f.jsx("option",{value:H.id,children:H.title},H.id))]}),f.jsxs("select",{value:T,onChange:H=>S(H.target.value),className:"bg-background border border-border rounded px-4 py-2 text-sm text-primary font-mono focus:border-primary",children:[f.jsx("option",{value:"",children:"All Status"}),f.jsx("option",{value:"pending",children:"Pending"}),f.jsx("option",{value:"confirmed",children:"Confirmed"}),f.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})}),a?f.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Loading registrations..."}):W.length===0?f.jsx("div",{className:"terminal-card p-8 text-center",children:f.jsx("p",{className:"text-muted-foreground font-mono",children:"No registrations found."})}):f.jsx("div",{className:"terminal-card overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-secondary/30 border-b border-border",children:f.jsxs("tr",{children:[f.jsx("th",{className:"w-10"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Reg ID"}),f.jsx(ne,{field:"profile.full_name",label:"Name"}),f.jsx(ne,{field:"profile.email",label:"Email"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Phone"}),f.jsx(ne,{field:"college",label:"College"}),f.jsx(ne,{field:"ticket.title",label:"Ticket"}),f.jsx(ne,{field:"status",label:"Status"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Check-in"}),f.jsx(ne,{field:"created_at",label:"Date"})]})}),f.jsx("tbody",{className:"divide-y divide-border",children:W.map(H=>{var q,ie,re,G;return f.jsxs(f.Fragment,{children:[f.jsxs("tr",{className:"hover:bg-secondary/20 cursor-pointer",onClick:()=>P(H.id),children:[f.jsx("td",{className:"px-4 py-3",children:Object.keys(H.form_data||{}).length>0&&(m.has(H.id)?f.jsx(h0,{className:"w-4 h-4 text-muted-foreground"}):f.jsx(Ul,{className:"w-4 h-4 text-muted-foreground"}))}),f.jsx("td",{className:"px-4 py-3 text-sm font-mono text-primary",children:H.registration_id||"-"}),f.jsx("td",{className:"px-4 py-3 text-sm font-mono text-primary",children:((q=H.profile)==null?void 0:q.full_name)||"-"}),f.jsx("td",{className:"px-4 py-3 text-sm font-mono text-muted-foreground",children:((ie=H.profile)==null?void 0:ie.email)||"-"}),f.jsx("td",{className:"px-4 py-3 text-sm font-mono text-muted-foreground",children:((re=H.profile)==null?void 0:re.phone)||"-"}),f.jsx("td",{className:"px-4 py-3 text-sm font-mono text-muted-foreground",children:su(H)||"-"}),f.jsx("td",{className:"px-4 py-3 text-sm font-mono text-primary",children:((G=H.ticket)==null?void 0:G.title)||"-"}),f.jsx("td",{className:"px-4 py-3",children:f.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-mono ${H.status==="confirmed"?"bg-green-500/20 text-green-500":H.status==="cancelled"?"bg-red-500/20 text-red-500":"bg-yellow-500/20 text-yellow-500"}`,children:H.status.toUpperCase()})}),f.jsx("td",{className:"px-4 py-3",children:H.checked_in?f.jsx("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded font-mono bg-green-500/20 text-green-500",children:" CHECKED IN"}):f.jsx("span",{className:"text-xs px-2 py-0.5 rounded font-mono bg-secondary/30 text-muted-foreground",children:""})}),f.jsx("td",{className:"px-4 py-3 text-sm font-mono text-muted-foreground",children:new Date(H.created_at).toLocaleDateString()})]},H.id),m.has(H.id)&&f.jsx("tr",{children:f.jsx("td",{colSpan:10,className:"px-4 py-4 bg-secondary/10",children:f.jsxs("div",{className:"space-y-4",children:[H.referred_by&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs font-mono text-muted-foreground mb-2",children:"REFERRED BY"}),f.jsx("div",{className:"bg-background p-2 rounded border border-border inline-block",children:f.jsx("span",{className:"text-sm text-primary font-mono",children:H.referred_by})})]}),H.checked_in&&H.checked_in_at&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs font-mono text-muted-foreground mb-2",children:"CHECK-IN DETAILS"}),f.jsx("div",{className:"bg-background p-2 rounded border border-green-500/30 inline-block",children:f.jsxs("span",{className:"text-sm text-green-500 font-mono",children:["Checked in at ",new Date(H.checked_in_at).toLocaleString()]})})]}),Object.keys(H.form_data||{}).length>0&&f.jsxs("div",{children:[f.jsx("div",{className:"text-xs font-mono text-muted-foreground mb-2",children:"CUSTOM FORM DATA"}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(H.form_data||{}).map(([ue,ee])=>f.jsxs("div",{className:"bg-background p-2 rounded border border-border",children:[f.jsx("span",{className:"text-xs text-muted-foreground block",children:L(H.ticket,ue)}),f.jsx("span",{className:"text-sm text-primary font-mono",children:typeof ee=="boolean"?ee?"Yes":"No":String(ee)})]},ue))})]})]})})},`${H.id}-details`)]})})})]})})}),f.jsxs("div",{className:"text-sm text-muted-foreground font-mono",children:["Showing ",W.length," of ",t.length," registrations"]})]})})},YR=()=>{const{toast:e}=Ir(),[t,r]=I.useState([]),[n,i]=I.useState(!0),[a,u]=I.useState(new Set),[m,p]=I.useState({}),[x,w]=I.useState(new Set);I.useEffect(()=>{b()},[]);const b=async()=>{try{const{data:E,error:k}=await Te.from("profiles").select("id, full_name, email, phone, referral_code").not("referral_code","is",null);if(k){e({title:"Error",description:k.message,variant:"destructive"}),i(!1);return}const{data:A,error:j}=await Te.from("registrations").select("referred_by").not("referred_by","is",null);if(j){e({title:"Error",description:j.message,variant:"destructive"}),i(!1);return}const T={};(A||[]).forEach(_=>{_.referred_by&&(T[_.referred_by]=(T[_.referred_by]||0)+1)});const S=(E||[]).map(_=>({..._,referral_count:T[_.referral_code]||0})).filter(_=>_.referral_count>=1).sort((_,P)=>P.referral_count-_.referral_count);r(S)}catch(E){console.error("Fetch error:",E),e({title:"Error",description:"Failed to load referral data",variant:"destructive"})}i(!1)},C=async(E,k)=>{const A=new Set(a);if(A.has(E)){A.delete(E),u(A);return}if(!m[E]){w(S=>new Set([...S,E]));const{data:j,error:T}=await Te.from("registrations").select("id, created_at, user_id, ticket:tickets(title), profile:profiles!fk_registrations_profile(full_name, phone)").eq("referred_by",k);if(T)e({title:"Error",description:T.message,variant:"destructive"});else{const S=(j||[]).map(_=>{var P,F,L;return{id:_.id,full_name:((P=_.profile)==null?void 0:P.full_name)||"Unknown",phone:((F=_.profile)==null?void 0:F.phone)||"-",ticket_title:((L=_.ticket)==null?void 0:L.title)||"Unknown",created_at:_.created_at}});p(_=>({..._,[E]:S}))}w(S=>{const _=new Set(S);return _.delete(E),_})}A.add(E),u(A)};return f.jsx(Ss,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"REFERRALS"}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Users with successful referrals"})]}),n?f.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Loading referrals..."}):t.length===0?f.jsxs("div",{className:"terminal-card p-8 text-center",children:[f.jsx(Ra,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),f.jsx("p",{className:"text-muted-foreground font-mono",children:"No users with referrals yet."})]}):f.jsx("div",{className:"terminal-card overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-secondary/30 border-b border-border",children:f.jsxs("tr",{children:[f.jsx("th",{className:"w-10"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Name"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Email"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Phone"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Referral Code"}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Referrals"})]})}),f.jsx("tbody",{className:"divide-y divide-border",children:t.map(E=>f.jsxs(f.Fragment,{children:[f.jsxs("tr",{className:"hover:bg-secondary/20 cursor-pointer",onClick:()=>C(E.id,E.referral_code),children:[f.jsx("td",{className:"px-4 py-3",children:a.has(E.id)?f.jsx(h0,{className:"w-4 h-4 text-muted-foreground"}):f.jsx(Ul,{className:"w-4 h-4 text-muted-foreground"})}),f.jsx("td",{className:"px-4 py-3 text-sm font-mono text-primary",children:E.full_name||"-"}),f.jsx("td",{className:"px-4 py-3 text-sm font-mono text-muted-foreground",children:E.email}),f.jsx("td",{className:"px-4 py-3 text-sm font-mono text-muted-foreground",children:E.phone||"-"}),f.jsx("td",{className:"px-4 py-3",children:f.jsx("span",{className:"text-sm font-mono text-primary bg-primary/10 px-2 py-1 rounded tracking-widest",children:E.referral_code})}),f.jsx("td",{className:"px-4 py-3",children:f.jsx("span",{className:"text-sm font-display font-bold text-primary",children:E.referral_count})})]},E.id),a.has(E.id)&&f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:"px-4 py-4 bg-secondary/10",children:x.has(E.id)?f.jsx("div",{className:"text-muted-foreground font-mono text-sm animate-pulse",children:"Loading referred users..."}):f.jsxs("div",{children:[f.jsx("div",{className:"text-xs font-mono text-muted-foreground mb-3",children:"REFERRED USERS"}),f.jsx("div",{className:"grid gap-2",children:(m[E.id]||[]).map(k=>f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-background border border-border rounded gap-2",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-sm font-mono text-primary",children:k.full_name}),f.jsx("span",{className:"text-xs text-muted-foreground ml-3",children:k.phone})]}),f.jsxs("div",{className:"sm:text-right",children:[f.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:k.ticket_title}),f.jsx("span",{className:"text-xs text-muted-foreground ml-3",children:new Date(k.created_at).toLocaleDateString()})]})]},k.id))})]})})},`${E.id}-details`)]}))})]})})}),f.jsxs("div",{className:"text-sm text-muted-foreground font-mono",children:["Showing ",t.length," users with referrals"]})]})})},bx=[{value:"user_name",label:"User Name"},{value:"ticket_name",label:"Ticket/Event Name"},{value:"registration_id",label:"Registration ID"},{value:"date",label:"Registration Date"}],QR=["Arial","Helvetica","Times New Roman","Georgia","Courier New","Verdana","Impact"],ZR=()=>{const{ticketId:e}=um(),t=ss(),{toast:r}=Ir(),n=I.useRef(null),i=I.useRef(null),[a,u]=I.useState(null),[m,p]=I.useState(""),[x,w]=I.useState(null),[b,C]=I.useState([]),[E,k]=I.useState(null),[A,j]=I.useState(!0),[T,S]=I.useState(!1),[_,P]=I.useState(""),[F,L]=I.useState(!1),[M,W]=I.useState(!1),[z,ne]=I.useState({x:0,y:0}),H={user_name:"John Doe",ticket_name:(a==null?void 0:a.title)||"Event Name",registration_id:"ABC123XYZ0",date:new Date().toLocaleDateString()};I.useEffect(()=>{q()},[e]),I.useEffect(()=>{ie()},[m,b,E]);const q=async()=>{if(!e)return;const{data:ae,error:te}=await Te.from("tickets").select("id, title").eq("id",e).single();if(te){r({title:"Error",description:"Could not load ticket",variant:"destructive"}),t("/admin/tickets");return}u(ae);const{data:ge}=await Te.from("ticket_templates").select("*").eq("ticket_id",e).single();ge&&(p(ge.background_url||""),C(ge.fields||[])),j(!1)},ie=()=>{const ae=n.current;if(!ae)return;const te=ae.getContext("2d");if(!te)return;if(!m){ae.width=800,ae.height=400,te.fillStyle="#1a1a1a",te.fillRect(0,0,ae.width,ae.height),te.fillStyle="#333",te.font="20px Arial",te.textAlign="center",te.fillText("Upload a background image to get started",ae.width/2,ae.height/2);return}const ge=new Image;ge.crossOrigin="anonymous",ge.onload=()=>{ae.width=ge.width,ae.height=ge.height,te.drawImage(ge,0,0),b.forEach((ye,gt)=>{const Ct=gt===E,Ke=H[ye.field]||ye.customValue||"[Field]";if(ye.type==="text"){if(te.font=`${ye.fontSize||24}px ${ye.fontFamily||"Arial"}`,te.fillStyle=ye.color||"#000000",te.textAlign=ye.align||"left",te.textBaseline="top",te.fillText(Ke,ye.x,ye.y),Ct){const rt=te.measureText(Ke),ke=ye.fontSize||24;let Qt=ye.x;ye.align==="center"?Qt-=rt.width/2:ye.align==="right"&&(Qt-=rt.width),te.strokeStyle="#00ff00",te.lineWidth=2,te.setLineDash([5,5]),te.strokeRect(Qt-5,ye.y-5,rt.width+10,ke+10),te.setLineDash([])}}else if(ye.type==="qrcode"){const rt=ye.size||100;te.fillStyle="#ffffff",te.fillRect(ye.x,ye.y,rt,rt),te.fillStyle="#000000",te.font="12px Arial",te.textAlign="center",te.fillText("QR Code",ye.x+rt/2,ye.y+rt/2),Ct&&(te.strokeStyle="#00ff00",te.lineWidth=2,te.setLineDash([5,5]),te.strokeRect(ye.x-5,ye.y-5,rt+10,rt+10),te.setLineDash([]))}})},ge.src=m},re=async ae=>{var ye;const te=(ye=ae.target.files)==null?void 0:ye[0];if(!te)return;w(te);const ge=URL.createObjectURL(te);p(ge)},G=ae=>{const te=n.current;if(!te)return;const ge=te.getBoundingClientRect(),ye=te.width/ge.width,gt=te.height/ge.height,Ct=(ae.clientX-ge.left)*ye,Ke=(ae.clientY-ge.top)*gt;for(let rt=b.length-1;rt>=0;rt--){const ke=b[rt],Qt=ke.type==="qrcode"?ke.size||100:ke.fontSize||24,fr=ke.type==="qrcode"?Qt:200,rn=ke.type==="qrcode"?Qt:ke.fontSize||24;if(Ct>=ke.x&&Ct<=ke.x+fr&&Ke>=ke.y&&Ke<=ke.y+rn){k(rt);return}}k(null)},ue=ae=>{if(E===null)return;const te=n.current;if(!te)return;const ge=te.getBoundingClientRect(),ye=te.width/ge.width,gt=te.height/ge.height,Ct=(ae.clientX-ge.left)*ye,Ke=(ae.clientY-ge.top)*gt,rt=b[E];ne({x:Ct-rt.x,y:Ke-rt.y}),W(!0)},ee=ae=>{if(!M||E===null)return;const te=n.current;if(!te)return;const ge=te.getBoundingClientRect(),ye=te.width/ge.width,gt=te.height/ge.height,Ct=(ae.clientX-ge.left)*ye,Ke=(ae.clientY-ge.top)*gt;le(E,{x:Math.max(0,Ct-z.x),y:Math.max(0,Ke-z.y)})},J=()=>{W(!1)},Y=ae=>{const te={type:ae,field:ae==="qrcode"?"registration_id":"user_name",x:50,y:50+b.length*40,fontSize:24,fontFamily:"Arial",color:"#000000",align:"left",size:100};C([...b,te]),k(b.length)},le=(ae,te)=>{const ge=[...b];ge[ae]={...ge[ae],...te},C(ge)},Ae=ae=>{C(b.filter((te,ge)=>ge!==ae)),k(null)},xe=async()=>{if(!m||b.length===0){r({title:"Error",description:"Add background and fields first",variant:"destructive"});return}try{const ae=await rE({ticket_id:e,background_url:m,fields:b},H);P(ae),L(!0)}catch{r({title:"Error",description:"Could not generate preview",variant:"destructive"})}},je=async()=>{if(e){S(!0);try{let ae=m;if(x){const ge=`ticket-templates/${e}-${Date.now()}.${x.name.split(".").pop()}`,{error:ye}=await Te.storage.from("tickets").upload(ge,x,{upsert:!0});if(ye)throw ye;const{data:gt}=Te.storage.from("tickets").getPublicUrl(ge);ae=gt.publicUrl}const{error:te}=await Te.from("ticket_templates").upsert({ticket_id:e,background_url:ae,fields:b,updated_at:new Date().toISOString()},{onConflict:"ticket_id"});if(te)throw te;p(ae),w(null),r({title:"Success",description:"Template saved successfully!"})}catch(ae){const te=ae instanceof Error?ae.message:"Could not save template";r({title:"Error",description:te,variant:"destructive"})}S(!1)}};if(A)return f.jsx(Ss,{children:f.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Loading template editor..."})});const Ee=E!==null?b[E]:null;return f.jsxs(Ss,{children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>t("/admin/tickets"),className:"p-2 hover:bg-secondary/50 rounded",children:f.jsx(dS,{className:"w-5 h-5 text-primary"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"TICKET TEMPLATE"}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:a==null?void 0:a.title})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:xe,className:"flex items-center gap-2 px-4 py-2 border border-primary text-primary rounded font-mono text-sm hover:bg-primary/10",children:[f.jsx(O2,{className:"w-4 h-4"}),"Preview"]}),f.jsxs("button",{onClick:je,disabled:T,className:"flex items-center gap-2 bg-primary text-background px-4 py-2 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50",children:[f.jsx(NS,{className:"w-4 h-4"}),T?"SAVING...":"SAVE"]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 terminal-card p-4",children:[f.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground font-mono",children:"Canvas Editor"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:re,className:"hidden"}),f.jsxs("button",{onClick:()=>{var ae;return(ae=i.current)==null?void 0:ae.click()},className:"flex items-center gap-2 px-3 py-1.5 border border-border rounded text-sm font-mono hover:bg-secondary/50",children:[f.jsx(RS,{className:"w-4 h-4"}),"Upload Background"]})]})]}),f.jsx("div",{className:"overflow-auto max-h-[600px] border border-border rounded",children:f.jsx("canvas",{ref:n,onClick:G,onMouseDown:ue,onMouseMove:ee,onMouseUp:J,onMouseLeave:J,className:"cursor-crosshair max-w-full",style:{display:"block"}})}),f.jsx("p",{className:"text-xs text-muted-foreground font-mono mt-2",children:"Click to select fields. Drag to reposition. Use the panel on the right to customize."})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"terminal-card p-4",children:[f.jsx("h3",{className:"text-sm font-mono text-primary mb-3",children:"Add Fields"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>Y("text"),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 border border-border rounded text-sm font-mono hover:bg-secondary/50",children:[f.jsx(Ku,{className:"w-4 h-4"}),"Text"]}),f.jsxs("button",{onClick:()=>Y("qrcode"),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 border border-border rounded text-sm font-mono hover:bg-secondary/50",children:[f.jsx(Ku,{className:"w-4 h-4"}),"QR Code"]})]})]}),f.jsxs("div",{className:"terminal-card p-4",children:[f.jsxs("h3",{className:"text-sm font-mono text-primary mb-3",children:["Fields (",b.length,")"]}),b.length===0?f.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"No fields added yet."}):f.jsx("div",{className:"space-y-2",children:b.map((ae,te)=>{var ge;return f.jsxs("div",{onClick:()=>k(te),className:`flex items-center justify-between p-2 rounded cursor-pointer ${te===E?"bg-primary/20 border border-primary":"bg-secondary/20 border border-transparent hover:border-border"}`,children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(_S,{className:"w-3 h-3 text-muted-foreground"}),f.jsx("span",{className:"text-xs font-mono text-primary",children:ae.type==="qrcode"?"QR":((ge=bx.find(ye=>ye.value===ae.field))==null?void 0:ge.label)||ae.field})]}),f.jsx("button",{onClick:ye=>{ye.stopPropagation(),Ae(te)},className:"p-1 text-destructive hover:bg-destructive/10 rounded",children:f.jsx(K1,{className:"w-3 h-3"})})]},te)})})]}),Ee&&f.jsxs("div",{className:"terminal-card p-4",children:[f.jsx("h3",{className:"text-sm font-mono text-primary mb-3",children:"Field Properties"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"Data Field"}),f.jsx("select",{value:Ee.field,onChange:ae=>le(E,{field:ae.target.value}),className:"w-full bg-background border border-border rounded px-3 py-1.5 text-sm font-mono text-primary",children:bx.map(ae=>f.jsx("option",{value:ae.value,children:ae.label},ae.value))})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"X"}),f.jsx("input",{type:"number",value:Math.round(Ee.x),onChange:ae=>le(E,{x:parseInt(ae.target.value)||0}),className:"w-full bg-background border border-border rounded px-3 py-1.5 text-sm font-mono text-primary"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"Y"}),f.jsx("input",{type:"number",value:Math.round(Ee.y),onChange:ae=>le(E,{y:parseInt(ae.target.value)||0}),className:"w-full bg-background border border-border rounded px-3 py-1.5 text-sm font-mono text-primary"})]})]}),Ee.type==="text"?f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"Font Family"}),f.jsx("select",{value:Ee.fontFamily||"Arial",onChange:ae=>le(E,{fontFamily:ae.target.value}),className:"w-full bg-background border border-border rounded px-3 py-1.5 text-sm font-mono text-primary",children:QR.map(ae=>f.jsx("option",{value:ae,children:ae},ae))})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"Size"}),f.jsx("input",{type:"number",value:Ee.fontSize||24,onChange:ae=>le(E,{fontSize:parseInt(ae.target.value)||24}),className:"w-full bg-background border border-border rounded px-3 py-1.5 text-sm font-mono text-primary"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"Color"}),f.jsx("input",{type:"color",value:Ee.color||"#000000",onChange:ae=>le(E,{color:ae.target.value}),className:"w-full h-8 bg-background border border-border rounded cursor-pointer"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"Align"}),f.jsx("div",{className:"flex gap-1",children:["left","center","right"].map(ae=>f.jsx("button",{onClick:()=>le(E,{align:ae}),className:`flex-1 py-1.5 text-xs font-mono rounded ${Ee.align===ae?"bg-primary text-background":"bg-secondary/50 text-primary hover:bg-secondary"}`,children:ae.charAt(0).toUpperCase()+ae.slice(1)},ae))})]})]}):f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"QR Size"}),f.jsx("input",{type:"number",value:Ee.size||100,onChange:ae=>le(E,{size:parseInt(ae.target.value)||100}),className:"w-full bg-background border border-border rounded px-3 py-1.5 text-sm font-mono text-primary"})]})]})]})]})]})]}),F&&_&&f.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>L(!1),children:f.jsx("div",{className:"max-w-4xl max-h-[90vh] overflow-auto",children:f.jsx("img",{src:_,alt:"Ticket Preview",className:"max-w-full h-auto"})})})]})};var be;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(be||(be={}));var Ex=new Map([[be.QR_CODE,"QR_CODE"],[be.AZTEC,"AZTEC"],[be.CODABAR,"CODABAR"],[be.CODE_39,"CODE_39"],[be.CODE_93,"CODE_93"],[be.CODE_128,"CODE_128"],[be.DATA_MATRIX,"DATA_MATRIX"],[be.MAXICODE,"MAXICODE"],[be.ITF,"ITF"],[be.EAN_13,"EAN_13"],[be.EAN_8,"EAN_8"],[be.PDF_417,"PDF_417"],[be.RSS_14,"RSS_14"],[be.RSS_EXPANDED,"RSS_EXPANDED"],[be.UPC_A,"UPC_A"],[be.UPC_E,"UPC_E"],[be.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Cx;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Cx||(Cx={}));function JR(e){return Object.values(be).includes(e)}var ld;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ld||(ld={}));var e5=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[ld.SCAN_TYPE_CAMERA,ld.SCAN_TYPE_FILE],e}(),nE=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Ex.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Ex.get(t))},e}(),_x=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),H0;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(H0||(H0={}));var t5=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:H0.UNKWOWN_ERROR}},e}(),r5=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function us(e){return typeof e>"u"||e===null}var Xo=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),sE=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),u=Object.keys(t),m=0,p=u;m<p.length;m++){var x=p[m];if(a.has(x))return r.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),$0={exports:{}};(function(e,t){(function(r,n){n(t)})(qa,function(r){function n(R){return R==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,s){R.__proto__=s}||function(R,s){for(var o in s)s.hasOwnProperty(o)&&(R[o]=s[o])};function a(R,s){i(R,s);function o(){this.constructor=R}R.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function u(R,s){var o=Object.setPrototypeOf;o?o(R,s):R.__proto__=s}function m(R,s){s===void 0&&(s=R.constructor);var o=Error.captureStackTrace;o&&o(R,s)}var p=function(R){a(s,R);function s(o){var l=this.constructor,c=R.call(this,o)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),u(c,l.prototype),m(c),c}return s}(Error);class x extends p{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}x.kind="Exception";class w extends x{}w.kind="ArgumentException";class b extends x{}b.kind="IllegalArgumentException";class C{constructor(s){if(this.binarizer=s,s===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,l,c){const d=this.binarizer.getLuminanceSource().crop(s,o,l,c);return new C(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends x{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class k{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class A{static arraycopy(s,o,l,c,d){for(;d--;)l[c++]=s[o++]}static currentTimeMillis(){return Date.now()}}class j extends x{}j.kind="IndexOutOfBoundsException";class T extends j{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}T.kind="ArrayIndexOutOfBoundsException";class S{static fill(s,o){for(let l=0,c=s.length;l<c;l++)s[l]=o}static fillWithin(s,o,l,c){S.rangeCheck(s.length,o,l);for(let d=o;d<l;d++)s[d]=c}static rangeCheck(s,o,l){if(o>l)throw new b("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new T(o);if(l>s)throw new T(l)}static asList(...s){return s}static create(s,o,l){return Array.from({length:s}).map(d=>Array.from({length:o}).fill(l))}static createInt32Array(s,o,l){return Array.from({length:s}).map(d=>Int32Array.from({length:o}).fill(l))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let l=0,c=s.length;l<c;l++)if(s[l]!==o[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const l of s)o=31*o+l;return o}static fillUint8Array(s,o){for(let l=0;l!==s.length;l++)s[l]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const l=new Uint8Array(o);return l.set(s),l}return s.slice(0,o)}static copyOfRange(s,o,l){const c=l-o,d=new Int32Array(c);return A.arraycopy(s,o,d,0,c),d}static binarySearch(s,o,l){l===void 0&&(l=S.numberComparator);let c=0,d=s.length-1;for(;c<=d;){const h=d+c>>1,g=l(o,s[h]);if(g>0)c=h+1;else if(g<0)d=h-1;else return h}return-c-1}static numberComparator(s,o){return s-o}}class _{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let l=31;return o=s<<16,o!==0&&(l-=16,s=o),o=s<<8,o!==0&&(l-=8,s=o),o=s<<4,o!==0&&(l-=4,s=o),o=s<<2,o!==0&&(l-=2,s=o),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=P.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=P.makeArray(s);A.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const l=this.bits;let c=Math.floor(s/32),d=l[c];d&=~((1<<(s&31))-1);const h=l.length;for(;d===0;){if(++c===h)return o;d=l[c]}const g=c*32+_.numberOfTrailingZeros(d);return g>o?o:g}getNextUnset(s){const o=this.size;if(s>=o)return o;const l=this.bits;let c=Math.floor(s/32),d=~l[c];d&=~((1<<(s&31))-1);const h=l.length;for(;d===0;){if(++c===h)return o;d=~l[c]}const g=c*32+_.numberOfTrailingZeros(d);return g>o?o:g}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new b;if(o===s)return;o--;const l=Math.floor(s/32),c=Math.floor(o/32),d=this.bits;for(let h=l;h<=c;h++){const g=h>l?0:s&31,v=(2<<(h<c?31:o&31))-(1<<g);d[h]|=v}}clear(){const s=this.bits.length,o=this.bits;for(let l=0;l<s;l++)o[l]=0}isRange(s,o,l){if(o<s||s<0||o>this.size)throw new b;if(o===s)return!0;o--;const c=Math.floor(s/32),d=Math.floor(o/32),h=this.bits;for(let g=c;g<=d;g++){const y=g>c?0:s&31,N=(2<<(g<d?31:o&31))-(1<<y)&4294967295;if((h[g]&N)!==(l?N:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new b("Sizes don't match");const o=this.bits;for(let l=0,c=o.length;l<c;l++)o[l]^=s.bits[l]}toBytes(s,o,l,c){for(let d=0;d<c;d++){let h=0;for(let g=0;g<8;g++)this.get(s)&&(h|=1<<7-g),s++;o[l+d]=h}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,c=this.bits;for(let d=0;d<l;d++){let h=c[d];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,s[o-d]=h}if(this.size!==l*32){const d=l*32-this.size;let h=s[0]>>>d;for(let g=1;g<l;g++){const y=s[g];h|=y<<32-d,s[g-1]=h,h=y>>>d}s[l-1]=h}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof P))return!1;const o=s;return this.size===o.size&&S.equals(this.bits,o.bits)}hashCode(){return 31*this.size+S.hashCode(this.bits)}toString(){let s="";for(let o=0,l=this.size;o<l;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new P(this.size,this.bits.slice())}}var F;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(F||(F={}));var L=F;class M extends x{static getFormatInstance(){return new M}}M.kind="FormatException";var W;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(W||(W={}));class z{constructor(s,o,l,...c){this.valueIdentifier=s,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=c,z.VALUE_IDENTIFIER_TO_ECI.set(s,this),z.NAME_TO_ECI.set(l,this);const d=this.values;for(let h=0,g=d.length;h!==g;h++){const y=d[h];z.VALUES_TO_ECI.set(y,this)}for(const h of c)z.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new M("incorect value");const o=z.VALUES_TO_ECI.get(s);if(o===void 0)throw new M("incorect value");return o}static getCharacterSetECIByName(s){const o=z.NAME_TO_ECI.get(s);if(o===void 0)throw new M("incorect value");return o}equals(s){if(!(s instanceof z))return!1;const o=s;return this.getName()===o.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z(W.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z(W.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z(W.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z(W.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z(W.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z(W.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z(W.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z(W.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z(W.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z(W.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z(W.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z(W.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z(W.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z(W.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z(W.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z(W.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z(W.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z(W.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z(W.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z(W.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z(W.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z(W.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z(W.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z(W.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z(W.Big5,28,"Big5"),z.GB18030=new z(W.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z(W.EUC_KR,30,"EUC_KR","EUC-KR");class ne extends x{}ne.kind="UnsupportedOperationException";class H{static decode(s,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!H.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof z?s:z.getCharacterSetECIByName(s)}static decodeFallback(s,o){const l=this.encodingCharacterSet(o);if(H.isDecodeFallbackSupported(l)){let c="";for(let d=0,h=s.length;d<h;d++){let g=s[d].toString(16);g.length<2&&(g="0"+g),c+="%"+g}return decodeURIComponent(c)}if(l.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new ne(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(z.UTF8)||s.equals(z.ISO8859_1)||s.equals(z.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),c=[];for(let d=0;d<l.length;d++)c.push(l[d].charCodeAt(0));return new Uint8Array(c)}}class q{static castAsNonUtf8Char(s,o=null){const l=o?o.getName():this.ISO88591;return H.decode(new Uint8Array([s]),l)}static guessEncoding(s,o){if(o!=null&&o.get(L.CHARACTER_SET)!==void 0)return o.get(L.CHARACTER_SET).toString();const l=s.length;let c=!0,d=!0,h=!0,g=0,y=0,v=0,N=0,O=0,D=0,U=0,V=0,$=0,K=0,Z=0;const fe=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let he=0;he<l&&(c||d||h);he++){const ce=s[he]&255;h&&(g>0?ce&128?g--:h=!1:ce&128&&(ce&64?(g++,ce&32?(g++,ce&16?(g++,ce&8?h=!1:N++):v++):y++):h=!1)),c&&(ce>127&&ce<160?c=!1:ce>159&&(ce<192||ce===215||ce===247)&&Z++),d&&(O>0?ce<64||ce===127||ce>252?d=!1:O--:ce===128||ce===160||ce>239?d=!1:ce>160&&ce<224?(D++,V=0,U++,U>$&&($=U)):ce>127?(O++,U=0,V++,V>K&&(K=V)):(U=0,V=0))}return h&&g>0&&(h=!1),d&&O>0&&(d=!1),h&&(fe||y+v+N>0)?q.UTF8:d&&(q.ASSUME_SHIFT_JIS||$>=3||K>=3)?q.SHIFT_JIS:c&&d?$===2&&D===2||Z*10>=l?q.SHIFT_JIS:q.ISO88591:c?q.ISO88591:d?q.SHIFT_JIS:h?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let l=-1;function c(h,g,y,v,N,O){if(h==="%%")return"%";if(o[++l]===void 0)return;h=v?parseInt(v.substr(1)):void 0;let D=N?parseInt(N.substr(1)):void 0,U;switch(O){case"s":U=o[l];break;case"c":U=o[l][0];break;case"f":U=parseFloat(o[l]).toFixed(h);break;case"p":U=parseFloat(o[l]).toPrecision(h);break;case"e":U=parseFloat(o[l]).toExponential(h);break;case"x":U=parseInt(o[l]).toString(D||16);break;case"d":U=parseFloat(parseInt(o[l],D||10).toPrecision(h)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(D);let V=parseInt(y),$=y&&y[0]+""=="0"?"0":" ";for(;U.length<V;)U=g!==void 0?U+$:$+U;return U}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,c)}static getBytes(s,o){return H.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}q.SHIFT_JIS=z.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=z.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=z.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class ie{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=q.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,l){for(let c=o;o<o+l;c++)this.append(s[c]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class re{constructor(s,o,l,c){if(this.width=s,this.height=o,this.rowSize=l,this.bits=c,o==null&&(o=s),this.height=o,s<1||o<1)throw new b("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,l=s[0].length,c=new re(l,o);for(let d=0;d<o;d++){const h=s[d];for(let g=0;g<l;g++)h[g]&&c.set(g,d)}return c}static parseFromString(s,o,l){if(s===null)throw new b("stringRepresentation cannot be null");const c=new Array(s.length);let d=0,h=0,g=-1,y=0,v=0;for(;v<s.length;)if(s.charAt(v)===`
`||s.charAt(v)==="\r"){if(d>h){if(g===-1)g=d-h;else if(d-h!==g)throw new b("row lengths do not match");h=d,y++}v++}else if(s.substring(v,v+o.length)===o)v+=o.length,c[d]=!0,d++;else if(s.substring(v,v+l.length)===l)v+=l.length,c[d]=!1,d++;else throw new b("illegal character encountered: "+s.substring(v));if(d>h){if(g===-1)g=d-h;else if(d-h!==g)throw new b("row lengths do not match");y++}const N=new re(g,y);for(let O=0;O<d;O++)c[O]&&N.set(Math.floor(O%g),Math.floor(O/g));return N}get(s,o){const l=o*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new b("input matrix dimensions do not match");const o=new P(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let d=0,h=this.height;d<h;d++){const g=d*l,y=s.getRow(d,o).getBitArray();for(let v=0;v<l;v++)c[g+v]^=y[v]}}clear(){const s=this.bits,o=s.length;for(let l=0;l<o;l++)s[l]=0}setRegion(s,o,l,c){if(o<0||s<0)throw new b("Left and top must be nonnegative");if(c<1||l<1)throw new b("Height and width must be at least 1");const d=s+l,h=o+c;if(h>this.height||d>this.width)throw new b("The region must fit inside the matrix");const g=this.rowSize,y=this.bits;for(let v=o;v<h;v++){const N=v*g;for(let O=s;O<d;O++)y[N+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new P(this.width):o.clear();const l=this.rowSize,c=this.bits,d=s*l;for(let h=0;h<l;h++)o.setBulk(h*32,c[d+h]);return o}setRow(s,o){A.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let l=new P(s),c=new P(s);for(let d=0,h=Math.floor((o+1)/2);d<h;d++)l=this.getRow(d,l),c=this.getRow(o-1-d,c),l.reverse(),c.reverse(),this.setRow(d,c),this.setRow(o-1-d,l)}getEnclosingRectangle(){const s=this.width,o=this.height,l=this.rowSize,c=this.bits;let d=s,h=o,g=-1,y=-1;for(let v=0;v<o;v++)for(let N=0;N<l;N++){const O=c[v*l+N];if(O!==0){if(v<h&&(h=v),v>y&&(y=v),N*32<d){let D=0;for(;!(O<<31-D&4294967295);)D++;N*32+D<d&&(d=N*32+D)}if(N*32+31>g){let D=31;for(;!(O>>>D);)D--;N*32+D>g&&(g=N*32+D)}}}return g<d||y<h?null:Int32Array.from([d,h,g-d+1,y-h+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const c=l/s;let d=l%s*32;const h=o[l];let g=0;for(;!(h<<31-g&4294967295);)g++;return d+=g,Int32Array.from([d,c])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const c=Math.floor(l/s);let d=Math.floor(l%s)*32;const h=o[l];let g=31;for(;!(h>>>g);)g--;return d+=g,Int32Array.from([d,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof re))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&S.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+S.hashCode(this.bits),s}toString(s="X ",o="  ",l=`
`){return this.buildToString(s,o,l)}buildToString(s,o,l){let c=new ie;for(let d=0,h=this.height;d<h;d++){for(let g=0,y=this.width;g<y;g++)c.append(this.get(g,d)?s:o);c.append(l)}return c.toString()}clone(){return new re(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends x{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class ue extends k{constructor(s){super(s),this.luminances=ue.EMPTY,this.buckets=new Int32Array(ue.LUMINANCE_BUCKETS)}getBlackRow(s,o){const l=this.getLuminanceSource(),c=l.getWidth();o==null||o.getSize()<c?o=new P(c):o.clear(),this.initArrays(c);const d=l.getRow(s,this.luminances),h=this.buckets;for(let y=0;y<c;y++)h[(d[y]&255)>>ue.LUMINANCE_SHIFT]++;const g=ue.estimateBlackPoint(h);if(c<3)for(let y=0;y<c;y++)(d[y]&255)<g&&o.set(y);else{let y=d[0]&255,v=d[1]&255;for(let N=1;N<c-1;N++){const O=d[N+1]&255;(v*4-y-O)/2<g&&o.set(N),y=v,v=O}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight(),c=new re(o,l);this.initArrays(o);const d=this.buckets;for(let y=1;y<5;y++){const v=Math.floor(l*y/5),N=s.getRow(v,this.luminances),O=Math.floor(o*4/5);for(let D=Math.floor(o/5);D<O;D++){const U=N[D]&255;d[U>>ue.LUMINANCE_SHIFT]++}}const h=ue.estimateBlackPoint(d),g=s.getMatrix();for(let y=0;y<l;y++){const v=y*o;for(let N=0;N<o;N++)(g[v+N]&255)<h&&c.set(N,y)}return c}createBinarizer(s){return new ue(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let l=0;l<ue.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(s){const o=s.length;let l=0,c=0,d=0;for(let N=0;N<o;N++)s[N]>d&&(c=N,d=s[N]),s[N]>l&&(l=s[N]);let h=0,g=0;for(let N=0;N<o;N++){const O=N-c,D=s[N]*O*O;D>g&&(h=N,g=D)}if(c>h){const N=c;c=h,h=N}if(h-c<=o/16)throw new G;let y=h-1,v=-1;for(let N=h-1;N>c;N--){const O=N-c,D=O*O*(h-N)*(l-s[N]);D>v&&(y=N,v=D)}return y<<ue.LUMINANCE_SHIFT}}ue.LUMINANCE_BITS=5,ue.LUMINANCE_SHIFT=8-ue.LUMINANCE_BITS,ue.LUMINANCE_BUCKETS=1<<ue.LUMINANCE_BITS,ue.EMPTY=Uint8ClampedArray.from([0]);class ee extends ue{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight();if(o>=ee.MINIMUM_DIMENSION&&l>=ee.MINIMUM_DIMENSION){const c=s.getMatrix();let d=o>>ee.BLOCK_SIZE_POWER;o&ee.BLOCK_SIZE_MASK&&d++;let h=l>>ee.BLOCK_SIZE_POWER;l&ee.BLOCK_SIZE_MASK&&h++;const g=ee.calculateBlackPoints(c,d,h,o,l),y=new re(o,l);ee.calculateThresholdForBlock(c,d,h,o,l,g,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new ee(s)}static calculateThresholdForBlock(s,o,l,c,d,h,g){const y=d-ee.BLOCK_SIZE,v=c-ee.BLOCK_SIZE;for(let N=0;N<l;N++){let O=N<<ee.BLOCK_SIZE_POWER;O>y&&(O=y);const D=ee.cap(N,2,l-3);for(let U=0;U<o;U++){let V=U<<ee.BLOCK_SIZE_POWER;V>v&&(V=v);const $=ee.cap(U,2,o-3);let K=0;for(let fe=-2;fe<=2;fe++){const he=h[D+fe];K+=he[$-2]+he[$-1]+he[$]+he[$+1]+he[$+2]}const Z=K/25;ee.thresholdBlock(s,V,O,Z,c,g)}}}static cap(s,o,l){return s<o?o:s>l?l:s}static thresholdBlock(s,o,l,c,d,h){for(let g=0,y=l*d+o;g<ee.BLOCK_SIZE;g++,y+=d)for(let v=0;v<ee.BLOCK_SIZE;v++)(s[y+v]&255)<=c&&h.set(o+v,l+g)}static calculateBlackPoints(s,o,l,c,d){const h=d-ee.BLOCK_SIZE,g=c-ee.BLOCK_SIZE,y=new Array(l);for(let v=0;v<l;v++){y[v]=new Int32Array(o);let N=v<<ee.BLOCK_SIZE_POWER;N>h&&(N=h);for(let O=0;O<o;O++){let D=O<<ee.BLOCK_SIZE_POWER;D>g&&(D=g);let U=0,V=255,$=0;for(let Z=0,fe=N*c+D;Z<ee.BLOCK_SIZE;Z++,fe+=c){for(let he=0;he<ee.BLOCK_SIZE;he++){const ce=s[fe+he]&255;U+=ce,ce<V&&(V=ce),ce>$&&($=ce)}if($-V>ee.MIN_DYNAMIC_RANGE)for(Z++,fe+=c;Z<ee.BLOCK_SIZE;Z++,fe+=c)for(let he=0;he<ee.BLOCK_SIZE;he++)U+=s[fe+he]&255}let K=U>>ee.BLOCK_SIZE_POWER*2;if($-V<=ee.MIN_DYNAMIC_RANGE&&(K=V/2,v>0&&O>0)){const Z=(y[v-1][O]+2*y[v][O-1]+y[v-1][O-1])/4;V<Z&&(K=Z)}y[v][O]=K}}return y}}ee.BLOCK_SIZE_POWER=3,ee.BLOCK_SIZE=1<<ee.BLOCK_SIZE_POWER,ee.BLOCK_SIZE_MASK=ee.BLOCK_SIZE-1,ee.MINIMUM_DIMENSION=ee.BLOCK_SIZE*5,ee.MIN_DYNAMIC_RANGE=24;class J{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,l,c){throw new ne("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ne("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ne("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new ie;for(let l=0;l<this.height;l++){const c=this.getRow(l,s);for(let d=0;d<this.width;d++){const h=c[d]&255;let g;h<64?g="#":h<128?g="+":h<192?g=".":g=" ",o.append(g)}o.append(`
`)}return o.toString()}}class Y extends J{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const l=this.delegate.getRow(s,o),c=this.getWidth();for(let d=0;d<c;d++)l[d]=255-(l[d]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let c=0;c<o;c++)l[c]=255-(s[c]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,l,c){return new Y(this.delegate.crop(s,o,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Y(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Y(this.delegate.rotateCounterClockwise45())}}class le extends J{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=le.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return le.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,l){const c=new Uint8ClampedArray(o*l);for(let d=0,h=0,g=s.length;d<g;d+=4,h++){let y;if(s[d+3]===0)y=255;else{const N=s[d],O=s[d+1],D=s[d+2];y=306*N+601*O+117*D+512>>10}c[h]=y}return c}getRow(s,o){if(s<0||s>=this.getHeight())throw new b("Requested row is outside the image: "+s);const l=this.getWidth(),c=s*l;return o===null?o=this.buffer.slice(c,c+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(c,c+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,l,c){return super.crop(s,o,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),l=o.getContext("2d"),c=s*le.DEGREE_TO_RADIANS,d=this.canvas.width,h=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(c))*d+Math.abs(Math.sin(c))*h),y=Math.ceil(Math.abs(Math.sin(c))*d+Math.abs(Math.cos(c))*h);return o.width=g,o.height=y,l.translate(g/2,y/2),l.rotate(c),l.drawImage(this.canvas,d/-2,h/-2),this.buffer=le.makeBufferFromCanvasImageData(o),this}invert(){return new Y(this)}}le.DEGREE_TO_RADIANS=Math.PI/180;class Ae{constructor(s,o,l){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var xe=(globalThis||qa||self||window||void 0)&&(globalThis||qa||self||window||void 0).__awaiter||function(R,s,o,l){function c(d){return d instanceof o?d:new o(function(h){h(d)})}return new(o||(o=Promise))(function(d,h){function g(N){try{v(l.next(N))}catch(O){h(O)}}function y(N){try{v(l.throw(N))}catch(O){h(O)}}function v(N){N.done?d(N.value):c(N.value).then(g,y)}v((l=l.apply(R,s||[])).next())})};class je{constructor(s,o=500,l){this.reader=s,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return xe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of s){const c=l.kind==="video"?"videoinput":l.kind;if(c!=="videoinput")continue;const d=l.deviceId||l.id,h=l.label||`Video device ${o.length+1}`,g=l.groupId,y={deviceId:d,label:h,kind:c,groupId:g};o.push(y)}return o})}getVideoInputDevices(){return xe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Ae(o.deviceId,o.label))})}findDeviceById(s){return xe(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return xe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return xe(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,o)})}decodeOnceFromConstraints(s,o){return xe(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(s,o){return xe(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,o,l){return xe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,l)})}decodeFromVideoDevice(s,o,l){return xe(this,void 0,void 0,function*(){let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const d={video:c};return yield this.decodeFromConstraints(d,o,l)})}decodeFromConstraints(s,o,l){return xe(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(c,o,l)})}decodeFromStream(s,o,l){return xe(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return xe(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((o,l)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return xe(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const l=document.getElementById(s);if(!l)throw new w(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new w(`element with id '${s}' must be an ${o} element`);return l}decodeFromImage(s,o){if(!s&&!o)throw new w("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new w("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,l){if(s===void 0&&o===void 0)throw new w("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new w("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(s){if(!s)throw new w("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=s,l}decodeFromVideoUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=s,l}decodeFromVideoUrlContinuously(s,o){if(!s)throw new w("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,o);return l.src=s,c}_decodeOnLoadImage(s){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return xe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return xe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,l=!0){this._stopAsyncDecode=!1;const c=(d,h)=>{if(this._stopAsyncDecode){h(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(s);d(g)}catch(g){const y=o&&g instanceof G,N=(g instanceof E||g instanceof M)&&l;if(y||N)return setTimeout(c,this._timeBetweenDecodingAttempts,d,h);h(g)}};return new Promise((d,h)=>c(d,h))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(s);o(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){o(null,c);const d=c instanceof E||c instanceof M,h=c instanceof G;(d||h)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,l){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),l=new le(o),c=new ee(l);return new C(c)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,c;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,c=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,c=s.naturalHeight||s.height)),o.style.width=l+"px",o.style.height=c+"px",o.width=l,o.height=c,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Ee{constructor(s,o,l=o==null?0:8*o.length,c,d,h=A.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=l,this.resultPoints=c,this.format=d,this.timestamp=h,this.text=s,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=c,this.format=d,this.resultMetadata=null,h==null?this.timestamp=A.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(o.length+s.length);A.arraycopy(o,0,l,0,o.length),A.arraycopy(s,0,l,o.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ae;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ae||(ae={}));var te=ae,ge;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ge||(ge={}));var ye=ge;class gt{constructor(s,o,l,c,d=-1,h=-1){this.rawBytes=s,this.text=o,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=h,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ct{exp(s){return this.expTable[s]}log(s){if(s===0)throw new b;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class Ke{constructor(s,o){if(o.length===0)throw new b;this.field=s;const l=o.length;if(l>1&&o[0]===0){let c=1;for(;c<l&&o[c]===0;)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),A.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(s===1){l=0;for(let h=0,g=o.length;h!==g;h++){const y=o[h];l=Ct.addOrSubtract(l,y)}return l}l=o[0];const c=o.length,d=this.field;for(let h=1;h<c;h++)l=Ct.addOrSubtract(d.multiply(s,l),o[h]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){const h=o;o=l,l=h}let c=new Int32Array(l.length);const d=l.length-o.length;A.arraycopy(l,0,c,0,d);for(let h=d;h<l.length;h++)c[h]=Ct.addOrSubtract(o[h-d],l[h]);return new Ke(this.field,c)}multiply(s){if(!this.field.equals(s.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,c=s.coefficients,d=c.length,h=new Int32Array(l+d-1),g=this.field;for(let y=0;y<l;y++){const v=o[y];for(let N=0;N<d;N++)h[y+N]=Ct.addOrSubtract(h[y+N],g.multiply(v,c[N]))}return new Ke(g,h)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,l=this.field,c=new Int32Array(o),d=this.coefficients;for(let h=0;h<o;h++)c[h]=l.multiply(d[h],s);return new Ke(l,c)}multiplyByMonomial(s,o){if(s<0)throw new b;if(o===0)return this.field.getZero();const l=this.coefficients,c=l.length,d=new Int32Array(c+s),h=this.field;for(let g=0;g<c;g++)d[g]=h.multiply(l[g],o);return new Ke(h,d)}divide(s){if(!this.field.equals(s.field))throw new b("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new b("Divide by 0");const o=this.field;let l=o.getZero(),c=this;const d=s.getCoefficient(s.getDegree()),h=o.inverse(d);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){const g=c.getDegree()-s.getDegree(),y=o.multiply(c.getCoefficient(c.getDegree()),h),v=s.multiplyByMonomial(g,y),N=o.buildMonomial(g,y);l=l.addOrSubtract(N),c=c.addOrSubtract(v)}return[l,c]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),o===0||l!==1){const c=this.field.log(l);c===0?s+="1":c===1?s+="a":(s+="a^",s+=c)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class rt extends x{}rt.kind="ArithmeticException";class ke extends Ct{constructor(s,o,l){super(),this.primitive=s,this.size=o,this.generatorBase=l;const c=new Int32Array(o);let d=1;for(let g=0;g<o;g++)c[g]=d,d*=2,d>=o&&(d^=s,d&=o-1);this.expTable=c;const h=new Int32Array(o);for(let g=0;g<o-1;g++)h[c[g]]=g;this.logTable=h,this.zero=new Ke(this,Int32Array.from([0])),this.one=new Ke(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new b;if(o===0)return this.zero;const l=new Int32Array(s+1);return l[0]=o,new Ke(this,l)}inverse(s){if(s===0)throw new rt;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}ke.AZTEC_DATA_12=new ke(4201,4096,1),ke.AZTEC_DATA_10=new ke(1033,1024,1),ke.AZTEC_DATA_6=new ke(67,64,1),ke.AZTEC_PARAM=new ke(19,16,1),ke.QR_CODE_FIELD_256=new ke(285,256,0),ke.DATA_MATRIX_FIELD_256=new ke(301,256,1),ke.AZTEC_DATA_8=ke.DATA_MATRIX_FIELD_256,ke.MAXICODE_FIELD_64=ke.AZTEC_DATA_6;class Qt extends x{}Qt.kind="ReedSolomonException";class fr extends x{}fr.kind="IllegalStateException";class rn{constructor(s){this.field=s}decode(s,o){const l=this.field,c=new Ke(l,s),d=new Int32Array(o);let h=!0;for(let U=0;U<o;U++){const V=c.evaluateAt(l.exp(U+l.getGeneratorBase()));d[d.length-1-U]=V,V!==0&&(h=!1)}if(h)return;const g=new Ke(l,d),y=this.runEuclideanAlgorithm(l.buildMonomial(o,1),g,o),v=y[0],N=y[1],O=this.findErrorLocations(v),D=this.findErrorMagnitudes(N,O);for(let U=0;U<O.length;U++){const V=s.length-1-l.log(O[U]);if(V<0)throw new Qt("Bad error location");s[V]=ke.addOrSubtract(s[V],D[U])}}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){const U=s;s=o,o=U}const c=this.field;let d=s,h=o,g=c.getZero(),y=c.getOne();for(;h.getDegree()>=(l/2|0);){let U=d,V=g;if(d=h,g=y,d.isZero())throw new Qt("r_{i-1} was zero");h=U;let $=c.getZero();const K=d.getCoefficient(d.getDegree()),Z=c.inverse(K);for(;h.getDegree()>=d.getDegree()&&!h.isZero();){const fe=h.getDegree()-d.getDegree(),he=c.multiply(h.getCoefficient(h.getDegree()),Z);$=$.addOrSubtract(c.buildMonomial(fe,he)),h=h.addOrSubtract(d.multiplyByMonomial(fe,he))}if(y=$.multiply(g).addOrSubtract(V),h.getDegree()>=d.getDegree())throw new fr("Division algorithm failed to reduce polynomial?")}const v=y.getCoefficient(0);if(v===0)throw new Qt("sigmaTilde(0) was zero");const N=c.inverse(v),O=y.multiplyScalar(N),D=h.multiplyScalar(N);return[O,D]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(o);let c=0;const d=this.field;for(let h=1;h<d.getSize()&&c<o;h++)s.evaluateAt(h)===0&&(l[c]=d.inverse(h),c++);if(c!==o)throw new Qt("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,o){const l=o.length,c=new Int32Array(l),d=this.field;for(let h=0;h<l;h++){const g=d.inverse(o[h]);let y=1;for(let v=0;v<l;v++)if(h!==v){const N=d.multiply(o[v],g),O=N&1?N&-2:N|1;y=d.multiply(y,O)}c[h]=d.multiply(s.evaluateAt(g),d.inverse(y)),d.getGeneratorBase()!==0&&(c[h]=d.multiply(c[h],g))}return c}}var Mt;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(Mt||(Mt={}));class Ze{decode(s){this.ddata=s;let o=s.getBits(),l=this.extractBits(o),c=this.correctBits(l),d=Ze.convertBoolArrayToByteArray(c),h=Ze.getEncodedData(c),g=new gt(d,h,null,null);return g.setNumBits(c.length),g}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,l=Mt.UPPER,c=Mt.UPPER,d="",h=0;for(;h<o;)if(c===Mt.BINARY){if(o-h<5)break;let g=Ze.readCode(s,h,5);if(h+=5,g===0){if(o-h<11)break;g=Ze.readCode(s,h,11)+31,h+=11}for(let y=0;y<g;y++){if(o-h<8){h=o;break}const v=Ze.readCode(s,h,8);d+=q.castAsNonUtf8Char(v),h+=8}c=l}else{let g=c===Mt.DIGIT?4:5;if(o-h<g)break;let y=Ze.readCode(s,h,g);h+=g;let v=Ze.getCharacter(c,y);v.startsWith("CTRL_")?(l=c,c=Ze.getTable(v.charAt(5)),v.charAt(6)==="L"&&(l=c)):(d+=v,c=l)}return d}static getTable(s){switch(s){case"L":return Mt.LOWER;case"P":return Mt.PUNCT;case"M":return Mt.MIXED;case"D":return Mt.DIGIT;case"B":return Mt.BINARY;case"U":default:return Mt.UPPER}}static getCharacter(s,o){switch(s){case Mt.UPPER:return Ze.UPPER_TABLE[o];case Mt.LOWER:return Ze.LOWER_TABLE[o];case Mt.MIXED:return Ze.MIXED_TABLE[o];case Mt.PUNCT:return Ze.PUNCT_TABLE[o];case Mt.DIGIT:return Ze.DIGIT_TABLE[o];default:throw new fr("Bad table")}}correctBits(s){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=ke.AZTEC_DATA_10):(l=12,o=ke.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),d=s.length/l;if(d<c)throw new M;let h=s.length%l,g=new Int32Array(d);for(let D=0;D<d;D++,h+=l)g[D]=Ze.readCode(s,h,l);try{new rn(o).decode(g,d-c)}catch(D){throw new M(D)}let y=(1<<l)-1,v=0;for(let D=0;D<c;D++){let U=g[D];if(U===0||U===y)throw new M;(U===1||U===y-1)&&v++}let N=new Array(c*l-v),O=0;for(let D=0;D<c;D++){let U=g[D];if(U===1||U===y-1)N.fill(U>1,O,O+l-1),O+=l-1;else for(let V=l-1;V>=0;--V)N[O++]=(U&1<<V)!==0}return N}extractBits(s){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(o?11:14)+l*4,d=new Int32Array(c),h=new Array(this.totalBitsInLayer(l,o));if(o)for(let g=0;g<d.length;g++)d[g]=g;else{let g=c+1+2*_.truncDivision(_.truncDivision(c,2)-1,15),y=c/2,v=_.truncDivision(g,2);for(let N=0;N<y;N++){let O=N+_.truncDivision(N,15);d[y-N-1]=v-O-1,d[y+N]=v+O+1}}for(let g=0,y=0;g<l;g++){let v=(l-g)*4+(o?9:12),N=g*2,O=c-1-N;for(let D=0;D<v;D++){let U=D*2;for(let V=0;V<2;V++)h[y+U+V]=s.get(d[N+V],d[N+D]),h[y+2*v+U+V]=s.get(d[N+D],d[O-V]),h[y+4*v+U+V]=s.get(d[O-V],d[O-D]),h[y+6*v+U+V]=s.get(d[O-D],d[N+V])}y+=v*8}return h}static readCode(s,o,l){let c=0;for(let d=o;d<o+l;d++)c<<=1,s[d]&&(c|=1);return c}static readByte(s,o){let l=s.length-o;return l>=8?Ze.readCode(s,o,8):Ze.readCode(s,o,l)<<8-l}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let l=0;l<o.length;l++)o[l]=Ze.readByte(s,8*l);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Ze.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ze.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ze.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ze{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,l,c){const d=s-l,h=o-c;return Math.sqrt(d*d+h*h)}static sum(s){let o=0;for(let l=0,c=s.length;l!==c;l++){const d=s[l];o+=d}return o}}class Ni{static floatToIntBits(s){return s}}Ni.MAX_VALUE=Number.MAX_SAFE_INTEGER;class we{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof we){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Ni.floatToIntBits(this.x)+Ni.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),c=this.distance(s[0],s[2]);let d,h,g;if(l>=o&&l>=c?(h=s[0],d=s[1],g=s[2]):c>=l&&c>=o?(h=s[1],d=s[0],g=s[2]):(h=s[2],d=s[0],g=s[1]),this.crossProductZ(d,h,g)<0){const y=d;d=g,g=y}s[0]=d,s[1]=h,s[2]=g}static distance(s,o){return ze.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,l){const c=o.x,d=o.y;return(l.x-c)*(s.y-d)-(l.y-d)*(s.x-c)}}class Ti{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Fn extends Ti{constructor(s,o,l,c,d){super(s,o),this.compact=l,this.nbDatablocks=c,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class xn{constructor(s,o,l,c){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=xn.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),c==null&&(c=s.getHeight()/2|0);const d=o/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=c-d,this.downInit=c+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let s=this.leftInit,o=this.rightInit,l=this.upInit,c=this.downInit,d=!1,h=!0,g=!1,y=!1,v=!1,N=!1,O=!1;const D=this.width,U=this.height;for(;h;){h=!1;let V=!0;for(;(V||!y)&&o<D;)V=this.containsBlackPoint(l,c,o,!1),V?(o++,h=!0,y=!0):y||o++;if(o>=D){d=!0;break}let $=!0;for(;($||!v)&&c<U;)$=this.containsBlackPoint(s,o,c,!0),$?(c++,h=!0,v=!0):v||c++;if(c>=U){d=!0;break}let K=!0;for(;(K||!N)&&s>=0;)K=this.containsBlackPoint(l,c,s,!1),K?(s--,h=!0,N=!0):N||s--;if(s<0){d=!0;break}let Z=!0;for(;(Z||!O)&&l>=0;)Z=this.containsBlackPoint(s,o,l,!0),Z?(l--,h=!0,O=!0):O||l--;if(l<0){d=!0;break}h&&(g=!0)}if(!d&&g){const V=o-s;let $=null;for(let he=1;$===null&&he<V;he++)$=this.getBlackPointOnSegment(s,c-he,s+he,c);if($==null)throw new G;let K=null;for(let he=1;K===null&&he<V;he++)K=this.getBlackPointOnSegment(s,l+he,s+he,l);if(K==null)throw new G;let Z=null;for(let he=1;Z===null&&he<V;he++)Z=this.getBlackPointOnSegment(o,l+he,o-he,l);if(Z==null)throw new G;let fe=null;for(let he=1;fe===null&&he<V;he++)fe=this.getBlackPointOnSegment(o,c-he,o-he,c);if(fe==null)throw new G;return this.centerEdges(fe,$,Z,K)}else throw new G}getBlackPointOnSegment(s,o,l,c){const d=ze.round(ze.distance(s,o,l,c)),h=(l-s)/d,g=(c-o)/d,y=this.image;for(let v=0;v<d;v++){const N=ze.round(s+v*h),O=ze.round(o+v*g);if(y.get(N,O))return new we(N,O)}return null}centerEdges(s,o,l,c){const d=s.getX(),h=s.getY(),g=o.getX(),y=o.getY(),v=l.getX(),N=l.getY(),O=c.getX(),D=c.getY(),U=xn.CORR;return d<this.width/2?[new we(O-U,D+U),new we(g+U,y+U),new we(v-U,N-U),new we(d+U,h-U)]:[new we(O+U,D+U),new we(g+U,y-U),new we(v-U,N+U),new we(d-U,h-U)]}containsBlackPoint(s,o,l,c){const d=this.image;if(c){for(let h=s;h<=o;h++)if(d.get(h,l))return!0}else for(let h=s;h<=o;h++)if(d.get(l,h))return!0;return!1}}xn.INIT_SIZE=10,xn.CORR=1;class La{static checkAndNudgePoints(s,o){const l=s.getWidth(),c=s.getHeight();let d=!0;for(let h=0;h<o.length&&d;h+=2){const g=Math.floor(o[h]),y=Math.floor(o[h+1]);if(g<-1||g>l||y<-1||y>c)throw new G;d=!1,g===-1?(o[h]=0,d=!0):g===l&&(o[h]=l-1,d=!0),y===-1?(o[h+1]=0,d=!0):y===c&&(o[h+1]=c-1,d=!0)}d=!0;for(let h=o.length-2;h>=0&&d;h-=2){const g=Math.floor(o[h]),y=Math.floor(o[h+1]);if(g<-1||g>l||y<-1||y>c)throw new G;d=!1,g===-1?(o[h]=0,d=!0):g===l&&(o[h]=l-1,d=!0),y===-1?(o[h+1]=0,d=!0):y===c&&(o[h+1]=c-1,d=!0)}}}class xt{constructor(s,o,l,c,d,h,g,y,v){this.a11=s,this.a21=o,this.a31=l,this.a12=c,this.a22=d,this.a32=h,this.a13=g,this.a23=y,this.a33=v}static quadrilateralToQuadrilateral(s,o,l,c,d,h,g,y,v,N,O,D,U,V,$,K){const Z=xt.quadrilateralToSquare(s,o,l,c,d,h,g,y);return xt.squareToQuadrilateral(v,N,O,D,U,V,$,K).times(Z)}transformPoints(s){const o=s.length,l=this.a11,c=this.a12,d=this.a13,h=this.a21,g=this.a22,y=this.a23,v=this.a31,N=this.a32,O=this.a33;for(let D=0;D<o;D+=2){const U=s[D],V=s[D+1],$=d*U+y*V+O;s[D]=(l*U+h*V+v)/$,s[D+1]=(c*U+g*V+N)/$}}transformPointsWithValues(s,o){const l=this.a11,c=this.a12,d=this.a13,h=this.a21,g=this.a22,y=this.a23,v=this.a31,N=this.a32,O=this.a33,D=s.length;for(let U=0;U<D;U++){const V=s[U],$=o[U],K=d*V+y*$+O;s[U]=(l*V+h*$+v)/K,o[U]=(c*V+g*$+N)/K}}static squareToQuadrilateral(s,o,l,c,d,h,g,y){const v=s-l+d-g,N=o-c+h-y;if(v===0&&N===0)return new xt(l-s,d-l,s,c-o,h-c,o,0,0,1);{const O=l-d,D=g-d,U=c-h,V=y-h,$=O*V-D*U,K=(v*V-D*N)/$,Z=(O*N-v*U)/$;return new xt(l-s+K*l,g-s+Z*g,s,c-o+K*c,y-o+Z*y,o,K,Z,1)}}static quadrilateralToSquare(s,o,l,c,d,h,g,y){return xt.squareToQuadrilateral(s,o,l,c,d,h,g,y).buildAdjoint()}buildAdjoint(){return new xt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new xt(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class os extends La{sampleGrid(s,o,l,c,d,h,g,y,v,N,O,D,U,V,$,K,Z,fe,he){const ce=xt.quadrilateralToQuadrilateral(c,d,h,g,y,v,N,O,D,U,V,$,K,Z,fe,he);return this.sampleGridWithTransform(s,o,l,ce)}sampleGridWithTransform(s,o,l,c){if(o<=0||l<=0)throw new G;const d=new re(o,l),h=new Float32Array(2*o);for(let g=0;g<l;g++){const y=h.length,v=g+.5;for(let N=0;N<y;N+=2)h[N]=N/2+.5,h[N+1]=v;c.transformPoints(h),La.checkAndNudgePoints(s,h);try{for(let N=0;N<y;N+=2)s.get(Math.floor(h[N]),Math.floor(h[N+1]))&&d.set(N/2,g)}catch{throw new G}}return d}}class Un{static setGridSampler(s){Un.gridSampler=s}static getInstance(){return Un.gridSampler}}Un.gridSampler=new os;class nr{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new we(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ki{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(s){let h=l[0];l[0]=l[2],l[2]=h}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new Fn(c,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new G;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(l,o);let c=0;for(let h=0;h<4;h++){let g=l[(this.shift+h)%4];this.compact?(c<<=7,c+=g>>1&127):(c<<=10,c+=(g>>2&992)+(g>>1&31))}let d=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(s,o){let l=0;s.forEach((c,d,h)=>{let g=(c>>o-2<<1)+(c&1);l=(l<<3)+g}),l=((l&1)<<11)+(l>>1);for(let c=0;c<4;c++)if(_.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new G}getCorrectedParameterData(s,o){let l,c;o?(l=7,c=2):(l=10,c=4);let d=l-c,h=new Int32Array(l);for(let y=l-1;y>=0;--y)h[y]=s&15,s>>=4;try{new rn(ke.AZTEC_PARAM).decode(h,d)}catch{throw new G}let g=0;for(let y=0;y<c;y++)g=(g<<4)+h[y];return g}getBullsEyeCorners(s){let o=s,l=s,c=s,d=s,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(o,h,1,-1),D=this.getFirstDifferent(l,h,1,1),U=this.getFirstDifferent(c,h,-1,1),V=this.getFirstDifferent(d,h,-1,-1);if(this.nbCenterLayers>2){let $=this.distancePoint(V,O)*this.nbCenterLayers/(this.distancePoint(d,o)*(this.nbCenterLayers+2));if($<.75||$>1.25||!this.isWhiteOrBlackRectangle(O,D,U,V))break}o=O,l=D,c=U,d=V,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let g=new we(o.getX()+.5,o.getY()-.5),y=new we(l.getX()+.5,l.getY()+.5),v=new we(c.getX()-.5,c.getY()+.5),N=new we(d.getX()-.5,d.getY()-.5);return this.expandSquare([g,y,v,N],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,l,c;try{let g=new xn(this.image).detect();s=g[0],o=g[1],l=g[2],c=g[3]}catch{let y=this.image.getWidth()/2,v=this.image.getHeight()/2;s=this.getFirstDifferent(new nr(y+7,v-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new nr(y+7,v+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new nr(y-7,v+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new nr(y-7,v-7),!1,-1,-1).toResultPoint()}let d=ze.round((s.getX()+c.getX()+o.getX()+l.getX())/4),h=ze.round((s.getY()+c.getY()+o.getY()+l.getY())/4);try{let g=new xn(this.image,15,d,h).detect();s=g[0],o=g[1],l=g[2],c=g[3]}catch{s=this.getFirstDifferent(new nr(d+7,h-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new nr(d+7,h+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new nr(d-7,h+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new nr(d-7,h-7),!1,-1,-1).toResultPoint()}return d=ze.round((s.getX()+c.getX()+o.getX()+l.getX())/4),h=ze.round((s.getY()+c.getY()+o.getY()+l.getY())/4),new nr(d,h)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,l,c,d){let h=Un.getInstance(),g=this.getDimension(),y=g/2-this.nbCenterLayers,v=g/2+this.nbCenterLayers;return h.sampleGrid(s,g,g,y,y,v,y,v,v,y,v,o.getX(),o.getY(),l.getX(),l.getY(),c.getX(),c.getY(),d.getX(),d.getY())}sampleLine(s,o,l){let c=0,d=this.distanceResultPoint(s,o),h=d/l,g=s.getX(),y=s.getY(),v=h*(o.getX()-s.getX())/d,N=h*(o.getY()-s.getY())/d;for(let O=0;O<l;O++)this.image.get(ze.round(g+O*v),ze.round(y+O*N))&&(c|=1<<l-O-1);return c}isWhiteOrBlackRectangle(s,o,l,c){let d=3;s=new nr(s.getX()-d,s.getY()+d),o=new nr(o.getX()-d,o.getY()-d),l=new nr(l.getX()+d,l.getY()-d),c=new nr(c.getX()+d,c.getY()+d);let h=this.getColor(c,s);if(h===0)return!1;let g=this.getColor(s,o);return g!==h||(g=this.getColor(o,l),g!==h)?!1:(g=this.getColor(l,c),g===h)}getColor(s,o){let l=this.distancePoint(s,o),c=(o.getX()-s.getX())/l,d=(o.getY()-s.getY())/l,h=0,g=s.getX(),y=s.getY(),v=this.image.get(s.getX(),s.getY()),N=Math.ceil(l);for(let D=0;D<N;D++)g+=c,y+=d,this.image.get(ze.round(g),ze.round(y))!==v&&h++;let O=h/l;return O>.1&&O<.9?0:O<=.1===v?1:-1}getFirstDifferent(s,o,l,c){let d=s.getX()+l,h=s.getY()+c;for(;this.isValid(d,h)&&this.image.get(d,h)===o;)d+=l,h+=c;for(d-=l,h-=c;this.isValid(d,h)&&this.image.get(d,h)===o;)d+=l;for(d-=l;this.isValid(d,h)&&this.image.get(d,h)===o;)h+=c;return h-=c,new nr(d,h)}expandSquare(s,o,l){let c=l/(2*o),d=s[0].getX()-s[2].getX(),h=s[0].getY()-s[2].getY(),g=(s[0].getX()+s[2].getX())/2,y=(s[0].getY()+s[2].getY())/2,v=new we(g+c*d,y+c*h),N=new we(g-c*d,y-c*h);d=s[1].getX()-s[3].getX(),h=s[1].getY()-s[3].getY(),g=(s[1].getX()+s[3].getX())/2,y=(s[1].getY()+s[3].getY())/2;let O=new we(g+c*d,y+c*h),D=new we(g-c*d,y-c*h);return[v,O,N,D]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=ze.round(s.getX()),l=ze.round(s.getY());return this.isValid(o,l)}distancePoint(s,o){return ze.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return ze.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class ho{decode(s,o=null){let l=null,c=new ki(s.getBlackMatrix()),d=null,h=null;try{let N=c.detectMirror(!1);d=N.getPoints(),this.reportFoundResultPoints(o,d),h=new Ze().decode(N)}catch(N){l=N}if(h==null)try{let N=c.detectMirror(!0);d=N.getPoints(),this.reportFoundResultPoints(o,d),h=new Ze().decode(N)}catch(N){throw l??N}let g=new Ee(h.getText(),h.getRawBytes(),h.getNumBits(),d,te.AZTEC,A.currentTimeMillis()),y=h.getByteSegments();y!=null&&g.putMetadata(ye.BYTE_SEGMENTS,y);let v=h.getECLevel();return v!=null&&g.putMetadata(ye.ERROR_CORRECTION_LEVEL,v),g}reportFoundResultPoints(s,o){if(s!=null){let l=s.get(L.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((c,d,h)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class pc extends je{constructor(s=500){super(new ho,s)}}class yt{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(L.TRY_HARDER)===!0&&s.isRotateSupported()){const d=s.rotateCounterClockwise(),h=this.doDecode(d,o),g=h.getResultMetadata();let y=270;g!==null&&g.get(ye.ORIENTATION)===!0&&(y=y+g.get(ye.ORIENTATION)%360),h.putMetadata(ye.ORIENTATION,y);const v=h.getResultPoints();if(v!==null){const N=d.getHeight();for(let O=0;O<v.length;O++)v[O]=new we(N-v[O].getY()-1,v[O].getX())}return h}else throw new G}}reset(){}doDecode(s,o){const l=s.getWidth(),c=s.getHeight();let d=new P(l);const h=o&&o.get(L.TRY_HARDER)===!0,g=Math.max(1,c>>(h?8:5));let y;h?y=c:y=15;const v=Math.trunc(c/2);for(let N=0;N<y;N++){const O=Math.trunc((N+1)/2),D=(N&1)===0,U=v+g*(D?O:-O);if(U<0||U>=c)break;try{d=s.getBlackRow(U,d)}catch{continue}for(let V=0;V<2;V++){if(V===1&&(d.reverse(),o&&o.get(L.NEED_RESULT_POINT_CALLBACK)===!0)){const $=new Map;o.forEach((K,Z)=>$.set(Z,K)),$.delete(L.NEED_RESULT_POINT_CALLBACK),o=$}try{const $=this.decodeRow(U,d,o);if(V===1){$.putMetadata(ye.ORIENTATION,180);const K=$.getResultPoints();K!==null&&(K[0]=new we(l-K[0].getX()-1,K[0].getY()),K[1]=new we(l-K[1].getX()-1,K[1].getY()))}return $}catch{}}}throw new G}static recordPattern(s,o,l){const c=l.length;for(let v=0;v<c;v++)l[v]=0;const d=s.getSize();if(o>=d)throw new G;let h=!s.get(o),g=0,y=o;for(;y<d;){if(s.get(y)!==h)l[g]++;else{if(++g===c)break;l[g]=1,h=!h}y++}if(!(g===c||g===c-1&&y===d))throw new G}static recordPatternInReverse(s,o,l){let c=l.length,d=s.get(o);for(;o>0&&c>=0;)s.get(--o)!==d&&(c--,d=!d);if(c>=0)throw new G;yt.recordPattern(s,o+1,l)}static patternMatchVariance(s,o,l){const c=s.length;let d=0,h=0;for(let v=0;v<c;v++)d+=s[v],h+=o[v];if(d<h)return Number.POSITIVE_INFINITY;const g=d/h;l*=g;let y=0;for(let v=0;v<c;v++){const N=s[v],O=o[v]*g,D=N>O?N-O:O-N;if(D>l)return Number.POSITIVE_INFINITY;y+=D}return y/d}}class me extends yt{static findStartPattern(s){const o=s.getSize(),l=s.getNextSet(0);let c=0,d=Int32Array.from([0,0,0,0,0,0]),h=l,g=!1;const y=6;for(let v=l;v<o;v++)if(s.get(v)!==g)d[c]++;else{if(c===y-1){let N=me.MAX_AVG_VARIANCE,O=-1;for(let D=me.CODE_START_A;D<=me.CODE_START_C;D++){const U=yt.patternMatchVariance(d,me.CODE_PATTERNS[D],me.MAX_INDIVIDUAL_VARIANCE);U<N&&(N=U,O=D)}if(O>=0&&s.isRange(Math.max(0,h-(v-h)/2),h,!1))return Int32Array.from([h,v,O]);h+=d[0]+d[1],d=d.slice(2,d.length-1),d[c-1]=0,d[c]=0,c--}else c++;d[c]=1,g=!g}throw new G}static decodeCode(s,o,l){yt.recordPattern(s,l,o);let c=me.MAX_AVG_VARIANCE,d=-1;for(let h=0;h<me.CODE_PATTERNS.length;h++){const g=me.CODE_PATTERNS[h],y=this.patternMatchVariance(o,g,me.MAX_INDIVIDUAL_VARIANCE);y<c&&(c=y,d=h)}if(d>=0)return d;throw new G}decodeRow(s,o,l){const c=l&&l.get(L.ASSUME_GS1)===!0,d=me.findStartPattern(o),h=d[2];let g=0;const y=new Uint8Array(20);y[g++]=h;let v;switch(h){case me.CODE_START_A:v=me.CODE_CODE_A;break;case me.CODE_START_B:v=me.CODE_CODE_B;break;case me.CODE_START_C:v=me.CODE_CODE_C;break;default:throw new M}let N=!1,O=!1,D="",U=d[0],V=d[1];const $=Int32Array.from([0,0,0,0,0,0]);let K=0,Z=0,fe=h,he=0,ce=!0,$e=!1,Be=!1;for(;!N;){const Eo=O;switch(O=!1,K=Z,Z=me.decodeCode(o,$,V),y[g++]=Z,Z!==me.CODE_STOP&&(ce=!0),Z!==me.CODE_STOP&&(he++,fe+=he*Z),U=V,V+=$.reduce((LE,BE)=>LE+BE,0),Z){case me.CODE_START_A:case me.CODE_START_B:case me.CODE_START_C:throw new M}switch(v){case me.CODE_CODE_A:if(Z<64)Be===$e?D+=String.fromCharCode(32+Z):D+=String.fromCharCode(32+Z+128),Be=!1;else if(Z<96)Be===$e?D+=String.fromCharCode(Z-64):D+=String.fromCharCode(Z+64),Be=!1;else switch(Z!==me.CODE_STOP&&(ce=!1),Z){case me.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_A:!$e&&Be?($e=!0,Be=!1):$e&&Be?($e=!1,Be=!1):Be=!0;break;case me.CODE_SHIFT:O=!0,v=me.CODE_CODE_B;break;case me.CODE_CODE_B:v=me.CODE_CODE_B;break;case me.CODE_CODE_C:v=me.CODE_CODE_C;break;case me.CODE_STOP:N=!0;break}break;case me.CODE_CODE_B:if(Z<96)Be===$e?D+=String.fromCharCode(32+Z):D+=String.fromCharCode(32+Z+128),Be=!1;else switch(Z!==me.CODE_STOP&&(ce=!1),Z){case me.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_B:!$e&&Be?($e=!0,Be=!1):$e&&Be?($e=!1,Be=!1):Be=!0;break;case me.CODE_SHIFT:O=!0,v=me.CODE_CODE_A;break;case me.CODE_CODE_A:v=me.CODE_CODE_A;break;case me.CODE_CODE_C:v=me.CODE_CODE_C;break;case me.CODE_STOP:N=!0;break}break;case me.CODE_CODE_C:if(Z<100)Z<10&&(D+="0"),D+=Z;else switch(Z!==me.CODE_STOP&&(ce=!1),Z){case me.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case me.CODE_CODE_A:v=me.CODE_CODE_A;break;case me.CODE_CODE_B:v=me.CODE_CODE_B;break;case me.CODE_STOP:N=!0;break}break}Eo&&(v=v===me.CODE_CODE_A?me.CODE_CODE_B:me.CODE_CODE_A)}const Pr=V-U;if(V=o.getNextUnset(V),!o.isRange(V,Math.min(o.getSize(),V+(V-U)/2),!1))throw new G;if(fe-=he*K,fe%103!==K)throw new E;const vn=D.length;if(vn===0)throw new G;vn>0&&ce&&(v===me.CODE_CODE_C?D=D.substring(0,vn-2):D=D.substring(0,vn-1));const Dr=(d[1]+d[0])/2,at=U+Pr/2,or=y.length,Vr=new Uint8Array(or);for(let Eo=0;Eo<or;Eo++)Vr[Eo]=y[Eo];const bo=[new we(Dr,s),new we(at,s)];return new Ee(D,Vr,0,bo,te.CODE_128,new Date().getTime())}}me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],me.MAX_AVG_VARIANCE=.25,me.MAX_INDIVIDUAL_VARIANCE=.7,me.CODE_SHIFT=98,me.CODE_CODE_C=99,me.CODE_CODE_B=100,me.CODE_CODE_A=101,me.CODE_FNC_1=102,me.CODE_FNC_2=97,me.CODE_FNC_3=96,me.CODE_FNC_4_A=101,me.CODE_FNC_4_B=100,me.CODE_START_A=103,me.CODE_START_B=104,me.CODE_START_C=105,me.CODE_STOP=106;class kt extends yt{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let d=kt.findAsteriskPattern(o,c),h=o.getNextSet(d[1]),g=o.getSize(),y,v;do{kt.recordPattern(o,h,c);let $=kt.toNarrowWidePattern(c);if($<0)throw new G;y=kt.patternToChar($),this.decodeRowResult+=y,v=h;for(let K of c)h+=K;h=o.getNextSet(h)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let N=0;for(let $ of c)N+=$;let O=h-v-N;if(h!==g&&O*2<N)throw new G;if(this.usingCheckDigit){let $=this.decodeRowResult.length-1,K=0;for(let Z=0;Z<$;Z++)K+=kt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Z));if(this.decodeRowResult.charAt($)!==kt.ALPHABET_STRING.charAt(K%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,$)}if(this.decodeRowResult.length===0)throw new G;let D;this.extendedMode?D=kt.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let U=(d[1]+d[0])/2,V=v+N/2;return new Ee(D,null,0,[new we(U,s),new we(V,s)],te.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let l=s.getSize(),c=s.getNextSet(0),d=0,h=c,g=!1,y=o.length;for(let v=c;v<l;v++)if(s.get(v)!==g)o[d]++;else{if(d===y-1){if(this.toNarrowWidePattern(o)===kt.ASTERISK_ENCODING&&s.isRange(Math.max(0,h-Math.floor((v-h)/2)),h,!1))return[h,v];h+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,g=!g}throw new G}static toNarrowWidePattern(s){let o=s.length,l=0,c;do{let d=2147483647;for(let y of s)y<d&&y>l&&(d=y);l=d,c=0;let h=0,g=0;for(let y=0;y<o;y++){let v=s[y];v>l&&(g|=1<<o-1-y,c++,h+=v)}if(c===3){for(let y=0;y<o&&c>0;y++){let v=s[y];if(v>l&&(c--,v*2>=h))return-1}return g}}while(c>3);return-1}static patternToChar(s){for(let o=0;o<kt.CHARACTER_ENCODINGS.length;o++)if(kt.CHARACTER_ENCODINGS[o]===s)return kt.ALPHABET_STRING.charAt(o);if(s===kt.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(s){let o=s.length,l="";for(let c=0;c<o;c++){let d=s.charAt(c);if(d==="+"||d==="$"||d==="%"||d==="/"){let h=s.charAt(c+1),g="\0";switch(d){case"+":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)+32);else throw new M;break;case"$":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)-64);else throw new M;break;case"%":if(h>="A"&&h<="E")g=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")g=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")g=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")g="\0";else if(h==="V")g="@";else if(h==="W")g="`";else if(h==="X"||h==="Y"||h==="Z")g="";else throw new M;break;case"/":if(h>="A"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")g=":";else throw new M;break}l+=g,c++}else l+=d}return l}}kt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",kt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],kt.ASTERISK_ENCODING=148;class qe extends yt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,l){let c=this.decodeStart(o),d=this.decodeEnd(o),h=new ie;qe.decodeMiddle(o,c[1],d[0],h);let g=h.toString(),y=null;l!=null&&(y=l.get(L.ALLOWED_LENGTHS)),y==null&&(y=qe.DEFAULT_ALLOWED_LENGTHS);let v=g.length,N=!1,O=0;for(let V of y){if(v===V){N=!0;break}V>O&&(O=V)}if(!N&&v>O&&(N=!0),!N)throw new M;const D=[new we(c[1],s),new we(d[0],s)];return new Ee(g,null,0,D,te.ITF,new Date().getTime())}static decodeMiddle(s,o,l,c){let d=new Int32Array(10),h=new Int32Array(5),g=new Int32Array(5);for(d.fill(0),h.fill(0),g.fill(0);o<l;){yt.recordPattern(s,o,d);for(let v=0;v<5;v++){let N=2*v;h[v]=d[N],g[v]=d[N+1]}let y=qe.decodeDigit(h);c.append(y.toString()),y=this.decodeDigit(g),c.append(y.toString()),d.forEach(function(v){o+=v})}}decodeStart(s){let o=qe.skipWhiteSpace(s),l=qe.findGuardPattern(s,o,qe.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let c=o-1;l>0&&c>=0&&!s.get(c);c--)l--;if(l!==0)throw new G}static skipWhiteSpace(s){const o=s.getSize(),l=s.getNextSet(0);if(l===o)throw new G;return l}decodeEnd(s){s.reverse();try{let o=qe.skipWhiteSpace(s),l;try{l=qe.findGuardPattern(s,o,qe.END_PATTERN_REVERSED[0])}catch(d){d instanceof G&&(l=qe.findGuardPattern(s,o,qe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let c=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-c,l}finally{s.reverse()}}static findGuardPattern(s,o,l){let c=l.length,d=new Int32Array(c),h=s.getSize(),g=!1,y=0,v=o;d.fill(0);for(let N=o;N<h;N++)if(s.get(N)!==g)d[y]++;else{if(y===c-1){if(yt.patternMatchVariance(d,l,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE)return[v,N];v+=d[0]+d[1],A.arraycopy(d,2,d,0,y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,g=!g}throw new G}static decodeDigit(s){let o=qe.MAX_AVG_VARIANCE,l=-1,c=qe.PATTERNS.length;for(let d=0;d<c;d++){let h=qe.PATTERNS[d],g=yt.patternMatchVariance(s,h,qe.MAX_INDIVIDUAL_VARIANCE);g<o?(o=g,l=d):g===o&&(l=-1)}if(l>=0)return l%10;throw new G}}qe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],qe.MAX_AVG_VARIANCE=.38,qe.MAX_INDIVIDUAL_VARIANCE=.5,qe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],qe.START_PATTERN=Int32Array.from([1,1,1,1]),qe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class wt extends yt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,l,c=0,d=Int32Array.from([0,0,0]);for(;!o;){d=Int32Array.from([0,0,0]),l=wt.findGuardPattern(s,c,!1,this.START_END_PATTERN,d);let h=l[0];c=l[1];let g=h-(c-h);g>=0&&(o=s.isRange(g,h,!1))}return l}static checkChecksum(s){return wt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return wt.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let c=o-1;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new M;l+=d}l*=3;for(let c=o-2;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new M;l+=d}return(1e3-l)%10}static decodeEnd(s,o){return wt.findGuardPattern(s,o,!1,wt.START_END_PATTERN,new Int32Array(wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,l,c){return this.findGuardPattern(s,o,l,c,new Int32Array(c.length))}static findGuardPattern(s,o,l,c,d){let h=s.getSize();o=l?s.getNextUnset(o):s.getNextSet(o);let g=0,y=o,v=c.length,N=l;for(let O=o;O<h;O++)if(s.get(O)!==N)d[g]++;else{if(g===v-1){if(yt.patternMatchVariance(d,c,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return Int32Array.from([y,O]);y+=d[0]+d[1];let D=d.slice(2,d.length-1);for(let U=0;U<g-1;U++)d[U]=D[U];d[g-1]=0,d[g]=0,g--}else g++;d[g]=1,N=!N}throw new G}static decodeDigit(s,o,l,c){this.recordPattern(s,l,o);let d=this.MAX_AVG_VARIANCE,h=-1,g=c.length;for(let y=0;y<g;y++){let v=c[y],N=yt.patternMatchVariance(o,v,wt.MAX_INDIVIDUAL_VARIANCE);N<d&&(d=N,h=y)}if(h>=0)return h;throw new G}}wt.MAX_AVG_VARIANCE=.48,wt.MAX_INDIVIDUAL_VARIANCE=.7,wt.START_END_PATTERN=Int32Array.from([1,1,1]),wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ii{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,c),h=c.toString(),g=Ii.parseExtensionString(h),y=[new we((l[0]+l[1])/2,s),new we(d,s)],v=new Ee(h,null,0,y,te.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&v.putAllMetadata(g),v}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),h=o[1],g=0;for(let v=0;v<5&&h<d;v++){let N=wt.decodeDigit(s,c,h,wt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+N%10);for(let O of c)h+=O;N>=10&&(g|=1<<4-v),v!==4&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(l.length!==5)throw new G;let y=this.determineCheckDigit(g);if(Ii.extensionChecksum(l.toString())!==y)throw new G;return h}static extensionChecksum(s){let o=s.length,l=0;for(let c=o-2;c>=0;c-=2)l+=s.charAt(c).charCodeAt(0)-48;l*=3;for(let c=o-1;c>=0;c-=2)l+=s.charAt(c).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new G}static parseExtensionString(s){if(s.length!==5)return null;let o=Ii.parseExtension5String(s);return o==null?null:new Map([[ye.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(s.substring(1)),c=(l/100).toString(),d=l%100,h=d<10?"0"+d:d.toString();return o+c+"."+h}}class mo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,c),h=c.toString(),g=mo.parseExtensionString(h),y=[new we((l[0]+l[1])/2,s),new we(d,s)],v=new Ee(h,null,0,y,te.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&v.putAllMetadata(g),v}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),h=o[1],g=0;for(let y=0;y<2&&h<d;y++){let v=wt.decodeDigit(s,c,h,wt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+v%10);for(let N of c)h+=N;v>=10&&(g|=1<<1-y),y!==1&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(l.length!==2)throw new G;if(parseInt(l.toString())%4!==g)throw new G;return h}static parseExtensionString(s){return s.length!==2?null:new Map([[ye.ISSUE_NUMBER,parseInt(s)]])}}class Ba{static decodeRow(s,o,l){let c=wt.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ii().decodeRow(s,o,c)}catch{return new mo().decodeRow(s,o,c)}}}Ba.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Xe extends wt{constructor(){super(),this.decodeRowStringBuffer="",Xe.L_AND_G_PATTERNS=Xe.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=Xe.L_PATTERNS[s-10],l=new Int32Array(o.length);for(let c=0;c<o.length;c++)l[c]=o[o.length-c-1];Xe.L_AND_G_PATTERNS[s]=l}}decodeRow(s,o,l){let c=Xe.findStartGuardPattern(o),d=l==null?null:l.get(L.NEED_RESULT_POINT_CALLBACK);if(d!=null){const ce=new we((c[0]+c[1])/2,s);d.foundPossibleResultPoint(ce)}let h=this.decodeMiddle(o,c,this.decodeRowStringBuffer),g=h.rowOffset,y=h.resultString;if(d!=null){const ce=new we(g,s);d.foundPossibleResultPoint(ce)}let v=this.decodeEnd(o,g);if(d!=null){const ce=new we((v[0]+v[1])/2,s);d.foundPossibleResultPoint(ce)}let N=v[1],O=N+(N-v[0]);if(O>=o.getSize()||!o.isRange(N,O,!1))throw new G;let D=y.toString();if(D.length<8)throw new M;if(!Xe.checkChecksum(D))throw new E;let U=(c[1]+c[0])/2,V=(v[1]+v[0])/2,$=this.getBarcodeFormat(),K=[new we(U,s),new we(V,s)],Z=new Ee(D,null,0,K,$,new Date().getTime()),fe=0;try{let ce=Ba.decodeRow(s,o,v[1]);Z.putMetadata(ye.UPC_EAN_EXTENSION,ce.getText()),Z.putAllMetadata(ce.getResultMetadata()),Z.addResultPoints(ce.getResultPoints()),fe=ce.getText().length}catch{}let he=l==null?null:l.get(L.ALLOWED_EAN_EXTENSIONS);if(he!=null){let ce=!1;for(let $e in he)if(fe.toString()===$e){ce=!0;break}if(!ce)throw new G}return Z}decodeEnd(s,o){return Xe.findGuardPattern(s,o,!1,Xe.START_END_PATTERN,new Int32Array(Xe.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Xe.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return Xe.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let c=o-1;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new M;l+=d}l*=3;for(let c=o-2;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new M;l+=d}return(1e3-l)%10}}class yn extends Xe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),h=o[1],g=0;for(let v=0;v<6&&h<d;v++){let N=Xe.decodeDigit(s,c,h,Xe.L_AND_G_PATTERNS);l+=String.fromCharCode(48+N%10);for(let O of c)h+=O;N>=10&&(g|=1<<5-v)}l=yn.determineFirstDigit(l,g),h=Xe.findGuardPattern(s,h,!0,Xe.MIDDLE_PATTERN,new Int32Array(Xe.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&h<d;v++){let N=Xe.decodeDigit(s,c,h,Xe.L_PATTERNS);l+=String.fromCharCode(48+N);for(let O of c)h+=O}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return te.EAN_13}static determineFirstDigit(s,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode(48+l)+s,s;throw new G}}yn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class wn extends Xe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),h=o[1];for(let y=0;y<4&&h<d;y++){let v=Xe.decodeDigit(s,c,h,Xe.L_PATTERNS);l+=String.fromCharCode(48+v);for(let N of c)h+=N}h=Xe.findGuardPattern(s,h,!0,Xe.MIDDLE_PATTERN,new Int32Array(Xe.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&h<d;y++){let v=Xe.decodeDigit(s,c,h,Xe.L_PATTERNS);l+=String.fromCharCode(48+v);for(let N of c)h+=N}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return te.EAN_8}}class gc extends Xe{constructor(){super(...arguments),this.ean13Reader=new yn}getBarcodeFormat(){return te.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,l))}decodeMiddle(s,o,l){return this.ean13Reader.decodeMiddle(s,o,l)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let l=new Ee(o.substring(1),null,null,s.getResultPoints(),te.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new G}reset(){this.ean13Reader.reset()}}class Ne extends Xe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,l){const c=this.decodeMiddleCounters.map(v=>v);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const d=s.getSize();let h=o[1],g=0;for(let v=0;v<6&&h<d;v++){const N=Ne.decodeDigit(s,c,h,Ne.L_AND_G_PATTERNS);l+=String.fromCharCode(48+N%10);for(let O of c)h+=O;N>=10&&(g|=1<<5-v)}let y=Ne.determineNumSysAndCheckDigit(l,g);return{rowOffset:h,resultString:y}}decodeEnd(s,o){return Ne.findGuardPatternWithoutCounters(s,o,!0,Ne.MIDDLE_END_PATTERN)}checkChecksum(s){return Xe.checkChecksum(Ne.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){let d=String.fromCharCode(48+l),h=String.fromCharCode(48+c);return d+s+h}throw G.getNotFoundInstance()}getBarcodeFormat(){return te.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new ie;l.append(s.charAt(0));let c=o[5];switch(c){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(c),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(c);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}Ne.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ne.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Je extends yt{constructor(s){super();let o=s==null?null:s.get(L.POSSIBLE_FORMATS),l=[];n(o)?(l.push(new yn),l.push(new gc),l.push(new wn),l.push(new Ne)):(o.indexOf(te.EAN_13)>-1&&l.push(new yn),o.indexOf(te.UPC_A)>-1&&l.push(new gc),o.indexOf(te.EAN_8)>-1&&l.push(new wn),o.indexOf(te.UPC_E)>-1&&l.push(new Ne)),this.readers=l}decodeRow(s,o,l){for(let c of this.readers)try{const d=c.decodeRow(s,o,l),h=d.getBarcodeFormat()===te.EAN_13&&d.getText().charAt(0)==="0",g=l==null?null:l.get(L.POSSIBLE_FORMATS),y=g==null||g.includes(te.UPC_A);if(h&&y){const v=d.getRawBytes(),N=new Ee(d.getText().substring(1),v,v?v.length:null,d.getResultPoints(),te.UPC_A);return N.putAllMetadata(d.getResultMetadata()),N}return d}catch{}throw new G}reset(){for(let s of this.readers)s.reset()}}class Fe extends yt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let l=0;l<o.length;l++)if(yt.patternMatchVariance(s,o[l],Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE)return l;throw new G}static count(s){return ze.sum(new Int32Array(s))}static increment(s,o){let l=0,c=o[0];for(let d=1;d<s.length;d++)o[d]>c&&(c=o[d],l=d);s[l]++}static decrement(s,o){let l=0,c=o[0];for(let d=1;d<s.length;d++)o[d]<c&&(c=o[d],l=d);s[l]--}static isFinderPattern(s){let o=s[0]+s[1],l=o+s[2]+s[3],c=o/l;if(c>=Fe.MIN_FINDER_PATTERN_RATIO&&c<=Fe.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let g of s)g>h&&(h=g),g<d&&(d=g);return h<10*d}return!1}}Fe.MAX_AVG_VARIANCE=.2,Fe.MAX_INDIVIDUAL_VARIANCE=.45,Fe.MIN_FINDER_PATTERN_RATIO=9.5/12,Fe.MAX_FINDER_PATTERN_RATIO=12.5/14;class Zt{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Zt))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class hr{constructor(s,o,l,c,d){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new we(l,d)),this.resultPoints.push(new we(c,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof hr))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class Wt{constructor(){}static getRSSvalue(s,o,l){let c=0;for(let y of s)c+=y;let d=0,h=0,g=s.length;for(let y=0;y<g-1;y++){let v;for(v=1,h|=1<<y;v<s[y];v++,h&=~(1<<y)){let N=Wt.combins(c-v-1,g-y-2);if(l&&h===0&&c-v-(g-y-1)>=g-y-1&&(N-=Wt.combins(c-v-(g-y),g-y-2)),g-y-1>1){let O=0;for(let D=c-v-(g-y-2);D>o;D--)O+=Wt.combins(c-v-D-1,g-y-3);N-=O*(g-1-y)}else c-v>o&&N--;d+=N}c-=v}return d}static combins(s,o){let l,c;s-o>o?(c=o,l=s-o):(c=s-o,l=o);let d=1,h=1;for(let g=s;g>l;g--)d*=g,h<=c&&(d/=h,h++);for(;h<=c;)d/=h,h++;return d}}class as{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let l=12*o,c=new P(l),d=0,g=s[0].getRightChar().getValue();for(let y=11;y>=0;--y)g&1<<y&&c.set(d),d++;for(let y=1;y<s.length;++y){let v=s[y],N=v.getLeftChar().getValue();for(let O=11;O>=0;--O)N&1<<O&&c.set(d),d++;if(v.getRightChar()!=null){let O=v.getRightChar().getValue();for(let D=11;D>=0;--D)O&1<<D&&c.set(d),d++}}return c}}class Ht{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class nn{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Rr extends nn{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Rr.FNC1}}Rr.FNC1="$";class Ri extends nn{constructor(s,o,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class sn extends nn{constructor(s,o,l){if(super(s),o<0||o>10||l<0||l>10)throw new M;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===sn.FNC1}isSecondDigitFNC1(){return this.secondDigit===sn.FNC1}isAnyFNC1(){return this.firstDigit===sn.FNC1||this.secondDigit===sn.FNC1}}sn.FNC1=10;class ve{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new G;let o=s.substring(0,2);for(let d of ve.TWO_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===ve.VARIABLE_LENGTH?ve.processVariableAI(2,d[2],s):ve.processFixedAI(2,d[1],s);if(s.length<3)throw new G;let l=s.substring(0,3);for(let d of ve.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===ve.VARIABLE_LENGTH?ve.processVariableAI(3,d[2],s):ve.processFixedAI(3,d[1],s);for(let d of ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===ve.VARIABLE_LENGTH?ve.processVariableAI(4,d[2],s):ve.processFixedAI(4,d[1],s);if(s.length<4)throw new G;let c=s.substring(0,4);for(let d of ve.FOUR_DIGIT_DATA_LENGTH)if(d[0]===c)return d[1]===ve.VARIABLE_LENGTH?ve.processVariableAI(4,d[2],s):ve.processFixedAI(4,d[1],s);throw new G}static processFixedAI(s,o,l){if(l.length<s)throw new G;let c=l.substring(0,s);if(l.length<s+o)throw new G;let d=l.substring(s,s+o),h=l.substring(s+o),g="("+c+")"+d,y=ve.parseFieldsInGeneralPurpose(h);return y==null?g:g+y}static processVariableAI(s,o,l){let c=l.substring(0,s),d;l.length<s+o?d=l.length:d=s+o;let h=l.substring(s,d),g=l.substring(d),y="("+c+")"+h,v=ve.parseFieldsInGeneralPurpose(g);return v==null?y:y+v}}ve.VARIABLE_LENGTH=[],ve.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ve.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ve.VARIABLE_LENGTH,20],["22",ve.VARIABLE_LENGTH,29],["30",ve.VARIABLE_LENGTH,8],["37",ve.VARIABLE_LENGTH,8],["90",ve.VARIABLE_LENGTH,30],["91",ve.VARIABLE_LENGTH,30],["92",ve.VARIABLE_LENGTH,30],["93",ve.VARIABLE_LENGTH,30],["94",ve.VARIABLE_LENGTH,30],["95",ve.VARIABLE_LENGTH,30],["96",ve.VARIABLE_LENGTH,30],["97",ve.VARIABLE_LENGTH,3],["98",ve.VARIABLE_LENGTH,30],["99",ve.VARIABLE_LENGTH,30]],ve.THREE_DIGIT_DATA_LENGTH=[["240",ve.VARIABLE_LENGTH,30],["241",ve.VARIABLE_LENGTH,30],["242",ve.VARIABLE_LENGTH,6],["250",ve.VARIABLE_LENGTH,30],["251",ve.VARIABLE_LENGTH,30],["253",ve.VARIABLE_LENGTH,17],["254",ve.VARIABLE_LENGTH,20],["400",ve.VARIABLE_LENGTH,30],["401",ve.VARIABLE_LENGTH,30],["402",17],["403",ve.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ve.VARIABLE_LENGTH,20],["421",ve.VARIABLE_LENGTH,15],["422",3],["423",ve.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ve.VARIABLE_LENGTH,15],["391",ve.VARIABLE_LENGTH,18],["392",ve.VARIABLE_LENGTH,15],["393",ve.VARIABLE_LENGTH,18],["703",ve.VARIABLE_LENGTH,30]],ve.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ve.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ve.VARIABLE_LENGTH,20],["8003",ve.VARIABLE_LENGTH,30],["8004",ve.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ve.VARIABLE_LENGTH,30],["8008",ve.VARIABLE_LENGTH,12],["8018",18],["8020",ve.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ve.VARIABLE_LENGTH,70],["8200",ve.VARIABLE_LENGTH,70]];class po{constructor(s){this.buffer=new ie,this.information=s}decodeAllCodes(s,o){let l=o,c=null;do{let d=this.decodeGeneralPurposeField(l,c),h=ve.parseFieldsInGeneralPurpose(d.getNewString());if(h!=null&&s.append(h),d.isRemaining()?c=""+d.getRemainingValue():c=null,l===d.getNewPosition())break;l=d.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(s,4);return d===0?new sn(this.information.getSize(),sn.FNC1,sn.FNC1):new sn(this.information.getSize(),d-1,sn.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),l=(o-8)/11,c=(o-8)%11;return new sn(s+7,l,c)}extractNumericValueFromBitArray(s,o){return po.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,l){let c=0;for(let d=0;d<l;++d)s.get(o+d)&&(c|=1<<l-d-1);return c}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Ri(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Ri(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new Ri(this.current.getPosition(),this.buffer.toString()):o=new Ri(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Ht(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new Ri(this.current.getPosition(),this.buffer.toString());return new Ht(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ht(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Ri(this.current.getPosition(),this.buffer.toString());return new Ht(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ht(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Ri(this.current.getPosition(),this.buffer.toString());return new Ht(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ht(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,8);return c>=232&&c<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Rr(s+5,Rr.FNC1);if(o>=5&&o<15)return new Rr(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new Rr(s+7,""+(l+1));if(l>=90&&l<116)return new Rr(s+7,""+(l+7));let c=this.extractNumericValueFromBitArray(s,8),d;switch(c){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new M}return new Rr(s+8,d)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Rr(s+5,Rr.FNC1);if(o>=5&&o<15)return new Rr(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new Rr(s+6,""+(l+33));let c;switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new fr("Decoding invalid alphanumeric value: "+l)}return new Rr(s+6,c)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class Kd{constructor(s){this.information=s,this.generalDecoder=new po(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Or extends Kd{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,l)}encodeCompressedGtinWithoutAI(s,o,l){for(let c=0;c<4;++c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*c,10);d/100===0&&s.append("0"),d/10===0&&s.append("0"),s.append(d)}Or.appendCheckDigit(s,l)}static appendCheckDigit(s,o){let l=0;for(let c=0;c<13;c++){let d=s.charAt(c+o).charCodeAt(0)-48;l+=c&1?d:3*d}l=10-l%10,l===10&&(l=0),s.append(l)}}Or.GTIN_SIZE=40;class go extends Or{constructor(s){super(s)}parseInformation(){let s=new ie;s.append("(01)");let o=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(go.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,go.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,go.HEADER_SIZE+44)}}go.HEADER_SIZE=4;class xc extends Kd{constructor(s){super(s)}parseInformation(){let s=new ie;return this.getGeneralDecoder().decodeAllCodes(s,xc.HEADER_SIZE)}}xc.HEADER_SIZE=5;class yc extends Or{constructor(s){super(s)}encodeCompressedWeight(s,o,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(s,c);let d=this.checkWeight(c),h=1e5;for(let g=0;g<5;++g)d/h===0&&s.append("0"),h/=10;s.append(d)}}class zn extends yc{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=zn.HEADER_SIZE+yc.GTIN_SIZE+zn.WEIGHT_SIZE)throw new G;let s=new ie;return this.encodeCompressedGtin(s,zn.HEADER_SIZE),this.encodeCompressedWeight(s,zn.HEADER_SIZE+yc.GTIN_SIZE,zn.WEIGHT_SIZE),s.toString()}}zn.HEADER_SIZE=5,zn.WEIGHT_SIZE=15;class uE extends zn{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class dE extends zn{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Vn extends Or{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Vn.HEADER_SIZE+Or.GTIN_SIZE)throw new G;let s=new ie;this.encodeCompressedGtin(s,Vn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Vn.HEADER_SIZE+Or.GTIN_SIZE,Vn.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Vn.HEADER_SIZE+Or.GTIN_SIZE+Vn.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}Vn.HEADER_SIZE=8,Vn.LAST_DIGIT_SIZE=2;class br extends Or{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<br.HEADER_SIZE+Or.GTIN_SIZE)throw new G;let s=new ie;this.encodeCompressedGtin(s,br.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(br.HEADER_SIZE+Or.GTIN_SIZE,br.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(br.HEADER_SIZE+Or.GTIN_SIZE+br.LAST_DIGIT_SIZE,br.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(br.HEADER_SIZE+Or.GTIN_SIZE+br.LAST_DIGIT_SIZE+br.FIRST_THREE_DIGITS_SIZE,null);return s.append(c.getNewString()),s.toString()}}br.HEADER_SIZE=8,br.LAST_DIGIT_SIZE=2,br.FIRST_THREE_DIGITS_SIZE=10;class vt extends yc{constructor(s,o,l){super(s),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE+vt.DATE_SIZE)throw new G;let s=new ie;return this.encodeCompressedGtin(s,vt.HEADER_SIZE),this.encodeCompressedWeight(s,vt.HEADER_SIZE+vt.GTIN_SIZE,vt.WEIGHT_SIZE),this.encodeCompressedDate(s,vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,vt.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let c=l%32;l/=32;let d=l%12+1;l/=12;let h=l;h/10==0&&s.append("0"),s.append(h),d/10==0&&s.append("0"),s.append(d),c/10==0&&s.append("0"),s.append(c)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}vt.HEADER_SIZE=8,vt.WEIGHT_SIZE=20,vt.DATE_SIZE=16;function km(R){try{if(R.get(1))return new go(R);if(!R.get(2))return new xc(R);switch(po.extractNumericValueFromBitArray(R,1,4)){case 4:return new uE(R);case 5:return new dE(R)}switch(po.extractNumericValueFromBitArray(R,1,5)){case 12:return new Vn(R);case 13:return new br(R)}switch(po.extractNumericValueFromBitArray(R,1,7)){case 56:return new vt(R,"310","11");case 57:return new vt(R,"320","11");case 58:return new vt(R,"310","13");case 59:return new vt(R,"320","13");case 60:return new vt(R,"310","15");case 61:return new vt(R,"320","15");case 62:return new vt(R,"310","17");case 63:return new vt(R,"320","17")}}catch(s){throw console.log(s),new fr("unknown decoder: "+R)}}class Rs{constructor(s,o,l,c){this.leftchar=s,this.rightchar=o,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof Rs?Rs.equalsOrNull(s.leftchar,o.leftchar)&&Rs.equalsOrNull(s.rightchar,o.rightchar)&&Rs.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:Rs.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Xd{constructor(s,o,l){this.pairs=s,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof Xd?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let l;return s.forEach((c,d)=>{o.forEach(h=>{c.getLeftChar().getValue()===h.getLeftChar().getValue()&&c.getRightChar().getValue()===h.getRightChar().getValue()&&c.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(l=!0)})}),l}}class oe extends Fe{constructor(s){super(...arguments),this.pairs=new Array(oe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,l){this.pairs.length=0,this.startFromEven=!1;try{return oe.constructResult(this.decodeRow2pairs(s,o))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,oe.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(d){if(d instanceof G){if(!this.pairs.length)throw new G;l=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(s,!1),c){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new G}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let l=o;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let h of s)this.pairs.push(h.getPairs());if(this.pairs.push(c.getPairs()),!oe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(s);d.push(c);try{return this.checkRows(d,l+1)}catch(h){this.verbose&&console.log(h)}}throw new G}static isValidSequence(s){for(let o of oe.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let l=!0;for(let c=0;c<s.length;c++)if(s[c].getFinderPattern().getValue()!=o[c]){l=!1;break}if(l)return!0}return!1}storeRow(s,o){let l=0,c=!1,d=!1;for(;l<this.rows.length;){let h=this.rows[l];if(h.getRowNumber()>s){d=h.isEquivalent(this.pairs);break}c=h.isEquivalent(this.pairs),l++}d||c||oe.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Xd(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let l of o)if(l.getPairs().length!==s.length){for(let c of l.getPairs())for(let d of s)if(Rs.equals(c,d))break}}static isPartialRow(s,o){for(let l of o){let c=!0;for(let d of s){let h=!1;for(let g of l.getPairs())if(d.equals(g)){h=!0;break}if(!h){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=as.buildBitArray(s),c=km(o).parseInformation(),d=s[0].getFinderPattern().getResultPoints(),h=s[s.length-1].getFinderPattern().getResultPoints(),g=[d[0],d[1],h[0],h[1]];return new Ee(c,null,null,g,te.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let c=l.getChecksumPortion(),d=2;for(let g=1;g<this.pairs.size();++g){let y=this.pairs.get(g);c+=y.getLeftChar().getChecksumPortion(),d++;let v=y.getRightChar();v!=null&&(c+=v.getChecksumPortion(),d++)}return c%=211,211*(d-4)+c==o.getValue()}static getNextSecondBar(s,o){let l;return s.get(o)?(l=s.getNextUnset(o),l=s.getNextSet(l)):(l=s.getNextSet(o),l=s.getNextUnset(l)),l}retrieveNextPair(s,o,l){let c=o.length%2==0;this.startFromEven&&(c=!c);let d,h=!0,g=-1;do this.findNextPair(s,o,g),d=this.parseFoundFinderPattern(s,l,c),d==null?g=oe.getNextSecondBar(s,this.startEnd[0]):h=!1;while(h);let y=this.decodeDataCharacter(s,d,c,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new G;let v;try{v=this.decodeDataCharacter(s,d,c,!1)}catch(N){v=null,this.verbose&&console.log(N)}return new Rs(y,v,d,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),h;l>=0?h=l:this.isEmptyPair(o)?h=0:h=o[o.length-1].getFinderPattern().getStartEnd()[1];let g=o.length%2!=0;this.startFromEven&&(g=!g);let y=!1;for(;h<d&&(y=!s.get(h),!!y);)h++;let v=0,N=h;for(let O=h;O<d;O++)if(s.get(O)!=y)c[v]++;else{if(v==3){if(g&&oe.reverseCounters(c),oe.isFinderPattern(c)){this.startEnd[0]=N,this.startEnd[1]=O;return}g&&oe.reverseCounters(c),N+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,v--}else v++;c[v]=1,y=!y}throw new G}static reverseCounters(s){let o=s.length;for(let l=0;l<o/2;++l){let c=s[l];s[l]=s[o-l-1],s[o-l-1]=c}}parseFoundFinderPattern(s,o,l){let c,d,h;if(l){let v=this.startEnd[0]-1;for(;v>=0&&!s.get(v);)v--;v++,c=this.startEnd[0]-v,d=v,h=this.startEnd[1]}else d=this.startEnd[0],h=s.getNextUnset(this.startEnd[1]+1),c=h-this.startEnd[1];let g=this.getDecodeFinderCounters();A.arraycopy(g,0,g,1,g.length-1),g[0]=c;let y;try{y=this.parseFinderValue(g,oe.FINDER_PATTERNS)}catch{return null}return new hr(y,[d,h],d,h,o)}decodeDataCharacter(s,o,l,c){let d=this.getDataCharacterCounters();for(let at=0;at<d.length;at++)d[at]=0;if(c)oe.recordPatternInReverse(s,o.getStartEnd()[0],d);else{oe.recordPattern(s,o.getStartEnd()[1],d);for(let at=0,or=d.length-1;at<or;at++,or--){let Vr=d[at];d[at]=d[or],d[or]=Vr}}let h=17,g=ze.sum(new Int32Array(d))/h,y=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new G;let v=this.getOddCounts(),N=this.getEvenCounts(),O=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let at=0;at<d.length;at++){let or=1*d[at]/g,Vr=or+.5;if(Vr<1){if(or<.3)throw new G;Vr=1}else if(Vr>8){if(or>8.7)throw new G;Vr=8}let bo=at/2;at&1?(N[bo]=Vr,D[bo]=or-Vr):(v[bo]=Vr,O[bo]=or-Vr)}this.adjustOddEvenCounts(h);let U=4*o.getValue()+(l?0:2)+(c?0:1)-1,V=0,$=0;for(let at=v.length-1;at>=0;at--){if(oe.isNotA1left(o,l,c)){let or=oe.WEIGHTS[U][2*at];$+=v[at]*or}V+=v[at]}let K=0;for(let at=N.length-1;at>=0;at--)if(oe.isNotA1left(o,l,c)){let or=oe.WEIGHTS[U][2*at+1];K+=N[at]*or}let Z=$+K;if(V&1||V>13||V<4)throw new G;let fe=(13-V)/2,he=oe.SYMBOL_WIDEST[fe],ce=9-he,$e=Wt.getRSSvalue(v,he,!0),Be=Wt.getRSSvalue(N,ce,!1),Pr=oe.EVEN_TOTAL_SUBSET[fe],vn=oe.GSUM[fe],Dr=$e*Pr+Be+vn;return new Zt(Dr,Z)}static isNotA1left(s,o,l){return!(s.getValue()==0&&o&&l)}adjustOddEvenCounts(s){let o=ze.sum(new Int32Array(this.getOddCounts())),l=ze.sum(new Int32Array(this.getEvenCounts())),c=!1,d=!1;o>13?d=!0:o<4&&(c=!0);let h=!1,g=!1;l>13?g=!0:l<4&&(h=!0);let y=o+l-s,v=(o&1)==1,N=(l&1)==0;if(y==1)if(v){if(N)throw new G;d=!0}else{if(!N)throw new G;g=!0}else if(y==-1)if(v){if(N)throw new G;c=!0}else{if(!N)throw new G;h=!0}else if(y==0){if(v){if(!N)throw new G;o<l?(c=!0,g=!0):(d=!0,h=!0)}else if(N)throw new G}else throw new G;if(c){if(d)throw new G;oe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&oe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(g)throw new G;oe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&oe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}oe.SYMBOL_WIDEST=[7,5,4,3,1],oe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],oe.GSUM=[0,348,1388,2948,3988],oe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],oe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],oe.FINDER_PAT_A=0,oe.FINDER_PAT_B=1,oe.FINDER_PAT_C=2,oe.FINDER_PAT_D=3,oe.FINDER_PAT_E=4,oe.FINDER_PAT_F=5,oe.FINDER_PATTERN_SEQUENCES=[[oe.FINDER_PAT_A,oe.FINDER_PAT_A],[oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B],[oe.FINDER_PAT_A,oe.FINDER_PAT_C,oe.FINDER_PAT_B,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_C],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F]],oe.MAX_PAIRS=11;class fE extends Zt{constructor(s,o,l){super(s,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class It extends Fe{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,l){const c=this.decodePair(o,!1,s,l);It.addOrTally(this.possibleLeftPairs,c),o.reverse();let d=this.decodePair(o,!0,s,l);It.addOrTally(this.possibleRightPairs,d),o.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&It.checkChecksum(h,g))return It.constructResult(h,g)}throw new G}static addOrTally(s,o){if(o==null)return;let l=!1;for(let c of s)if(c.getValue()===o.getValue()){c.incrementCount(),l=!0;break}l||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let l=4537077*s.getValue()+o.getValue(),c=new String(l).toString(),d=new ie;for(let v=13-c.length;v>0;v--)d.append("0");d.append(c);let h=0;for(let v=0;v<13;v++){let N=d.charAt(v).charCodeAt(0)-48;h+=v&1?N:3*N}h=10-h%10,h===10&&(h=0),d.append(h.toString());let g=s.getFinderPattern().getResultPoints(),y=o.getFinderPattern().getResultPoints();return new Ee(d.toString(),null,0,[g[0],g[1],y[0],y[1]],te.RSS_14,new Date().getTime())}static checkChecksum(s,o){let l=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,c=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(s,o,l,c){try{let d=this.findFinderPattern(s,o),h=this.parseFoundFinderPattern(s,l,o,d),g=c==null?null:c.get(L.NEED_RESULT_POINT_CALLBACK);if(g!=null){let N=(d[0]+d[1])/2;o&&(N=s.getSize()-1-N),g.foundPossibleResultPoint(new we(N,l))}let y=this.decodeDataCharacter(s,h,!0),v=this.decodeDataCharacter(s,h,!1);return new fE(1597*y.getValue()+v.getValue(),y.getChecksumPortion()+4*v.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(s,o,l){let c=this.getDataCharacterCounters();for(let K=0;K<c.length;K++)c[K]=0;if(l)yt.recordPatternInReverse(s,o.getStartEnd()[0],c);else{yt.recordPattern(s,o.getStartEnd()[1]+1,c);for(let K=0,Z=c.length-1;K<Z;K++,Z--){let fe=c[K];c[K]=c[Z],c[Z]=fe}}let d=l?16:15,h=ze.sum(new Int32Array(c))/d,g=this.getOddCounts(),y=this.getEvenCounts(),v=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let K=0;K<c.length;K++){let Z=c[K]/h,fe=Math.floor(Z+.5);fe<1?fe=1:fe>8&&(fe=8);let he=Math.floor(K/2);K&1?(y[he]=fe,N[he]=Z-fe):(g[he]=fe,v[he]=Z-fe)}this.adjustOddEvenCounts(l,d);let O=0,D=0;for(let K=g.length-1;K>=0;K--)D*=9,D+=g[K],O+=g[K];let U=0,V=0;for(let K=y.length-1;K>=0;K--)U*=9,U+=y[K],V+=y[K];let $=D+3*U;if(l){if(O&1||O>12||O<4)throw new G;let K=(12-O)/2,Z=It.OUTSIDE_ODD_WIDEST[K],fe=9-Z,he=Wt.getRSSvalue(g,Z,!1),ce=Wt.getRSSvalue(y,fe,!0),$e=It.OUTSIDE_EVEN_TOTAL_SUBSET[K],Be=It.OUTSIDE_GSUM[K];return new Zt(he*$e+ce+Be,$)}else{if(V&1||V>10||V<4)throw new G;let K=(10-V)/2,Z=It.INSIDE_ODD_WIDEST[K],fe=9-Z,he=Wt.getRSSvalue(g,Z,!0),ce=Wt.getRSSvalue(y,fe,!1),$e=It.INSIDE_ODD_TOTAL_SUBSET[K],Be=It.INSIDE_GSUM[K];return new Zt(ce*$e+he+Be,$)}}findFinderPattern(s,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=s.getSize(),d=!1,h=0;for(;h<c&&(d=!s.get(h),o!==d);)h++;let g=0,y=h;for(let v=h;v<c;v++)if(s.get(v)!==d)l[g]++;else{if(g===3){if(Fe.isFinderPattern(l))return[y,v];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,g--}else g++;l[g]=1,d=!d}throw new G}parseFoundFinderPattern(s,o,l,c){let d=s.get(c[0]),h=c[0]-1;for(;h>=0&&d!==s.get(h);)h--;h++;const g=c[0]-h,y=this.getDecodeFinderCounters(),v=new Int32Array(y.length);A.arraycopy(y,0,v,1,y.length-1),v[0]=g;const N=this.parseFinderValue(v,It.FINDER_PATTERNS);let O=h,D=c[1];return l&&(O=s.getSize()-1-O,D=s.getSize()-1-D),new hr(N,[h,c[1]],O,D,o)}adjustOddEvenCounts(s,o){let l=ze.sum(new Int32Array(this.getOddCounts())),c=ze.sum(new Int32Array(this.getEvenCounts())),d=!1,h=!1,g=!1,y=!1;s?(l>12?h=!0:l<4&&(d=!0),c>12?y=!0:c<4&&(g=!0)):(l>11?h=!0:l<5&&(d=!0),c>10?y=!0:c<4&&(g=!0));let v=l+c-o,N=(l&1)===(s?1:0),O=(c&1)===1;if(v===1)if(N){if(O)throw new G;h=!0}else{if(!O)throw new G;y=!0}else if(v===-1)if(N){if(O)throw new G;d=!0}else{if(!O)throw new G;g=!0}else if(v===0){if(N){if(!O)throw new G;l<c?(d=!0,y=!0):(h=!0,g=!0)}else if(O)throw new G}else throw new G;if(d){if(h)throw new G;Fe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Fe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new G;Fe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Fe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}It.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],It.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],It.OUTSIDE_GSUM=[0,161,961,2015,2715],It.INSIDE_GSUM=[0,336,1036,1516],It.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],It.INSIDE_ODD_WIDEST=[2,4,6,8],It.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class xo extends yt{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const l=s?s.get(L.POSSIBLE_FORMATS):null,c=s&&s.get(L.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(te.EAN_13)||l.includes(te.UPC_A)||l.includes(te.EAN_8)||l.includes(te.UPC_E))&&this.readers.push(new Je(s)),l.includes(te.CODE_39)&&this.readers.push(new kt(c)),l.includes(te.CODE_128)&&this.readers.push(new me),l.includes(te.ITF)&&this.readers.push(new qe),l.includes(te.RSS_14)&&this.readers.push(new It),l.includes(te.RSS_EXPANDED)&&this.readers.push(new oe(this.verbose))):(this.readers.push(new Je(s)),this.readers.push(new kt),this.readers.push(new Je(s)),this.readers.push(new me),this.readers.push(new qe),this.readers.push(new It),this.readers.push(new oe(this.verbose)))}decodeRow(s,o,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(s,o,l)}catch{}throw new G}reset(){this.readers.forEach(s=>s.reset())}}class hE extends je{constructor(s=500,o){super(new xo(o),s,o)}}class nt{constructor(s,o,l){this.ecCodewords=s,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class tt{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ge{constructor(s,o,l,c,d,h){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=d,this.ecBlocks=h;let g=0;const y=h.getECCodewords(),v=h.getECBlocks();for(let N of v)g+=N.getCount()*(N.getDataCodewords()+y);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new M;for(let l of Ge.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===o)return l;throw new M}toString(){return""+this.versionNumber}static buildVersions(){return[new Ge(1,10,10,8,8,new nt(5,new tt(1,3))),new Ge(2,12,12,10,10,new nt(7,new tt(1,5))),new Ge(3,14,14,12,12,new nt(10,new tt(1,8))),new Ge(4,16,16,14,14,new nt(12,new tt(1,12))),new Ge(5,18,18,16,16,new nt(14,new tt(1,18))),new Ge(6,20,20,18,18,new nt(18,new tt(1,22))),new Ge(7,22,22,20,20,new nt(20,new tt(1,30))),new Ge(8,24,24,22,22,new nt(24,new tt(1,36))),new Ge(9,26,26,24,24,new nt(28,new tt(1,44))),new Ge(10,32,32,14,14,new nt(36,new tt(1,62))),new Ge(11,36,36,16,16,new nt(42,new tt(1,86))),new Ge(12,40,40,18,18,new nt(48,new tt(1,114))),new Ge(13,44,44,20,20,new nt(56,new tt(1,144))),new Ge(14,48,48,22,22,new nt(68,new tt(1,174))),new Ge(15,52,52,24,24,new nt(42,new tt(2,102))),new Ge(16,64,64,14,14,new nt(56,new tt(2,140))),new Ge(17,72,72,16,16,new nt(36,new tt(4,92))),new Ge(18,80,80,18,18,new nt(48,new tt(4,114))),new Ge(19,88,88,20,20,new nt(56,new tt(4,144))),new Ge(20,96,96,22,22,new nt(68,new tt(4,174))),new Ge(21,104,104,24,24,new nt(56,new tt(6,136))),new Ge(22,120,120,18,18,new nt(68,new tt(6,175))),new Ge(23,132,132,20,20,new nt(62,new tt(8,163))),new Ge(24,144,144,22,22,new nt(62,new tt(8,156),new tt(2,155))),new Ge(25,8,18,6,16,new nt(7,new tt(1,5))),new Ge(26,8,32,6,14,new nt(11,new tt(1,10))),new Ge(27,12,26,10,24,new nt(14,new tt(1,16))),new Ge(28,12,36,10,16,new nt(18,new tt(1,22))),new Ge(29,16,36,14,16,new nt(24,new tt(1,32))),new Ge(30,16,48,14,22,new nt(28,new tt(1,49)))]}}Ge.VERSIONS=Ge.buildVersions();class Yd{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new M;this.version=Yd.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),l=s.getWidth();return Ge.getVersionForDimensions(o,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,c=0;const d=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let g=!1,y=!1,v=!1,N=!1;do if(l===d&&c===0&&!g)s[o++]=this.readCorner1(d,h)&255,l-=2,c+=2,g=!0;else if(l===d-2&&c===0&&h&3&&!y)s[o++]=this.readCorner2(d,h)&255,l-=2,c+=2,y=!0;else if(l===d+4&&c===2&&!(h&7)&&!v)s[o++]=this.readCorner3(d,h)&255,l-=2,c+=2,v=!0;else if(l===d-2&&c===0&&(h&7)===4&&!N)s[o++]=this.readCorner4(d,h)&255,l-=2,c+=2,N=!0;else{do l<d&&c>=0&&!this.readMappingMatrix.get(c,l)&&(s[o++]=this.readUtah(l,c,d,h)&255),l-=2,c+=2;while(l>=0&&c<h);l+=1,c+=3;do l>=0&&c<h&&!this.readMappingMatrix.get(c,l)&&(s[o++]=this.readUtah(l,c,d,h)&255),l+=2,c-=2;while(l<d&&c>=0);l+=3,c+=1}while(l<d||c<h);if(o!==this.version.getTotalCodewords())throw new M;return s}readModule(s,o,l,c){return s<0&&(s+=l,o+=4-(l+4&7)),o<0&&(o+=c,s+=4-(c+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,l,c){let d=0;return this.readModule(s-2,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s-2,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o,l,c)&&(d|=1),d<<=1,this.readModule(s,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s,o,l,c)&&(d|=1),d}readCorner1(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,1,s,o)&&(l|=1),l<<=1,this.readModule(s-1,2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}readCorner2(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-4,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner3(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-3,s,o)&&(l|=1),l<<=1,this.readModule(1,o-2,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner4(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new b("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),h=o/c|0,g=l/d|0,y=h*c,v=g*d,N=new re(v,y);for(let O=0;O<h;++O){const D=O*c;for(let U=0;U<g;++U){const V=U*d;for(let $=0;$<c;++$){const K=O*(c+2)+1+$,Z=D+$;for(let fe=0;fe<d;++fe){const he=U*(d+2)+1+fe;if(s.get(he,K)){const ce=V+fe;N.set(ce,Z)}}}}}return N}}class Qd{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const l=o.getECBlocks();let c=0;const d=l.getECBlocks();for(let $ of d)c+=$.getCount();const h=new Array(c);let g=0;for(let $ of d)for(let K=0;K<$.getCount();K++){const Z=$.getDataCodewords(),fe=l.getECCodewords()+Z;h[g++]=new Qd(Z,new Uint8Array(fe))}const v=h[0].codewords.length-l.getECCodewords(),N=v-1;let O=0;for(let $=0;$<N;$++)for(let K=0;K<g;K++)h[K].codewords[$]=s[O++];const D=o.getVersionNumber()===24,U=D?8:g;for(let $=0;$<U;$++)h[$].codewords[v-1]=s[O++];const V=h[0].codewords.length;for(let $=v;$<V;$++)for(let K=0;K<g;K++){const Z=D?(K+8)%g:K,fe=D&&Z>7?$-1:$;h[Z].codewords[fe]=s[O++]}if(O!==s.length)throw new b;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Zd{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new b(""+s);let o=0,l=this.bitOffset,c=this.byteOffset;const d=this.bytes;if(l>0){const h=8-l,g=s<h?s:h,y=h-g,v=255>>8-g<<y;o=(d[c]&v)>>y,s-=g,l+=g,l===8&&(l=0,c++)}if(s>0){for(;s>=8;)o=o<<8|d[c]&255,c++,s-=8;if(s>0){const h=8-s,g=255>>h<<h;o=o<<s|(d[c]&g)>>h,l+=s}}return this.bitOffset=l,this.byteOffset=c,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var $t;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})($t||($t={}));class Os{static decode(s){const o=new Zd(s),l=new ie,c=new ie,d=new Array;let h=$t.ASCII_ENCODE;do if(h===$t.ASCII_ENCODE)h=this.decodeAsciiSegment(o,l,c);else{switch(h){case $t.C40_ENCODE:this.decodeC40Segment(o,l);break;case $t.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case $t.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case $t.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case $t.BASE256_ENCODE:this.decodeBase256Segment(o,l,d);break;default:throw new M}h=$t.ASCII_ENCODE}while(h!==$t.PAD_ENCODE&&o.available()>0);return c.length()>0&&l.append(c.toString()),new gt(s,l.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(s,o,l){let c=!1;do{let d=s.readBits(8);if(d===0)throw new M;if(d<=128)return c&&(d+=128),o.append(String.fromCharCode(d-1)),$t.ASCII_ENCODE;if(d===129)return $t.PAD_ENCODE;if(d<=229){const h=d-130;h<10&&o.append("0"),o.append(""+h)}else switch(d){case 230:return $t.C40_ENCODE;case 231:return $t.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return $t.ANSIX12_ENCODE;case 239:return $t.TEXT_ENCODE;case 240:return $t.EDIFACT_ENCODE;case 241:break;default:if(d!==254||s.available()!==0)throw new M;break}}while(s.available()>0);return $t.ASCII_ENCODE}static decodeC40Segment(s,o){let l=!1;const c=[];let d=0;do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),c);for(let g=0;g<3;g++){const y=c[g];switch(d){case 0:if(y<3)d=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else throw new M;break;case 1:l?(o.append(String.fromCharCode(y+128)),l=!1):o.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else switch(y){case 27:o.append("");break;case 30:l=!0;break;default:throw new M}d=0;break;case 3:l?(o.append(String.fromCharCode(y+224)),l=!1):o.append(String.fromCharCode(y+96)),d=0;break;default:throw new M}}}while(s.available()>0)}static decodeTextSegment(s,o){let l=!1,c=[],d=0;do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),c);for(let g=0;g<3;g++){const y=c[g];switch(d){case 0:if(y<3)d=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else throw new M;break;case 1:l?(o.append(String.fromCharCode(y+128)),l=!1):o.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else switch(y){case 27:o.append("");break;case 30:l=!0;break;default:throw new M}d=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v),d=0}else throw new M;break;default:throw new M}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const l=[];do{if(s.available()===8)return;const c=s.readBits(8);if(c===254)return;this.parseTwoBytes(c,s.readBits(8),l);for(let d=0;d<3;d++){const h=l[d];switch(h){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(h<14)o.append(String.fromCharCode(h+44));else if(h<40)o.append(String.fromCharCode(h+51));else throw new M;break}}}while(s.available()>0)}static parseTwoBytes(s,o,l){let c=(s<<8)+o-1,d=Math.floor(c/1600);l[0]=d,c-=d*1600,d=Math.floor(c/40),l[1]=d,l[2]=c-d*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let c=s.readBits(6);if(c===31){const d=8-s.getBitOffset();d!==8&&s.readBits(d);return}c&32||(c|=64),o.append(String.fromCharCode(c))}}while(s.available()>0)}static decodeBase256Segment(s,o,l){let c=1+s.getByteOffset();const d=this.unrandomize255State(s.readBits(8),c++);let h;if(d===0?h=s.available()/8|0:d<250?h=d:h=250*(d-249)+this.unrandomize255State(s.readBits(8),c++),h<0)throw new M;const g=new Uint8Array(h);for(let y=0;y<h;y++){if(s.available()<8)throw new M;g[y]=this.unrandomize255State(s.readBits(8),c++)}l.push(g);try{o.append(H.decode(g,q.ISO88591))}catch(y){throw new fr("Platform does not support required encoding: "+y.message)}}static unrandomize255State(s,o){const l=149*o%255+1,c=s-l;return c>=0?c:c+256}}Os.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Os.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Os.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Os.TEXT_SHIFT2_SET_CHARS=Os.C40_SHIFT2_SET_CHARS,Os.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class mE{constructor(){this.rsDecoder=new rn(ke.DATA_MATRIX_FIELD_256)}decode(s){const o=new Yd(s),l=o.getVersion(),c=o.readCodewords(),d=Qd.getDataBlocks(c,l);let h=0;for(let v of d)h+=v.getNumDataCodewords();const g=new Uint8Array(h),y=d.length;for(let v=0;v<y;v++){const N=d[v],O=N.getCodewords(),D=N.getNumDataCodewords();this.correctErrors(O,D);for(let U=0;U<D;U++)g[U*y+v]=O[U]}return Os.decode(g)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new E}for(let c=0;c<o;c++)s[c]=l[c]}}class Lt{constructor(s){this.image=s,this.rectangleDetector=new xn(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new G;o=this.shiftToModuleCenter(o);const l=o[0],c=o[1],d=o[2],h=o[3];let g=this.transitionsBetween(l,h)+1,y=this.transitionsBetween(d,h)+1;(g&1)===1&&(g+=1),(y&1)===1&&(y+=1),4*g<7*y&&4*y<7*g&&(g=y=Math.max(g,y));let v=Lt.sampleGrid(this.image,l,c,d,h,g,y);return new Ti(v,[l,c,d,h])}static shiftPoint(s,o,l){let c=(o.getX()-s.getX())/(l+1),d=(o.getY()-s.getY())/(l+1);return new we(s.getX()+c,s.getY()+d)}static moveAway(s,o,l){let c=s.getX(),d=s.getY();return c<o?c-=1:c+=1,d<l?d-=1:d+=1,new we(c,d)}detectSolid1(s){let o=s[0],l=s[1],c=s[3],d=s[2],h=this.transitionsBetween(o,l),g=this.transitionsBetween(l,c),y=this.transitionsBetween(c,d),v=this.transitionsBetween(d,o),N=h,O=[d,o,l,c];return N>g&&(N=g,O[0]=o,O[1]=l,O[2]=c,O[3]=d),N>y&&(N=y,O[0]=l,O[1]=c,O[2]=d,O[3]=o),N>v&&(O[0]=c,O[1]=d,O[2]=o,O[3]=l),O}detectSolid2(s){let o=s[0],l=s[1],c=s[2],d=s[3],h=this.transitionsBetween(o,d),g=Lt.shiftPoint(l,c,(h+1)*4),y=Lt.shiftPoint(c,l,(h+1)*4),v=this.transitionsBetween(g,o),N=this.transitionsBetween(y,d);return v<N?(s[0]=o,s[1]=l,s[2]=c,s[3]=d):(s[0]=l,s[1]=c,s[2]=d,s[3]=o),s}correctTopRight(s){let o=s[0],l=s[1],c=s[2],d=s[3],h=this.transitionsBetween(o,d),g=this.transitionsBetween(l,d),y=Lt.shiftPoint(o,l,(g+1)*4),v=Lt.shiftPoint(c,l,(h+1)*4);h=this.transitionsBetween(y,d),g=this.transitionsBetween(v,d);let N=new we(d.getX()+(c.getX()-l.getX())/(h+1),d.getY()+(c.getY()-l.getY())/(h+1)),O=new we(d.getX()+(o.getX()-l.getX())/(g+1),d.getY()+(o.getY()-l.getY())/(g+1));if(!this.isValid(N))return this.isValid(O)?O:null;if(!this.isValid(O))return N;let D=this.transitionsBetween(y,N)+this.transitionsBetween(v,N),U=this.transitionsBetween(y,O)+this.transitionsBetween(v,O);return D>U?N:O}shiftToModuleCenter(s){let o=s[0],l=s[1],c=s[2],d=s[3],h=this.transitionsBetween(o,d)+1,g=this.transitionsBetween(c,d)+1,y=Lt.shiftPoint(o,l,g*4),v=Lt.shiftPoint(c,l,h*4);h=this.transitionsBetween(y,d)+1,g=this.transitionsBetween(v,d)+1,(h&1)===1&&(h+=1),(g&1)===1&&(g+=1);let N=(o.getX()+l.getX()+c.getX()+d.getX())/4,O=(o.getY()+l.getY()+c.getY()+d.getY())/4;o=Lt.moveAway(o,N,O),l=Lt.moveAway(l,N,O),c=Lt.moveAway(c,N,O),d=Lt.moveAway(d,N,O);let D,U;return y=Lt.shiftPoint(o,l,g*4),y=Lt.shiftPoint(y,d,h*4),D=Lt.shiftPoint(l,o,g*4),D=Lt.shiftPoint(D,c,h*4),v=Lt.shiftPoint(c,d,g*4),v=Lt.shiftPoint(v,l,h*4),U=Lt.shiftPoint(d,c,g*4),U=Lt.shiftPoint(U,o,h*4),[y,D,v,U]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,l,c,d,h,g){return Un.getInstance().sampleGrid(s,h,g,.5,.5,h-.5,.5,h-.5,g-.5,.5,g-.5,o.getX(),o.getY(),d.getX(),d.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(s,o){let l=Math.trunc(s.getX()),c=Math.trunc(s.getY()),d=Math.trunc(o.getX()),h=Math.trunc(o.getY()),g=Math.abs(h-c)>Math.abs(d-l);if(g){let $=l;l=c,c=$,$=d,d=h,h=$}let y=Math.abs(d-l),v=Math.abs(h-c),N=-y/2,O=c<h?1:-1,D=l<d?1:-1,U=0,V=this.image.get(g?c:l,g?l:c);for(let $=l,K=c;$!==d;$+=D){let Z=this.image.get(g?K:$,g?$:K);if(Z!==V&&(U++,V=Z),N+=v,N>0){if(K===h)break;K+=O,N-=y}}return U}}class js{constructor(){this.decoder=new mE}decode(s,o=null){let l,c;if(o!=null&&o.has(L.PURE_BARCODE)){const v=js.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(v),c=js.NO_POINTS}else{const v=new Lt(s.getBlackMatrix()).detect();l=this.decoder.decode(v.getBits()),c=v.getPoints()}const d=l.getRawBytes(),h=new Ee(l.getText(),d,8*d.length,c,te.DATA_MATRIX,A.currentTimeMillis()),g=l.getByteSegments();g!=null&&h.putMetadata(ye.BYTE_SEGMENTS,g);const y=l.getECLevel();return y!=null&&h.putMetadata(ye.ERROR_CORRECTION_LEVEL,y),h}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o==null||l==null)throw new G;const c=this.moduleSize(o,s);let d=o[1];const h=l[1];let g=o[0];const v=(l[0]-g+1)/c,N=(h-d+1)/c;if(v<=0||N<=0)throw new G;const O=c/2;d+=O,g+=O;const D=new re(v,N);for(let U=0;U<N;U++){const V=d+U*c;for(let $=0;$<v;$++)s.get(g+$*c,V)&&D.set($,U)}return D}static moduleSize(s,o){const l=o.getWidth();let c=s[0];const d=s[1];for(;c<l&&o.get(c,d);)c++;if(c===l)throw new G;const h=c-s[0];if(h===0)throw new G;return h}}js.NO_POINTS=[];class pE extends je{constructor(s=500){super(new js,s)}}var yo;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(yo||(yo={}));class lt{constructor(s,o,l){this.value=s,this.stringValue=o,this.bits=l,lt.FOR_BITS.set(l,this),lt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return lt.L;case"M":return lt.M;case"Q":return lt.Q;case"H":return lt.H;default:throw new w(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof lt))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=lt.FOR_BITS.size)throw new b;return lt.FOR_BITS.get(s)}}lt.FOR_BITS=new Map,lt.FOR_VALUE=new Map,lt.L=new lt(yo.L,"L",1),lt.M=new lt(yo.M,"M",0),lt.Q=new lt(yo.Q,"Q",3),lt.H=new lt(yo.H,"H",2);class mr{constructor(s){this.errorCorrectionLevel=lt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return _.bitCount(s^o)}static decodeFormatInformation(s,o){const l=mr.doDecodeFormatInformation(s,o);return l!==null?l:mr.doDecodeFormatInformation(s^mr.FORMAT_INFO_MASK_QR,o^mr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let l=Number.MAX_SAFE_INTEGER,c=0;for(const d of mr.FORMAT_INFO_DECODE_LOOKUP){const h=d[0];if(h===s||h===o)return new mr(d[1]);let g=mr.numBitsDiffering(s,h);g<l&&(c=d[1],l=g),s!==o&&(g=mr.numBitsDiffering(o,h),g<l&&(c=d[1],l=g))}return l<=3?new mr(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof mr))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}mr.FORMAT_INFO_MASK_QR=21522,mr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class X{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const l of o)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Se{constructor(s,o,...l){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=l;let c=0;const d=l[0].getECCodewordsPerBlock(),h=l[0].getECBlocks();for(const g of h)c+=g.getCount()*(g.getDataCodewords()+d);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new M;try{return this.getVersionForNumber((s-17)/4)}catch{throw new M}}static getVersionForNumber(s){if(s<1||s>40)throw new b;return Se.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<Se.VERSION_DECODE_INFO.length;c++){const d=Se.VERSION_DECODE_INFO[c];if(d===s)return Se.getVersionForNumber(c+7);const h=mr.numBitsDiffering(s,d);h<o&&(l=c+7,o=h)}return o<=3?Se.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new re(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const d=this.alignmentPatternCenters[c]-2;for(let h=0;h<l;h++)c===0&&(h===0||h===l-1)||c===l-1&&h===0||o.setRegion(this.alignmentPatternCenters[h]-2,d,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}Se.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Se.VERSIONS=[new Se(1,new Int32Array(0),new X(7,new B(1,19)),new X(10,new B(1,16)),new X(13,new B(1,13)),new X(17,new B(1,9))),new Se(2,Int32Array.from([6,18]),new X(10,new B(1,34)),new X(16,new B(1,28)),new X(22,new B(1,22)),new X(28,new B(1,16))),new Se(3,Int32Array.from([6,22]),new X(15,new B(1,55)),new X(26,new B(1,44)),new X(18,new B(2,17)),new X(22,new B(2,13))),new Se(4,Int32Array.from([6,26]),new X(20,new B(1,80)),new X(18,new B(2,32)),new X(26,new B(2,24)),new X(16,new B(4,9))),new Se(5,Int32Array.from([6,30]),new X(26,new B(1,108)),new X(24,new B(2,43)),new X(18,new B(2,15),new B(2,16)),new X(22,new B(2,11),new B(2,12))),new Se(6,Int32Array.from([6,34]),new X(18,new B(2,68)),new X(16,new B(4,27)),new X(24,new B(4,19)),new X(28,new B(4,15))),new Se(7,Int32Array.from([6,22,38]),new X(20,new B(2,78)),new X(18,new B(4,31)),new X(18,new B(2,14),new B(4,15)),new X(26,new B(4,13),new B(1,14))),new Se(8,Int32Array.from([6,24,42]),new X(24,new B(2,97)),new X(22,new B(2,38),new B(2,39)),new X(22,new B(4,18),new B(2,19)),new X(26,new B(4,14),new B(2,15))),new Se(9,Int32Array.from([6,26,46]),new X(30,new B(2,116)),new X(22,new B(3,36),new B(2,37)),new X(20,new B(4,16),new B(4,17)),new X(24,new B(4,12),new B(4,13))),new Se(10,Int32Array.from([6,28,50]),new X(18,new B(2,68),new B(2,69)),new X(26,new B(4,43),new B(1,44)),new X(24,new B(6,19),new B(2,20)),new X(28,new B(6,15),new B(2,16))),new Se(11,Int32Array.from([6,30,54]),new X(20,new B(4,81)),new X(30,new B(1,50),new B(4,51)),new X(28,new B(4,22),new B(4,23)),new X(24,new B(3,12),new B(8,13))),new Se(12,Int32Array.from([6,32,58]),new X(24,new B(2,92),new B(2,93)),new X(22,new B(6,36),new B(2,37)),new X(26,new B(4,20),new B(6,21)),new X(28,new B(7,14),new B(4,15))),new Se(13,Int32Array.from([6,34,62]),new X(26,new B(4,107)),new X(22,new B(8,37),new B(1,38)),new X(24,new B(8,20),new B(4,21)),new X(22,new B(12,11),new B(4,12))),new Se(14,Int32Array.from([6,26,46,66]),new X(30,new B(3,115),new B(1,116)),new X(24,new B(4,40),new B(5,41)),new X(20,new B(11,16),new B(5,17)),new X(24,new B(11,12),new B(5,13))),new Se(15,Int32Array.from([6,26,48,70]),new X(22,new B(5,87),new B(1,88)),new X(24,new B(5,41),new B(5,42)),new X(30,new B(5,24),new B(7,25)),new X(24,new B(11,12),new B(7,13))),new Se(16,Int32Array.from([6,26,50,74]),new X(24,new B(5,98),new B(1,99)),new X(28,new B(7,45),new B(3,46)),new X(24,new B(15,19),new B(2,20)),new X(30,new B(3,15),new B(13,16))),new Se(17,Int32Array.from([6,30,54,78]),new X(28,new B(1,107),new B(5,108)),new X(28,new B(10,46),new B(1,47)),new X(28,new B(1,22),new B(15,23)),new X(28,new B(2,14),new B(17,15))),new Se(18,Int32Array.from([6,30,56,82]),new X(30,new B(5,120),new B(1,121)),new X(26,new B(9,43),new B(4,44)),new X(28,new B(17,22),new B(1,23)),new X(28,new B(2,14),new B(19,15))),new Se(19,Int32Array.from([6,30,58,86]),new X(28,new B(3,113),new B(4,114)),new X(26,new B(3,44),new B(11,45)),new X(26,new B(17,21),new B(4,22)),new X(26,new B(9,13),new B(16,14))),new Se(20,Int32Array.from([6,34,62,90]),new X(28,new B(3,107),new B(5,108)),new X(26,new B(3,41),new B(13,42)),new X(30,new B(15,24),new B(5,25)),new X(28,new B(15,15),new B(10,16))),new Se(21,Int32Array.from([6,28,50,72,94]),new X(28,new B(4,116),new B(4,117)),new X(26,new B(17,42)),new X(28,new B(17,22),new B(6,23)),new X(30,new B(19,16),new B(6,17))),new Se(22,Int32Array.from([6,26,50,74,98]),new X(28,new B(2,111),new B(7,112)),new X(28,new B(17,46)),new X(30,new B(7,24),new B(16,25)),new X(24,new B(34,13))),new Se(23,Int32Array.from([6,30,54,78,102]),new X(30,new B(4,121),new B(5,122)),new X(28,new B(4,47),new B(14,48)),new X(30,new B(11,24),new B(14,25)),new X(30,new B(16,15),new B(14,16))),new Se(24,Int32Array.from([6,28,54,80,106]),new X(30,new B(6,117),new B(4,118)),new X(28,new B(6,45),new B(14,46)),new X(30,new B(11,24),new B(16,25)),new X(30,new B(30,16),new B(2,17))),new Se(25,Int32Array.from([6,32,58,84,110]),new X(26,new B(8,106),new B(4,107)),new X(28,new B(8,47),new B(13,48)),new X(30,new B(7,24),new B(22,25)),new X(30,new B(22,15),new B(13,16))),new Se(26,Int32Array.from([6,30,58,86,114]),new X(28,new B(10,114),new B(2,115)),new X(28,new B(19,46),new B(4,47)),new X(28,new B(28,22),new B(6,23)),new X(30,new B(33,16),new B(4,17))),new Se(27,Int32Array.from([6,34,62,90,118]),new X(30,new B(8,122),new B(4,123)),new X(28,new B(22,45),new B(3,46)),new X(30,new B(8,23),new B(26,24)),new X(30,new B(12,15),new B(28,16))),new Se(28,Int32Array.from([6,26,50,74,98,122]),new X(30,new B(3,117),new B(10,118)),new X(28,new B(3,45),new B(23,46)),new X(30,new B(4,24),new B(31,25)),new X(30,new B(11,15),new B(31,16))),new Se(29,Int32Array.from([6,30,54,78,102,126]),new X(30,new B(7,116),new B(7,117)),new X(28,new B(21,45),new B(7,46)),new X(30,new B(1,23),new B(37,24)),new X(30,new B(19,15),new B(26,16))),new Se(30,Int32Array.from([6,26,52,78,104,130]),new X(30,new B(5,115),new B(10,116)),new X(28,new B(19,47),new B(10,48)),new X(30,new B(15,24),new B(25,25)),new X(30,new B(23,15),new B(25,16))),new Se(31,Int32Array.from([6,30,56,82,108,134]),new X(30,new B(13,115),new B(3,116)),new X(28,new B(2,46),new B(29,47)),new X(30,new B(42,24),new B(1,25)),new X(30,new B(23,15),new B(28,16))),new Se(32,Int32Array.from([6,34,60,86,112,138]),new X(30,new B(17,115)),new X(28,new B(10,46),new B(23,47)),new X(30,new B(10,24),new B(35,25)),new X(30,new B(19,15),new B(35,16))),new Se(33,Int32Array.from([6,30,58,86,114,142]),new X(30,new B(17,115),new B(1,116)),new X(28,new B(14,46),new B(21,47)),new X(30,new B(29,24),new B(19,25)),new X(30,new B(11,15),new B(46,16))),new Se(34,Int32Array.from([6,34,62,90,118,146]),new X(30,new B(13,115),new B(6,116)),new X(28,new B(14,46),new B(23,47)),new X(30,new B(44,24),new B(7,25)),new X(30,new B(59,16),new B(1,17))),new Se(35,Int32Array.from([6,30,54,78,102,126,150]),new X(30,new B(12,121),new B(7,122)),new X(28,new B(12,47),new B(26,48)),new X(30,new B(39,24),new B(14,25)),new X(30,new B(22,15),new B(41,16))),new Se(36,Int32Array.from([6,24,50,76,102,128,154]),new X(30,new B(6,121),new B(14,122)),new X(28,new B(6,47),new B(34,48)),new X(30,new B(46,24),new B(10,25)),new X(30,new B(2,15),new B(64,16))),new Se(37,Int32Array.from([6,28,54,80,106,132,158]),new X(30,new B(17,122),new B(4,123)),new X(28,new B(29,46),new B(14,47)),new X(30,new B(49,24),new B(10,25)),new X(30,new B(24,15),new B(46,16))),new Se(38,Int32Array.from([6,32,58,84,110,136,162]),new X(30,new B(4,122),new B(18,123)),new X(28,new B(13,46),new B(32,47)),new X(30,new B(48,24),new B(14,25)),new X(30,new B(42,15),new B(32,16))),new Se(39,Int32Array.from([6,26,54,82,110,138,166]),new X(30,new B(20,117),new B(4,118)),new X(28,new B(40,47),new B(7,48)),new X(30,new B(43,24),new B(22,25)),new X(30,new B(10,15),new B(67,16))),new Se(40,Int32Array.from([6,30,58,86,114,142,170]),new X(30,new B(19,118),new B(6,119)),new X(28,new B(18,47),new B(31,48)),new X(30,new B(34,24),new B(34,25)),new X(30,new B(20,15),new B(61,16)))];var Jt;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(Jt||(Jt={}));class on{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let l=0;l<o;l++)for(let c=0;c<o;c++)this.isMasked(l,c)&&s.flip(c,l)}}on.values=new Map([[Jt.DATA_MASK_000,new on(Jt.DATA_MASK_000,(R,s)=>(R+s&1)===0)],[Jt.DATA_MASK_001,new on(Jt.DATA_MASK_001,(R,s)=>(R&1)===0)],[Jt.DATA_MASK_010,new on(Jt.DATA_MASK_010,(R,s)=>s%3===0)],[Jt.DATA_MASK_011,new on(Jt.DATA_MASK_011,(R,s)=>(R+s)%3===0)],[Jt.DATA_MASK_100,new on(Jt.DATA_MASK_100,(R,s)=>(Math.floor(R/2)+Math.floor(s/3)&1)===0)],[Jt.DATA_MASK_101,new on(Jt.DATA_MASK_101,(R,s)=>R*s%6===0)],[Jt.DATA_MASK_110,new on(Jt.DATA_MASK_110,(R,s)=>R*s%6<3)],[Jt.DATA_MASK_111,new on(Jt.DATA_MASK_111,(R,s)=>(R+s+R*s%3&1)===0)]]);class gE{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new M;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let d=0;d<6;d++)s=this.copyBit(d,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let d=5;d>=0;d--)s=this.copyBit(8,d,s);const o=this.bitMatrix.getHeight();let l=0;const c=o-7;for(let d=o-1;d>=c;d--)l=this.copyBit(8,d,l);for(let d=o-8;d<o;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=mr.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new M}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return Se.getVersionForNumber(o);let l=0;const c=s-11;for(let h=5;h>=0;h--)for(let g=s-9;g>=c;g--)l=this.copyBit(g,h,l);let d=Se.decodeVersionInformation(l);if(d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;l=0;for(let h=5;h>=0;h--)for(let g=s-9;g>=c;g--)l=this.copyBit(h,g,l);if(d=Se.decodeVersionInformation(l),d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;throw new M}copyBit(s,o,l){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),l=on.values.get(s.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const d=o.buildFunctionPattern();let h=!0;const g=new Uint8Array(o.getTotalCodewords());let y=0,v=0,N=0;for(let O=c-1;O>0;O-=2){O===6&&O--;for(let D=0;D<c;D++){const U=h?c-1-D:D;for(let V=0;V<2;V++)d.get(O-V,U)||(N++,v<<=1,this.bitMatrix.get(O-V,U)&&(v|=1),N===8&&(g[y++]=v,N=0,v=0))}h=!h}if(y!==o.getTotalCodewords())throw new M;return g}remask(){if(this.parsedFormatInfo===null)return;const s=on.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,l=s.getWidth();o<l;o++)for(let c=o+1,d=s.getHeight();c<d;c++)s.get(o,c)!==s.get(c,o)&&(s.flip(c,o),s.flip(o,c))}}class Jd{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,l){if(s.length!==o.getTotalCodewords())throw new b;const c=o.getECBlocksForLevel(l);let d=0;const h=c.getECBlocks();for(const V of h)d+=V.getCount();const g=new Array(d);let y=0;for(const V of h)for(let $=0;$<V.getCount();$++){const K=V.getDataCodewords(),Z=c.getECCodewordsPerBlock()+K;g[y++]=new Jd(K,new Uint8Array(Z))}const v=g[0].codewords.length;let N=g.length-1;for(;N>=0&&g[N].codewords.length!==v;)N--;N++;const O=v-c.getECCodewordsPerBlock();let D=0;for(let V=0;V<O;V++)for(let $=0;$<y;$++)g[$].codewords[V]=s[D++];for(let V=N;V<y;V++)g[V].codewords[O]=s[D++];const U=g[0].codewords.length;for(let V=O;V<U;V++)for(let $=0;$<y;$++){const K=$<N?V:V+1;g[$].codewords[K]=s[D++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var an;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(an||(an={}));class Ie{constructor(s,o,l,c){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=c,Ie.FOR_BITS.set(c,this),Ie.FOR_VALUE.set(s,this)}static forBits(s){const o=Ie.FOR_BITS.get(s);if(o===void 0)throw new b;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Ie))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}Ie.FOR_BITS=new Map,Ie.FOR_VALUE=new Map,Ie.TERMINATOR=new Ie(an.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ie.NUMERIC=new Ie(an.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ie.ALPHANUMERIC=new Ie(an.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ie.STRUCTURED_APPEND=new Ie(an.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ie.BYTE=new Ie(an.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ie.ECI=new Ie(an.ECI,"ECI",Int32Array.from([0,0,0]),7),Ie.KANJI=new Ie(an.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ie.FNC1_FIRST_POSITION=new Ie(an.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ie.FNC1_SECOND_POSITION=new Ie(an.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ie.HANZI=new Ie(an.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class _t{static decode(s,o,l,c){const d=new Zd(s);let h=new ie;const g=new Array;let y=-1,v=-1;try{let N=null,O=!1,D;do{if(d.available()<4)D=Ie.TERMINATOR;else{const U=d.readBits(4);D=Ie.forBits(U)}switch(D){case Ie.TERMINATOR:break;case Ie.FNC1_FIRST_POSITION:case Ie.FNC1_SECOND_POSITION:O=!0;break;case Ie.STRUCTURED_APPEND:if(d.available()<16)throw new M;y=d.readBits(8),v=d.readBits(8);break;case Ie.ECI:const U=_t.parseECIValue(d);if(N=z.getCharacterSetECIByValue(U),N===null)throw new M;break;case Ie.HANZI:const V=d.readBits(4),$=d.readBits(D.getCharacterCountBits(o));V===_t.GB2312_SUBSET&&_t.decodeHanziSegment(d,h,$);break;default:const K=d.readBits(D.getCharacterCountBits(o));switch(D){case Ie.NUMERIC:_t.decodeNumericSegment(d,h,K);break;case Ie.ALPHANUMERIC:_t.decodeAlphanumericSegment(d,h,K,O);break;case Ie.BYTE:_t.decodeByteSegment(d,h,K,N,g,c);break;case Ie.KANJI:_t.decodeKanjiSegment(d,h,K);break;default:throw new M}break}}while(D!==Ie.TERMINATOR)}catch{throw new M}return new gt(s,h.toString(),g.length===0?null:g,l===null?null:l.toString(),y,v)}static decodeHanziSegment(s,o,l){if(l*13>s.available())throw new M;const c=new Uint8Array(2*l);let d=0;for(;l>0;){const h=s.readBits(13);let g=h/96<<8&4294967295|h%96;g<959?g+=41377:g+=42657,c[d]=g>>8&255,c[d+1]=g&255,d+=2,l--}try{o.append(H.decode(c,q.GB2312))}catch(h){throw new M(h)}}static decodeKanjiSegment(s,o,l){if(l*13>s.available())throw new M;const c=new Uint8Array(2*l);let d=0;for(;l>0;){const h=s.readBits(13);let g=h/192<<8&4294967295|h%192;g<7936?g+=33088:g+=49472,c[d]=g>>8,c[d+1]=g,d+=2,l--}try{o.append(H.decode(c,q.SHIFT_JIS))}catch(h){throw new M(h)}}static decodeByteSegment(s,o,l,c,d,h){if(8*l>s.available())throw new M;const g=new Uint8Array(l);for(let v=0;v<l;v++)g[v]=s.readBits(8);let y;c===null?y=q.guessEncoding(g,h):y=c.getName();try{o.append(H.decode(g,y))}catch(v){throw new M(v)}d.push(g)}static toAlphaNumericChar(s){if(s>=_t.ALPHANUMERIC_CHARS.length)throw new M;return _t.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,l,c){const d=o.length();for(;l>1;){if(s.available()<11)throw new M;const h=s.readBits(11);o.append(_t.toAlphaNumericChar(Math.floor(h/45))),o.append(_t.toAlphaNumericChar(h%45)),l-=2}if(l===1){if(s.available()<6)throw new M;o.append(_t.toAlphaNumericChar(s.readBits(6)))}if(c)for(let h=d;h<o.length();h++)o.charAt(h)==="%"&&(h<o.length()-1&&o.charAt(h+1)==="%"?o.deleteCharAt(h+1):o.setCharAt(h,""))}static decodeNumericSegment(s,o,l){for(;l>=3;){if(s.available()<10)throw new M;const c=s.readBits(10);if(c>=1e3)throw new M;o.append(_t.toAlphaNumericChar(Math.floor(c/100))),o.append(_t.toAlphaNumericChar(Math.floor(c/10)%10)),o.append(_t.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(s.available()<7)throw new M;const c=s.readBits(7);if(c>=100)throw new M;o.append(_t.toAlphaNumericChar(Math.floor(c/10))),o.append(_t.toAlphaNumericChar(c%10))}else if(l===1){if(s.available()<4)throw new M;const c=s.readBits(4);if(c>=10)throw new M;o.append(_t.toAlphaNumericChar(c))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=s.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=s.readBits(16);return(o&31)<<16&4294967295|l}throw new M}}_t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",_t.GB2312_SUBSET=1;class Im{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class xE{constructor(){this.rsDecoder=new rn(ke.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(re.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const l=new gE(s);let c=null;try{return this.decodeBitMatrixParser(l,o)}catch(d){c=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,o);return d.setOther(new Im(!0)),d}catch(d){throw c!==null?c:d}}decodeBitMatrixParser(s,o){const l=s.readVersion(),c=s.readFormatInformation().getErrorCorrectionLevel(),d=s.readCodewords(),h=Jd.getDataBlocks(d,l,c);let g=0;for(const N of h)g+=N.getNumDataCodewords();const y=new Uint8Array(g);let v=0;for(const N of h){const O=N.getCodewords(),D=N.getNumDataCodewords();this.correctErrors(O,D);for(let U=0;U<D;U++)y[v++]=O[U]}return _t.decode(y,l,c,o)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new E}for(let c=0;c<o;c++)s[c]=l[c]}}class ef extends we{constructor(s,o,l){super(s,o),this.estimatedModuleSize=l}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const c=(this.getX()+o)/2,d=(this.getY()+s)/2,h=(this.estimatedModuleSize+l)/2;return new ef(c,d,h)}}class wc{constructor(s,o,l,c,d,h,g){this.image=s,this.startX=o,this.startY=l,this.width=c,this.height=d,this.moduleSize=h,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,l=this.width,c=s+l,d=this.startY+o/2,h=new Int32Array(3),g=this.image;for(let y=0;y<o;y++){const v=d+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));h[0]=0,h[1]=0,h[2]=0;let N=s;for(;N<c&&!g.get(N,v);)N++;let O=0;for(;N<c;){if(g.get(N,v))if(O===1)h[1]++;else if(O===2){if(this.foundPatternCross(h)){const D=this.handlePossibleCenter(h,v,N);if(D!==null)return D}h[0]=h[2],h[1]=1,h[2]=0,O=1}else h[++O]++;else O===1&&O++,h[O]++;N++}if(this.foundPatternCross(h)){const D=this.handlePossibleCenter(h,v,c);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,l=o/2;for(let c=0;c<3;c++)if(Math.abs(o-s[c])>=l)return!1;return!0}crossCheckVertical(s,o,l,c){const d=this.image,h=d.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let y=s;for(;y>=0&&d.get(o,y)&&g[1]<=l;)g[1]++,y--;if(y<0||g[1]>l)return NaN;for(;y>=0&&!d.get(o,y)&&g[0]<=l;)g[0]++,y--;if(g[0]>l)return NaN;for(y=s+1;y<h&&d.get(o,y)&&g[1]<=l;)g[1]++,y++;if(y===h||g[1]>l)return NaN;for(;y<h&&!d.get(o,y)&&g[2]<=l;)g[2]++,y++;if(g[2]>l)return NaN;const v=g[0]+g[1]+g[2];return 5*Math.abs(v-c)>=2*c?NaN:this.foundPatternCross(g)?wc.centerFromEnd(g,y):NaN}handlePossibleCenter(s,o,l){const c=s[0]+s[1]+s[2],d=wc.centerFromEnd(s,l),h=this.crossCheckVertical(o,d,2*s[1],c);if(!isNaN(h)){const g=(s[0]+s[1]+s[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(g,h,d))return v.combineEstimate(h,d,g);const y=new ef(d,h,g);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class tf extends we{constructor(s,o,l,c){super(s,o),this.estimatedModuleSize=l,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const c=this.count+1,d=(this.count*this.getX()+o)/c,h=(this.count*this.getY()+s)/c,g=(this.count*this.estimatedModuleSize+l)/c;return new tf(d,h,g,c)}}class yE{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class er{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(L.TRY_HARDER)!==void 0,l=s!=null&&s.get(L.PURE_BARCODE)!==void 0,c=this.image,d=c.getHeight(),h=c.getWidth();let g=Math.floor(3*d/(4*er.MAX_MODULES));(g<er.MIN_SKIP||o)&&(g=er.MIN_SKIP);let y=!1;const v=new Int32Array(5);for(let O=g-1;O<d&&!y;O+=g){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let D=0;for(let U=0;U<h;U++)if(c.get(U,O))(D&1)===1&&D++,v[D]++;else if(D&1)v[D]++;else if(D===4)if(er.foundPatternCross(v)){if(this.handlePossibleCenter(v,O,U,l)===!0)if(g=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const $=this.findRowSkip();$>v[2]&&(O+=$-v[2]-g,U=h-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;continue}D=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;else v[++D]++;er.foundPatternCross(v)&&this.handlePossibleCenter(v,O,h,l)===!0&&(g=v[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const N=this.selectBestPatterns();return we.orderBestPatterns(N),new yE(N)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let d=0;d<5;d++){const h=s[d];if(h===0)return!1;o+=h}if(o<7)return!1;const l=o/7,c=l/2;return Math.abs(l-s[0])<c&&Math.abs(l-s[1])<c&&Math.abs(3*l-s[2])<3*c&&Math.abs(l-s[3])<c&&Math.abs(l-s[4])<c}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,l,c){const d=this.getCrossCheckStateCount();let h=0;const g=this.image;for(;s>=h&&o>=h&&g.get(o-h,s-h);)d[2]++,h++;if(s<h||o<h)return!1;for(;s>=h&&o>=h&&!g.get(o-h,s-h)&&d[1]<=l;)d[1]++,h++;if(s<h||o<h||d[1]>l)return!1;for(;s>=h&&o>=h&&g.get(o-h,s-h)&&d[0]<=l;)d[0]++,h++;if(d[0]>l)return!1;const y=g.getHeight(),v=g.getWidth();for(h=1;s+h<y&&o+h<v&&g.get(o+h,s+h);)d[2]++,h++;if(s+h>=y||o+h>=v)return!1;for(;s+h<y&&o+h<v&&!g.get(o+h,s+h)&&d[3]<l;)d[3]++,h++;if(s+h>=y||o+h>=v||d[3]>=l)return!1;for(;s+h<y&&o+h<v&&g.get(o+h,s+h)&&d[4]<l;)d[4]++,h++;if(d[4]>=l)return!1;const N=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(N-c)<2*c&&er.foundPatternCross(d)}crossCheckVertical(s,o,l,c){const d=this.image,h=d.getHeight(),g=this.getCrossCheckStateCount();let y=s;for(;y>=0&&d.get(o,y);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(o,y)&&g[1]<=l;)g[1]++,y--;if(y<0||g[1]>l)return NaN;for(;y>=0&&d.get(o,y)&&g[0]<=l;)g[0]++,y--;if(g[0]>l)return NaN;for(y=s+1;y<h&&d.get(o,y);)g[2]++,y++;if(y===h)return NaN;for(;y<h&&!d.get(o,y)&&g[3]<l;)g[3]++,y++;if(y===h||g[3]>=l)return NaN;for(;y<h&&d.get(o,y)&&g[4]<l;)g[4]++,y++;if(g[4]>=l)return NaN;const v=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(v-c)>=2*c?NaN:er.foundPatternCross(g)?er.centerFromEnd(g,y):NaN}crossCheckHorizontal(s,o,l,c){const d=this.image,h=d.getWidth(),g=this.getCrossCheckStateCount();let y=s;for(;y>=0&&d.get(y,o);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(y,o)&&g[1]<=l;)g[1]++,y--;if(y<0||g[1]>l)return NaN;for(;y>=0&&d.get(y,o)&&g[0]<=l;)g[0]++,y--;if(g[0]>l)return NaN;for(y=s+1;y<h&&d.get(y,o);)g[2]++,y++;if(y===h)return NaN;for(;y<h&&!d.get(y,o)&&g[3]<l;)g[3]++,y++;if(y===h||g[3]>=l)return NaN;for(;y<h&&d.get(y,o)&&g[4]<l;)g[4]++,y++;if(g[4]>=l)return NaN;const v=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(v-c)>=c?NaN:er.foundPatternCross(g)?er.centerFromEnd(g,y):NaN}handlePossibleCenter(s,o,l,c){const d=s[0]+s[1]+s[2]+s[3]+s[4];let h=er.centerFromEnd(s,l),g=this.crossCheckVertical(o,Math.floor(h),s[2],d);if(!isNaN(g)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(g),s[2],d),!isNaN(h)&&(!c||this.crossCheckDiagonal(Math.floor(g),Math.floor(h),s[2],d)))){const y=d/7;let v=!1;const N=this.possibleCenters;for(let O=0,D=N.length;O<D;O++){const U=N[O];if(U.aboutEquals(y,g,h)){N[O]=U.combineEstimate(g,h,y),v=!0;break}}if(!v){const O=new tf(h,g,y);N.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=er.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const l=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=er.CENTER_QUORUM&&(s++,o+=h.getEstimatedModuleSize());if(s<3)return!1;const c=o/l;let d=0;for(const h of this.possibleCenters)d+=Math.abs(h.getEstimatedModuleSize()-c);return d<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new G;const o=this.possibleCenters;let l;if(s>3){let c=0,d=0;for(const y of this.possibleCenters){const v=y.getEstimatedModuleSize();c+=v,d+=v*v}l=c/s;let h=Math.sqrt(d/s-l*l);o.sort((y,v)=>{const N=Math.abs(v.getEstimatedModuleSize()-l),O=Math.abs(y.getEstimatedModuleSize()-l);return N<O?-1:N>O?1:0});const g=Math.max(.2*l,h);for(let y=0;y<o.length&&o.length>3;y++){const v=o[y];Math.abs(v.getEstimatedModuleSize()-l)>g&&(o.splice(y,1),y--)}}if(o.length>3){let c=0;for(const d of o)c+=d.getEstimatedModuleSize();l=c/o.length,o.sort((d,h)=>{if(h.getCount()===d.getCount()){const g=Math.abs(h.getEstimatedModuleSize()-l),y=Math.abs(d.getEstimatedModuleSize()-l);return g<y?1:g>y?-1:0}else return h.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}er.CENTER_QUORUM=2,er.MIN_SKIP=3,er.MAX_MODULES=57;class Fa{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(L.NEED_RESULT_POINT_CALLBACK);const l=new er(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const o=s.getTopLeft(),l=s.getTopRight(),c=s.getBottomLeft(),d=this.calculateModuleSize(o,l,c);if(d<1)throw new G("No pattern found in proccess finder.");const h=Fa.computeDimension(o,l,c,d),g=Se.getProvisionalVersionForDimension(h),y=g.getDimensionForVersion()-7;let v=null;if(g.getAlignmentPatternCenters().length>0){const U=l.getX()-o.getX()+c.getX(),V=l.getY()-o.getY()+c.getY(),$=1-3/y,K=Math.floor(o.getX()+$*(U-o.getX())),Z=Math.floor(o.getY()+$*(V-o.getY()));for(let fe=4;fe<=16;fe<<=1)try{v=this.findAlignmentInRegion(d,K,Z,fe);break}catch(he){if(!(he instanceof G))throw he}}const N=Fa.createTransform(o,l,c,v,h),O=Fa.sampleGrid(this.image,N,h);let D;return v===null?D=[c,o,l]:D=[c,o,l,v],new Ti(O,D)}static createTransform(s,o,l,c,d){const h=d-3.5;let g,y,v,N;return c!==null?(g=c.getX(),y=c.getY(),v=h-3,N=v):(g=o.getX()-s.getX()+l.getX(),y=o.getY()-s.getY()+l.getY(),v=h,N=h),xt.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,v,N,3.5,h,s.getX(),s.getY(),o.getX(),o.getY(),g,y,l.getX(),l.getY())}static sampleGrid(s,o,l){return Un.getInstance().sampleGridWithTransform(s,l,l,o)}static computeDimension(s,o,l,c){const d=ze.round(we.distance(s,o)/c),h=ze.round(we.distance(s,l)/c);let g=Math.floor((d+h)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new G("Dimensions could be not found.")}return g}calculateModuleSize(s,o,l){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,l,c){let d=this.sizeOfBlackWhiteBlackRun(s,o,l,c),h=1,g=s-(l-s);g<0?(h=s/(s-g),g=0):g>=this.image.getWidth()&&(h=(this.image.getWidth()-1-s)/(g-s),g=this.image.getWidth()-1);let y=Math.floor(o-(c-o)*h);return h=1,y<0?(h=o/(o-y),y=0):y>=this.image.getHeight()&&(h=(this.image.getHeight()-1-o)/(y-o),y=this.image.getHeight()-1),g=Math.floor(s+(g-s)*h),d+=this.sizeOfBlackWhiteBlackRun(s,o,g,y),d-1}sizeOfBlackWhiteBlackRun(s,o,l,c){const d=Math.abs(c-o)>Math.abs(l-s);if(d){let U=s;s=o,o=U,U=l,l=c,c=U}const h=Math.abs(l-s),g=Math.abs(c-o);let y=-h/2;const v=s<l?1:-1,N=o<c?1:-1;let O=0;const D=l+v;for(let U=s,V=o;U!==D;U+=v){const $=d?V:U,K=d?U:V;if(O===1===this.image.get($,K)){if(O===2)return ze.distance(U,V,s,o);O++}if(y+=g,y>0){if(V===c)break;V+=N,y-=h}}return O===2?ze.distance(l+v,c,s,o):NaN}findAlignmentInRegion(s,o,l,c){const d=Math.floor(c*s),h=Math.max(0,o-d),g=Math.min(this.image.getWidth()-1,o+d);if(g-h<s*3)throw new G("Alignment top exceeds estimated module size.");const y=Math.max(0,l-d),v=Math.min(this.image.getHeight()-1,l+d);if(v-y<s*3)throw new G("Alignment bottom exceeds estimated module size.");return new wc(this.image,h,y,g-h,v-y,s,this.resultPointCallback).find()}}class Ps{constructor(){this.decoder=new xE}getDecoder(){return this.decoder}decode(s,o){let l,c;if(o!=null&&o.get(L.PURE_BARCODE)!==void 0){const y=Ps.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,o),c=Ps.NO_POINTS}else{const y=new Fa(s.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(y.getBits(),o),c=y.getPoints()}l.getOther()instanceof Im&&l.getOther().applyMirroredCorrection(c);const d=new Ee(l.getText(),l.getRawBytes(),void 0,c,te.QR_CODE,void 0),h=l.getByteSegments();h!==null&&d.putMetadata(ye.BYTE_SEGMENTS,h);const g=l.getECLevel();return g!==null&&d.putMetadata(ye.ERROR_CORRECTION_LEVEL,g),l.hasStructuredAppend()&&(d.putMetadata(ye.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(ye.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o===null||l===null)throw new G;const c=this.moduleSize(o,s);let d=o[1],h=l[1],g=o[0],y=l[0];if(g>=y||d>=h)throw new G;if(h-d!==y-g&&(y=g+(h-d),y>=s.getWidth()))throw new G;const v=Math.round((y-g+1)/c),N=Math.round((h-d+1)/c);if(v<=0||N<=0)throw new G;if(N!==v)throw new G;const O=Math.floor(c/2);d+=O,g+=O;const D=g+Math.floor((v-1)*c)-y;if(D>0){if(D>O)throw new G;g-=D}const U=d+Math.floor((N-1)*c)-h;if(U>0){if(U>O)throw new G;d-=U}const V=new re(v,N);for(let $=0;$<N;$++){const K=d+Math.floor($*c);for(let Z=0;Z<v;Z++)s.get(g+Math.floor(Z*c),K)&&V.set(Z,$)}return V}static moduleSize(s,o){const l=o.getHeight(),c=o.getWidth();let d=s[0],h=s[1],g=!0,y=0;for(;d<c&&h<l;){if(g!==o.get(d,h)){if(++y===5)break;g=!g}d++,h++}if(d===c||h===l)throw new G;return(d-s[0])/7}}Ps.NO_POINTS=new Array;class Me{PDF417Common(){}static getBitCountSum(s){return ze.sum(s)}static toIntArray(s){if(s==null||!s.length)return Me.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let l=0;for(const c of s)o[l++]=c;return o}static getCodeword(s){const o=S.binarySearch(Me.SYMBOL_TABLE,s&262143);return o<0?-1:(Me.CODEWORD_TABLE[o]-1)%Me.NUMBER_OF_CODEWORDS}}Me.NUMBER_OF_CODEWORDS=929,Me.MAX_CODEWORDS_IN_BARCODE=Me.NUMBER_OF_CODEWORDS-1,Me.MIN_ROWS_IN_BARCODE=3,Me.MAX_ROWS_IN_BARCODE=90,Me.MODULES_IN_CODEWORD=17,Me.MODULES_IN_STOP_PATTERN=18,Me.BARS_IN_MODULE=8,Me.EMPTY_INT_ARRAY=new Int32Array([]),Me.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Me.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class wE{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Ve{static detectMultiple(s,o,l){let c=s.getBlackMatrix(),d=Ve.detect(l,c);return d.length||(c=c.clone(),c.rotate180(),d=Ve.detect(l,c)),new wE(c,d)}static detect(s,o){const l=new Array;let c=0,d=0,h=!1;for(;c<o.getHeight();){const g=Ve.findVertices(o,c,d);if(g[0]==null&&g[3]==null){if(!h)break;h=!1,d=0;for(const y of l)y[1]!=null&&(c=Math.trunc(Math.max(c,y[1].getY()))),y[3]!=null&&(c=Math.max(c,Math.trunc(y[3].getY())));c+=Ve.ROW_STEP;continue}if(h=!0,l.push(g),!s)break;g[2]!=null?(d=Math.trunc(g[2].getX()),c=Math.trunc(g[2].getY())):(d=Math.trunc(g[4].getX()),c=Math.trunc(g[4].getY()))}return l}static findVertices(s,o,l){const c=s.getHeight(),d=s.getWidth(),h=new Array(8);return Ve.copyToResult(h,Ve.findRowsWithPattern(s,c,d,o,l,Ve.START_PATTERN),Ve.INDEXES_START_PATTERN),h[4]!=null&&(l=Math.trunc(h[4].getX()),o=Math.trunc(h[4].getY())),Ve.copyToResult(h,Ve.findRowsWithPattern(s,c,d,o,l,Ve.STOP_PATTERN),Ve.INDEXES_STOP_PATTERN),h}static copyToResult(s,o,l){for(let c=0;c<l.length;c++)s[l[c]]=o[c]}static findRowsWithPattern(s,o,l,c,d,h){const g=new Array(4);let y=!1;const v=new Int32Array(h.length);for(;c<o;c+=Ve.ROW_STEP){let O=Ve.findGuardPattern(s,d,c,l,!1,h,v);if(O!=null){for(;c>0;){const D=Ve.findGuardPattern(s,d,--c,l,!1,h,v);if(D!=null)O=D;else{c++;break}}g[0]=new we(O[0],c),g[1]=new we(O[1],c),y=!0;break}}let N=c+1;if(y){let O=0,D=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;N<o;N++){const U=Ve.findGuardPattern(s,D[0],N,l,!1,h,v);if(U!=null&&Math.abs(D[0]-U[0])<Ve.MAX_PATTERN_DRIFT&&Math.abs(D[1]-U[1])<Ve.MAX_PATTERN_DRIFT)D=U,O=0;else{if(O>Ve.SKIPPED_ROW_COUNT_MAX)break;O++}}N-=O+1,g[2]=new we(D[0],N),g[3]=new we(D[1],N)}return N-c<Ve.BARCODE_MIN_HEIGHT&&S.fill(g,null),g}static findGuardPattern(s,o,l,c,d,h,g){S.fillWithin(g,0,g.length,0);let y=o,v=0;for(;s.get(y,l)&&y>0&&v++<Ve.MAX_PIXEL_DRIFT;)y--;let N=y,O=0,D=h.length;for(let U=d;N<c;N++)if(s.get(N,l)!==U)g[O]++;else{if(O===D-1){if(Ve.patternMatchVariance(g,h,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE)return new Int32Array([y,N]);y+=g[0]+g[1],A.arraycopy(g,2,g,0,O-1),g[O-1]=0,g[O]=0,O--}else O++;g[O]=1,U=!U}return O===D-1&&Ve.patternMatchVariance(g,h,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE?new Int32Array([y,N-1]):null}static patternMatchVariance(s,o,l){let c=s.length,d=0,h=0;for(let v=0;v<c;v++)d+=s[v],h+=o[v];if(d<h)return 1/0;let g=d/h;l*=g;let y=0;for(let v=0;v<c;v++){let N=s[v],O=o[v]*g,D=N>O?N-O:O-N;if(D>l)return 1/0;y+=D}return y/d}}Ve.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ve.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ve.MAX_AVG_VARIANCE=.42,Ve.MAX_INDIVIDUAL_VARIANCE=.8,Ve.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ve.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ve.MAX_PIXEL_DRIFT=3,Ve.MAX_PATTERN_DRIFT=5,Ve.SKIPPED_ROW_COUNT_MAX=25,Ve.ROW_STEP=5,Ve.BARCODE_MIN_HEIGHT=10;class sr{constructor(s,o){if(o.length===0)throw new b;this.field=s;let l=o.length;if(l>1&&o[0]===0){let c=1;for(;c<l&&o[c]===0;)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),A.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let c=0;for(let d of this.coefficients)c=this.field.add(c,d);return c}let o=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)o=this.field.add(this.field.multiply(s,o),this.coefficients[c]);return o}add(s){if(!this.field.equals(s.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){let h=o;o=l,l=h}let c=new Int32Array(l.length),d=l.length-o.length;A.arraycopy(l,0,c,0,d);for(let h=d;h<l.length;h++)c[h]=this.field.add(o[h-d],l[h]);return new sr(this.field,c)}subtract(s){if(!this.field.equals(s.field))throw new b("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof sr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new sr(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,c=s.coefficients,d=c.length,h=new Int32Array(l+d-1);for(let g=0;g<l;g++){let y=o[g];for(let v=0;v<d;v++)h[g+v]=this.field.add(h[g+v],this.field.multiply(y,c[v]))}return new sr(this.field,h)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let l=0;l<s;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new sr(this.field,o)}multiplyScalar(s){if(s===0)return new sr(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let c=0;c<o;c++)l[c]=this.field.multiply(this.coefficients[c],s);return new sr(this.field,l)}multiplyByMonomial(s,o){if(s<0)throw new b;if(o===0)return new sr(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+s);for(let d=0;d<l;d++)c[d]=this.field.multiply(this.coefficients[d],o);return new sr(this.field,c)}toString(){let s=new ie;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(o===0||l!==1)&&s.append(l),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class vE{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new b;return this.logTable[s]}inverse(s){if(s===0)throw new rt;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class rf extends vE{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let c=0;c<s;c++)this.expTable[c]=l,l=l*o%s;for(let c=0;c<s-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new sr(this,new Int32Array([0])),this.one=new sr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new b;if(o===0)return this.zero;let l=new Int32Array(s+1);return l[0]=o,new sr(this,l)}}rf.PDF417_GF=new rf(Me.NUMBER_OF_CODEWORDS,3);class Rm{constructor(){this.field=rf.PDF417_GF}decode(s,o,l){let c=new sr(this.field,s),d=new Int32Array(o),h=!1;for(let V=o;V>0;V--){let $=c.evaluateAt(this.field.exp(V));d[o-V]=$,$!==0&&(h=!0)}if(!h)return 0;let g=this.field.getOne();if(l!=null)for(const V of l){let $=this.field.exp(s.length-1-V),K=new sr(this.field,new Int32Array([this.field.subtract(0,$),1]));g=g.multiply(K)}let y=new sr(this.field,d),v=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),y,o),N=v[0],O=v[1],D=this.findErrorLocations(N),U=this.findErrorMagnitudes(O,N,D);for(let V=0;V<D.length;V++){let $=s.length-1-this.field.log(D[V]);if($<0)throw E.getChecksumInstance();s[$]=this.field.subtract(s[$],U[V])}return D.length}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){let D=s;s=o,o=D}let c=s,d=o,h=this.field.getZero(),g=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let D=c,U=h;if(c=d,h=g,c.isZero())throw E.getChecksumInstance();d=D;let V=this.field.getZero(),$=c.getCoefficient(c.getDegree()),K=this.field.inverse($);for(;d.getDegree()>=c.getDegree()&&!d.isZero();){let Z=d.getDegree()-c.getDegree(),fe=this.field.multiply(d.getCoefficient(d.getDegree()),K);V=V.add(this.field.buildMonomial(Z,fe)),d=d.subtract(c.multiplyByMonomial(Z,fe))}g=V.multiply(h).subtract(U).negative()}let y=g.getCoefficient(0);if(y===0)throw E.getChecksumInstance();let v=this.field.inverse(y),N=g.multiply(v),O=d.multiply(v);return[N,O]}findErrorLocations(s){let o=s.getDegree(),l=new Int32Array(o),c=0;for(let d=1;d<this.field.getSize()&&c<o;d++)s.evaluateAt(d)===0&&(l[c]=this.field.inverse(d),c++);if(c!==o)throw E.getChecksumInstance();return l}findErrorMagnitudes(s,o,l){let c=o.getDegree(),d=new Int32Array(c);for(let v=1;v<=c;v++)d[c-v]=this.field.multiply(v,o.getCoefficient(v));let h=new sr(this.field,d),g=l.length,y=new Int32Array(g);for(let v=0;v<g;v++){let N=this.field.inverse(l[v]),O=this.field.subtract(0,s.evaluateAt(N)),D=this.field.inverse(h.evaluateAt(N));y[v]=this.field.multiply(O,D)}return y}}class Oi{constructor(s,o,l,c,d){s instanceof Oi?this.constructor_2(s):this.constructor_1(s,o,l,c,d)}constructor_1(s,o,l,c,d){const h=o==null||l==null,g=c==null||d==null;if(h&&g)throw new G;h?(o=new we(0,c.getY()),l=new we(0,d.getY())):g&&(c=new we(s.getWidth()-1,o.getY()),d=new we(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=o,this.bottomLeft=l,this.topRight=c,this.bottomRight=d,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),d.getX())),this.minY=Math.trunc(Math.min(o.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new Oi(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,l){let c=this.topLeft,d=this.bottomLeft,h=this.topRight,g=this.bottomRight;if(s>0){let y=l?this.topLeft:this.topRight,v=Math.trunc(y.getY()-s);v<0&&(v=0);let N=new we(y.getX(),v);l?c=N:h=N}if(o>0){let y=l?this.bottomLeft:this.bottomRight,v=Math.trunc(y.getY()+o);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let N=new we(y.getX(),v);l?d=N:g=N}return new Oi(this.image,c,d,h,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class bE{constructor(s,o,l,c){this.columnCount=s,this.errorCorrectionLevel=c,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ua{constructor(){this.buffer=""}static form(s,o){let l=-1;function c(h,g,y,v,N,O){if(h==="%%")return"%";if(o[++l]===void 0)return;h=v?parseInt(v.substr(1)):void 0;let D=N?parseInt(N.substr(1)):void 0,U;switch(O){case"s":U=o[l];break;case"c":U=o[l][0];break;case"f":U=parseFloat(o[l]).toFixed(h);break;case"p":U=parseFloat(o[l]).toPrecision(h);break;case"e":U=parseFloat(o[l]).toExponential(h);break;case"x":U=parseInt(o[l]).toString(D||16);break;case"d":U=parseFloat(parseInt(o[l],D||10).toPrecision(h)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(D);let V=parseInt(y),$=y&&y[0]+""=="0"?"0":" ";for(;U.length<V;)U=g!==void 0?U+$:$+U;return U}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,c)}format(s,...o){this.buffer+=Ua.form(s,o)}toString(){return this.buffer}}class za{constructor(s){this.boundingBox=new Oi(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let l=1;l<za.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(s)-l;if(c>=0&&(o=this.codewords[c],o!=null)||(c=this.imageRowToCodewordIndex(s)+l,c<this.codewords.length&&(o=this.codewords[c],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Ua;let o=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return s.toString()}}za.MAX_NEARBY_DISTANCE=5;class Va{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[l,c]of this.values.entries()){const d={getKey:()=>l,getValue:()=>c};d.getValue()>s?(s=d.getValue(),o=[],o.push(d.getKey())):d.getValue()===s&&o.push(d.getKey())}return Me.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class Om extends za{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=-1,v=1,N=0;for(let O=h;O<g;O++){if(o[O]==null)continue;let D=o[O],U=D.getRowNumber()-y;if(U===0)N++;else if(U===1)v=Math.max(v,N),N=1,y=D.getRowNumber();else if(U<0||D.getRowNumber()>=s.getRowCount()||U>O)o[O]=null;else{let V;v>2?V=(v-2)*U:V=U;let $=V>=O;for(let K=1;K<=V&&!$;K++)$=o[O-K]!=null;$?o[O]=null:(y=D.getRowNumber(),N=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=o.length)continue;o[c]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.getCodewords(),y=-1;for(let v=d;v<h;v++){if(g[v]==null)continue;let N=g[v];N.setRowNumberAsRowIndicatorColumn();let O=N.getRowNumber()-y;O===0||(O===1?y=N.getRowNumber():N.getRowNumber()>=s.getRowCount()?g[v]=null:y=N.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new Va,l=new Va,c=new Va,d=new Va;for(let g of s){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let y=g.getValue()%30,v=g.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:l.setValue(y*3+1);break;case 1:d.setValue(y/3),c.setValue(y%3);break;case 2:o.setValue(y+1);break}}if(o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<Me.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>Me.MAX_ROWS_IN_BARCODE)return null;let h=new bE(o.getValue()[0],l.getValue()[0],c.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(s,h),h}removeIncorrectCodewords(s,o){for(let l=0;l<s.length;l++){let c=s[l];if(s[l]==null)continue;let d=c.getValue()%30,h=c.getRowNumber();if(h>o.getRowCount()){s[l]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:d*3+1!==o.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(d/3)!==o.getErrorCorrectionLevel()||d%3!==o.getRowCountLowerPart())&&(s[l]=null);break;case 2:d+1!==o.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Wa{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Me.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let c=0;c<l.length;c++)l[c]!=null&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(o,c,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&o[l]!=null&&s[l].getRowNumber()===o[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let d=this.detectionResultColumns[c].getCodewords()[l];d!=null&&(d.setRowNumber(s[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let c=o[l].getRowNumber(),d=0;for(let h=this.barcodeColumnCount+1;h>0&&d<this.ADJUST_ROW_NUMBER_SKIP;h--){let g=this.detectionResultColumns[h].getCodewords()[l];g!=null&&(d=Wa.adjustRowNumberIfValid(c,d,g),g.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let c=o[l].getRowNumber(),d=0;for(let h=1;h<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;h++){let g=this.detectionResultColumns[h].getCodewords()[l];g!=null&&(d=Wa.adjustRowNumberIfValid(c,d,g),g.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,l){if(!this.detectionResultColumns[s-1])return;let c=l[o],d=this.detectionResultColumns[s-1].getCodewords(),h=d;this.detectionResultColumns[s+1]!=null&&(h=this.detectionResultColumns[s+1].getCodewords());let g=new Array(14);g[2]=d[o],g[3]=h[o],o>0&&(g[0]=l[o-1],g[4]=d[o-1],g[5]=h[o-1]),o>1&&(g[8]=l[o-2],g[10]=d[o-2],g[11]=h[o-2]),o<l.length-1&&(g[1]=l[o+1],g[6]=d[o+1],g[7]=h[o+1]),o<l.length-2&&(g[9]=l[o+2],g[12]=d[o+2],g[13]=h[o+2]);for(let y of g)if(Wa.adjustRowNumber(c,y))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Ua;for(let l=0;l<s.getCodewords().length;l++){o.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){o.format("    |   ");continue}let d=this.detectionResultColumns[c].getCodewords()[l];if(d==null){o.format("    |   ");continue}o.format(" %3d|%3d",d.getRowNumber(),d.getValue())}o.format("%n")}return o.toString()}}class Ha{constructor(s,o,l,c){this.rowNumber=Ha.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Ha.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Ha.BARCODE_ROW_UNKNOWN=-1;class jr{static initialize(){for(let s=0;s<Me.SYMBOL_TABLE.length;s++){let o=Me.SYMBOL_TABLE[s],l=o&1;for(let c=0;c<Me.BARS_IN_MODULE;c++){let d=0;for(;(o&1)===l;)d+=1,o>>=1;l=o&1,jr.RATIOS_TABLE[s]||(jr.RATIOS_TABLE[s]=new Array(Me.BARS_IN_MODULE)),jr.RATIOS_TABLE[s][Me.BARS_IN_MODULE-c-1]=Math.fround(d/Me.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=jr.getDecodedCodewordValue(jr.sampleBitCounts(s));return o!==-1?o:jr.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=ze.sum(s),l=new Int32Array(Me.BARS_IN_MODULE),c=0,d=0;for(let h=0;h<Me.MODULES_IN_CODEWORD;h++){let g=o/(2*Me.MODULES_IN_CODEWORD)+h*o/Me.MODULES_IN_CODEWORD;d+s[c]<=g&&(d+=s[c],c++),l[c]++}return l}static getDecodedCodewordValue(s){let o=jr.getBitValue(s);return Me.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let l=0;l<s.length;l++)for(let c=0;c<s[l];c++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=ze.sum(s),l=new Array(Me.BARS_IN_MODULE);if(o>1)for(let h=0;h<l.length;h++)l[h]=Math.fround(s[h]/o);let c=Ni.MAX_VALUE,d=-1;this.bSymbolTableReady||jr.initialize();for(let h=0;h<jr.RATIOS_TABLE.length;h++){let g=0,y=jr.RATIOS_TABLE[h];for(let v=0;v<Me.BARS_IN_MODULE;v++){let N=Math.fround(y[v]-l[v]);if(g+=Math.fround(N*N),g>=c)break}g<c&&(c=g,d=Me.SYMBOL_TABLE[h])}return d}}jr.bSymbolTableReady=!1,jr.RATIOS_TABLE=new Array(Me.SYMBOL_TABLE.length).map(R=>new Array(Me.BARS_IN_MODULE));class jm{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Pm{static parseLong(s,o=void 0){return parseInt(s,o)}}class Dm extends x{}Dm.kind="NullPointerException";class EE{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,l){if(s==null)throw new Dm;if(o<0||o>s.length||l<0||o+l>s.length||o+l<0)throw new j;if(l===0)return;for(let c=0;c<l;c++)this.write(s[o+c])}flush(){}close(){}}class CE extends x{}class _E extends EE{constructor(s=32){if(super(),this.count=0,s<0)throw new b("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new CE;l=_.MAX_VALUE}this.buf=S.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,l){if(o<0||o>s.length||l<0||o+l-s.length>0)throw new j;this.ensureCapacity(this.count+l),A.arraycopy(s,o,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return S.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var it;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(it||(it={}));function Mm(){if(typeof window<"u")return window.BigInt||null;if(typeof qa<"u")return qa.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let vc;function Ds(R){if(typeof vc>"u"&&(vc=Mm()),vc===null)throw new Error("BigInt is not supported!");return vc(R)}function SE(){let R=[];R[0]=Ds(1);let s=Ds(900);R[1]=s;for(let o=2;o<16;o++)R[o]=R[o-1]*s;return R}class Q{static decode(s,o){let l=new ie(""),c=z.ISO8859_1;l.enableDecoding(c);let d=1,h=s[d++],g=new jm;for(;d<s[0];){switch(h){case Q.TEXT_COMPACTION_MODE_LATCH:d=Q.textCompaction(s,d,l);break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:d=Q.byteCompaction(h,s,c,d,l);break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[d++]);break;case Q.NUMERIC_COMPACTION_MODE_LATCH:d=Q.numericCompaction(s,d,l);break;case Q.ECI_CHARSET:z.getCharacterSetECIByValue(s[d++]);break;case Q.ECI_GENERAL_PURPOSE:d+=2;break;case Q.ECI_USER_DEFINED:d++;break;case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=Q.decodeMacroBlock(s,d,g);break;case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:throw new M;default:d--,d=Q.textCompaction(s,d,l);break}if(d<s.length)h=s[d++];else throw M.getFormatInstance()}if(l.length()===0)throw M.getFormatInstance();let y=new gt(null,l.toString(),null,o);return y.setOther(g),y}static decodeMacroBlock(s,o,l){if(o+Q.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw M.getFormatInstance();let c=new Int32Array(Q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<Q.NUMBER_OF_SEQUENCE_CODEWORDS;g++,o++)c[g]=s[o];l.setSegmentIndex(_.parseInt(Q.decodeBase900toBase10(c,Q.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new ie;o=Q.textCompaction(s,o,d),l.setFileId(d.toString());let h=-1;for(s[o]===Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=o+1);o<s[0];)switch(s[o]){case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new ie;o=Q.textCompaction(s,o+1,g),l.setFileName(g.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new ie;o=Q.textCompaction(s,o+1,y),l.setSender(y.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new ie;o=Q.textCompaction(s,o+1,v),l.setAddressee(v.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let N=new ie;o=Q.numericCompaction(s,o+1,N),l.setSegmentCount(_.parseInt(N.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new ie;o=Q.numericCompaction(s,o+1,O),l.setTimestamp(Pm.parseLong(O.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new ie;o=Q.numericCompaction(s,o+1,D),l.setChecksum(_.parseInt(D.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new ie;o=Q.numericCompaction(s,o+1,U),l.setFileSize(Pm.parseLong(U.toString()));break;default:throw M.getFormatInstance()}break;case Q.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(h!==-1){let g=o-h;l.isLastSegment()&&g--,l.setOptionalData(S.copyOfRange(s,h,h+g))}return o}static textCompaction(s,o,l){let c=new Int32Array((s[0]-o)*2),d=new Int32Array((s[0]-o)*2),h=0,g=!1;for(;o<s[0]&&!g;){let y=s[o++];if(y<Q.TEXT_COMPACTION_MODE_LATCH)c[h]=y/30,c[h+1]=y%30,h+=2;else switch(y){case Q.TEXT_COMPACTION_MODE_LATCH:c[h++]=Q.TEXT_COMPACTION_MODE_LATCH;break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:o--,g=!0;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[h]=Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=s[o++],d[h]=y,h++;break}}return Q.decodeTextCompaction(c,d,h,l),o}static decodeTextCompaction(s,o,l,c){let d=it.ALPHA,h=it.ALPHA,g=0;for(;g<l;){let y=s[g],v="";switch(d){case it.ALPHA:if(y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case Q.LL:d=it.LOWER;break;case Q.ML:d=it.MIXED;break;case Q.PS:h=d,d=it.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=it.ALPHA;break}break;case it.LOWER:if(y<26)v=String.fromCharCode(97+y);else switch(y){case 26:v=" ";break;case Q.AS:h=d,d=it.ALPHA_SHIFT;break;case Q.ML:d=it.MIXED;break;case Q.PS:h=d,d=it.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=it.ALPHA;break}break;case it.MIXED:if(y<Q.PL)v=Q.MIXED_CHARS[y];else switch(y){case Q.PL:d=it.PUNCT;break;case 26:v=" ";break;case Q.LL:d=it.LOWER;break;case Q.AL:d=it.ALPHA;break;case Q.PS:h=d,d=it.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=it.ALPHA;break}break;case it.PUNCT:if(y<Q.PAL)v=Q.PUNCT_CHARS[y];else switch(y){case Q.PAL:d=it.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=it.ALPHA;break}break;case it.ALPHA_SHIFT:if(d=h,y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case Q.TEXT_COMPACTION_MODE_LATCH:d=it.ALPHA;break}break;case it.PUNCT_SHIFT:if(d=h,y<Q.PAL)v=Q.PUNCT_CHARS[y];else switch(y){case Q.PAL:d=it.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=it.ALPHA;break}break}v!==""&&c.append(v),g++}}static byteCompaction(s,o,l,c,d){let h=new _E,g=0,y=0,v=!1;switch(s){case Q.BYTE_COMPACTION_MODE_LATCH:let N=new Int32Array(6),O=o[c++];for(;c<o[0]&&!v;)switch(N[g++]=O,y=900*y+O,O=o[c++],O){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:c--,v=!0;break;default:if(g%5===0&&g>0){for(let D=0;D<6;++D)h.write(Number(Ds(y)>>Ds(8*(5-D))));y=0,g=0}break}c===o[0]&&O<Q.TEXT_COMPACTION_MODE_LATCH&&(N[g++]=O);for(let D=0;D<g;D++)h.write(N[D]);break;case Q.BYTE_COMPACTION_MODE_LATCH_6:for(;c<o[0]&&!v;){let D=o[c++];if(D<Q.TEXT_COMPACTION_MODE_LATCH)g++,y=900*y+D;else switch(D){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:c--,v=!0;break}if(g%5===0&&g>0){for(let U=0;U<6;++U)h.write(Number(Ds(y)>>Ds(8*(5-U))));y=0,g=0}}break}return d.append(H.decode(h.toByteArray(),l)),c}static numericCompaction(s,o,l){let c=0,d=!1,h=new Int32Array(Q.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!d;){let g=s[o++];if(o===s[0]&&(d=!0),g<Q.TEXT_COMPACTION_MODE_LATCH)h[c]=g,c++;else switch(g){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:o--,d=!0;break}(c%Q.MAX_NUMERIC_CODEWORDS===0||g===Q.NUMERIC_COMPACTION_MODE_LATCH||d)&&c>0&&(l.append(Q.decodeBase900toBase10(h,c)),c=0)}return o}static decodeBase900toBase10(s,o){let l=Ds(0);for(let d=0;d<o;d++)l+=Q.EXP900[o-d-1]*Ds(s[d]);let c=l.toString();if(c.charAt(0)!=="1")throw new M;return c.substring(1)}}Q.TEXT_COMPACTION_MODE_LATCH=900,Q.BYTE_COMPACTION_MODE_LATCH=901,Q.NUMERIC_COMPACTION_MODE_LATCH=902,Q.BYTE_COMPACTION_MODE_LATCH_6=924,Q.ECI_USER_DEFINED=925,Q.ECI_GENERAL_PURPOSE=926,Q.ECI_CHARSET=927,Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Q.MACRO_PDF417_TERMINATOR=922,Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Q.MAX_NUMERIC_CODEWORDS=15,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Q.PL=25,Q.LL=27,Q.AS=27,Q.ML=28,Q.AL=28,Q.PS=29,Q.PAL=29,Q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Q.EXP900=Mm()?SE():[],Q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class We{constructor(){}static decode(s,o,l,c,d,h,g){let y=new Oi(s,o,l,c,d),v=null,N=null,O;for(let V=!0;;V=!1){if(o!=null&&(v=We.getRowIndicatorColumn(s,y,o,!0,h,g)),c!=null&&(N=We.getRowIndicatorColumn(s,y,c,!1,h,g)),O=We.merge(v,N),O==null)throw G.getNotFoundInstance();let $=O.getBoundingBox();if(V&&$!=null&&($.getMinY()<y.getMinY()||$.getMaxY()>y.getMaxY()))y=$;else break}O.setBoundingBox(y);let D=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,v),O.setDetectionResultColumn(D,N);let U=v!=null;for(let V=1;V<=D;V++){let $=U?V:D-V;if(O.getDetectionResultColumn($)!==void 0)continue;let K;$===0||$===D?K=new Om(y,$===0):K=new za(y),O.setDetectionResultColumn($,K);let Z=-1,fe=Z;for(let he=y.getMinY();he<=y.getMaxY();he++){if(Z=We.getStartColumn(O,$,he,U),Z<0||Z>y.getMaxX()){if(fe===-1)continue;Z=fe}let ce=We.detectCodeword(s,y.getMinX(),y.getMaxX(),U,Z,he,h,g);ce!=null&&(K.setCodeword(he,ce),fe=Z,h=Math.min(h,ce.getWidth()),g=Math.max(g,ce.getWidth()))}}return We.createDecoderResult(O)}static merge(s,o){if(s==null&&o==null)return null;let l=We.getBarcodeMetadata(s,o);if(l==null)return null;let c=Oi.merge(We.adjustBoundingBox(s),We.adjustBoundingBox(o));return new Wa(l,c)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let l=We.getMax(o),c=0;for(let g of o)if(c+=l-g,g>0)break;let d=s.getCodewords();for(let g=0;c>0&&d[g]==null;g++)c--;let h=0;for(let g=o.length-1;g>=0&&(h+=l-o[g],!(o[g]>0));g--);for(let g=d.length-1;h>0&&d[g]==null;g--)h--;return s.getBoundingBox().addMissingRows(c,h,s.isLeft())}static getMax(s){let o=-1;for(let l of s)o=Math.max(o,l);return o}static getBarcodeMetadata(s,o){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let c;return o==null||(c=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(s,o,l,c,d,h){let g=new Om(o,c);for(let y=0;y<2;y++){let v=y===0?1:-1,N=Math.trunc(Math.trunc(l.getX()));for(let O=Math.trunc(Math.trunc(l.getY()));O<=o.getMaxY()&&O>=o.getMinY();O+=v){let D=We.detectCodeword(s,0,s.getWidth(),c,N,O,d,h);D!=null&&(g.setCodeword(O,D),c?N=D.getStartX():N=D.getEndX())}}return g}static adjustCodewordCount(s,o){let l=o[0][1],c=l.getValue(),d=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-We.getNumberOfECCodeWords(s.getBarcodeECLevel());if(c.length===0){if(d<1||d>Me.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();l.setValue(d)}else c[0]!==d&&l.setValue(d)}static createDecoderResult(s){let o=We.createBarcodeMatrix(s);We.adjustCodewordCount(s,o);let l=new Array,c=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),d=[],h=new Array;for(let y=0;y<s.getBarcodeRowCount();y++)for(let v=0;v<s.getBarcodeColumnCount();v++){let N=o[y][v+1].getValue(),O=y*s.getBarcodeColumnCount()+v;N.length===0?l.push(O):N.length===1?c[O]=N[0]:(h.push(O),d.push(N))}let g=new Array(d.length);for(let y=0;y<g.length;y++)g[y]=d[y];return We.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),c,Me.toIntArray(l),Me.toIntArray(h),g)}static createDecoderResultFromAmbiguousValues(s,o,l,c,d){let h=new Int32Array(c.length),g=100;for(;g-- >0;){for(let y=0;y<h.length;y++)o[c[y]]=d[y][h[y]];try{return We.decodeCodewords(o,s,l)}catch(y){if(!(y instanceof E))throw y}if(h.length===0)throw E.getChecksumInstance();for(let y=0;y<h.length;y++)if(h[y]<d[y].length-1){h[y]++;break}else if(h[y]=0,y===h.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let c=0;c<o.length;c++)for(let d=0;d<o[c].length;d++)o[c][d]=new Va;let l=0;for(let c of s.getDetectionResultColumns()){if(c!=null){for(let d of c.getCodewords())if(d!=null){let h=d.getRowNumber();if(h>=0){if(h>=o.length)continue;o[h][l].setValue(d.getValue())}}}l++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,l,c){let d=c?1:-1,h=null;if(We.isValidBarcodeColumn(s,o-d)&&(h=s.getDetectionResultColumn(o-d).getCodeword(l)),h!=null)return c?h.getEndX():h.getStartX();if(h=s.getDetectionResultColumn(o).getCodewordNearby(l),h!=null)return c?h.getStartX():h.getEndX();if(We.isValidBarcodeColumn(s,o-d)&&(h=s.getDetectionResultColumn(o-d).getCodewordNearby(l)),h!=null)return c?h.getEndX():h.getStartX();let g=0;for(;We.isValidBarcodeColumn(s,o-d);){o-=d;for(let y of s.getDetectionResultColumn(o).getCodewords())if(y!=null)return(c?y.getEndX():y.getStartX())+d*g*(y.getEndX()-y.getStartX());g++}return c?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,l,c,d,h,g,y){d=We.adjustCodewordStartColumn(s,o,l,c,d,h);let v=We.getModuleBitCount(s,o,l,c,d,h);if(v==null)return null;let N,O=ze.sum(v);if(c)N=d+O;else{for(let V=0;V<v.length/2;V++){let $=v[V];v[V]=v[v.length-1-V],v[v.length-1-V]=$}N=d,d=N-O}if(!We.checkCodewordSkew(O,g,y))return null;let D=jr.getDecodedValue(v),U=Me.getCodeword(D);return U===-1?null:new Ha(d,N,We.getCodewordBucketNumber(D),U)}static getModuleBitCount(s,o,l,c,d,h){let g=d,y=new Int32Array(8),v=0,N=c?1:-1,O=c;for(;(c?g<l:g>=o)&&v<y.length;)s.get(g,h)===O?(y[v]++,g+=N):(v++,O=!O);return v===y.length||g===(c?l:o)&&v===y.length-1?y:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,l,c,d,h){let g=d,y=c?-1:1;for(let v=0;v<2;v++){for(;(c?g>=o:g<l)&&c===s.get(g,h);){if(Math.abs(d-g)>We.CODEWORD_SKEW_SIZE)return d;g+=y}y=-y,c=!c}return g}static checkCodewordSkew(s,o,l){return o-We.CODEWORD_SKEW_SIZE<=s&&s<=l+We.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,l){if(s.length===0)throw M.getFormatInstance();let c=1<<o+1,d=We.correctErrors(s,l,c);We.verifyCodewordCount(s,c);let h=Q.decode(s,""+o);return h.setErrorsCorrected(d),h.setErasures(l.length),h}static correctErrors(s,o,l){if(o!=null&&o.length>l/2+We.MAX_ERRORS||l<0||l>We.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return We.errorCorrection.decode(s,l,o)}static verifyCodewordCount(s,o){if(s.length<4)throw M.getFormatInstance();let l=s[0];if(l>s.length)throw M.getFormatInstance();if(l===0)if(o<s.length)s[0]=s.length-o;else throw M.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),l=0,c=o.length-1;for(;!((s&1)!==l&&(l=s&1,c--,c<0));)o[c]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return We.getCodewordBucketNumber(We.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new Ua;for(let l=0;l<s.length;l++){o.format("Row %2d: ",l);for(let c=0;c<s[l].length;c++){let d=s[l][c];d.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}o.format("%n")}return o.toString()}}We.CODEWORD_SKEW_SIZE=2,We.MAX_ERRORS=3,We.MAX_EC_CODEWORDS=512,We.errorCorrection=new Rm;class ir{decode(s,o=null){let l=ir.decode(s,o,!1);if(l==null||l.length===0||l[0]==null)throw G.getNotFoundInstance();return l[0]}decodeMultiple(s,o=null){try{return ir.decode(s,o,!0)}catch(l){throw l instanceof M||l instanceof E?G.getNotFoundInstance():l}}static decode(s,o,l){const c=new Array,d=Ve.detectMultiple(s,o,l);for(const h of d.getPoints()){const g=We.decode(d.getBits(),h[4],h[5],h[6],h[7],ir.getMinCodewordWidth(h),ir.getMaxCodewordWidth(h)),y=new Ee(g.getText(),g.getRawBytes(),void 0,h,te.PDF_417);y.putMetadata(ye.ERROR_CORRECTION_LEVEL,g.getECLevel());const v=g.getOther();v!=null&&y.putMetadata(ye.PDF417_EXTRA_METADATA,v),c.push(y)}return c.map(h=>h)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?_.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(ir.getMaxWidth(s[0],s[4]),ir.getMaxWidth(s[6],s[2])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN),Math.max(ir.getMaxWidth(s[1],s[5]),ir.getMaxWidth(s[7],s[3])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(ir.getMinWidth(s[0],s[4]),ir.getMinWidth(s[6],s[2])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN),Math.min(ir.getMinWidth(s[1],s[5]),ir.getMinWidth(s[7],s[3])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN)))}reset(){}}class bc extends x{}bc.kind="ReaderException";class Lm{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!n(s)&&s.get(L.TRY_HARDER)===!0,l=n(s)?null:s.get(L.POSSIBLE_FORMATS),c=new Array;if(!n(l)){const d=l.some(h=>h===te.UPC_A||h===te.UPC_E||h===te.EAN_13||h===te.EAN_8||h===te.CODABAR||h===te.CODE_39||h===te.CODE_93||h===te.CODE_128||h===te.ITF||h===te.RSS_14||h===te.RSS_EXPANDED);d&&!o&&c.push(new xo(s,this.verbose)),l.includes(te.QR_CODE)&&c.push(new Ps),l.includes(te.DATA_MATRIX)&&c.push(new js),l.includes(te.AZTEC)&&c.push(new ho),l.includes(te.PDF_417)&&c.push(new ir),d&&o&&c.push(new xo(s,this.verbose))}c.length===0&&(o||c.push(new xo(s,this.verbose)),c.push(new Ps),c.push(new js),c.push(new ho),c.push(new ir),o&&c.push(new xo(s,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new bc("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(l){if(l instanceof bc)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class AE extends je{constructor(s=null,o=500){const l=new Lm;l.setHints(s),super(l,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class NE extends je{constructor(s=500){super(new ir,s)}}class TE extends je{constructor(s=500){super(new Ps,s)}}var nf;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(nf||(nf={}));var Gt=nf;class sf{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Ke(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let l=o[o.length-1];const c=this.field;for(let d=o.length;d<=s;d++){const h=l.multiply(new Ke(c,Int32Array.from([1,c.exp(d-1+c.getGeneratorBase())])));o.push(h),l=h}}return o[s]}encode(s,o){if(o===0)throw new b("No error correction bytes");const l=s.length-o;if(l<=0)throw new b("No data bytes provided");const c=this.buildGenerator(o),d=new Int32Array(l);A.arraycopy(s,0,d,0,l);let h=new Ke(this.field,d);h=h.multiplyByMonomial(o,1);const y=h.divide(c)[1].getCoefficients(),v=o-y.length;for(let N=0;N<v;N++)s[l+N]=0;A.arraycopy(y,0,s,l+v,y.length)}}class Rt{constructor(){}static applyMaskPenaltyRule1(s){return Rt.applyMaskPenaltyRule1Internal(s,!0)+Rt.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let h=0;h<d-1;h++){const g=l[h];for(let y=0;y<c-1;y++){const v=g[y];v===g[y+1]&&v===l[h+1][y]&&v===l[h+1][y+1]&&o++}}return Rt.N2*o}static applyMaskPenaltyRule3(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let h=0;h<d;h++)for(let g=0;g<c;g++){const y=l[h];g+6<c&&y[g]===1&&y[g+1]===0&&y[g+2]===1&&y[g+3]===1&&y[g+4]===1&&y[g+5]===0&&y[g+6]===1&&(Rt.isWhiteHorizontal(y,g-4,g)||Rt.isWhiteHorizontal(y,g+7,g+11))&&o++,h+6<d&&l[h][g]===1&&l[h+1][g]===0&&l[h+2][g]===1&&l[h+3][g]===1&&l[h+4][g]===1&&l[h+5][g]===0&&l[h+6][g]===1&&(Rt.isWhiteVertical(l,g,h-4,h)||Rt.isWhiteVertical(l,g,h+7,h+11))&&o++}return o*Rt.N3}static isWhiteHorizontal(s,o,l){o=Math.max(o,0),l=Math.min(l,s.length);for(let c=o;c<l;c++)if(s[c]===1)return!1;return!0}static isWhiteVertical(s,o,l,c){l=Math.max(l,0),c=Math.min(c,s.length);for(let d=l;d<c;d++)if(s[d][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let y=0;y<d;y++){const v=l[y];for(let N=0;N<c;N++)v[N]===1&&o++}const h=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-h)*10/h)*Rt.N4}static getDataMaskBit(s,o,l){let c,d;switch(s){case 0:c=l+o&1;break;case 1:c=l&1;break;case 2:c=o%3;break;case 3:c=(l+o)%3;break;case 4:c=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:d=l*o,c=(d&1)+d%3;break;case 6:d=l*o,c=(d&1)+d%3&1;break;case 7:d=l*o,c=d%3+(l+o&1)&1;break;default:throw new b("Invalid mask pattern: "+s)}return c===0}static applyMaskPenaltyRule1Internal(s,o){let l=0;const c=o?s.getHeight():s.getWidth(),d=o?s.getWidth():s.getHeight(),h=s.getArray();for(let g=0;g<c;g++){let y=0,v=-1;for(let N=0;N<d;N++){const O=o?h[g][N]:h[N][g];O===v?y++:(y>=5&&(l+=Rt.N1+(y-5)),y=1,v=O)}y>=5&&(l+=Rt.N1+(y-5))}return l}}Rt.N1=3,Rt.N2=3,Rt.N3=40,Rt.N4=10;class Ec{constructor(s,o){this.width=s,this.height=o;const l=new Array(o);for(let c=0;c!==o;c++)l[c]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,l){this.bytes[o][s]=l}setBoolean(s,o,l){this.bytes[o][s]=l?1:0}clear(s){for(const o of this.bytes)S.fill(o,s)}equals(s){if(!(s instanceof Ec))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,c=this.height;l<c;++l){const d=this.bytes[l],h=o.bytes[l];for(let g=0,y=this.width;g<y;++g)if(d[g]!==h[g])return!1}return!0}toString(){const s=new ie;for(let o=0,l=this.height;o<l;++o){const c=this.bytes[o];for(let d=0,h=this.width;d<h;++d)switch(c[d]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class ji{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new ie;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<ji.NUM_MASK_PATTERNS}}ji.NUM_MASK_PATTERNS=8;class ot extends x{}ot.kind="WriterException";class Oe{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,l,c,d){Oe.clearMatrix(d),Oe.embedBasicPatterns(l,d),Oe.embedTypeInfo(o,c,d),Oe.maybeEmbedVersionInfo(l,d),Oe.embedDataBits(s,c,d)}static embedBasicPatterns(s,o){Oe.embedPositionDetectionPatternsAndSeparators(o),Oe.embedDarkDotAtLeftBottomCorner(o),Oe.maybeEmbedPositionAdjustmentPatterns(s,o),Oe.embedTimingPatterns(o)}static embedTypeInfo(s,o,l){const c=new P;Oe.makeTypeInfoBits(s,o,c);for(let d=0,h=c.getSize();d<h;++d){const g=c.get(c.getSize()-1-d),y=Oe.TYPE_INFO_COORDINATES[d],v=y[0],N=y[1];if(l.setBoolean(v,N,g),d<8){const O=l.getWidth()-d-1;l.setBoolean(O,8,g)}else{const D=l.getHeight()-7+(d-8);l.setBoolean(8,D,g)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const l=new P;Oe.makeVersionInfoBits(s,l);let c=6*3-1;for(let d=0;d<6;++d)for(let h=0;h<3;++h){const g=l.get(c);c--,o.setBoolean(d,o.getHeight()-11+h,g),o.setBoolean(o.getHeight()-11+h,d,g)}}static embedDataBits(s,o,l){let c=0,d=-1,h=l.getWidth()-1,g=l.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);g>=0&&g<l.getHeight();){for(let y=0;y<2;++y){const v=h-y;if(!Oe.isEmpty(l.get(v,g)))continue;let N;c<s.getSize()?(N=s.get(c),++c):N=!1,o!==255&&Rt.getDataMaskBit(o,v,g)&&(N=!N),l.setBoolean(v,g,N)}g+=d}d=-d,g+=d,h-=2}if(c!==s.getSize())throw new ot("Not all bits consumed: "+c+"/"+s.getSize())}static findMSBSet(s){return 32-_.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new b("0 polynomial");const l=Oe.findMSBSet(o);for(s<<=l-1;Oe.findMSBSet(s)>=l;)s^=o<<Oe.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,o,l){if(!ji.isValidMaskPattern(o))throw new ot("Invalid mask pattern");const c=s.getBits()<<3|o;l.appendBits(c,5);const d=Oe.calculateBCHCode(c,Oe.TYPE_INFO_POLY);l.appendBits(d,10);const h=new P;if(h.appendBits(Oe.TYPE_INFO_MASK_PATTERN,15),l.xor(h),l.getSize()!==15)throw new ot("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const l=Oe.calculateBCHCode(s.getVersionNumber(),Oe.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new ot("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const l=(o+1)%2;Oe.isEmpty(s.get(o,6))&&s.setNumber(o,6,l),Oe.isEmpty(s.get(6,o))&&s.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new ot;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,l){for(let c=0;c<8;++c){if(!Oe.isEmpty(l.get(s+c,o)))throw new ot;l.setNumber(s+c,o,0)}}static embedVerticalSeparationPattern(s,o,l){for(let c=0;c<7;++c){if(!Oe.isEmpty(l.get(s,o+c)))throw new ot;l.setNumber(s,o+c,0)}}static embedPositionAdjustmentPattern(s,o,l){for(let c=0;c<5;++c){const d=Oe.POSITION_ADJUSTMENT_PATTERN[c];for(let h=0;h<5;++h)l.setNumber(s+h,o+c,d[h])}}static embedPositionDetectionPattern(s,o,l){for(let c=0;c<7;++c){const d=Oe.POSITION_DETECTION_PATTERN[c];for(let h=0;h<7;++h)l.setNumber(s+h,o+c,d[h])}}static embedPositionDetectionPatternsAndSeparators(s){const o=Oe.POSITION_DETECTION_PATTERN[0].length;Oe.embedPositionDetectionPattern(0,0,s),Oe.embedPositionDetectionPattern(s.getWidth()-o,0,s),Oe.embedPositionDetectionPattern(0,s.getWidth()-o,s);const l=8;Oe.embedHorizontalSeparationPattern(0,l-1,s),Oe.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),Oe.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const c=7;Oe.embedVerticalSeparationPattern(c,0,s),Oe.embedVerticalSeparationPattern(s.getHeight()-c-1,0,s),Oe.embedVerticalSeparationPattern(c,s.getHeight()-c,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,c=Oe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,h=c.length;d!==h;d++){const g=c[d];if(g>=0)for(let y=0;y!==h;y++){const v=c[y];v>=0&&Oe.isEmpty(o.get(v,g))&&Oe.embedPositionAdjustmentPattern(v-2,g-2,o)}}}}Oe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Oe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Oe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Oe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Oe.VERSION_INFO_POLY=7973,Oe.TYPE_INFO_POLY=1335,Oe.TYPE_INFO_MASK_PATTERN=21522;class kE{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class dt{constructor(){}static calculateMaskPenalty(s){return Rt.applyMaskPenaltyRule1(s)+Rt.applyMaskPenaltyRule2(s)+Rt.applyMaskPenaltyRule3(s)+Rt.applyMaskPenaltyRule4(s)}static encode(s,o,l=null){let c=dt.DEFAULT_BYTE_MODE_ENCODING;const d=l!==null&&l.get(Gt.CHARACTER_SET)!==void 0;d&&(c=l.get(Gt.CHARACTER_SET).toString());const h=this.chooseMode(s,c),g=new P;if(h===Ie.BYTE&&(d||dt.DEFAULT_BYTE_MODE_ENCODING!==c)){const he=z.getCharacterSetECIByName(c);he!==void 0&&this.appendECI(he,g)}this.appendModeInfo(h,g);const y=new P;this.appendBytes(s,h,y,c);let v;if(l!==null&&l.get(Gt.QR_VERSION)!==void 0){const he=Number.parseInt(l.get(Gt.QR_VERSION).toString(),10);v=Se.getVersionForNumber(he);const ce=this.calculateBitsNeeded(h,g,y,v);if(!this.willFit(ce,v,o))throw new ot("Data too big for requested version")}else v=this.recommendVersion(o,h,g,y);const N=new P;N.appendBitArray(g);const O=h===Ie.BYTE?y.getSizeInBytes():s.length;this.appendLengthInfo(O,v,h,N),N.appendBitArray(y);const D=v.getECBlocksForLevel(o),U=v.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(U,N);const V=this.interleaveWithECBytes(N,v.getTotalCodewords(),U,D.getNumBlocks()),$=new ji;$.setECLevel(o),$.setMode(h),$.setVersion(v);const K=v.getDimensionForVersion(),Z=new Ec(K,K),fe=this.chooseMaskPattern(V,o,v,Z);return $.setMaskPattern(fe),Oe.buildMatrix(V,o,v,fe,Z),$.setMatrix(Z),$}static recommendVersion(s,o,l,c){const d=this.calculateBitsNeeded(o,l,c,Se.getVersionForNumber(1)),h=this.chooseVersion(d,s),g=this.calculateBitsNeeded(o,l,c,h);return this.chooseVersion(g,s)}static calculateBitsNeeded(s,o,l,c){return o.getSize()+s.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(s){return s<dt.ALPHANUMERIC_TABLE.length?dt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(z.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return Ie.KANJI;let l=!1,c=!1;for(let d=0,h=s.length;d<h;++d){const g=s.charAt(d);if(dt.isDigit(g))l=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)c=!0;else return Ie.BYTE}return c?Ie.ALPHANUMERIC:l?Ie.NUMERIC:Ie.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=H.encode(s,z.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let c=0;c<l;c+=2){const d=o[c]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(s,o,l,c){let d=Number.MAX_SAFE_INTEGER,h=-1;for(let g=0;g<ji.NUM_MASK_PATTERNS;g++){Oe.buildMatrix(s,o,l,g,c);let y=this.calculateMaskPenalty(c);y<d&&(d=y,h=g)}return h}static chooseVersion(s,o){for(let l=1;l<=40;l++){const c=Se.getVersionForNumber(l);if(dt.willFit(s,c,o))return c}throw new ot("Data too big")}static willFit(s,o,l){const c=o.getTotalCodewords(),h=o.getECBlocksForLevel(l).getTotalECCodewords(),g=c-h,y=(s+7)/8;return g>=y}static terminateBits(s,o){const l=s*8;if(o.getSize()>l)throw new ot("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let h=0;h<4&&o.getSize()<l;++h)o.appendBit(!1);const c=o.getSize()&7;if(c>0)for(let h=c;h<8;h++)o.appendBit(!1);const d=s-o.getSizeInBytes();for(let h=0;h<d;++h)o.appendBits(h&1?17:236,8);if(o.getSize()!==l)throw new ot("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,l,c,d,h){if(c>=l)throw new ot("Block ID too large");const g=s%l,y=l-g,v=Math.floor(s/l),N=v+1,O=Math.floor(o/l),D=O+1,U=v-O,V=N-D;if(U!==V)throw new ot("EC bytes mismatch");if(l!==y+g)throw new ot("RS blocks mismatch");if(s!==(O+U)*y+(D+V)*g)throw new ot("Total bytes mismatch");c<y?(d[0]=O,h[0]=U):(d[0]=D,h[0]=V)}static interleaveWithECBytes(s,o,l,c){if(s.getSizeInBytes()!==l)throw new ot("Number of bits and data bytes does not match");let d=0,h=0,g=0;const y=new Array;for(let N=0;N<c;++N){const O=new Int32Array(1),D=new Int32Array(1);dt.getNumDataBytesAndNumECBytesForBlockID(o,l,c,N,O,D);const U=O[0],V=new Uint8Array(U);s.toBytes(8*d,V,0,U);const $=dt.generateECBytes(V,D[0]);y.push(new kE(V,$)),h=Math.max(h,U),g=Math.max(g,$.length),d+=O[0]}if(l!==d)throw new ot("Data bytes does not match offset");const v=new P;for(let N=0;N<h;++N)for(const O of y){const D=O.getDataBytes();N<D.length&&v.appendBits(D[N],8)}for(let N=0;N<g;++N)for(const O of y){const D=O.getErrorCorrectionBytes();N<D.length&&v.appendBits(D[N],8)}if(o!==v.getSizeInBytes())throw new ot("Interleaving error: "+o+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(s,o){const l=s.length,c=new Int32Array(l+o);for(let h=0;h<l;h++)c[h]=s[h]&255;new sf(ke.QR_CODE_FIELD_256).encode(c,o);const d=new Uint8Array(o);for(let h=0;h<o;h++)d[h]=c[l+h];return d}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,l,c){const d=l.getCharacterCountBits(o);if(s>=1<<d)throw new ot(s+" is bigger than "+((1<<d)-1));c.appendBits(s,d)}static appendBytes(s,o,l,c){switch(o){case Ie.NUMERIC:dt.appendNumericBytes(s,l);break;case Ie.ALPHANUMERIC:dt.appendAlphanumericBytes(s,l);break;case Ie.BYTE:dt.append8BitBytes(s,l,c);break;case Ie.KANJI:dt.appendKanjiBytes(s,l);break;default:throw new ot("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=dt.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const l=s.length;let c=0;for(;c<l;){const d=dt.getDigit(s.charAt(c));if(c+2<l){const h=dt.getDigit(s.charAt(c+1)),g=dt.getDigit(s.charAt(c+2));o.appendBits(d*100+h*10+g,10),c+=3}else if(c+1<l){const h=dt.getDigit(s.charAt(c+1));o.appendBits(d*10+h,7),c+=2}else o.appendBits(d,4),c++}}static appendAlphanumericBytes(s,o){const l=s.length;let c=0;for(;c<l;){const d=dt.getAlphanumericCode(s.charCodeAt(c));if(d===-1)throw new ot;if(c+1<l){const h=dt.getAlphanumericCode(s.charCodeAt(c+1));if(h===-1)throw new ot;o.appendBits(d*45+h,11),c+=2}else o.appendBits(d,6),c++}}static append8BitBytes(s,o,l){let c;try{c=H.encode(s,l)}catch(d){throw new ot(d)}for(let d=0,h=c.length;d!==h;d++){const g=c[d];o.appendBits(g,8)}}static appendKanjiBytes(s,o){let l;try{l=H.encode(s,z.SJIS)}catch(d){throw new ot(d)}const c=l.length;for(let d=0;d<c;d+=2){const h=l[d]&255,g=l[d+1]&255,y=h<<8&4294967295|g;let v=-1;if(y>=33088&&y<=40956?v=y-33088:y>=57408&&y<=60351&&(v=y-49472),v===-1)throw new ot("Invalid byte sequence");const N=(v>>8)*192+(v&255);o.appendBits(N,13)}}static appendECI(s,o){o.appendBits(Ie.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),dt.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class Pi{write(s,o,l,c=null){if(s.length===0)throw new b("Found empty contents");if(o<0||l<0)throw new b("Requested dimensions are too small: "+o+"x"+l);let d=lt.L,h=Pi.QUIET_ZONE_SIZE;c!==null&&(c.get(Gt.ERROR_CORRECTION)!==void 0&&(d=lt.fromString(c.get(Gt.ERROR_CORRECTION).toString())),c.get(Gt.MARGIN)!==void 0&&(h=Number.parseInt(c.get(Gt.MARGIN).toString(),10)));const g=dt.encode(s,d,c);return this.renderResult(g,o,l,h)}writeToDom(s,o,l,c,d=null){typeof s=="string"&&(s=document.querySelector(s));const h=this.write(o,l,c,d);s&&s.appendChild(h)}renderResult(s,o,l,c){const d=s.getMatrix();if(d===null)throw new fr;const h=d.getWidth(),g=d.getHeight(),y=h+c*2,v=g+c*2,N=Math.max(o,y),O=Math.max(l,v),D=Math.min(Math.floor(N/y),Math.floor(O/v)),U=Math.floor((N-h*D)/2),V=Math.floor((O-g*D)/2),$=this.createSVGElement(N,O);for(let K=0,Z=V;K<g;K++,Z+=D)for(let fe=0,he=U;fe<h;fe++,he+=D)if(d.get(fe,K)===1){const ce=this.createSvgRectElement(he,Z,D,D);$.appendChild(ce)}return $}createSVGElement(s,o){const l=document.createElementNS(Pi.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(s,o,l,c){const d=document.createElementNS(Pi.SVG_NS,"rect");return d.setAttributeNS(null,"x",s.toString()),d.setAttributeNS(null,"y",o.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",c.toString()),d.setAttributeNS(null,"fill","#000000"),d}}Pi.QUIET_ZONE_SIZE=4,Pi.SVG_NS="http://www.w3.org/2000/svg";class wo{encode(s,o,l,c,d){if(s.length===0)throw new b("Found empty contents");if(o!==te.QR_CODE)throw new b("Can only encode QR_CODE, but got "+o);if(l<0||c<0)throw new b(`Requested dimensions are too small: ${l}x${c}`);let h=lt.L,g=wo.QUIET_ZONE_SIZE;d!==null&&(d.get(Gt.ERROR_CORRECTION)!==void 0&&(h=lt.fromString(d.get(Gt.ERROR_CORRECTION).toString())),d.get(Gt.MARGIN)!==void 0&&(g=Number.parseInt(d.get(Gt.MARGIN).toString(),10)));const y=dt.encode(s,h,d);return wo.renderResult(y,l,c,g)}static renderResult(s,o,l,c){const d=s.getMatrix();if(d===null)throw new fr;const h=d.getWidth(),g=d.getHeight(),y=h+c*2,v=g+c*2,N=Math.max(o,y),O=Math.max(l,v),D=Math.min(Math.floor(N/y),Math.floor(O/v)),U=Math.floor((N-h*D)/2),V=Math.floor((O-g*D)/2),$=new re(N,O);for(let K=0,Z=V;K<g;K++,Z+=D)for(let fe=0,he=U;fe<h;fe++,he+=D)d.get(fe,K)===1&&$.setRegion(he,Z,D,D);return $}}wo.QUIET_ZONE_SIZE=4;class IE{encode(s,o,l,c,d){let h;switch(o){case te.QR_CODE:h=new wo;break;default:throw new b("No encoder available for format "+o)}return h.encode(s,o,l,c,d)}}class Wn extends J{constructor(s,o,l,c,d,h,g,y){if(super(h,g),this.yuvData=s,this.dataWidth=o,this.dataHeight=l,this.left=c,this.top=d,c+h>o||d+g>l)throw new b("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(h,g)}getRow(s,o){if(s<0||s>=this.getHeight())throw new b("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const c=(s+this.top)*this.dataWidth+this.left;return A.arraycopy(this.yuvData,c,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=s*o,c=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return A.arraycopy(this.yuvData,d,c,0,l),c;for(let h=0;h<o;h++){const g=h*s;A.arraycopy(this.yuvData,d,c,g,s),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,o,l,c){return new Wn(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,l,c,!1)}renderThumbnail(){const s=this.getWidth()/Wn.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/Wn.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*o),c=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let h=0;h<o;h++){const g=h*s;for(let y=0;y<s;y++){const v=c[d+y*Wn.THUMBNAIL_SCALE_FACTOR]&255;l[g+y]=4278190080|v*65793}d+=this.dataWidth*Wn.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Wn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Wn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const l=this.yuvData;for(let c=0,d=this.top*this.dataWidth+this.left;c<o;c++,d+=this.dataWidth){const h=d+s/2;for(let g=d,y=d+s-1;g<h;g++,y--){const v=l[g];l[g]=l[y],l[y]=v}}}invert(){return new Y(this)}}Wn.THUMBNAIL_SCALE_FACTOR=2;class of extends J{constructor(s,o,l,c,d,h,g){if(super(o,l),this.dataWidth=c,this.dataHeight=d,this.left=h,this.top=g,s.BYTES_PER_ELEMENT===4){const y=o*l,v=new Uint8ClampedArray(y);for(let N=0;N<y;N++){const O=s[N],D=O>>16&255,U=O>>7&510,V=O&255;v[N]=(D+U+V)/4&255}this.luminances=v}else this.luminances=s;if(c===void 0&&(this.dataWidth=o),d===void 0&&(this.dataHeight=l),h===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new b("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const c=(s+this.top)*this.dataWidth+this.left;return A.arraycopy(this.luminances,c,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=s*o,c=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return A.arraycopy(this.luminances,d,c,0,l),c;for(let h=0;h<o;h++){const g=h*s;A.arraycopy(this.luminances,d,c,g,s),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,o,l,c){return new of(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new Y(this)}}class Bm extends z{static forName(s){return this.getCharacterSetECIByName(s)}}class af{}af.ISO_8859_1=z.ISO8859_1;class Fm{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Um{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class RE{constructor(s){this.previous=s}getPrevious(){return this.previous}}class vo extends RE{constructor(s,o,l){super(s),this.value=o,this.bitCount=l}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new vo(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new vo(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+_.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class lf extends vo{constructor(s,o,l){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(s,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(s,o){return new lf(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function OE(R,s,o){return new lf(R,s,o)}function $a(R,s,o){return new vo(R,s,o)}const jE=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ms=0,Cc=1,ln=2,zm=3,Hn=4,PE=new vo(null,0,0),cf=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function DE(R){for(let s of R)S.fill(s,-1);return R[Ms][Hn]=0,R[Cc][Hn]=0,R[Cc][Ms]=28,R[zm][Hn]=0,R[ln][Hn]=0,R[ln][Ms]=15,R}const Vm=DE(S.createInt32Array(6,6));class $n{constructor(s,o,l,c){this.token=s,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let l=this.bitCount,c=this.token;if(s!==this.mode){let h=cf[this.mode][s];c=$a(c,h&65535,h>>16),l+=h>>16}let d=s===ln?4:5;return c=$a(c,o,d),new $n(c,s,0,l+d)}shiftAndAppend(s,o){let l=this.token,c=this.mode===ln?4:5;return l=$a(l,Vm[this.mode][s],c),l=$a(l,o,5),new $n(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(s){let o=this.token,l=this.mode,c=this.bitCount;if(this.mode===Hn||this.mode===ln){let g=cf[l][Ms];o=$a(o,g&65535,g>>16),c+=g>>16,l=Ms}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new $n(o,l,this.binaryShiftByteCount+1,c+d);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(s+1)),h}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=OE(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new $n(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(cf[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=$n.calculateBinaryShiftCost(s)-$n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let c=this.endBinaryShift(s.length).token;c!==null;c=c.getPrevious())o.unshift(c);let l=new P;for(const c of o)c.appendTo(l,s);return l}toString(){return q.format("%s bits=%d bytes=%d",jE[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}$n.INITIAL_STATE=new $n(PE,Ms,0,0);function ME(R){const s=q.getCharCode(" "),o=q.getCharCode("."),l=q.getCharCode(",");R[Ms][s]=1;const c=q.getCharCode("Z"),d=q.getCharCode("A");for(let D=d;D<=c;D++)R[Ms][D]=D-d+2;R[Cc][s]=1;const h=q.getCharCode("z"),g=q.getCharCode("a");for(let D=g;D<=h;D++)R[Cc][D]=D-g+2;R[ln][s]=1;const y=q.getCharCode("9"),v=q.getCharCode("0");for(let D=v;D<=y;D++)R[ln][D]=D-v+2;R[ln][l]=12,R[ln][o]=13;const N=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<N.length;D++)R[zm][q.getCharCode(N[D])]=D;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<O.length;D++)q.getCharCode(O[D])>0&&(R[Hn][q.getCharCode(O[D])]=D);return R}const uf=ME(S.createInt32Array(5,256));class Ga{constructor(s){this.text=s}encode(){const s=q.getCharCode(" "),o=q.getCharCode(`
`);let l=Um.singletonList($n.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let h,g=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case q.getCharCode("\r"):h=g===o?2:0;break;case q.getCharCode("."):h=g===s?3:0;break;case q.getCharCode(","):h=g===s?4:0;break;case q.getCharCode(":"):h=g===s?5:0;break;default:h=0}h>0?(l=Ga.updateStateListForPair(l,d,h),d++):l=this.updateStateListForChar(l,d)}return Um.min(l,(d,h)=>d.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const l=[];for(let c of s)this.updateStateForChar(c,o,l);return Ga.simplifyStates(l)}updateStateForChar(s,o,l){let c=this.text[o]&255,d=uf[s.getMode()][c]>0,h=null;for(let g=0;g<=Hn;g++){let y=uf[g][c];if(y>0){if(h==null&&(h=s.endBinaryShift(o)),!d||g===s.getMode()||g===ln){const v=h.latchAndAppend(g,y);l.push(v)}if(!d&&Vm[s.getMode()][g]>=0){const v=h.shiftAndAppend(g,y);l.push(v)}}}if(s.getBinaryShiftByteCount()>0||uf[s.getMode()][c]===0){let g=s.addBinaryShiftChar(o);l.push(g)}}static updateStateListForPair(s,o,l){const c=[];for(let d of s)this.updateStateForPair(d,o,l,c);return this.simplifyStates(c)}static updateStateForPair(s,o,l,c){let d=s.endBinaryShift(o);if(c.push(d.latchAndAppend(Hn,l)),s.getMode()!==Hn&&c.push(d.shiftAndAppend(Hn,l)),l===3||l===4){let h=d.latchAndAppend(ln,16-l).latchAndAppend(ln,1);c.push(h)}if(s.getBinaryShiftByteCount()>0){let h=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);c.push(h)}}static simplifyStates(s){let o=[];for(const l of s){let c=!0;for(const d of o){if(d.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(d)&&(o=o.filter(h=>h!==d))}c&&o.push(l)}return o}}class Ye{constructor(){}static encodeBytes(s){return Ye.encode(s,Ye.DEFAULT_EC_PERCENT,Ye.DEFAULT_AZTEC_LAYERS)}static encode(s,o,l){let c=new Ga(s).encode(),d=_.truncDivision(c.getSize()*o,100)+11,h=c.getSize()+d,g,y,v,N,O;if(l!==Ye.DEFAULT_AZTEC_LAYERS){if(g=l<0,y=Math.abs(l),y>(g?Ye.MAX_NB_BITS_COMPACT:Ye.MAX_NB_BITS))throw new b(q.format("Illegal value %s for layers",l));v=Ye.totalBitsInLayer(y,g),N=Ye.WORD_SIZE[y];let ce=v-v%N;if(O=Ye.stuffBits(c,N),O.getSize()+d>ce)throw new b("Data to large for user specified layer");if(g&&O.getSize()>N*64)throw new b("Data to large for user specified layer")}else{N=0,O=null;for(let ce=0;;ce++){if(ce>Ye.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(g=ce<=3,y=g?ce+1:ce,v=Ye.totalBitsInLayer(y,g),h>v)continue;(O==null||N!==Ye.WORD_SIZE[y])&&(N=Ye.WORD_SIZE[y],O=Ye.stuffBits(c,N));let $e=v-v%N;if(!(g&&O.getSize()>N*64)&&O.getSize()+d<=$e)break}}let D=Ye.generateCheckWords(O,v,N),U=O.getSize()/N,V=Ye.generateModeMessage(g,y,U),$=(g?11:14)+y*4,K=new Int32Array($),Z;if(g){Z=$;for(let ce=0;ce<K.length;ce++)K[ce]=ce}else{Z=$+1+2*_.truncDivision(_.truncDivision($,2)-1,15);let ce=_.truncDivision($,2),$e=_.truncDivision(Z,2);for(let Be=0;Be<ce;Be++){let Pr=Be+_.truncDivision(Be,15);K[ce-Be-1]=$e-Pr-1,K[ce+Be]=$e+Pr+1}}let fe=new re(Z);for(let ce=0,$e=0;ce<y;ce++){let Be=(y-ce)*4+(g?9:12);for(let Pr=0;Pr<Be;Pr++){let vn=Pr*2;for(let Dr=0;Dr<2;Dr++)D.get($e+vn+Dr)&&fe.set(K[ce*2+Dr],K[ce*2+Pr]),D.get($e+Be*2+vn+Dr)&&fe.set(K[ce*2+Pr],K[$-1-ce*2-Dr]),D.get($e+Be*4+vn+Dr)&&fe.set(K[$-1-ce*2-Dr],K[$-1-ce*2-Pr]),D.get($e+Be*6+vn+Dr)&&fe.set(K[$-1-ce*2-Pr],K[ce*2+Dr])}$e+=Be*8}if(Ye.drawModeMessage(fe,g,Z,V),g)Ye.drawBullsEye(fe,_.truncDivision(Z,2),5);else{Ye.drawBullsEye(fe,_.truncDivision(Z,2),7);for(let ce=0,$e=0;ce<_.truncDivision($,2)-1;ce+=15,$e+=16)for(let Be=_.truncDivision(Z,2)&1;Be<Z;Be+=2)fe.set(_.truncDivision(Z,2)-$e,Be),fe.set(_.truncDivision(Z,2)+$e,Be),fe.set(Be,_.truncDivision(Z,2)-$e),fe.set(Be,_.truncDivision(Z,2)+$e)}let he=new Fm;return he.setCompact(g),he.setSize(Z),he.setLayers(y),he.setCodeWords(U),he.setMatrix(fe),he}static drawBullsEye(s,o,l){for(let c=0;c<l;c+=2)for(let d=o-c;d<=o+c;d++)s.set(d,o-c),s.set(d,o+c),s.set(o-c,d),s.set(o+c,d);s.set(o-l,o-l),s.set(o-l+1,o-l),s.set(o-l,o-l+1),s.set(o+l,o-l),s.set(o+l,o-l+1),s.set(o+l,o+l-1)}static generateModeMessage(s,o,l){let c=new P;return s?(c.appendBits(o-1,2),c.appendBits(l-1,6),c=Ye.generateCheckWords(c,28,4)):(c.appendBits(o-1,5),c.appendBits(l-1,11),c=Ye.generateCheckWords(c,40,4)),c}static drawModeMessage(s,o,l,c){let d=_.truncDivision(l,2);if(o)for(let h=0;h<7;h++){let g=d-3+h;c.get(h)&&s.set(g,d-5),c.get(h+7)&&s.set(d+5,g),c.get(20-h)&&s.set(g,d+5),c.get(27-h)&&s.set(d-5,g)}else for(let h=0;h<10;h++){let g=d-5+h+_.truncDivision(h,5);c.get(h)&&s.set(g,d-7),c.get(h+10)&&s.set(d+7,g),c.get(29-h)&&s.set(g,d+7),c.get(39-h)&&s.set(d-7,g)}}static generateCheckWords(s,o,l){let c=s.getSize()/l,d=new sf(Ye.getGF(l)),h=_.truncDivision(o,l),g=Ye.bitsToWords(s,l,h);d.encode(g,h-c);let y=o%l,v=new P;v.appendBits(0,y);for(const N of Array.from(g))v.appendBits(N,l);return v}static bitsToWords(s,o,l){let c=new Int32Array(l),d,h;for(d=0,h=s.getSize()/o;d<h;d++){let g=0;for(let y=0;y<o;y++)g|=s.get(d*o+y)?1<<o-y-1:0;c[d]=g}return c}static getGF(s){switch(s){case 4:return ke.AZTEC_PARAM;case 6:return ke.AZTEC_DATA_6;case 8:return ke.AZTEC_DATA_8;case 10:return ke.AZTEC_DATA_10;case 12:return ke.AZTEC_DATA_12;default:throw new b("Unsupported word size "+s)}}static stuffBits(s,o){let l=new P,c=s.getSize(),d=(1<<o)-2;for(let h=0;h<c;h+=o){let g=0;for(let y=0;y<o;y++)(h+y>=c||s.get(h+y))&&(g|=1<<o-1-y);(g&d)===d?(l.appendBits(g&d,o),h--):g&d?l.appendBits(g,o):(l.appendBits(g|1,o),h--)}return l}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Ye.DEFAULT_EC_PERCENT=33,Ye.DEFAULT_AZTEC_LAYERS=0,Ye.MAX_NB_BITS=32,Ye.MAX_NB_BITS_COMPACT=4,Ye.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class _c{encode(s,o,l,c){return this.encodeWithHints(s,o,l,c,null)}encodeWithHints(s,o,l,c,d){let h=af.ISO_8859_1,g=Ye.DEFAULT_EC_PERCENT,y=Ye.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(Gt.CHARACTER_SET)&&(h=Bm.forName(d.get(Gt.CHARACTER_SET).toString())),d.has(Gt.ERROR_CORRECTION)&&(g=_.parseInt(d.get(Gt.ERROR_CORRECTION).toString())),d.has(Gt.AZTEC_LAYERS)&&(y=_.parseInt(d.get(Gt.AZTEC_LAYERS).toString()))),_c.encodeLayers(s,o,l,c,h,g,y)}static encodeLayers(s,o,l,c,d,h,g){if(o!==te.AZTEC)throw new b("Can only encode AZTEC, but got "+o);let y=Ye.encode(q.getBytes(s,d),h,g);return _c.renderResult(y,l,c)}static renderResult(s,o,l){let c=s.getMatrix();if(c==null)throw new fr;let d=c.getWidth(),h=c.getHeight(),g=Math.max(o,d),y=Math.max(l,h),v=Math.min(g/d,y/h),N=(g-d*v)/2,O=(y-h*v)/2,D=new re(g,y);for(let U=0,V=O;U<h;U++,V+=v)for(let $=0,K=N;$<d;$++,K+=v)c.get($,U)&&D.setRegion(K,V,v,v);return D}}r.AbstractExpandedDecoder=Kd,r.ArgumentException=w,r.ArithmeticException=rt,r.AztecCode=Fm,r.AztecCodeReader=ho,r.AztecCodeWriter=_c,r.AztecDecoder=Ze,r.AztecDetector=ki,r.AztecDetectorResult=Fn,r.AztecEncoder=Ye,r.AztecHighLevelEncoder=Ga,r.AztecPoint=nr,r.BarcodeFormat=te,r.Binarizer=k,r.BinaryBitmap=C,r.BitArray=P,r.BitMatrix=re,r.BitSource=Zd,r.BrowserAztecCodeReader=pc,r.BrowserBarcodeReader=hE,r.BrowserCodeReader=je,r.BrowserDatamatrixCodeReader=pE,r.BrowserMultiFormatReader=AE,r.BrowserPDF417Reader=NE,r.BrowserQRCodeReader=TE,r.BrowserQRCodeSvgWriter=Pi,r.CharacterSetECI=z,r.ChecksumException=E,r.Code128Reader=me,r.Code39Reader=kt,r.DataMatrixDecodedBitStreamParser=Os,r.DataMatrixReader=js,r.DecodeHintType=L,r.DecoderResult=gt,r.DefaultGridSampler=os,r.DetectorResult=Ti,r.EAN13Reader=yn,r.EncodeHintType=Gt,r.Exception=x,r.FormatException=M,r.GenericGF=ke,r.GenericGFPoly=Ke,r.GlobalHistogramBinarizer=ue,r.GridSampler=La,r.GridSamplerInstance=Un,r.HTMLCanvasElementLuminanceSource=le,r.HybridBinarizer=ee,r.ITFReader=qe,r.IllegalArgumentException=b,r.IllegalStateException=fr,r.InvertedLuminanceSource=Y,r.LuminanceSource=J,r.MathUtils=ze,r.MultiFormatOneDReader=xo,r.MultiFormatReader=Lm,r.MultiFormatWriter=IE,r.NotFoundException=G,r.OneDReader=yt,r.PDF417DecodedBitStreamParser=Q,r.PDF417DecoderErrorCorrection=Rm,r.PDF417Reader=ir,r.PDF417ResultMetadata=jm,r.PerspectiveTransform=xt,r.PlanarYUVLuminanceSource=Wn,r.QRCodeByteMatrix=Ec,r.QRCodeDataMask=on,r.QRCodeDecodedBitStreamParser=_t,r.QRCodeDecoderErrorCorrectionLevel=lt,r.QRCodeDecoderFormatInformation=mr,r.QRCodeEncoder=dt,r.QRCodeEncoderQRCode=ji,r.QRCodeMaskUtil=Rt,r.QRCodeMatrixUtil=Oe,r.QRCodeMode=Ie,r.QRCodeReader=Ps,r.QRCodeVersion=Se,r.QRCodeWriter=wo,r.RGBLuminanceSource=of,r.RSS14Reader=It,r.RSSExpandedReader=oe,r.ReaderException=bc,r.ReedSolomonDecoder=rn,r.ReedSolomonEncoder=sf,r.ReedSolomonException=Qt,r.Result=Ee,r.ResultMetadataType=ye,r.ResultPoint=we,r.StringUtils=q,r.UnsupportedOperationException=ne,r.VideoInputDevice=Ae,r.WhiteRectangleDetector=xn,r.WriterException=ot,r.ZXingArrays=S,r.ZXingCharset=Bm,r.ZXingInteger=_,r.ZXingStandardCharsets=af,r.ZXingStringBuilder=ie,r.ZXingStringEncoding=H,r.ZXingSystem=A,r.createAbstractExpandedDecoder=km,Object.defineProperty(r,"__esModule",{value:!0})})})($0,$0.exports);var mt=$0.exports;const n5=G0(mt),s5=Ux({__proto__:null,default:n5},[mt]);var Sx=function(){function e(t,r,n){if(this.formatMap=new Map([[be.QR_CODE,mt.BarcodeFormat.QR_CODE],[be.AZTEC,mt.BarcodeFormat.AZTEC],[be.CODABAR,mt.BarcodeFormat.CODABAR],[be.CODE_39,mt.BarcodeFormat.CODE_39],[be.CODE_93,mt.BarcodeFormat.CODE_93],[be.CODE_128,mt.BarcodeFormat.CODE_128],[be.DATA_MATRIX,mt.BarcodeFormat.DATA_MATRIX],[be.MAXICODE,mt.BarcodeFormat.MAXICODE],[be.ITF,mt.BarcodeFormat.ITF],[be.EAN_13,mt.BarcodeFormat.EAN_13],[be.EAN_8,mt.BarcodeFormat.EAN_8],[be.PDF_417,mt.BarcodeFormat.PDF_417],[be.RSS_14,mt.BarcodeFormat.RSS_14],[be.RSS_EXPANDED,mt.BarcodeFormat.RSS_EXPANDED],[be.UPC_A,mt.BarcodeFormat.UPC_A],[be.UPC_E,mt.BarcodeFormat.UPC_E],[be.UPC_EAN_EXTENSION,mt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!s5)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(mt.DecodeHintType.POSSIBLE_FORMATS,i),a.set(mt.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new mt.MultiFormatReader(this.verbose,this.hints),n=new mt.HTMLCanvasElementLuminanceSource(t),i=new mt.BinaryBitmap(new mt.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:nE.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),i5=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{x(n.next(w))}catch(b){u(b)}}function p(w){try{x(n.throw(w))}catch(b){u(b)}}function x(w){w.done?a(w.value):i(w.value).then(m,p)}x((n=n.apply(e,t||[])).next())})},o5=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(x){return function(w){return p([x,w])}}function p(x){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,x[0]&&(r=0)),r;)try{if(n=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,i=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){r.label=x[1];break}if(x[0]===6&&r.label<a[1]){r.label=a[1],a=x;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(x);break}a[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(w){x=[6,w],i=0}finally{n=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ax=function(){function e(t,r,n){if(this.formatMap=new Map([[be.QR_CODE,"qr_code"],[be.AZTEC,"aztec"],[be.CODABAR,"codabar"],[be.CODE_39,"code_39"],[be.CODE_93,"code_93"],[be.CODE_128,"code_128"],[be.DATA_MATRIX,"data_matrix"],[be.ITF,"itf"],[be.EAN_13,"ean_13"],[be.EAN_8,"ean_8"],[be.PDF_417,"pdf417"],[be.UPC_A,"upc_a"],[be.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return i5(this,void 0,void 0,function(){var r,n;return o5(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:nE.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var u=a[i],m=u.boundingBox.width*u.boundingBox.height;m>n&&(n=m,r=u)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Nx=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{x(n.next(w))}catch(b){u(b)}}function p(w){try{x(n.throw(w))}catch(b){u(b)}}function x(w){w.done?a(w.value):i(w.value).then(m,p)}x((n=n.apply(e,t||[])).next())})},Tx=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(x){return function(w){return p([x,w])}}function p(x){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,x[0]&&(r=0)),r;)try{if(n=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,i=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){r.label=x[1];break}if(x[0]===6&&r.label<a[1]){r.label=a[1],a=x;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(x);break}a[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(w){x=[6,w],i=0}finally{n=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},a5=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&Ax.isSupported()?(this.primaryDecoder=new Ax(t,n,i),this.secondaryDecoder=new Sx(t,n,i)):this.primaryDecoder=new Sx(t,n,i)}return e.prototype.decodeAsync=function(t){return Nx(this,void 0,void 0,function(){var r;return Tx(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Nx(this,void 0,void 0,function(){var r,n;return Tx(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Tm=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cd=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{x(n.next(w))}catch(b){u(b)}}function p(w){try{x(n.throw(w))}catch(b){u(b)}}function x(w){w.done?a(w.value):i(w.value).then(m,p)}x((n=n.apply(e,t||[])).next())})},ud=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(x){return function(w){return p([x,w])}}function p(x){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,x[0]&&(r=0)),r;)try{if(n=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,i=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){r.label=x[1];break}if(x[0]===6&&r.label<a[1]){r.label=a[1],a=x;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(x);break}a[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(w){x=[6,w],i=0}finally{n=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},iE=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),l5=function(e){Tm(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(iE),c5=function(e){Tm(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(l5),u5=function(e){Tm(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(iE),d5=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new c5(this.track)},e.prototype.torchFeature=function(){return new u5(this.track)},e}(),f5=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return cd(this,void 0,void 0,function(){var a,u;return ud(this,function(m){switch(m.label){case 0:return a=new e(t,r,i),n.aspectRatio?(u={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:m.sent(),m.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return cd(this,void 0,void 0,function(){return ud(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,u=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++u,u>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new d5(this.getFirstTrackOrFail())},e}(),h5=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return cd(this,void 0,void 0,function(){return ud(this,function(i){return[2,f5.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return cd(this,void 0,void 0,function(){var r,n;return ud(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),kx=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{x(n.next(w))}catch(b){u(b)}}function p(w){try{x(n.throw(w))}catch(b){u(b)}}function x(w){w.done?a(w.value):i(w.value).then(m,p)}x((n=n.apply(e,t||[])).next())})},Ix=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(x){return function(w){return p([x,w])}}function p(x){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,x[0]&&(r=0)),r;)try{if(n=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,i=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){r.label=x[1];break}if(x[0]===6&&r.label<a[1]){r.label=a[1],a=x;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(x);break}a[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(w){x=[6,w],i=0}finally{n=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},m5=function(){function e(){}return e.failIfNotSupported=function(){return kx(this,void 0,void 0,function(){return Ix(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return kx(this,void 0,void 0,function(){return Ix(this,function(r){return[2,h5.create(t)]})})},e}(),p5=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function m(w){try{x(n.next(w))}catch(b){u(b)}}function p(w){try{x(n.throw(w))}catch(b){u(b)}}function x(w){w.done?a(w.value):i(w.value).then(m,p)}x((n=n.apply(e,t||[])).next())})},g5=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function m(x){return function(w){return p([x,w])}}function p(x){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,x[0]&&(r=0)),r;)try{if(n=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,i=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){r.label=x[1];break}if(x[0]===6&&r.label<a[1]){r.label=a[1],a=x;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(x);break}a[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(w){x=[6,w],i=0}finally{n=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},x5=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Xo.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Xo.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return p5(this,void 0,void 0,function(){var t,r,n,i,a,u,m;return g5(this,function(p){switch(p.label){case 0:return t=function(x){for(var w=x.getVideoTracks(),b=0,C=w;b<C.length;b++){var E=C[b];E.enabled=!1,E.stop(),x.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=p.sent(),i=[],a=0,u=n;a<u.length;a++)m=u[a],m.kind==="videoinput"&&i.push({id:m.deviceId,label:m.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var u=[],m=0,p=a;m<p.length;m++){var x=p[m];x.kind==="video"&&u.push({id:x.id,label:x.label})}t(u)},i=MediaStreamTrack;i.getSources(n)})},e}(),jt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(jt||(jt={}));var y5=function(){function e(){this.state=jt.NOT_STARTED,this.onGoingTransactionNewState=jt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===jt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=jt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===jt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=jt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==jt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case jt.UNKNOWN:throw"Transition from unknown is not allowed";case jt.NOT_STARTED:this.failIfNewStateIs(t,[jt.PAUSED]);break;case jt.SCANNING:break;case jt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),w5=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===jt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==jt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===jt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===jt.PAUSED},e}(),v5=function(){function e(){}return e.create=function(){return new w5(new y5)},e}(),b5=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hr=function(e){b5(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(e5),E5=function(){function e(t,r){this.logger=r,this.fps=Hr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Hr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?sE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!us(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),C5=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new r5(this.verbose),this.qrcode=new a5(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=v5.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var u;i?u=i:u=this.verbose?this.logger.log:function(){};var m=E5.create(r,this.logger);this.clearElement();var p=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=p,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:Hr.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var b=this,C=this.stateManagerProxy.startTransition(jt.SCANNING);return new Promise(function(E,k){var A=x?m.videoConstraints:b.createVideoConstraints(t);if(!A){C.cancel(),k("videoConstraints should be defined");return}var j={};(!x||m.aspectRatio)&&(j.aspectRatio=m.aspectRatio);var T={onRenderSurfaceReady:function(S,_){b.setupUi(S,_,m),b.isScanning=!0,b.foreverScan(m,n,u)}};m5.failIfNotSupported().then(function(S){S.create(A).then(function(_){return _.render(a.element,j,T).then(function(P){b.renderedCamera=P,C.execute(),E(null)}).catch(function(P){C.cancel(),k(P)})}).catch(function(_){C.cancel(),k(Xo.errorGettingUserMedia(_))})}).catch(function(S){C.cancel(),k(Xo.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(jt.PAUSED),this.showPausedState(),(us(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(jt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(jt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(Hr.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(us(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var u=new Image;u.onload=function(){var m=u.width,p=u.height,x=document.getElementById(n.elementId),w=x.clientWidth?x.clientWidth:Hr.DEFAULT_WIDTH,b=Math.max(x.clientHeight?x.clientHeight:p,Hr.FILE_SCAN_MIN_HEIGHT),C=n.computeCanvasDrawConfig(m,p,w,b);if(r){var E=n.createCanvasElement(w,b,"qr-canvas-visible");E.style.display="inline-block",x.appendChild(E);var k=E.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=w,k.canvas.height=b,k.drawImage(u,0,0,m,p,C.x,C.y,C.width,C.height)}var A=Hr.FILE_SCAN_HIDDEN_CANVAS_PADDING,j=Math.max(u.width,C.width),T=Math.max(u.height,C.height),S=j+2*A,_=T+2*A,P=n.createCanvasElement(S,_);x.appendChild(P);var F=P.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=S,F.canvas.height=_,F.drawImage(u,0,0,m,p,A,A,j,T);try{n.qrcode.decodeRobustlyAsync(P).then(function(L){i(_x.createFromQrcodeResult(L))}).catch(a)}catch(L){a("QR code parse error, error = ".concat(L))}},u.onerror=a,u.onabort=a,u.onstalled=a,u.onsuspend=a,u.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return x5.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!sE.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[be.QR_CODE,be.AZTEC,be.CODABAR,be.CODE_39,be.CODE_93,be.CODE_128,be.DATA_MATRIX,be.MAXICODE,be.ITF,be.EAN_13,be.EAN_8,be.PDF_417,be.RSS_14,be.RSS_EXPANDED,be.UPC_A,be.UPC_E,be.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var u=a[i];JR(u)?n.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(us(t))return!0;if(!us(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(us(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return us(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var u=this.toQrdimensions(t,r,a),m=function(x){if(x<Hr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Hr.MIN_QR_BOX_SIZE,"px.")},p=function(x){return x>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};m(u.width),m(u.height),u.width=p(u.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=us(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=n.isShadedBoxEnabled()&&a.height<=r,m={x:0,y:0,width:t,height:r},p=u?this.getShadedRegionBounds(t,r,a):m,x=this.createCanvasElement(p.width,p.height),w={willReadFrequently:!0},b=x.getContext("2d",w);b.canvas.width=p.width,b.canvas.height=p.height,this.element.append(x),u&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=b,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Xo.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,_x.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=Xo.codeParseError(i);return r(a,t5.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),u=a.videoWidth/a.clientWidth,m=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*u,x=this.qrRegion.height*m,w=this.qrRegion.x*u,b=this.qrRegion.y*m;this.context.drawImage(a,w,b,p,x,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(E){!E&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){C()})):C()}).catch(function(E){i.logger.logError("Error happend while scanning context",E),C()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",u=function(k){if(k in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var p=Object.keys(t)[0];if(p!==r&&p!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(p===r){var x=t.facingMode;if(typeof x=="string"){if(u(x))return{facingMode:x}}else if(typeof x=="object")if(a in x){if(u(x["".concat(a)]))return{facingMode:{exact:x["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var w=typeof x;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var b=t.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(a in b)return{deviceId:{exact:b["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var C=typeof b;throw"Invalid type of 'deviceId' = ".concat(C)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,u=(i-r)/2;return{x:a,y:u,width:t,height:r}}else{var m=t,p=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(p)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Hr.BORDER_SHADER_MATCH_COLOR:Hr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,u=document.createElement("canvas");return u.style.width="".concat(i,"px"),u.style.height="".concat(a,"px"),u.style.display="none",u.id=us(n)?"qr-canvas":n,u},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var u=(r-i.width)/2,m=(n-i.height)/2;if(a.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Hr.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var p=5,x=40;this.insertShaderBorders(a,x,p,-p,null,0,!0),this.insertShaderBorders(a,x,p,-p,null,0,!1),this.insertShaderBorders(a,x,p,null,-p,0,!0),this.insertShaderBorders(a,x,p,null,-p,0,!1),this.insertShaderBorders(a,p,x+p,-p,null,-p,!0),this.insertShaderBorders(a,p,x+p,null,-p,-p,!0),this.insertShaderBorders(a,p,x+p,-p,null,-p,!1),this.insertShaderBorders(a,p,x+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,u,m){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=Hr.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(r,"px"),p.style.height="".concat(n,"px"),i!==null&&(p.style.top="".concat(i,"px")),a!==null&&(p.style.bottom="".concat(a,"px")),m?p.style.left="".concat(u,"px"):p.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Rx;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Rx||(Rx={}));const oE=({onScan:e,onError:t})=>{const[r,n]=I.useState(!1),[i,a]=I.useState(null),u=I.useRef(null),m=I.useRef(null),p=async()=>{if(m.current)try{a(null);const w=new C5("qr-reader");u.current=w,await w.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},b=>{e(b),x()},()=>{}),n(!0)}catch(w){const b=w instanceof Error?w.message:"Camera access denied";a(b),t==null||t(b)}},x=async()=>{if(u.current){try{await u.current.stop(),u.current.clear()}catch{}u.current=null}n(!1)};return I.useEffect(()=>()=>{x()},[]),f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{id:"qr-reader",ref:m,className:"w-full max-w-md mx-auto bg-secondary/20 rounded-lg overflow-hidden",style:{minHeight:r?"300px":"0"}}),i&&f.jsx("div",{className:"text-center text-destructive font-mono text-sm p-4 bg-destructive/10 rounded",children:i}),f.jsx("div",{className:"flex justify-center gap-3",children:r?f.jsxs("button",{onClick:x,className:"flex items-center gap-2 bg-destructive text-white px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform",children:[f.jsx(io,{className:"w-5 h-5"}),"Stop Camera"]}):f.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-primary text-background px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform",children:[f.jsx(mS,{className:"w-5 h-5"}),"Start Camera"]})}),!r&&!i&&f.jsx("p",{className:"text-center text-muted-foreground font-mono text-sm",children:`Click "Start Camera" to scan a participant's QR code`})]})},_5=()=>{const{toast:e}=Ir(),{user:t}=Is(),[r,n]=I.useState("checkin"),[i,a]=I.useState(null),[u,m]=I.useState(!1),[p,x]=I.useState(!1),[w,b]=I.useState(""),[C,E]=I.useState([]),[k,A]=I.useState(null),[j,T]=I.useState(null),[S,_]=I.useState(!1);I.useEffect(()=>{P()},[]);const P=async()=>{const{data:H,error:q}=await Te.from("food_coupons").select("*").eq("is_active",!0).order("name");if(q){console.error("Failed to fetch coupons:",q);return}E(H||[]),H&&H.length>0&&A(H[0])},F=async H=>{m(!0),a(null),T(null);try{const{data:q,error:ie}=await Te.from("registrations").select("id, registration_id, ticket_id, checked_in, checked_in_at, created_at, profile:profiles!fk_registrations_profile(full_name, email, phone), ticket:tickets(title)").eq("registration_id",H).eq("status","confirmed").single();if(ie||!q){e({title:"Not Found",description:"No confirmed registration found with this QR code.",variant:"destructive"}),m(!1);return}a(q),r==="food"&&k&&await L(q.id,k,q.ticket_id)}catch{e({title:"Error",description:"Failed to lookup registration.",variant:"destructive"})}m(!1)},L=async(H,q,ie)=>{if(!q.ticket_ids.includes(ie)){T({consumed:!1,remaining:0});return}const{data:re,error:G}=await Te.from("coupon_consumptions").select("id, consumed_at").eq("registration_id",H).eq("coupon_id",q.id);if(G){console.error("Failed to check coupon status:",G);return}const ue=(re==null?void 0:re.length)||0,ee=q.quantity-ue;ue>0&&ee<=0?T({consumed:!0,consumed_at:re[re.length-1].consumed_at,remaining:0}):T({consumed:!1,remaining:ee})},M=async()=>{if(!(!i||!t)){x(!0);try{const{error:H}=await Te.from("registrations").update({checked_in:!0,checked_in_at:new Date().toISOString(),checked_in_by:t.id}).eq("id",i.id);if(H)throw H;e({title:"Checked In!",description:`${i.profile.full_name} has been checked in successfully.`}),a(null)}catch{e({title:"Error",description:"Failed to check in participant.",variant:"destructive"})}x(!1)}},W=async()=>{if(!(!i||!t||!k)){x(!0);try{const{error:H}=await Te.from("coupon_consumptions").insert({registration_id:i.id,coupon_id:k.id,consumed_by:t.id});if(H)if(H.code==="23505")e({title:"Already Consumed",description:"This coupon has already been fully consumed for this registration.",variant:"destructive"});else throw H;else e({title:"Coupon Marked!",description:`${k.name} marked for ${i.profile.full_name}.`});a(null),T(null)}catch{e({title:"Error",description:"Failed to mark coupon consumption.",variant:"destructive"})}x(!1)}},z=()=>{a(null),T(null)},ne=k&&i?k.ticket_ids.includes(i.ticket_id):!1;return f.jsx(Ss,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"SCANNERS"}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Scan participant QR codes for check-in or food coupons"})]}),f.jsx("div",{className:"terminal-card p-4",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>{n("checkin"),a(null),T(null)},className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded font-mono text-sm transition-all ${r==="checkin"?"bg-primary text-background":"bg-secondary/30 text-primary/70 hover:bg-secondary/50"}`,children:[f.jsx(z2,{className:"w-4 h-4"}),"Check-in"]}),f.jsxs("button",{onClick:()=>{n("food"),a(null),T(null)},className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded font-mono text-sm transition-all ${r==="food"?"bg-primary text-background":"bg-secondary/30 text-primary/70 hover:bg-secondary/50"}`,children:[f.jsx(fi,{className:"w-4 h-4"}),"Food Coupon"]})]})}),r==="food"&&f.jsxs("div",{className:"terminal-card p-4",children:[f.jsx("label",{className:"block text-sm font-mono text-muted-foreground mb-2",children:"SELECT COUPON"}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>_(!S),className:"w-full flex items-center justify-between bg-background border border-border rounded px-4 py-3 text-primary font-mono focus:border-primary",children:[f.jsx("span",{children:(k==null?void 0:k.name)||"Select a coupon"}),f.jsx(Ul,{className:`w-4 h-4 transition-transform ${S?"rotate-180":""}`})]}),S&&f.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-card border border-border rounded shadow-lg z-10 max-h-48 overflow-y-auto",children:C.length===0?f.jsx("div",{className:"px-4 py-3 text-sm text-muted-foreground font-mono",children:"No active coupons available"}):C.map(H=>f.jsx("button",{onClick:()=>{A(H),_(!1),a(null),T(null)},className:`w-full px-4 py-3 text-left font-mono text-sm hover:bg-secondary/30 transition-colors ${(k==null?void 0:k.id)===H.id?"bg-primary/10 text-primary":"text-primary/70"}`,children:H.name},H.id))})]}),k&&f.jsxs("p",{className:"mt-2 text-xs font-mono text-muted-foreground",children:["Quantity: ",k.quantity," per registration"]})]}),!i&&!u&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"terminal-card p-4 sm:p-6",children:[f.jsx("h3",{className:"text-sm font-mono text-muted-foreground mb-3",children:"MANUAL ENTRY"}),f.jsxs("form",{onSubmit:H=>{H.preventDefault(),w.trim()&&F(w.trim().toUpperCase())},className:"flex flex-col sm:flex-row gap-3",children:[f.jsx("input",{type:"text",value:w,onChange:H=>b(H.target.value.toUpperCase()),placeholder:"Enter Registration ID",className:"flex-1 bg-background border border-border rounded px-4 py-3 text-primary font-mono tracking-wider focus:border-primary uppercase text-center sm:text-left",maxLength:10}),f.jsxs("button",{type:"submit",disabled:!w.trim()||r==="food"&&!k,className:"flex items-center justify-center gap-2 bg-primary text-background px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50",children:[f.jsx(Id,{className:"w-5 h-5"}),"Lookup"]})]})]}),f.jsxs("div",{className:"terminal-card p-4 sm:p-6",children:[f.jsx("h3",{className:"text-sm font-mono text-muted-foreground mb-3",children:"OR SCAN QR CODE"}),f.jsx(oE,{onScan:F})]})]}),u&&f.jsx("div",{className:"terminal-card p-8 text-center",children:f.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Looking up participant..."})}),i&&r==="checkin"&&f.jsxs("div",{className:"terminal-card p-6",children:[f.jsx("div",{className:"text-center mb-6",children:i.checked_in?f.jsxs("div",{className:"inline-flex items-center gap-2 text-yellow-500 bg-yellow-500/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[f.jsx(On,{className:"w-5 h-5"}),"Already Checked In"]}):f.jsxs("div",{className:"inline-flex items-center gap-2 text-primary bg-primary/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[f.jsx(uc,{className:"w-5 h-5"}),"Ready to Check In"]})}),f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h3",{className:"text-2xl font-display text-primary mb-2",children:i.profile.full_name}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:i.profile.email}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:i.profile.phone})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[f.jsx(gi,{className:"w-6 h-6 text-primary mx-auto mb-2"}),f.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Ticket"}),f.jsx("p",{className:"text-sm text-primary font-mono",children:i.ticket.title})]}),f.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[f.jsx(I2,{className:"w-6 h-6 text-primary mx-auto mb-2"}),f.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Registration ID"}),f.jsx("p",{className:"text-sm text-primary font-mono tracking-wider",children:i.registration_id})]})]}),i.checked_in?f.jsxs("div",{className:"text-center",children:[f.jsxs("p",{className:"text-muted-foreground font-mono text-sm mb-4",children:["Checked in at: ",new Date(i.checked_in_at).toLocaleString()]}),f.jsx("button",{onClick:z,className:"flex items-center justify-center gap-2 mx-auto px-6 py-3 border border-primary text-primary rounded font-mono hover:bg-primary/10",children:"Scan Another"})]}):f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4",children:[f.jsxs("button",{onClick:z,className:"flex items-center justify-center gap-2 px-6 py-3 border border-border text-muted-foreground rounded font-mono hover:bg-secondary/50 order-2 sm:order-1",children:[f.jsx(io,{className:"w-5 h-5"}),"Cancel"]}),f.jsxs("button",{onClick:M,disabled:p,className:"flex items-center justify-center gap-2 bg-green-500 text-white px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50 order-1 sm:order-2",children:[f.jsx(On,{className:"w-5 h-5"}),p?"Checking In...":"Confirm Check-In"]})]})]}),i&&r==="food"&&k&&f.jsxs("div",{className:"terminal-card p-6",children:[f.jsx("div",{className:"text-center mb-6",children:ne?j!=null&&j.consumed?f.jsxs("div",{className:"inline-flex items-center gap-2 text-yellow-500 bg-yellow-500/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[f.jsx(On,{className:"w-5 h-5"}),"Already Consumed"]}):f.jsxs("div",{className:"inline-flex items-center gap-2 text-green-500 bg-green-500/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[f.jsx(fi,{className:"w-5 h-5"}),"Ready to Mark"]}):f.jsxs("div",{className:"inline-flex items-center gap-2 text-destructive bg-destructive/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[f.jsx(U2,{className:"w-5 h-5"}),"Ticket Not Eligible"]})}),f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h3",{className:"text-2xl font-display text-primary mb-2",children:i.profile.full_name}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:i.profile.email})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[f.jsx(gi,{className:"w-6 h-6 text-primary mx-auto mb-2"}),f.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Ticket"}),f.jsx("p",{className:"text-sm text-primary font-mono",children:i.ticket.title})]}),f.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[f.jsx(fi,{className:"w-6 h-6 text-primary mx-auto mb-2"}),f.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Coupon"}),f.jsx("p",{className:"text-sm text-primary font-mono",children:k.name})]})]}),ne&&j&&f.jsx("div",{className:"bg-secondary/10 p-4 rounded mb-6 text-center",children:f.jsx("p",{className:"text-sm font-mono text-muted-foreground",children:j.consumed?f.jsxs(f.Fragment,{children:["All ",k.quantity," coupon(s) consumed.",f.jsx("br",{}),"Last used: ",new Date(j.consumed_at).toLocaleString()]}):f.jsxs(f.Fragment,{children:["Remaining: ",f.jsx("span",{className:"text-primary",children:j.remaining})," of ",k.quantity]})})}),ne?j!=null&&j.consumed?f.jsx("div",{className:"text-center",children:f.jsx("button",{onClick:z,className:"flex items-center justify-center gap-2 mx-auto px-6 py-3 border border-primary text-primary rounded font-mono hover:bg-primary/10",children:"Scan Another"})}):f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4",children:[f.jsxs("button",{onClick:z,className:"flex items-center justify-center gap-2 px-6 py-3 border border-border text-muted-foreground rounded font-mono hover:bg-secondary/50 order-2 sm:order-1",children:[f.jsx(io,{className:"w-5 h-5"}),"Cancel"]}),f.jsxs("button",{onClick:W,disabled:p,className:"flex items-center justify-center gap-2 bg-green-500 text-white px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50 order-1 sm:order-2",children:[f.jsx(On,{className:"w-5 h-5"}),p?"Marking...":"Confirm Consumption"]})]}):f.jsxs("div",{className:"text-center",children:[f.jsxs("p",{className:"text-muted-foreground font-mono text-sm mb-4",children:['This ticket type is not eligible for "',k.name,'".']}),f.jsx("button",{onClick:z,className:"flex items-center justify-center gap-2 mx-auto px-6 py-3 border border-primary text-primary rounded font-mono hover:bg-primary/10",children:"Scan Another"})]})]})]})})},S5=()=>{const{toast:e}=Ir(),[t,r]=I.useState([]),[n,i]=I.useState([]),[a,u]=I.useState(!0),[m,p]=I.useState(!1),[x,w]=I.useState(null),[b,C]=I.useState(!1),[E,k]=I.useState({name:"",ticket_ids:[],quantity:1,is_active:!0});I.useEffect(()=>{A()},[]);const A=async()=>{u(!0);try{const{data:L,error:M}=await Te.from("food_coupons").select("*").order("created_at",{ascending:!1});if(M)throw M;r(L||[]);const{data:W,error:z}=await Te.from("tickets").select("*").order("title");if(z)throw z;i(W||[])}catch{e({title:"Error",description:"Failed to load data.",variant:"destructive"})}u(!1)},j=L=>{L?(w(L),k({name:L.name,ticket_ids:L.ticket_ids||[],quantity:L.quantity,is_active:L.is_active})):(w(null),k({name:"",ticket_ids:[],quantity:1,is_active:!0})),p(!0)},T=()=>{p(!1),w(null),k({name:"",ticket_ids:[],quantity:1,is_active:!0})},S=L=>{k(M=>({...M,ticket_ids:M.ticket_ids.includes(L)?M.ticket_ids.filter(W=>W!==L):[...M.ticket_ids,L]}))},_=async L=>{if(L.preventDefault(),!E.name.trim()){e({title:"Error",description:"Coupon name is required.",variant:"destructive"});return}if(E.ticket_ids.length===0){e({title:"Error",description:"Please select at least one ticket type.",variant:"destructive"});return}C(!0);try{if(x){const{error:M}=await Te.from("food_coupons").update({name:E.name.trim(),ticket_ids:E.ticket_ids,quantity:E.quantity,is_active:E.is_active}).eq("id",x.id);if(M)throw M;e({title:"Success",description:"Coupon updated successfully."})}else{const{error:M}=await Te.from("food_coupons").insert({name:E.name.trim(),ticket_ids:E.ticket_ids,quantity:E.quantity,is_active:E.is_active});if(M)throw M;e({title:"Success",description:"Coupon created successfully."})}T(),A()}catch{e({title:"Error",description:"Failed to save coupon.",variant:"destructive"})}C(!1)},P=async L=>{if(confirm(`Are you sure you want to delete "${L.name}"?`))try{const{error:M}=await Te.from("food_coupons").delete().eq("id",L.id);if(M)throw M;e({title:"Deleted",description:"Coupon deleted successfully."}),A()}catch{e({title:"Error",description:"Failed to delete coupon. It may have existing consumptions.",variant:"destructive"})}},F=L=>L.map(M=>{var W;return((W=n.find(z=>z.id===M))==null?void 0:W.title)||"Unknown"}).join(", ");return f.jsx(Ss,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"FOOD COUPONS"}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Manage food coupons for participants"})]}),f.jsxs("button",{onClick:()=>j(),className:"flex items-center gap-2 bg-primary text-background px-4 py-2 font-display font-bold rounded hover:scale-105 transition-transform",children:[f.jsx(Ku,{className:"w-4 h-4"}),"New Coupon"]})]}),a?f.jsx("div",{className:"terminal-card p-8 text-center",children:f.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Loading coupons..."})}):t.length===0?f.jsxs("div",{className:"terminal-card p-8 text-center",children:[f.jsx(fi,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),f.jsx("p",{className:"text-muted-foreground font-mono",children:"No coupons created yet."}),f.jsx("button",{onClick:()=>j(),className:"mt-4 text-primary font-mono hover:underline",children:"Create your first coupon"})]}):f.jsx("div",{className:"grid gap-4",children:t.map(L=>f.jsx("div",{className:`terminal-card p-4 sm:p-6 ${L.is_active?"":"opacity-60"}`,children:f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("h3",{className:"text-lg font-display text-primary",children:L.name}),!L.is_active&&f.jsx("span",{className:"text-xs font-mono px-2 py-1 bg-muted-foreground/20 text-muted-foreground rounded",children:"Inactive"})]}),f.jsxs("div",{className:"space-y-1 text-sm font-mono text-muted-foreground",children:[f.jsxs("p",{children:[f.jsx("span",{className:"text-primary/70",children:"Quantity:"})," ",L.quantity," per registration"]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-primary/70",children:"Tickets:"})," ",F(L.ticket_ids||[])]})]})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("button",{onClick:()=>j(L),className:"p-2 text-primary hover:bg-primary/10 rounded transition-colors",title:"Edit",children:f.jsx(M2,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>P(L),className:"p-2 text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Delete",children:f.jsx(K1,{className:"w-4 h-4"})})]})]})},L.id))}),m&&f.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-card border border-border rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-display text-primary",children:x?"Edit Coupon":"New Coupon"}),f.jsx("button",{onClick:T,className:"p-2 text-muted-foreground hover:text-primary transition-colors",children:f.jsx(_i,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:_,className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-mono text-muted-foreground mb-1",children:"Coupon Name *"}),f.jsx("input",{type:"text",value:E.name,onChange:L=>k(M=>({...M,name:L.target.value})),placeholder:"e.g., Lunch, Breakfast, Snacks",className:"w-full bg-background border border-border rounded px-3 py-2 text-primary font-mono focus:border-primary"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-mono text-muted-foreground mb-1",children:"Quantity per Registration"}),f.jsx("input",{type:"number",min:1,value:E.quantity,onChange:L=>k(M=>({...M,quantity:parseInt(L.target.value)||1})),className:"w-full bg-background border border-border rounded px-3 py-2 text-primary font-mono focus:border-primary"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-mono text-muted-foreground mb-2",children:"Applicable Tickets *"}),f.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto border border-border rounded p-2",children:[n.map(L=>f.jsxs("label",{className:"flex items-center gap-3 p-2 rounded cursor-pointer hover:bg-secondary/30 transition-colors",children:[f.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${E.ticket_ids.includes(L.id)?"bg-primary border-primary":"border-border"}`,onClick:()=>S(L.id),children:E.ticket_ids.includes(L.id)&&f.jsx(f0,{className:"w-3 h-3 text-background"})}),f.jsx("span",{className:"text-sm font-mono text-primary",children:L.title})]},L.id)),n.length===0&&f.jsx("p",{className:"text-sm text-muted-foreground font-mono p-2",children:"No tickets available."})]})]}),f.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[f.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${E.is_active?"bg-primary border-primary":"border-border"}`,onClick:()=>k(L=>({...L,is_active:!L.is_active})),children:E.is_active&&f.jsx(f0,{className:"w-3 h-3 text-background"})}),f.jsx("span",{className:"text-sm font-mono text-muted-foreground",children:"Active (can be used for scanning)"})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"button",onClick:T,className:"flex-1 px-4 py-2 border border-border text-muted-foreground rounded font-mono hover:bg-secondary/50 transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:b,className:"flex-1 bg-primary text-background px-4 py-2 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50",children:b?"Saving...":x?"Update":"Create"})]})]})]})})]})})},A5=()=>{const[e,t]=I.useState([]),[r,n]=I.useState(!0),[i,a]=I.useState({}),[u,m]=I.useState(!1),[p,x]=I.useState("all"),{toast:w}=Ir();I.useEffect(()=>{b()},[]);const b=async()=>{try{const{data:S,error:_}=await Te.from("registrations").select(`
                    id,
                    razorpay_order_id,
                    razorpay_payment_id,
                    status,
                    created_at,
                    profile:profiles!fk_registrations_profile(full_name, email),
                    ticket:tickets(title)
                `).not("razorpay_order_id","is",null).order("created_at",{ascending:!1});if(_)throw _;t(S||[])}catch(S){console.error("Error fetching registrations:",S),w({title:"Error",description:"Failed to fetch registrations",variant:"destructive"})}finally{n(!1)}},C=async S=>{a(_=>({..._,[S]:{loading:!0,result:null,error:null}}));try{const{data:{session:_}}=await Te.auth.getSession();if(!_)throw new Error("Not authenticated");const P=await Te.functions.invoke("fetch-order-payments",{body:{order_id:S}});if(P.error)throw new Error(P.error.message);const F=P.data;return a(L=>({...L,[S]:{loading:!1,result:F,error:null}})),F}catch(_){const P=_ instanceof Error?_.message:"Verification failed";return a(F=>({...F,[S]:{loading:!1,result:null,error:P}})),null}},E=async()=>{m(!0);for(const S of e)S.razorpay_order_id&&(await C(S.razorpay_order_id),await new Promise(_=>setTimeout(_,300)));m(!1),w({title:"Verification Complete",description:`Verified ${e.length} payments`})},k=S=>{const _=i[S];if(!_)return f.jsx(wu,{className:"w-4 h-4 text-muted-foreground"});if(_.loading)return f.jsx(m0,{className:"w-4 h-4 text-primary animate-spin"});if(_.error)return f.jsx(zf,{className:"w-4 h-4 text-destructive"});if(_.result)switch(_.result.verification_status){case"genuine":return f.jsx(On,{className:"w-4 h-4 text-green-500"});case"failed":return f.jsx(io,{className:"w-4 h-4 text-destructive"});case"no_payments":return f.jsx(zf,{className:"w-4 h-4 text-yellow-500"});case"pending":return f.jsx(wu,{className:"w-4 h-4 text-blue-500"})}return null},A=S=>{const _=i[S];if(!_||!_.result)return null;const P={genuine:"bg-green-500/20 text-green-500 border-green-500/50",failed:"bg-destructive/20 text-destructive border-destructive/50",no_payments:"bg-yellow-500/20 text-yellow-500 border-yellow-500/50",pending:"bg-blue-500/20 text-blue-500 border-blue-500/50"};return f.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-mono border ${P[_.result.verification_status]}`,children:_.result.verification_status.toUpperCase()})},j=e.filter(S=>{if(p==="all")return!0;if(p==="unverified")return!i[S.razorpay_order_id];const _=i[S.razorpay_order_id];return _!=null&&_.result?_.result.verification_status===p:p==="unverified"}),T={total:e.length,genuine:Object.values(i).filter(S=>{var _;return((_=S.result)==null?void 0:_.verification_status)==="genuine"}).length,failed:Object.values(i).filter(S=>{var _;return((_=S.result)==null?void 0:_.verification_status)==="failed"}).length,pending:Object.values(i).filter(S=>{var _;return((_=S.result)==null?void 0:_.verification_status)==="pending"}).length,noPayments:Object.values(i).filter(S=>{var _;return((_=S.result)==null?void 0:_.verification_status)==="no_payments"}).length};return f.jsx(Ss,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider flex items-center gap-2",children:[f.jsx(F2,{className:"w-6 h-6"}),"VERIFY PAYMENTS"]}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Verify payment status directly from Razorpay"})]}),f.jsxs("button",{onClick:E,disabled:u||e.length===0,className:"flex items-center gap-2 px-4 py-2 bg-primary text-background font-mono text-sm rounded hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(m0,{className:`w-4 h-4 ${u?"animate-spin":""}`}),u?"Verifying...":"Verify All Payments"]})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[f.jsxs("div",{className:"terminal-card p-4",children:[f.jsx("p",{className:"text-xs text-muted-foreground font-mono uppercase",children:"Total"}),f.jsx("p",{className:"text-2xl font-display font-bold text-primary mt-1",children:T.total})]}),f.jsxs("div",{className:"terminal-card p-4",children:[f.jsx("p",{className:"text-xs text-muted-foreground font-mono uppercase",children:"Genuine"}),f.jsx("p",{className:"text-2xl font-display font-bold text-green-500 mt-1",children:T.genuine})]}),f.jsxs("div",{className:"terminal-card p-4",children:[f.jsx("p",{className:"text-xs text-muted-foreground font-mono uppercase",children:"Failed"}),f.jsx("p",{className:"text-2xl font-display font-bold text-destructive mt-1",children:T.failed})]}),f.jsxs("div",{className:"terminal-card p-4",children:[f.jsx("p",{className:"text-xs text-muted-foreground font-mono uppercase",children:"Pending"}),f.jsx("p",{className:"text-2xl font-display font-bold text-blue-500 mt-1",children:T.pending})]}),f.jsxs("div",{className:"terminal-card p-4",children:[f.jsx("p",{className:"text-xs text-muted-foreground font-mono uppercase",children:"No Payments"}),f.jsx("p",{className:"text-2xl font-display font-bold text-yellow-500 mt-1",children:T.noPayments})]})]}),f.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","genuine","failed","pending","unverified"].map(S=>f.jsx("button",{onClick:()=>x(S),className:`px-3 py-1 rounded font-mono text-sm transition-colors ${p===S?"bg-primary text-background":"bg-secondary/50 text-primary hover:bg-secondary"}`,children:S.charAt(0).toUpperCase()+S.slice(1)},S))}),f.jsx("div",{className:"terminal-card overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-border",children:[f.jsx("th",{className:"text-left p-4 font-mono text-xs text-muted-foreground uppercase",children:"Status"}),f.jsx("th",{className:"text-left p-4 font-mono text-xs text-muted-foreground uppercase",children:"User"}),f.jsx("th",{className:"text-left p-4 font-mono text-xs text-muted-foreground uppercase",children:"Ticket"}),f.jsx("th",{className:"text-left p-4 font-mono text-xs text-muted-foreground uppercase",children:"Order ID"}),f.jsx("th",{className:"text-left p-4 font-mono text-xs text-muted-foreground uppercase",children:"Payment ID"}),f.jsx("th",{className:"text-left p-4 font-mono text-xs text-muted-foreground uppercase",children:"Verification"}),f.jsx("th",{className:"text-left p-4 font-mono text-xs text-muted-foreground uppercase",children:"Actions"})]})}),f.jsx("tbody",{children:r?f.jsx("tr",{children:f.jsx("td",{colSpan:7,className:"p-8 text-center text-primary font-mono animate-pulse",children:"Loading registrations..."})}):j.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:7,className:"p-8 text-center text-muted-foreground font-mono",children:"No registrations found"})}):j.map(S=>{var P,F,L,M,W;const _=S.razorpay_order_id?i[S.razorpay_order_id]:null;return f.jsxs("tr",{className:"border-b border-border/50 hover:bg-secondary/20",children:[f.jsx("td",{className:"p-4",children:f.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-mono ${S.status==="confirmed"?"bg-green-500/20 text-green-500":"bg-yellow-500/20 text-yellow-500"}`,children:S.status})}),f.jsxs("td",{className:"p-4",children:[f.jsx("div",{className:"font-mono text-sm",children:((P=S.profile)==null?void 0:P.full_name)||"Unknown"}),f.jsx("div",{className:"text-xs text-muted-foreground",children:(F=S.profile)==null?void 0:F.email})]}),f.jsx("td",{className:"p-4 font-mono text-sm",children:((L=S.ticket)==null?void 0:L.title)||"Unknown"}),f.jsxs("td",{className:"p-4 font-mono text-xs text-muted-foreground",children:[(M=S.razorpay_order_id)==null?void 0:M.slice(0,20),"..."]}),f.jsxs("td",{className:"p-4 font-mono text-xs text-muted-foreground",children:[((W=S.razorpay_payment_id)==null?void 0:W.slice(0,20))||"-","..."]}),f.jsx("td",{className:"p-4",children:f.jsxs("div",{className:"flex items-center gap-2",children:[k(S.razorpay_order_id),A(S.razorpay_order_id),(_==null?void 0:_.error)&&f.jsx("span",{className:"text-xs text-destructive",children:_.error})]})}),f.jsx("td",{className:"p-4",children:f.jsx("button",{onClick:()=>S.razorpay_order_id&&C(S.razorpay_order_id),disabled:(_==null?void 0:_.loading)||u,className:"px-3 py-1 bg-primary/20 text-primary font-mono text-xs rounded hover:bg-primary/30 disabled:opacity-50",children:_!=null&&_.loading?"Verifying...":"Verify"})})]},S.id)})})]})})}),f.jsxs("div",{className:"terminal-card p-4",children:[f.jsx("h3",{className:"font-mono text-sm text-muted-foreground mb-3",children:"Verification Status Legend:"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm font-mono",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(On,{className:"w-4 h-4 text-green-500"}),f.jsx("span",{children:"Genuine - Payment captured successfully"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(io,{className:"w-4 h-4 text-destructive"}),f.jsx("span",{children:"Failed - All payments failed"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(zf,{className:"w-4 h-4 text-yellow-500"}),f.jsx("span",{children:"No Payments - No payment attempts"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(wu,{className:"w-4 h-4 text-blue-500"}),f.jsx("span",{children:"Pending - Payment in progress"})]})]})]})]})})},N5=[{href:"/volunteer",label:"Scanners",icon:q1},{href:"/volunteer/participants",label:"Participants",icon:Ra}],aE=({children:e})=>{const{profile:t,signOut:r,isAdmin:n}=Is(),i=Ts(),[a,u]=I.useState(!1),m=()=>u(!1);return f.jsxs("div",{className:"min-h-screen bg-background flex",children:[a&&f.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:m}),f.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 bg-card border-r border-border flex flex-col transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[f.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(Sr,{to:"/",className:"flex items-center gap-2",onClick:m,children:f.jsx("span",{className:"text-xl font-display font-bold text-primary glow-text tracking-wider",children:"TESSERACT"})}),f.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:"Volunteer Panel"})]}),f.jsx("button",{onClick:m,className:"lg:hidden p-2 text-primary hover:bg-secondary/50 rounded",children:f.jsx(_i,{className:"w-5 h-5"})})]}),f.jsx("nav",{className:"flex-1 p-4 space-y-2",children:N5.map(p=>{const x=i.pathname===p.href,w=p.icon;return f.jsxs(Sr,{to:p.href,onClick:m,className:`flex items-center gap-3 px-3 py-2 rounded font-mono text-sm transition-colors ${x?"bg-primary text-background":"text-primary/70 hover:bg-secondary/50 hover:text-primary"}`,children:[f.jsx(w,{className:"w-4 h-4"}),p.label]},p.href)})}),f.jsxs("div",{className:"p-4 border-t border-border space-y-2",children:[f.jsxs(Sr,{to:"/",onClick:m,className:"flex items-center gap-3 px-3 py-2 rounded font-mono text-sm text-primary/70 hover:bg-secondary/50 hover:text-primary transition-colors",children:[f.jsx(j2,{className:"w-4 h-4"}),"Back to Site"]}),n&&f.jsxs(Sr,{to:"/admin",onClick:m,className:"flex items-center gap-3 px-3 py-2 rounded font-mono text-sm text-primary/70 hover:bg-secondary/50 hover:text-primary transition-colors",children:[f.jsx(Ra,{className:"w-4 h-4"}),"Admin Panel"]}),f.jsxs("button",{onClick:()=>{m(),r()},className:"w-full flex items-center gap-3 px-3 py-2 rounded font-mono text-sm text-destructive hover:bg-destructive/10 transition-colors",children:[f.jsx(G1,{className:"w-4 h-4"}),"Sign Out"]})]})]}),f.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[f.jsxs("header",{className:"h-16 bg-card border-b border-border flex items-center justify-between px-4 lg:px-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>u(!0),className:"lg:hidden p-2 text-primary hover:bg-secondary/50 rounded",children:f.jsx(D2,{className:"w-5 h-5"})}),f.jsx("h1",{className:"text-lg font-display text-primary",children:"Volunteer Panel"})]}),f.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[f.jsx("span",{className:"text-sm text-muted-foreground font-mono hidden sm:block",children:(t==null?void 0:t.full_name)||(t==null?void 0:t.email)}),f.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 border border-primary/50 flex items-center justify-center",children:f.jsx("span",{className:"text-xs font-bold text-primary",children:((t==null?void 0:t.full_name)||(t==null?void 0:t.email)||"V")[0].toUpperCase()})})]})]}),f.jsx("div",{className:"flex-1 p-4 lg:p-6 overflow-auto",children:e})]})]})},T5=()=>{const{toast:e}=Ir(),{user:t}=Is(),[r,n]=I.useState("checkin"),[i,a]=I.useState(null),[u,m]=I.useState(!1),[p,x]=I.useState(!1),[w,b]=I.useState(""),[C,E]=I.useState([]),[k,A]=I.useState(null),[j,T]=I.useState(null),[S,_]=I.useState(!1);I.useEffect(()=>{P()},[]);const P=async()=>{const{data:H,error:q}=await Te.from("food_coupons").select("*").eq("is_active",!0).order("name");if(q){console.error("Failed to fetch coupons:",q);return}E(H||[]),H&&H.length>0&&A(H[0])},F=async H=>{m(!0),a(null),T(null);try{const{data:q,error:ie}=await Te.from("registrations").select("id, registration_id, ticket_id, checked_in, checked_in_at, created_at, profile:profiles!fk_registrations_profile(full_name, email, phone), ticket:tickets(title)").eq("registration_id",H).eq("status","confirmed").single();if(ie||!q){e({title:"Not Found",description:"No confirmed registration found with this QR code.",variant:"destructive"}),m(!1);return}a(q),r==="food"&&k&&await L(q.id,k,q.ticket_id)}catch{e({title:"Error",description:"Failed to lookup registration.",variant:"destructive"})}m(!1)},L=async(H,q,ie)=>{if(!q.ticket_ids.includes(ie)){T({consumed:!1,remaining:0});return}const{data:re,error:G}=await Te.from("coupon_consumptions").select("id, consumed_at").eq("registration_id",H).eq("coupon_id",q.id);if(G){console.error("Failed to check coupon status:",G);return}const ue=(re==null?void 0:re.length)||0,ee=q.quantity-ue;ue>0&&ee<=0?T({consumed:!0,consumed_at:re[re.length-1].consumed_at,remaining:0}):T({consumed:!1,remaining:ee})},M=async()=>{if(!(!i||!t)){x(!0);try{const{error:H}=await Te.from("registrations").update({checked_in:!0,checked_in_at:new Date().toISOString(),checked_in_by:t.id}).eq("id",i.id);if(H)throw H;e({title:"Checked In!",description:`${i.profile.full_name} has been checked in successfully.`}),a(null)}catch{e({title:"Error",description:"Failed to check in participant.",variant:"destructive"})}x(!1)}},W=async()=>{if(!(!i||!t||!k)){x(!0);try{const{error:H}=await Te.from("coupon_consumptions").insert({registration_id:i.id,coupon_id:k.id,consumed_by:t.id});if(H)if(H.code==="23505")e({title:"Already Consumed",description:"This coupon has already been fully consumed for this registration.",variant:"destructive"});else throw H;else e({title:"Coupon Marked!",description:`${k.name} marked for ${i.profile.full_name}.`});a(null),T(null)}catch{e({title:"Error",description:"Failed to mark coupon consumption.",variant:"destructive"})}x(!1)}},z=()=>{a(null),T(null)},ne=k&&i?k.ticket_ids.includes(i.ticket_id):!1;return f.jsx(aE,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"SCANNERS"}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Scan participant QR codes for check-in or food coupons"})]}),f.jsx("div",{className:"terminal-card p-4",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>{n("checkin"),a(null),T(null)},className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded font-mono text-sm transition-all ${r==="checkin"?"bg-primary text-background":"bg-secondary/30 text-primary/70 hover:bg-secondary/50"}`,children:[f.jsx(z2,{className:"w-4 h-4"}),"Check-in"]}),f.jsxs("button",{onClick:()=>{n("food"),a(null),T(null)},className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded font-mono text-sm transition-all ${r==="food"?"bg-primary text-background":"bg-secondary/30 text-primary/70 hover:bg-secondary/50"}`,children:[f.jsx(fi,{className:"w-4 h-4"}),"Food Coupon"]})]})}),r==="food"&&f.jsxs("div",{className:"terminal-card p-4",children:[f.jsx("label",{className:"block text-sm font-mono text-muted-foreground mb-2",children:"SELECT COUPON"}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>_(!S),className:"w-full flex items-center justify-between bg-background border border-border rounded px-4 py-3 text-primary font-mono focus:border-primary",children:[f.jsx("span",{children:(k==null?void 0:k.name)||"Select a coupon"}),f.jsx(Ul,{className:`w-4 h-4 transition-transform ${S?"rotate-180":""}`})]}),S&&f.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-card border border-border rounded shadow-lg z-10 max-h-48 overflow-y-auto",children:C.length===0?f.jsx("div",{className:"px-4 py-3 text-sm text-muted-foreground font-mono",children:"No active coupons available"}):C.map(H=>f.jsx("button",{onClick:()=>{A(H),_(!1),a(null),T(null)},className:`w-full px-4 py-3 text-left font-mono text-sm hover:bg-secondary/30 transition-colors ${(k==null?void 0:k.id)===H.id?"bg-primary/10 text-primary":"text-primary/70"}`,children:H.name},H.id))})]}),k&&f.jsxs("p",{className:"mt-2 text-xs font-mono text-muted-foreground",children:["Quantity: ",k.quantity," per registration"]})]}),!i&&!u&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"terminal-card p-4 sm:p-6",children:[f.jsx("h3",{className:"text-sm font-mono text-muted-foreground mb-3",children:"MANUAL ENTRY"}),f.jsxs("form",{onSubmit:H=>{H.preventDefault(),w.trim()&&F(w.trim().toUpperCase())},className:"flex flex-col sm:flex-row gap-3",children:[f.jsx("input",{type:"text",value:w,onChange:H=>b(H.target.value.toUpperCase()),placeholder:"Enter Registration ID",className:"flex-1 bg-background border border-border rounded px-4 py-3 text-primary font-mono tracking-wider focus:border-primary uppercase text-center sm:text-left",maxLength:10}),f.jsxs("button",{type:"submit",disabled:!w.trim()||r==="food"&&!k,className:"flex items-center justify-center gap-2 bg-primary text-background px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50",children:[f.jsx(Id,{className:"w-5 h-5"}),"Lookup"]})]})]}),f.jsxs("div",{className:"terminal-card p-4 sm:p-6",children:[f.jsx("h3",{className:"text-sm font-mono text-muted-foreground mb-3",children:"OR SCAN QR CODE"}),f.jsx(oE,{onScan:F})]})]}),u&&f.jsx("div",{className:"terminal-card p-8 text-center",children:f.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Looking up participant..."})}),i&&r==="checkin"&&f.jsxs("div",{className:"terminal-card p-6",children:[f.jsx("div",{className:"text-center mb-6",children:i.checked_in?f.jsxs("div",{className:"inline-flex items-center gap-2 text-yellow-500 bg-yellow-500/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[f.jsx(On,{className:"w-5 h-5"}),"Already Checked In"]}):f.jsxs("div",{className:"inline-flex items-center gap-2 text-primary bg-primary/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[f.jsx(uc,{className:"w-5 h-5"}),"Ready to Check In"]})}),f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h3",{className:"text-2xl font-display text-primary mb-2",children:i.profile.full_name}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:i.profile.email}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:i.profile.phone})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[f.jsx(gi,{className:"w-6 h-6 text-primary mx-auto mb-2"}),f.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Ticket"}),f.jsx("p",{className:"text-sm text-primary font-mono",children:i.ticket.title})]}),f.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[f.jsx(I2,{className:"w-6 h-6 text-primary mx-auto mb-2"}),f.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Registration ID"}),f.jsx("p",{className:"text-sm text-primary font-mono tracking-wider",children:i.registration_id})]})]}),i.checked_in?f.jsxs("div",{className:"text-center",children:[f.jsxs("p",{className:"text-muted-foreground font-mono text-sm mb-4",children:["Checked in at: ",new Date(i.checked_in_at).toLocaleString()]}),f.jsx("button",{onClick:z,className:"flex items-center justify-center gap-2 mx-auto px-6 py-3 border border-primary text-primary rounded font-mono hover:bg-primary/10",children:"Scan Another"})]}):f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4",children:[f.jsxs("button",{onClick:z,className:"flex items-center justify-center gap-2 px-6 py-3 border border-border text-muted-foreground rounded font-mono hover:bg-secondary/50 order-2 sm:order-1",children:[f.jsx(io,{className:"w-5 h-5"}),"Cancel"]}),f.jsxs("button",{onClick:M,disabled:p,className:"flex items-center justify-center gap-2 bg-green-500 text-white px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50 order-1 sm:order-2",children:[f.jsx(On,{className:"w-5 h-5"}),p?"Checking In...":"Confirm Check-In"]})]})]}),i&&r==="food"&&k&&f.jsxs("div",{className:"terminal-card p-6",children:[f.jsx("div",{className:"text-center mb-6",children:ne?j!=null&&j.consumed?f.jsxs("div",{className:"inline-flex items-center gap-2 text-yellow-500 bg-yellow-500/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[f.jsx(On,{className:"w-5 h-5"}),"Already Consumed"]}):f.jsxs("div",{className:"inline-flex items-center gap-2 text-green-500 bg-green-500/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[f.jsx(fi,{className:"w-5 h-5"}),"Ready to Mark"]}):f.jsxs("div",{className:"inline-flex items-center gap-2 text-destructive bg-destructive/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[f.jsx(U2,{className:"w-5 h-5"}),"Ticket Not Eligible"]})}),f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h3",{className:"text-2xl font-display text-primary mb-2",children:i.profile.full_name}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:i.profile.email})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[f.jsx(gi,{className:"w-6 h-6 text-primary mx-auto mb-2"}),f.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Ticket"}),f.jsx("p",{className:"text-sm text-primary font-mono",children:i.ticket.title})]}),f.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[f.jsx(fi,{className:"w-6 h-6 text-primary mx-auto mb-2"}),f.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Coupon"}),f.jsx("p",{className:"text-sm text-primary font-mono",children:k.name})]})]}),ne&&j&&f.jsx("div",{className:"bg-secondary/10 p-4 rounded mb-6 text-center",children:f.jsx("p",{className:"text-sm font-mono text-muted-foreground",children:j.consumed?f.jsxs(f.Fragment,{children:["All ",k.quantity," coupon(s) consumed.",f.jsx("br",{}),"Last used: ",new Date(j.consumed_at).toLocaleString()]}):f.jsxs(f.Fragment,{children:["Remaining: ",f.jsx("span",{className:"text-primary",children:j.remaining})," of ",k.quantity]})})}),ne?j!=null&&j.consumed?f.jsx("div",{className:"text-center",children:f.jsx("button",{onClick:z,className:"flex items-center justify-center gap-2 mx-auto px-6 py-3 border border-primary text-primary rounded font-mono hover:bg-primary/10",children:"Scan Another"})}):f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4",children:[f.jsxs("button",{onClick:z,className:"flex items-center justify-center gap-2 px-6 py-3 border border-border text-muted-foreground rounded font-mono hover:bg-secondary/50 order-2 sm:order-1",children:[f.jsx(io,{className:"w-5 h-5"}),"Cancel"]}),f.jsxs("button",{onClick:W,disabled:p,className:"flex items-center justify-center gap-2 bg-green-500 text-white px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50 order-1 sm:order-2",children:[f.jsx(On,{className:"w-5 h-5"}),p?"Marking...":"Confirm Consumption"]})]}):f.jsxs("div",{className:"text-center",children:[f.jsxs("p",{className:"text-muted-foreground font-mono text-sm mb-4",children:['This ticket type is not eligible for "',k.name,'".']}),f.jsx("button",{onClick:z,className:"flex items-center justify-center gap-2 mx-auto px-6 py-3 border border-primary text-primary rounded font-mono hover:bg-primary/10",children:"Scan Another"})]})]})]})})},k5=()=>{const{toast:e}=Ir(),[t,r]=I.useState([]),[n,i]=I.useState(!0),[a,u]=I.useState(""),m=async()=>{i(!0);const{data:b,error:C}=await Te.from("registrations").select("id, registration_id, checked_in, checked_in_at, created_at, profile:profiles!fk_registrations_profile(full_name, email, phone), ticket:tickets(title)").eq("status","confirmed").order("checked_in",{ascending:!0}).order("created_at",{ascending:!1});C?e({title:"Error",description:"Failed to load participants",variant:"destructive"}):r(b),i(!1)};I.useEffect(()=>{m()},[]);const p=t.filter(b=>{const C=a.toLowerCase();return b.profile.full_name.toLowerCase().includes(C)||b.profile.email.toLowerCase().includes(C)||b.profile.phone.includes(C)||b.registration_id.toLowerCase().includes(C)||b.ticket.title.toLowerCase().includes(C)}),x=t.filter(b=>b.checked_in).length,w=t.length;return f.jsx(aE,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"PARTICIPANTS"}),f.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"All confirmed registrations and check-in status"})]}),f.jsxs("button",{onClick:m,disabled:n,className:"flex items-center justify-center gap-2 px-4 py-2 border border-primary text-primary rounded font-mono text-sm hover:bg-primary/10 disabled:opacity-50",children:[f.jsx(m0,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Refresh"]})]}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"terminal-card p-4 text-center",children:[f.jsx("p",{className:"text-2xl font-display font-bold text-primary",children:w}),f.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Total Confirmed"})]}),f.jsxs("div",{className:"terminal-card p-4 text-center",children:[f.jsx("p",{className:"text-2xl font-display font-bold text-green-500",children:x}),f.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Checked In"})]}),f.jsxs("div",{className:"terminal-card p-4 text-center hidden sm:block",children:[f.jsx("p",{className:"text-2xl font-display font-bold text-yellow-500",children:w-x}),f.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Pending"})]})]}),f.jsx("div",{className:"terminal-card p-4",children:f.jsxs("div",{className:"relative",children:[f.jsx(Id,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),f.jsx("input",{type:"text",value:a,onChange:b=>u(b.target.value),placeholder:"Search by name, email, phone, ticket...",className:"w-full bg-background border border-border rounded pl-10 pr-4 py-2 text-sm text-primary font-mono focus:border-primary"})]})}),n?f.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Loading participants..."}):p.length===0?f.jsx("div",{className:"terminal-card p-8 text-center",children:f.jsx("p",{className:"text-muted-foreground font-mono",children:"No participants found."})}):f.jsx("div",{className:"space-y-3",children:p.map(b=>f.jsx("div",{className:`terminal-card p-4 ${b.checked_in?"border-green-500/30":""}`,children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[f.jsx("h3",{className:"font-display text-primary",children:b.profile.full_name}),b.checked_in?f.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded font-mono bg-green-500/20 text-green-500",children:[f.jsx(On,{className:"w-3 h-3"}),"Checked In"]}):f.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded font-mono bg-yellow-500/20 text-yellow-500",children:[f.jsx(wu,{className:"w-3 h-3"}),"Pending"]})]}),f.jsxs("p",{className:"text-sm text-muted-foreground font-mono",children:[b.profile.phone,"  ",b.ticket.title]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded font-mono tracking-wider",children:b.registration_id}),b.checked_in&&b.checked_in_at&&f.jsx("p",{className:"text-xs text-muted-foreground font-mono mt-1",children:new Date(b.checked_in_at).toLocaleTimeString()})]})]})},b.id))})]})})},lE=[{id:"hack-the-system",title:"HACK THE SYSTEM - LEGALLY",description:`Security is not a product, its a process. ~ Bruce Schneier

 HACK THE SYSTEM  LEGALLY 
An Ethical Hacking Workshop

Step into the world of cybersecurity with a power-packed workshop under TESSERACT 9.0. 

Discover how vulnerabilities are found, attacks are prevented, and systems are secured  ethically and effectively.

Decode threats. Defend smart. Hack responsibly. `,speakers:[{name:"Zaina Ameer",designation:"Cybersecurity Analyst, Purple Nexus"},{name:"Muhammed Ashique",designation:"CEO, SkillMerge Hackers Academy"}],image:"/hack-the-system.jpg"}],I5=()=>{const e=ss();return f.jsxs("div",{className:"min-h-screen bg-background text-foreground font-display selection:bg-primary/30 selection:text-primary scanlines flex flex-col",children:[f.jsx(uo,{hideOnMobile:!0}),f.jsxs("div",{className:"container mx-auto px-4 py-8 relative flex-grow",children:[f.jsx("div",{className:"flex justify-center md:justify-between items-center mb-12",children:f.jsxs(Sr,{to:"/",className:"flex items-center gap-2 text-primary hover:text-primary/80 transition-colors",children:[f.jsx("img",{src:"/tesseractlogo.png",alt:"Tesseract Logo",className:"w-12 h-12 object-contain"}),f.jsx("span",{className:"text-2xl font-bold tracking-wider hidden md:block",children:"TESSERACT 9.0"})]})}),f.jsxs("div",{className:"flex flex-col items-center justify-center mb-16",children:[f.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-primary mb-12 text-center tracking-widest",children:[f.jsx("span",{className:"text-primary/80",children:">"})," WORKSHOPS"]}),f.jsx("div",{className:"w-full max-w-3xl space-y-6",children:lE.map((t,r)=>f.jsxs("div",{className:"group relative border border-primary/20 bg-card/30 p-8 hover:bg-primary/5 hover:border-primary/50 transition-all duration-300 backdrop-blur-sm cursor-pointer",onClick:()=>e(`/workshops/${t.id}`),children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-12 h-12 bg-primary/20 flex items-center justify-center shrink-0 rounded transition-colors group-hover:bg-primary/30",children:f.jsx("div",{className:"w-6 h-6 bg-primary"})}),f.jsx("h2",{className:"text-2xl md:text-3xl text-primary font-bold tracking-wide group-hover:text-primary/100",children:t.title})]}),f.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx("div",{className:"w-2 h-2 border-t border-r border-primary"})}),f.jsx("div",{className:"absolute bottom-0 left-0 p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx("div",{className:"w-2 h-2 border-b border-l border-primary"})})]},r))})]})]}),f.jsxs("div",{className:"mt-auto",children:[f.jsx(fo,{}),f.jsx(gm,{})]}),f.jsx(Z2,{})]})},cE=()=>{const e=Ts();return I.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),f.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),f.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},R5=()=>{const{id:e}=um(),t=lE.find(r=>r.id===e);return t?f.jsxs("div",{className:"min-h-screen bg-background text-foreground font-display selection:bg-primary/30 selection:text-primary flex flex-col",children:[f.jsx(uo,{hideOnMobile:!0}),f.jsxs("div",{className:"container mx-auto px-4 py-8 relative flex-grow",children:[f.jsx("div",{className:"flex justify-center md:justify-between items-center mb-8",children:f.jsxs(Sr,{to:"/workshops",className:"flex items-center gap-2 text-primary hover:text-primary/80 transition-colors",children:[f.jsx("img",{src:"/tesseractlogo.png",alt:"Tesseract Logo",className:"w-12 h-12 object-contain"}),f.jsx("span",{className:"text-2xl font-bold tracking-wider hidden md:block",children:"TESSERACT 9.0"})]})}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl md:text-4xl text-primary font-bold uppercase tracking-wide mb-2",children:t.title}),f.jsx("div",{className:"w-24 h-1 bg-primary rounded-full shadow-[0_0_10px_rgba(34,197,94,0.6)]"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12",children:[f.jsxs("div",{className:"border border-primary/30 p-4 rounded-none bg-card/10 backdrop-blur-sm relative group",children:[f.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-primary"}),f.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-primary"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-primary"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-primary"}),f.jsxs("div",{className:"aspect-square bg-gradient-to-b from-primary/20 to-transparent flex items-center justify-center overflow-hidden relative",children:[f.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity duration-500"}),f.jsx("div",{className:"absolute inset-0 bg-primary/10 mix-blend-overlay group-hover:bg-transparent transition-colors"})]}),f.jsxs("div",{className:"mt-2 text-center text-primary/40 font-mono text-xs",children:[t.title.toLowerCase().replace(/ /g,""),".png"]})]}),f.jsx("div",{className:"flex flex-col justify-center",children:f.jsx("p",{className:"font-mono text-primary/80 leading-relaxed text-lg text-justify whitespace-pre-wrap",children:t.description})})]}),f.jsxs("div",{className:"terminal-card rounded-none mt-8 relative overflow-hidden",children:[f.jsxs("div",{className:"terminal-header",children:[f.jsx("span",{className:"terminal-dot-red"}),f.jsx("span",{className:"terminal-dot-yellow"}),f.jsx("span",{className:"terminal-dot-green"}),f.jsxs("span",{className:"text-muted-foreground text-sm ml-2 font-mono",children:[t.title.toLowerCase().replace(/ /g,""),".txt"]})]}),f.jsx("div",{className:"p-5 space-y-8",children:t.speakers.map((r,n)=>f.jsxs("div",{className:n!==0?"pt-6 border-t border-primary/20":"",children:[f.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[f.jsx(uc,{className:"w-5 h-5 text-muted-foreground mt-0.5"}),f.jsxs("div",{children:[f.jsxs("span",{className:"text-muted-foreground text-sm block",children:["> SPEAKER ",t.speakers.length>1?`#${n+1}`:""]}),f.jsx("span",{className:"text-foreground font-semibold text-lg",children:r.name})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(IS,{className:"w-5 h-5 text-muted-foreground mt-0.5"}),f.jsxs("div",{children:[f.jsx("span",{className:"text-muted-foreground text-sm block",children:"> DESIGNATION"}),f.jsx("span",{className:"text-foreground font-semibold text-lg",children:r.designation})]})]})]},n))})]})]}),f.jsxs("div",{className:"mt-auto",children:[f.jsx(fo,{}),f.jsx(gm,{})]})]}):f.jsx(cE,{})},O5=new V4,j5=()=>f.jsx(H4,{client:O5,children:f.jsxs(y4,{children:[f.jsx(Z2,{}),f.jsx(HA,{}),f.jsx(UT,{children:f.jsx(_I,{children:f.jsxs(jT,{children:[f.jsx(qt,{path:"/",element:f.jsx(FI,{})}),f.jsx(qt,{path:"/login",element:f.jsx(UI,{})}),f.jsx(qt,{path:"/register",element:f.jsx(zI,{})}),f.jsx(qt,{path:"/dashboard",element:f.jsx(zR,{})}),f.jsx(qt,{path:"/tickets/:ticketId/register",element:f.jsx(WR,{})}),f.jsx(qt,{path:"/admin",element:f.jsx(Us,{children:f.jsx($R,{})})}),f.jsx(qt,{path:"/admin/tickets",element:f.jsx(Us,{children:f.jsx(KR,{})})}),f.jsx(qt,{path:"/admin/tickets/:ticketId/template",element:f.jsx(Us,{children:f.jsx(ZR,{})})}),f.jsx(qt,{path:"/admin/registrations",element:f.jsx(Us,{children:f.jsx(XR,{})})}),f.jsx(qt,{path:"/admin/referrals",element:f.jsx(Us,{children:f.jsx(YR,{})})}),f.jsx(qt,{path:"/admin/coupons",element:f.jsx(Us,{children:f.jsx(S5,{})})}),f.jsx(qt,{path:"/admin/checkin",element:f.jsx(Us,{children:f.jsx(_5,{})})}),f.jsx(qt,{path:"/admin/verify-payments",element:f.jsx(Us,{children:f.jsx(A5,{})})}),f.jsx(qt,{path:"/volunteer",element:f.jsx(nx,{children:f.jsx(T5,{})})}),f.jsx(qt,{path:"/volunteer/participants",element:f.jsx(nx,{children:f.jsx(k5,{})})}),f.jsx(qt,{path:"/workshops",element:f.jsx(I5,{})}),f.jsx(qt,{path:"/workshops/:id",element:f.jsx(R5,{})}),f.jsx(qt,{path:"*",element:f.jsx(cE,{})})]})})})]})});e2(document.getElementById("root")).render(f.jsx(j5,{}));
