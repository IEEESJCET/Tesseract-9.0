var Vm=e=>{throw TypeError(e)};var df=(e,t,r)=>t.has(e)||Vm("Cannot "+r);var se=(e,t,r)=>(df(e,t,"read from private field"),r?r.call(e):t.get(e)),et=(e,t,r)=>t.has(e)?Vm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Le=(e,t,r,n)=>(df(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),pr=(e,t,r)=>(df(e,t,"access private method"),r);var Sc=(e,t,r,n)=>({set _(i){Le(e,t,i,r)},get _(){return se(e,t,n)}});function Vx(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function H0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zx={exports:{}},dd={},Wx={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=Symbol.for("react.element"),FE=Symbol.for("react.portal"),UE=Symbol.for("react.fragment"),VE=Symbol.for("react.strict_mode"),zE=Symbol.for("react.profiler"),WE=Symbol.for("react.provider"),HE=Symbol.for("react.context"),$E=Symbol.for("react.forward_ref"),GE=Symbol.for("react.suspense"),qE=Symbol.for("react.memo"),KE=Symbol.for("react.lazy"),zm=Symbol.iterator;function XE(e){return e===null||typeof e!="object"?null:(e=zm&&e[zm]||e["@@iterator"],typeof e=="function"?e:null)}var Hx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$x=Object.assign,Gx={};function Sa(e,t,r){this.props=e,this.context=t,this.refs=Gx,this.updater=r||Hx}Sa.prototype.isReactComponent={};Sa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qx(){}qx.prototype=Sa.prototype;function $0(e,t,r){this.props=e,this.context=t,this.refs=Gx,this.updater=r||Hx}var G0=$0.prototype=new qx;G0.constructor=$0;$x(G0,Sa.prototype);G0.isPureReactComponent=!0;var Wm=Array.isArray,Kx=Object.prototype.hasOwnProperty,q0={current:null},Xx={key:!0,ref:!0,__self:!0,__source:!0};function Yx(e,t,r){var n,i={},a=null,u=null;if(t!=null)for(n in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)Kx.call(t,n)&&!Xx.hasOwnProperty(n)&&(i[n]=t[n]);var h=arguments.length-2;if(h===1)i.children=r;else if(1<h){for(var p=Array(h),x=0;x<h;x++)p[x]=arguments[x+2];i.children=p}if(e&&e.defaultProps)for(n in h=e.defaultProps,h)i[n]===void 0&&(i[n]=h[n]);return{$$typeof:tc,type:e,key:a,ref:u,props:i,_owner:q0.current}}function YE(e,t){return{$$typeof:tc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function K0(e){return typeof e=="object"&&e!==null&&e.$$typeof===tc}function QE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Hm=/\/+/g;function ff(e,t){return typeof e=="object"&&e!==null&&e.key!=null?QE(""+e.key):t.toString(36)}function iu(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case tc:case FE:u=!0}}if(u)return u=e,i=i(u),e=n===""?"."+ff(u,0):n,Wm(i)?(r="",e!=null&&(r=e.replace(Hm,"$&/")+"/"),iu(i,t,r,"",function(x){return x})):i!=null&&(K0(i)&&(i=YE(i,r+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(Hm,"$&/")+"/")+e)),t.push(i)),1;if(u=0,n=n===""?".":n+":",Wm(e))for(var h=0;h<e.length;h++){a=e[h];var p=n+ff(a,h);u+=iu(a,t,r,p,i)}else if(p=XE(e),typeof p=="function")for(e=p.call(e),h=0;!(a=e.next()).done;)a=a.value,p=n+ff(a,h++),u+=iu(a,t,r,p,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Ac(e,t,r){if(e==null)return e;var n=[],i=0;return iu(e,n,"","",function(a){return t.call(r,a,i++)}),n}function ZE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nr={current:null},ou={transition:null},JE={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:ou,ReactCurrentOwner:q0};function Qx(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Ac,forEach:function(e,t,r){Ac(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ac(e,function(){t++}),t},toArray:function(e){return Ac(e,function(t){return t})||[]},only:function(e){if(!K0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};He.Component=Sa;He.Fragment=UE;He.Profiler=zE;He.PureComponent=$0;He.StrictMode=VE;He.Suspense=GE;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JE;He.act=Qx;He.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$x({},e.props),i=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=q0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(p in t)Kx.call(t,p)&&!Xx.hasOwnProperty(p)&&(n[p]=t[p]===void 0&&h!==void 0?h[p]:t[p])}var p=arguments.length-2;if(p===1)n.children=r;else if(1<p){h=Array(p);for(var x=0;x<p;x++)h[x]=arguments[x+2];n.children=h}return{$$typeof:tc,type:e.type,key:i,ref:a,props:n,_owner:u}};He.createContext=function(e){return e={$$typeof:HE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:WE,_context:e},e.Consumer=e};He.createElement=Yx;He.createFactory=function(e){var t=Yx.bind(null,e);return t.type=e,t};He.createRef=function(){return{current:null}};He.forwardRef=function(e){return{$$typeof:$E,render:e}};He.isValidElement=K0;He.lazy=function(e){return{$$typeof:KE,_payload:{_status:-1,_result:e},_init:ZE}};He.memo=function(e,t){return{$$typeof:qE,type:e,compare:t===void 0?null:t}};He.startTransition=function(e){var t=ou.transition;ou.transition={};try{e()}finally{ou.transition=t}};He.unstable_act=Qx;He.useCallback=function(e,t){return Nr.current.useCallback(e,t)};He.useContext=function(e){return Nr.current.useContext(e)};He.useDebugValue=function(){};He.useDeferredValue=function(e){return Nr.current.useDeferredValue(e)};He.useEffect=function(e,t){return Nr.current.useEffect(e,t)};He.useId=function(){return Nr.current.useId()};He.useImperativeHandle=function(e,t,r){return Nr.current.useImperativeHandle(e,t,r)};He.useInsertionEffect=function(e,t){return Nr.current.useInsertionEffect(e,t)};He.useLayoutEffect=function(e,t){return Nr.current.useLayoutEffect(e,t)};He.useMemo=function(e,t){return Nr.current.useMemo(e,t)};He.useReducer=function(e,t,r){return Nr.current.useReducer(e,t,r)};He.useRef=function(e){return Nr.current.useRef(e)};He.useState=function(e){return Nr.current.useState(e)};He.useSyncExternalStore=function(e,t,r){return Nr.current.useSyncExternalStore(e,t,r)};He.useTransition=function(){return Nr.current.useTransition()};He.version="18.3.1";Wx.exports=He;var I=Wx.exports;const pe=H0(I),X0=Vx({__proto__:null,default:pe},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC=I,tC=Symbol.for("react.element"),rC=Symbol.for("react.fragment"),nC=Object.prototype.hasOwnProperty,sC=eC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iC={key:!0,ref:!0,__self:!0,__source:!0};function Zx(e,t,r){var n,i={},a=null,u=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(n in t)nC.call(t,n)&&!iC.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:tC,type:e,key:a,ref:u,props:i,_owner:sC.current}}dd.Fragment=rC;dd.jsx=Zx;dd.jsxs=Zx;zx.exports=dd;var m=zx.exports,Jx={exports:{}},Jr={},ey={exports:{}},ty={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(J,Y){var le=J.length;J.push(Y);e:for(;0<le;){var Ae=le-1>>>1,xe=J[Ae];if(0<i(xe,Y))J[Ae]=Y,J[le]=xe,le=Ae;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var Y=J[0],le=J.pop();if(le!==Y){J[0]=le;e:for(var Ae=0,xe=J.length,Oe=xe>>>1;Ae<Oe;){var Ee=2*(Ae+1)-1,ae=J[Ee],te=Ee+1,ge=J[te];if(0>i(ae,le))te<xe&&0>i(ge,ae)?(J[Ae]=ge,J[te]=le,Ae=te):(J[Ae]=ae,J[Ee]=le,Ae=Ee);else if(te<xe&&0>i(ge,le))J[Ae]=ge,J[te]=le,Ae=te;else break e}}return Y}function i(J,Y){var le=J.sortIndex-Y.sortIndex;return le!==0?le:J.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var p=[],x=[],w=1,b=null,C=3,E=!1,k=!1,A=!1,P=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(J){for(var Y=r(x);Y!==null;){if(Y.callback===null)n(x);else if(Y.startTime<=J)n(x),Y.sortIndex=Y.expirationTime,t(p,Y);else break;Y=r(x)}}function j(J){if(A=!1,_(J),!k)if(r(p)!==null)k=!0,ue(F);else{var Y=r(x);Y!==null&&ee(j,Y.startTime-J)}}function F(J,Y){k=!1,A&&(A=!1,T(W),W=-1),E=!0;var le=C;try{for(_(Y),b=r(p);b!==null&&(!(b.expirationTime>Y)||J&&!H());){var Ae=b.callback;if(typeof Ae=="function"){b.callback=null,C=b.priorityLevel;var xe=Ae(b.expirationTime<=Y);Y=e.unstable_now(),typeof xe=="function"?b.callback=xe:b===r(p)&&n(p),_(Y)}else n(p);b=r(p)}if(b!==null)var Oe=!0;else{var Ee=r(x);Ee!==null&&ee(j,Ee.startTime-Y),Oe=!1}return Oe}finally{b=null,C=le,E=!1}}var L=!1,M=null,W=-1,V=5,ne=-1;function H(){return!(e.unstable_now()-ne<V)}function q(){if(M!==null){var J=e.unstable_now();ne=J;var Y=!0;try{Y=M(!0,J)}finally{Y?ie():(L=!1,M=null)}}else L=!1}var ie;if(typeof S=="function")ie=function(){S(q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,G=re.port2;re.port1.onmessage=q,ie=function(){G.postMessage(null)}}else ie=function(){P(q,0)};function ue(J){M=J,L||(L=!0,ie())}function ee(J,Y){W=P(function(){J(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){k||E||(k=!0,ue(F))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(J){switch(C){case 1:case 2:case 3:var Y=3;break;default:Y=C}var le=C;C=Y;try{return J()}finally{C=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,Y){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var le=C;C=J;try{return Y()}finally{C=le}},e.unstable_scheduleCallback=function(J,Y,le){var Ae=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ae+le:Ae):le=Ae,J){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=le+xe,J={id:w++,callback:Y,priorityLevel:J,startTime:le,expirationTime:xe,sortIndex:-1},le>Ae?(J.sortIndex=le,t(x,J),r(p)===null&&J===r(x)&&(A?(T(W),W=-1):A=!0,ee(j,le-Ae))):(J.sortIndex=xe,t(p,J),k||E||(k=!0,ue(F))),J},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(J){var Y=C;return function(){var le=C;C=Y;try{return J.apply(this,arguments)}finally{C=le}}}})(ty);ey.exports=ty;var oC=ey.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC=I,Zr=oC;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ry=new Set,El={};function lo(e,t){fa(e,t),fa(e+"Capture",t)}function fa(e,t){for(El[e]=t,e=0;e<t.length;e++)ry.add(t[e])}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ph=Object.prototype.hasOwnProperty,lC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$m={},Gm={};function cC(e){return ph.call(Gm,e)?!0:ph.call($m,e)?!1:lC.test(e)?Gm[e]=!0:($m[e]=!0,!1)}function uC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dC(e,t,r,n){if(t===null||typeof t>"u"||uC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tr(e,t,r,n,i,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dr[e]=new Tr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dr[t]=new Tr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){dr[e]=new Tr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dr[e]=new Tr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dr[e]=new Tr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){dr[e]=new Tr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){dr[e]=new Tr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){dr[e]=new Tr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){dr[e]=new Tr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Y0=/[\-:]([a-z])/g;function Q0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Y0,Q0);dr[t]=new Tr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Y0,Q0);dr[t]=new Tr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Y0,Q0);dr[t]=new Tr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){dr[e]=new Tr(e,1,!1,e.toLowerCase(),null,!1,!1)});dr.xlinkHref=new Tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){dr[e]=new Tr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Z0(e,t,r,n){var i=dr.hasOwnProperty(t)?dr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dC(t,r,i,n)&&(r=null),n||i===null?cC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ns=aC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nc=Symbol.for("react.element"),jo=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),J0=Symbol.for("react.strict_mode"),gh=Symbol.for("react.profiler"),ny=Symbol.for("react.provider"),sy=Symbol.for("react.context"),e1=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),yh=Symbol.for("react.suspense_list"),t1=Symbol.for("react.memo"),$s=Symbol.for("react.lazy"),iy=Symbol.for("react.offscreen"),qm=Symbol.iterator;function qa(e){return e===null||typeof e!="object"?null:(e=qm&&e[qm]||e["@@iterator"],typeof e=="function"?e:null)}var Tt=Object.assign,hf;function sl(e){if(hf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hf=t&&t[1]||""}return`
`+hf+e}var mf=!1;function pf(e,t){if(!e||mf)return"";mf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var n=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){n=x}e.call(t.prototype)}else{try{throw Error()}catch(x){n=x}e()}}catch(x){if(x&&n&&typeof x.stack=="string"){for(var i=x.stack.split(`
`),a=n.stack.split(`
`),u=i.length-1,h=a.length-1;1<=u&&0<=h&&i[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(i[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||i[u]!==a[h]){var p=`
`+i[u].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=u&&0<=h);break}}}finally{mf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?sl(e):""}function fC(e){switch(e.tag){case 5:return sl(e.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return e=pf(e.type,!1),e;case 11:return e=pf(e.type.render,!1),e;case 1:return e=pf(e.type,!0),e;default:return""}}function wh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Do:return"Fragment";case jo:return"Portal";case gh:return"Profiler";case J0:return"StrictMode";case xh:return"Suspense";case yh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sy:return(e.displayName||"Context")+".Consumer";case ny:return(e._context.displayName||"Context")+".Provider";case e1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case t1:return t=e.displayName||null,t!==null?t:wh(e.type)||"Memo";case $s:t=e._payload,e=e._init;try{return wh(e(t))}catch{}}return null}function hC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wh(t);case 8:return t===J0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mC(e){var t=oy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){n=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tc(e){e._valueTracker||(e._valueTracker=mC(e))}function ay(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=oy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Cu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vh(e,t){var r=t.checked;return Tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Km(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=gi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ly(e,t){t=t.checked,t!=null&&Z0(e,"checked",t,!1)}function bh(e,t){ly(e,t);var r=gi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Eh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Eh(e,t.type,gi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Eh(e,t,r){(t!=="number"||Cu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var il=Array.isArray;function Ko(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+gi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ch(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return Tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ym(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(de(92));if(il(r)){if(1<r.length)throw Error(de(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:gi(r)}}function cy(e,t){var r=gi(t.value),n=gi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Qm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _h(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kc,dy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kc=kc||document.createElement("div"),kc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pC=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(e){pC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cl[t]=cl[e]})});function fy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||cl.hasOwnProperty(e)&&cl[e]?(""+t).trim():t+"px"}function hy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=fy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var gC=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sh(e,t){if(t){if(gC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function Ah(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=null;function r1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Th=null,Xo=null,Yo=null;function Zm(e){if(e=sc(e)){if(typeof Th!="function")throw Error(de(280));var t=e.stateNode;t&&(t=gd(t),Th(e.stateNode,e.type,t))}}function my(e){Xo?Yo?Yo.push(e):Yo=[e]:Xo=e}function py(){if(Xo){var e=Xo,t=Yo;if(Yo=Xo=null,Zm(e),t)for(e=0;e<t.length;e++)Zm(t[e])}}function gy(e,t){return e(t)}function xy(){}var gf=!1;function yy(e,t,r){if(gf)return e(t,r);gf=!0;try{return gy(e,t,r)}finally{gf=!1,(Xo!==null||Yo!==null)&&(xy(),py())}}function _l(e,t){var r=e.stateNode;if(r===null)return null;var n=gd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(de(231,t,typeof r));return r}var kh=!1;if(ws)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){kh=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{kh=!1}function xC(e,t,r,n,i,a,u,h,p){var x=Array.prototype.slice.call(arguments,3);try{t.apply(r,x)}catch(w){this.onError(w)}}var ul=!1,_u=null,Su=!1,Ih=null,yC={onError:function(e){ul=!0,_u=e}};function wC(e,t,r,n,i,a,u,h,p){ul=!1,_u=null,xC.apply(yC,arguments)}function vC(e,t,r,n,i,a,u,h,p){if(wC.apply(this,arguments),ul){if(ul){var x=_u;ul=!1,_u=null}else throw Error(de(198));Su||(Su=!0,Ih=x)}}function co(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function wy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jm(e){if(co(e)!==e)throw Error(de(188))}function bC(e){var t=e.alternate;if(!t){if(t=co(e),t===null)throw Error(de(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Jm(i),e;if(a===n)return Jm(i),t;a=a.sibling}throw Error(de(188))}if(r.return!==n.return)r=i,n=a;else{for(var u=!1,h=i.child;h;){if(h===r){u=!0,r=i,n=a;break}if(h===n){u=!0,n=i,r=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===r){u=!0,r=a,n=i;break}if(h===n){u=!0,n=a,r=i;break}h=h.sibling}if(!u)throw Error(de(189))}}if(r.alternate!==n)throw Error(de(190))}if(r.tag!==3)throw Error(de(188));return r.stateNode.current===r?e:t}function vy(e){return e=bC(e),e!==null?by(e):null}function by(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=by(e);if(t!==null)return t;e=e.sibling}return null}var Ey=Zr.unstable_scheduleCallback,ep=Zr.unstable_cancelCallback,EC=Zr.unstable_shouldYield,CC=Zr.unstable_requestPaint,Bt=Zr.unstable_now,_C=Zr.unstable_getCurrentPriorityLevel,n1=Zr.unstable_ImmediatePriority,Cy=Zr.unstable_UserBlockingPriority,Au=Zr.unstable_NormalPriority,SC=Zr.unstable_LowPriority,_y=Zr.unstable_IdlePriority,fd=null,es=null;function AC(e){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(fd,e,void 0,(e.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:kC,NC=Math.log,TC=Math.LN2;function kC(e){return e>>>=0,e===0?32:31-(NC(e)/TC|0)|0}var Ic=64,Rc=4194304;function ol(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Nu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,u=r&268435455;if(u!==0){var h=u&~i;h!==0?n=ol(h):(a&=u,a!==0&&(n=ol(a)))}else u=r&~i,u!==0?n=ol(u):a!==0&&(n=ol(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pn(t),i=1<<r,n|=e[r],t&=~i;return n}function IC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Pn(a),h=1<<u,p=i[u];p===-1?(!(h&r)||h&n)&&(i[u]=IC(h,t)):p<=t&&(e.expiredLanes|=h),a&=~h}}function Rh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Sy(){var e=Ic;return Ic<<=1,!(Ic&4194240)&&(Ic=64),e}function xf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pn(t),e[t]=r}function OC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Pn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function s1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var st=0;function Ay(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ny,i1,Ty,ky,Iy,Oh=!1,Oc=[],oi=null,ai=null,li=null,Sl=new Map,Al=new Map,Ks=[],PC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tp(e,t){switch(e){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(t.pointerId)}}function Xa(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=sc(t),t!==null&&i1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jC(e,t,r,n,i){switch(t){case"focusin":return oi=Xa(oi,e,t,r,n,i),!0;case"dragenter":return ai=Xa(ai,e,t,r,n,i),!0;case"mouseover":return li=Xa(li,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Sl.set(a,Xa(Sl.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Al.set(a,Xa(Al.get(a)||null,e,t,r,n,i)),!0}return!1}function Ry(e){var t=zi(e.target);if(t!==null){var r=co(t);if(r!==null){if(t=r.tag,t===13){if(t=wy(r),t!==null){e.blockedOn=t,Iy(e.priority,function(){Ty(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function au(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ph(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Nh=n,r.target.dispatchEvent(n),Nh=null}else return t=sc(r),t!==null&&i1(t),e.blockedOn=r,!1;t.shift()}return!0}function rp(e,t,r){au(e)&&r.delete(t)}function DC(){Oh=!1,oi!==null&&au(oi)&&(oi=null),ai!==null&&au(ai)&&(ai=null),li!==null&&au(li)&&(li=null),Sl.forEach(rp),Al.forEach(rp)}function Ya(e,t){e.blockedOn===t&&(e.blockedOn=null,Oh||(Oh=!0,Zr.unstable_scheduleCallback(Zr.unstable_NormalPriority,DC)))}function Nl(e){function t(i){return Ya(i,e)}if(0<Oc.length){Ya(Oc[0],e);for(var r=1;r<Oc.length;r++){var n=Oc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(oi!==null&&Ya(oi,e),ai!==null&&Ya(ai,e),li!==null&&Ya(li,e),Sl.forEach(t),Al.forEach(t),r=0;r<Ks.length;r++)n=Ks[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ks.length&&(r=Ks[0],r.blockedOn===null);)Ry(r),r.blockedOn===null&&Ks.shift()}var Qo=Ns.ReactCurrentBatchConfig,Tu=!0;function MC(e,t,r,n){var i=st,a=Qo.transition;Qo.transition=null;try{st=1,o1(e,t,r,n)}finally{st=i,Qo.transition=a}}function LC(e,t,r,n){var i=st,a=Qo.transition;Qo.transition=null;try{st=4,o1(e,t,r,n)}finally{st=i,Qo.transition=a}}function o1(e,t,r,n){if(Tu){var i=Ph(e,t,r,n);if(i===null)Nf(e,t,n,ku,r),tp(e,n);else if(jC(i,e,t,r,n))n.stopPropagation();else if(tp(e,n),t&4&&-1<PC.indexOf(e)){for(;i!==null;){var a=sc(i);if(a!==null&&Ny(a),a=Ph(e,t,r,n),a===null&&Nf(e,t,n,ku,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Nf(e,t,n,null,r)}}var ku=null;function Ph(e,t,r,n){if(ku=null,e=r1(n),e=zi(e),e!==null)if(t=co(e),t===null)e=null;else if(r=t.tag,r===13){if(e=wy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ku=e,null}function Oy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_C()){case n1:return 1;case Cy:return 4;case Au:case SC:return 16;case _y:return 536870912;default:return 16}default:return 16}}var ri=null,a1=null,lu=null;function Py(){if(lu)return lu;var e,t=a1,r=t.length,n,i="value"in ri?ri.value:ri.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var u=r-e;for(n=1;n<=u&&t[r-n]===i[a-n];n++);return lu=i.slice(e,1<n?1-n:void 0)}function cu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pc(){return!0}function np(){return!1}function en(e){function t(r,n,i,a,u){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(r=e[h],this[h]=r?r(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Pc:np,this.isPropagationStopped=np,this}return Tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pc)},persist:function(){},isPersistent:Pc}),t}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l1=en(Aa),nc=Tt({},Aa,{view:0,detail:0}),BC=en(nc),yf,wf,Qa,hd=Tt({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qa&&(Qa&&e.type==="mousemove"?(yf=e.screenX-Qa.screenX,wf=e.screenY-Qa.screenY):wf=yf=0,Qa=e),yf)},movementY:function(e){return"movementY"in e?e.movementY:wf}}),sp=en(hd),FC=Tt({},hd,{dataTransfer:0}),UC=en(FC),VC=Tt({},nc,{relatedTarget:0}),vf=en(VC),zC=Tt({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),WC=en(zC),HC=Tt({},Aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$C=en(HC),GC=Tt({},Aa,{data:0}),ip=en(GC),qC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XC[e])?!!t[e]:!1}function c1(){return YC}var QC=Tt({},nc,{key:function(e){if(e.key){var t=qC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c1,charCode:function(e){return e.type==="keypress"?cu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZC=en(QC),JC=Tt({},hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),op=en(JC),e3=Tt({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c1}),t3=en(e3),r3=Tt({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),n3=en(r3),s3=Tt({},hd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i3=en(s3),o3=[9,13,27,32],u1=ws&&"CompositionEvent"in window,dl=null;ws&&"documentMode"in document&&(dl=document.documentMode);var a3=ws&&"TextEvent"in window&&!dl,jy=ws&&(!u1||dl&&8<dl&&11>=dl),ap=" ",lp=!1;function Dy(e,t){switch(e){case"keyup":return o3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function My(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mo=!1;function l3(e,t){switch(e){case"compositionend":return My(t);case"keypress":return t.which!==32?null:(lp=!0,ap);case"textInput":return e=t.data,e===ap&&lp?null:e;default:return null}}function c3(e,t){if(Mo)return e==="compositionend"||!u1&&Dy(e,t)?(e=Py(),lu=a1=ri=null,Mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jy&&t.locale!=="ko"?null:t.data;default:return null}}var u3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!u3[e.type]:t==="textarea"}function Ly(e,t,r,n){my(n),t=Iu(t,"onChange"),0<t.length&&(r=new l1("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fl=null,Tl=null;function d3(e){Ky(e,0)}function md(e){var t=Fo(e);if(ay(t))return e}function f3(e,t){if(e==="change")return t}var By=!1;if(ws){var bf;if(ws){var Ef="oninput"in document;if(!Ef){var up=document.createElement("div");up.setAttribute("oninput","return;"),Ef=typeof up.oninput=="function"}bf=Ef}else bf=!1;By=bf&&(!document.documentMode||9<document.documentMode)}function dp(){fl&&(fl.detachEvent("onpropertychange",Fy),Tl=fl=null)}function Fy(e){if(e.propertyName==="value"&&md(Tl)){var t=[];Ly(t,Tl,e,r1(e)),yy(d3,t)}}function h3(e,t,r){e==="focusin"?(dp(),fl=t,Tl=r,fl.attachEvent("onpropertychange",Fy)):e==="focusout"&&dp()}function m3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return md(Tl)}function p3(e,t){if(e==="click")return md(t)}function g3(e,t){if(e==="input"||e==="change")return md(t)}function x3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:x3;function kl(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ph.call(t,i)||!Dn(e[i],t[i]))return!1}return!0}function fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hp(e,t){var r=fp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fp(r)}}function Uy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vy(){for(var e=window,t=Cu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Cu(e.document)}return t}function d1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function y3(e){var t=Vy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Uy(r.ownerDocument.documentElement,r)){if(n!==null&&d1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=hp(r,a);var u=hp(r,n);i&&u&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var w3=ws&&"documentMode"in document&&11>=document.documentMode,Lo=null,jh=null,hl=null,Dh=!1;function mp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dh||Lo==null||Lo!==Cu(n)||(n=Lo,"selectionStart"in n&&d1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hl&&kl(hl,n)||(hl=n,n=Iu(jh,"onSelect"),0<n.length&&(t=new l1("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Lo)))}function jc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Bo={animationend:jc("Animation","AnimationEnd"),animationiteration:jc("Animation","AnimationIteration"),animationstart:jc("Animation","AnimationStart"),transitionend:jc("Transition","TransitionEnd")},Cf={},zy={};ws&&(zy=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function pd(e){if(Cf[e])return Cf[e];if(!Bo[e])return e;var t=Bo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zy)return Cf[e]=t[r];return e}var Wy=pd("animationend"),Hy=pd("animationiteration"),$y=pd("animationstart"),Gy=pd("transitionend"),qy=new Map,pp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(e,t){qy.set(e,t),lo(t,[e])}for(var _f=0;_f<pp.length;_f++){var Sf=pp[_f],v3=Sf.toLowerCase(),b3=Sf[0].toUpperCase()+Sf.slice(1);bi(v3,"on"+b3)}bi(Wy,"onAnimationEnd");bi(Hy,"onAnimationIteration");bi($y,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(Gy,"onTransitionEnd");fa("onMouseEnter",["mouseout","mouseover"]);fa("onMouseLeave",["mouseout","mouseover"]);fa("onPointerEnter",["pointerout","pointerover"]);fa("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E3=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function gp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,vC(n,t,void 0,e),e.currentTarget=null}function Ky(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var u=n.length-1;0<=u;u--){var h=n[u],p=h.instance,x=h.currentTarget;if(h=h.listener,p!==a&&i.isPropagationStopped())break e;gp(i,h,x),a=p}else for(u=0;u<n.length;u++){if(h=n[u],p=h.instance,x=h.currentTarget,h=h.listener,p!==a&&i.isPropagationStopped())break e;gp(i,h,x),a=p}}}if(Su)throw e=Ih,Su=!1,Ih=null,e}function ht(e,t){var r=t[Uh];r===void 0&&(r=t[Uh]=new Set);var n=e+"__bubble";r.has(n)||(Xy(t,e,2,!1),r.add(n))}function Af(e,t,r){var n=0;t&&(n|=4),Xy(r,e,n,t)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Il(e){if(!e[Dc]){e[Dc]=!0,ry.forEach(function(r){r!=="selectionchange"&&(E3.has(r)||Af(r,!1,e),Af(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dc]||(t[Dc]=!0,Af("selectionchange",!1,t))}}function Xy(e,t,r,n){switch(Oy(t)){case 1:var i=MC;break;case 4:i=LC;break;default:i=o1}r=i.bind(null,t,r,e),i=void 0,!kh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Nf(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var h=n.stateNode.containerInfo;if(h===i||h.nodeType===8&&h.parentNode===i)break;if(u===4)for(u=n.return;u!==null;){var p=u.tag;if((p===3||p===4)&&(p=u.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;u=u.return}for(;h!==null;){if(u=zi(h),u===null)return;if(p=u.tag,p===5||p===6){n=a=u;continue e}h=h.parentNode}}n=n.return}yy(function(){var x=a,w=r1(r),b=[];e:{var C=qy.get(e);if(C!==void 0){var E=l1,k=e;switch(e){case"keypress":if(cu(r)===0)break e;case"keydown":case"keyup":E=ZC;break;case"focusin":k="focus",E=vf;break;case"focusout":k="blur",E=vf;break;case"beforeblur":case"afterblur":E=vf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=sp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=UC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=t3;break;case Wy:case Hy:case $y:E=WC;break;case Gy:E=n3;break;case"scroll":E=BC;break;case"wheel":E=i3;break;case"copy":case"cut":case"paste":E=$C;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=op}var A=(t&4)!==0,P=!A&&e==="scroll",T=A?C!==null?C+"Capture":null:C;A=[];for(var S=x,_;S!==null;){_=S;var j=_.stateNode;if(_.tag===5&&j!==null&&(_=j,T!==null&&(j=_l(S,T),j!=null&&A.push(Rl(S,j,_)))),P)break;S=S.return}0<A.length&&(C=new E(C,k,null,r,w),b.push({event:C,listeners:A}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",C&&r!==Nh&&(k=r.relatedTarget||r.fromElement)&&(zi(k)||k[vs]))break e;if((E||C)&&(C=w.window===w?w:(C=w.ownerDocument)?C.defaultView||C.parentWindow:window,E?(k=r.relatedTarget||r.toElement,E=x,k=k?zi(k):null,k!==null&&(P=co(k),k!==P||k.tag!==5&&k.tag!==6)&&(k=null)):(E=null,k=x),E!==k)){if(A=sp,j="onMouseLeave",T="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(A=op,j="onPointerLeave",T="onPointerEnter",S="pointer"),P=E==null?C:Fo(E),_=k==null?C:Fo(k),C=new A(j,S+"leave",E,r,w),C.target=P,C.relatedTarget=_,j=null,zi(w)===x&&(A=new A(T,S+"enter",k,r,w),A.target=_,A.relatedTarget=P,j=A),P=j,E&&k)t:{for(A=E,T=k,S=0,_=A;_;_=bo(_))S++;for(_=0,j=T;j;j=bo(j))_++;for(;0<S-_;)A=bo(A),S--;for(;0<_-S;)T=bo(T),_--;for(;S--;){if(A===T||T!==null&&A===T.alternate)break t;A=bo(A),T=bo(T)}A=null}else A=null;E!==null&&xp(b,C,E,A,!1),k!==null&&P!==null&&xp(b,P,k,A,!0)}}e:{if(C=x?Fo(x):window,E=C.nodeName&&C.nodeName.toLowerCase(),E==="select"||E==="input"&&C.type==="file")var F=f3;else if(cp(C))if(By)F=g3;else{F=m3;var L=h3}else(E=C.nodeName)&&E.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(F=p3);if(F&&(F=F(e,x))){Ly(b,F,r,w);break e}L&&L(e,C,x),e==="focusout"&&(L=C._wrapperState)&&L.controlled&&C.type==="number"&&Eh(C,"number",C.value)}switch(L=x?Fo(x):window,e){case"focusin":(cp(L)||L.contentEditable==="true")&&(Lo=L,jh=x,hl=null);break;case"focusout":hl=jh=Lo=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,mp(b,r,w);break;case"selectionchange":if(w3)break;case"keydown":case"keyup":mp(b,r,w)}var M;if(u1)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Mo?Dy(e,r)&&(W="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(W="onCompositionStart");W&&(jy&&r.locale!=="ko"&&(Mo||W!=="onCompositionStart"?W==="onCompositionEnd"&&Mo&&(M=Py()):(ri=w,a1="value"in ri?ri.value:ri.textContent,Mo=!0)),L=Iu(x,W),0<L.length&&(W=new ip(W,e,null,r,w),b.push({event:W,listeners:L}),M?W.data=M:(M=My(r),M!==null&&(W.data=M)))),(M=a3?l3(e,r):c3(e,r))&&(x=Iu(x,"onBeforeInput"),0<x.length&&(w=new ip("onBeforeInput","beforeinput",null,r,w),b.push({event:w,listeners:x}),w.data=M))}Ky(b,t)})}function Rl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Iu(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=_l(e,r),a!=null&&n.unshift(Rl(e,a,i)),a=_l(e,t),a!=null&&n.push(Rl(e,a,i))),e=e.return}return n}function bo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xp(e,t,r,n,i){for(var a=t._reactName,u=[];r!==null&&r!==n;){var h=r,p=h.alternate,x=h.stateNode;if(p!==null&&p===n)break;h.tag===5&&x!==null&&(h=x,i?(p=_l(r,a),p!=null&&u.unshift(Rl(r,p,h))):i||(p=_l(r,a),p!=null&&u.push(Rl(r,p,h)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}var C3=/\r\n?/g,_3=/\u0000|\uFFFD/g;function yp(e){return(typeof e=="string"?e:""+e).replace(C3,`
`).replace(_3,"")}function Mc(e,t,r){if(t=yp(t),yp(e)!==t&&r)throw Error(de(425))}function Ru(){}var Mh=null,Lh=null;function Bh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fh=typeof setTimeout=="function"?setTimeout:void 0,S3=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,A3=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(e){return wp.resolve(null).then(e).catch(N3)}:Fh;function N3(e){setTimeout(function(){throw e})}function Tf(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Nl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Nl(t)}function ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Na=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Na,Ol="__reactProps$"+Na,vs="__reactContainer$"+Na,Uh="__reactEvents$"+Na,T3="__reactListeners$"+Na,k3="__reactHandles$"+Na;function zi(e){var t=e[Qn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vs]||r[Qn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vp(e);e!==null;){if(r=e[Qn])return r;e=vp(e)}return t}e=r,r=e.parentNode}return null}function sc(e){return e=e[Qn]||e[vs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function gd(e){return e[Ol]||null}var Vh=[],Uo=-1;function Ei(e){return{current:e}}function pt(e){0>Uo||(e.current=Vh[Uo],Vh[Uo]=null,Uo--)}function ut(e,t){Uo++,Vh[Uo]=e.current,e.current=t}var xi={},vr=Ei(xi),Br=Ei(!1),eo=xi;function ha(e,t){var r=e.type.contextTypes;if(!r)return xi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Fr(e){return e=e.childContextTypes,e!=null}function Ou(){pt(Br),pt(vr)}function bp(e,t,r){if(vr.current!==xi)throw Error(de(168));ut(vr,t),ut(Br,r)}function Yy(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(de(108,hC(e)||"Unknown",i));return Tt({},r,n)}function Pu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,eo=vr.current,ut(vr,e),ut(Br,Br.current),!0}function Ep(e,t,r){var n=e.stateNode;if(!n)throw Error(de(169));r?(e=Yy(e,t,eo),n.__reactInternalMemoizedMergedChildContext=e,pt(Br),pt(vr),ut(vr,e)):pt(Br),ut(Br,r)}var ms=null,xd=!1,kf=!1;function Qy(e){ms===null?ms=[e]:ms.push(e)}function I3(e){xd=!0,Qy(e)}function Ci(){if(!kf&&ms!==null){kf=!0;var e=0,t=st;try{var r=ms;for(st=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ms=null,xd=!1}catch(i){throw ms!==null&&(ms=ms.slice(e+1)),Ey(n1,Ci),i}finally{st=t,kf=!1}}return null}var Vo=[],zo=0,ju=null,Du=0,un=[],dn=0,to=null,gs=1,xs="";function Li(e,t){Vo[zo++]=Du,Vo[zo++]=ju,ju=e,Du=t}function Zy(e,t,r){un[dn++]=gs,un[dn++]=xs,un[dn++]=to,to=e;var n=gs;e=xs;var i=32-Pn(n)-1;n&=~(1<<i),r+=1;var a=32-Pn(t)+i;if(30<a){var u=i-i%5;a=(n&(1<<u)-1).toString(32),n>>=u,i-=u,gs=1<<32-Pn(t)+i|r<<i|n,xs=a+e}else gs=1<<a|r<<i|n,xs=e}function f1(e){e.return!==null&&(Li(e,1),Zy(e,1,0))}function h1(e){for(;e===ju;)ju=Vo[--zo],Vo[zo]=null,Du=Vo[--zo],Vo[zo]=null;for(;e===to;)to=un[--dn],un[dn]=null,xs=un[--dn],un[dn]=null,gs=un[--dn],un[dn]=null}var Yr=null,Kr=null,bt=!1,Rn=null;function Jy(e,t){var r=fn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yr=e,Kr=ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yr=e,Kr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=to!==null?{id:gs,overflow:xs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Yr=e,Kr=null,!0):!1;default:return!1}}function zh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wh(e){if(bt){var t=Kr;if(t){var r=t;if(!Cp(e,t)){if(zh(e))throw Error(de(418));t=ci(r.nextSibling);var n=Yr;t&&Cp(e,t)?Jy(n,r):(e.flags=e.flags&-4097|2,bt=!1,Yr=e)}}else{if(zh(e))throw Error(de(418));e.flags=e.flags&-4097|2,bt=!1,Yr=e}}}function _p(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yr=e}function Lc(e){if(e!==Yr)return!1;if(!bt)return _p(e),bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bh(e.type,e.memoizedProps)),t&&(t=Kr)){if(zh(e))throw ew(),Error(de(418));for(;t;)Jy(e,t),t=ci(t.nextSibling)}if(_p(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Kr=ci(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Kr=null}}else Kr=Yr?ci(e.stateNode.nextSibling):null;return!0}function ew(){for(var e=Kr;e;)e=ci(e.nextSibling)}function ma(){Kr=Yr=null,bt=!1}function m1(e){Rn===null?Rn=[e]:Rn.push(e)}var R3=Ns.ReactCurrentBatchConfig;function Za(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(de(309));var n=r.stateNode}if(!n)throw Error(de(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var h=i.refs;u===null?delete h[a]:h[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(de(284));if(!r._owner)throw Error(de(290,e))}return e}function Bc(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sp(e){var t=e._init;return t(e._payload)}function tw(e){function t(T,S){if(e){var _=T.deletions;_===null?(T.deletions=[S],T.flags|=16):_.push(S)}}function r(T,S){if(!e)return null;for(;S!==null;)t(T,S),S=S.sibling;return null}function n(T,S){for(T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function i(T,S){return T=hi(T,S),T.index=0,T.sibling=null,T}function a(T,S,_){return T.index=_,e?(_=T.alternate,_!==null?(_=_.index,_<S?(T.flags|=2,S):_):(T.flags|=2,S)):(T.flags|=1048576,S)}function u(T){return e&&T.alternate===null&&(T.flags|=2),T}function h(T,S,_,j){return S===null||S.tag!==6?(S=Mf(_,T.mode,j),S.return=T,S):(S=i(S,_),S.return=T,S)}function p(T,S,_,j){var F=_.type;return F===Do?w(T,S,_.props.children,j,_.key):S!==null&&(S.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===$s&&Sp(F)===S.type)?(j=i(S,_.props),j.ref=Za(T,S,_),j.return=T,j):(j=gu(_.type,_.key,_.props,null,T.mode,j),j.ref=Za(T,S,_),j.return=T,j)}function x(T,S,_,j){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=Lf(_,T.mode,j),S.return=T,S):(S=i(S,_.children||[]),S.return=T,S)}function w(T,S,_,j,F){return S===null||S.tag!==7?(S=Ji(_,T.mode,j,F),S.return=T,S):(S=i(S,_),S.return=T,S)}function b(T,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Mf(""+S,T.mode,_),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Nc:return _=gu(S.type,S.key,S.props,null,T.mode,_),_.ref=Za(T,null,S),_.return=T,_;case jo:return S=Lf(S,T.mode,_),S.return=T,S;case $s:var j=S._init;return b(T,j(S._payload),_)}if(il(S)||qa(S))return S=Ji(S,T.mode,_,null),S.return=T,S;Bc(T,S)}return null}function C(T,S,_,j){var F=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return F!==null?null:h(T,S,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Nc:return _.key===F?p(T,S,_,j):null;case jo:return _.key===F?x(T,S,_,j):null;case $s:return F=_._init,C(T,S,F(_._payload),j)}if(il(_)||qa(_))return F!==null?null:w(T,S,_,j,null);Bc(T,_)}return null}function E(T,S,_,j,F){if(typeof j=="string"&&j!==""||typeof j=="number")return T=T.get(_)||null,h(S,T,""+j,F);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Nc:return T=T.get(j.key===null?_:j.key)||null,p(S,T,j,F);case jo:return T=T.get(j.key===null?_:j.key)||null,x(S,T,j,F);case $s:var L=j._init;return E(T,S,_,L(j._payload),F)}if(il(j)||qa(j))return T=T.get(_)||null,w(S,T,j,F,null);Bc(S,j)}return null}function k(T,S,_,j){for(var F=null,L=null,M=S,W=S=0,V=null;M!==null&&W<_.length;W++){M.index>W?(V=M,M=null):V=M.sibling;var ne=C(T,M,_[W],j);if(ne===null){M===null&&(M=V);break}e&&M&&ne.alternate===null&&t(T,M),S=a(ne,S,W),L===null?F=ne:L.sibling=ne,L=ne,M=V}if(W===_.length)return r(T,M),bt&&Li(T,W),F;if(M===null){for(;W<_.length;W++)M=b(T,_[W],j),M!==null&&(S=a(M,S,W),L===null?F=M:L.sibling=M,L=M);return bt&&Li(T,W),F}for(M=n(T,M);W<_.length;W++)V=E(M,T,W,_[W],j),V!==null&&(e&&V.alternate!==null&&M.delete(V.key===null?W:V.key),S=a(V,S,W),L===null?F=V:L.sibling=V,L=V);return e&&M.forEach(function(H){return t(T,H)}),bt&&Li(T,W),F}function A(T,S,_,j){var F=qa(_);if(typeof F!="function")throw Error(de(150));if(_=F.call(_),_==null)throw Error(de(151));for(var L=F=null,M=S,W=S=0,V=null,ne=_.next();M!==null&&!ne.done;W++,ne=_.next()){M.index>W?(V=M,M=null):V=M.sibling;var H=C(T,M,ne.value,j);if(H===null){M===null&&(M=V);break}e&&M&&H.alternate===null&&t(T,M),S=a(H,S,W),L===null?F=H:L.sibling=H,L=H,M=V}if(ne.done)return r(T,M),bt&&Li(T,W),F;if(M===null){for(;!ne.done;W++,ne=_.next())ne=b(T,ne.value,j),ne!==null&&(S=a(ne,S,W),L===null?F=ne:L.sibling=ne,L=ne);return bt&&Li(T,W),F}for(M=n(T,M);!ne.done;W++,ne=_.next())ne=E(M,T,W,ne.value,j),ne!==null&&(e&&ne.alternate!==null&&M.delete(ne.key===null?W:ne.key),S=a(ne,S,W),L===null?F=ne:L.sibling=ne,L=ne);return e&&M.forEach(function(q){return t(T,q)}),bt&&Li(T,W),F}function P(T,S,_,j){if(typeof _=="object"&&_!==null&&_.type===Do&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Nc:e:{for(var F=_.key,L=S;L!==null;){if(L.key===F){if(F=_.type,F===Do){if(L.tag===7){r(T,L.sibling),S=i(L,_.props.children),S.return=T,T=S;break e}}else if(L.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===$s&&Sp(F)===L.type){r(T,L.sibling),S=i(L,_.props),S.ref=Za(T,L,_),S.return=T,T=S;break e}r(T,L);break}else t(T,L);L=L.sibling}_.type===Do?(S=Ji(_.props.children,T.mode,j,_.key),S.return=T,T=S):(j=gu(_.type,_.key,_.props,null,T.mode,j),j.ref=Za(T,S,_),j.return=T,T=j)}return u(T);case jo:e:{for(L=_.key;S!==null;){if(S.key===L)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){r(T,S.sibling),S=i(S,_.children||[]),S.return=T,T=S;break e}else{r(T,S);break}else t(T,S);S=S.sibling}S=Lf(_,T.mode,j),S.return=T,T=S}return u(T);case $s:return L=_._init,P(T,S,L(_._payload),j)}if(il(_))return k(T,S,_,j);if(qa(_))return A(T,S,_,j);Bc(T,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(r(T,S.sibling),S=i(S,_),S.return=T,T=S):(r(T,S),S=Mf(_,T.mode,j),S.return=T,T=S),u(T)):r(T,S)}return P}var pa=tw(!0),rw=tw(!1),Mu=Ei(null),Lu=null,Wo=null,p1=null;function g1(){p1=Wo=Lu=null}function x1(e){var t=Mu.current;pt(Mu),e._currentValue=t}function Hh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zo(e,t){Lu=e,p1=Wo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lr=!0),e.firstContext=null)}function mn(e){var t=e._currentValue;if(p1!==e)if(e={context:e,memoizedValue:t,next:null},Wo===null){if(Lu===null)throw Error(de(308));Wo=e,Lu.dependencies={lanes:0,firstContext:e}}else Wo=Wo.next=e;return t}var Wi=null;function y1(e){Wi===null?Wi=[e]:Wi.push(e)}function nw(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,y1(t)):(r.next=i.next,i.next=r),t.interleaved=r,bs(e,n)}function bs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gs=!1;function w1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ys(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ui(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Qe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,bs(e,r)}return i=n.interleaved,i===null?(t.next=t,y1(n)):(t.next=i.next,i.next=t),n.interleaved=t,bs(e,r)}function uu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,s1(e,r)}}function Ap(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=u:a=a.next=u,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bu(e,t,r,n){var i=e.updateQueue;Gs=!1;var a=i.firstBaseUpdate,u=i.lastBaseUpdate,h=i.shared.pending;if(h!==null){i.shared.pending=null;var p=h,x=p.next;p.next=null,u===null?a=x:u.next=x,u=p;var w=e.alternate;w!==null&&(w=w.updateQueue,h=w.lastBaseUpdate,h!==u&&(h===null?w.firstBaseUpdate=x:h.next=x,w.lastBaseUpdate=p))}if(a!==null){var b=i.baseState;u=0,w=x=p=null,h=a;do{var C=h.lane,E=h.eventTime;if((n&C)===C){w!==null&&(w=w.next={eventTime:E,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var k=e,A=h;switch(C=t,E=r,A.tag){case 1:if(k=A.payload,typeof k=="function"){b=k.call(E,b,C);break e}b=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=A.payload,C=typeof k=="function"?k.call(E,b,C):k,C==null)break e;b=Tt({},b,C);break e;case 2:Gs=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,C=i.effects,C===null?i.effects=[h]:C.push(h))}else E={eventTime:E,lane:C,tag:h.tag,payload:h.payload,callback:h.callback,next:null},w===null?(x=w=E,p=b):w=w.next=E,u|=C;if(h=h.next,h===null){if(h=i.shared.pending,h===null)break;C=h,h=C.next,C.next=null,i.lastBaseUpdate=C,i.shared.pending=null}}while(!0);if(w===null&&(p=b),i.baseState=p,i.firstBaseUpdate=x,i.lastBaseUpdate=w,t=i.shared.interleaved,t!==null){i=t;do u|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);no|=u,e.lanes=u,e.memoizedState=b}}function Np(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(de(191,i));i.call(n)}}}var ic={},ts=Ei(ic),Pl=Ei(ic),jl=Ei(ic);function Hi(e){if(e===ic)throw Error(de(174));return e}function v1(e,t){switch(ut(jl,t),ut(Pl,e),ut(ts,ic),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_h(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_h(t,e)}pt(ts),ut(ts,t)}function ga(){pt(ts),pt(Pl),pt(jl)}function iw(e){Hi(jl.current);var t=Hi(ts.current),r=_h(t,e.type);t!==r&&(ut(Pl,e),ut(ts,r))}function b1(e){Pl.current===e&&(pt(ts),pt(Pl))}var At=Ei(0);function Fu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var If=[];function E1(){for(var e=0;e<If.length;e++)If[e]._workInProgressVersionPrimary=null;If.length=0}var du=Ns.ReactCurrentDispatcher,Rf=Ns.ReactCurrentBatchConfig,ro=0,Nt=null,Kt=null,er=null,Uu=!1,ml=!1,Dl=0,O3=0;function gr(){throw Error(de(321))}function C1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Dn(e[r],t[r]))return!1;return!0}function _1(e,t,r,n,i,a){if(ro=a,Nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,du.current=e===null||e.memoizedState===null?M3:L3,e=r(n,i),ml){a=0;do{if(ml=!1,Dl=0,25<=a)throw Error(de(301));a+=1,er=Kt=null,t.updateQueue=null,du.current=B3,e=r(n,i)}while(ml)}if(du.current=Vu,t=Kt!==null&&Kt.next!==null,ro=0,er=Kt=Nt=null,Uu=!1,t)throw Error(de(300));return e}function S1(){var e=Dl!==0;return Dl=0,e}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?Nt.memoizedState=er=e:er=er.next=e,er}function pn(){if(Kt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var t=er===null?Nt.memoizedState:er.next;if(t!==null)er=t,Kt=e;else{if(e===null)throw Error(de(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},er===null?Nt.memoizedState=er=e:er=er.next=e}return er}function Ml(e,t){return typeof t=="function"?t(e):t}function Of(e){var t=pn(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var n=Kt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var u=i.next;i.next=a.next,a.next=u}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var h=u=null,p=null,x=a;do{var w=x.lane;if((ro&w)===w)p!==null&&(p=p.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),n=x.hasEagerState?x.eagerState:e(n,x.action);else{var b={lane:w,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};p===null?(h=p=b,u=n):p=p.next=b,Nt.lanes|=w,no|=w}x=x.next}while(x!==null&&x!==a);p===null?u=n:p.next=h,Dn(n,t.memoizedState)||(Lr=!0),t.memoizedState=n,t.baseState=u,t.baseQueue=p,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Nt.lanes|=a,no|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pf(e){var t=pn(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var u=i=i.next;do a=e(a,u.action),u=u.next;while(u!==i);Dn(a,t.memoizedState)||(Lr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function ow(){}function aw(e,t){var r=Nt,n=pn(),i=t(),a=!Dn(n.memoizedState,i);if(a&&(n.memoizedState=i,Lr=!0),n=n.queue,A1(uw.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||er!==null&&er.memoizedState.tag&1){if(r.flags|=2048,Ll(9,cw.bind(null,r,n,i,t),void 0,null),tr===null)throw Error(de(349));ro&30||lw(r,t,i)}return i}function lw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cw(e,t,r,n){t.value=r,t.getSnapshot=n,dw(t)&&fw(e)}function uw(e,t,r){return r(function(){dw(t)&&fw(e)})}function dw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dn(e,r)}catch{return!0}}function fw(e){var t=bs(e,1);t!==null&&jn(t,e,1,-1)}function Tp(e){var t=qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:e},t.queue=e,e=e.dispatch=D3.bind(null,Nt,e),[t.memoizedState,e]}function Ll(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hw(){return pn().memoizedState}function fu(e,t,r,n){var i=qn();Nt.flags|=e,i.memoizedState=Ll(1|t,r,void 0,n===void 0?null:n)}function yd(e,t,r,n){var i=pn();n=n===void 0?null:n;var a=void 0;if(Kt!==null){var u=Kt.memoizedState;if(a=u.destroy,n!==null&&C1(n,u.deps)){i.memoizedState=Ll(t,r,a,n);return}}Nt.flags|=e,i.memoizedState=Ll(1|t,r,a,n)}function kp(e,t){return fu(8390656,8,e,t)}function A1(e,t){return yd(2048,8,e,t)}function mw(e,t){return yd(4,2,e,t)}function pw(e,t){return yd(4,4,e,t)}function gw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xw(e,t,r){return r=r!=null?r.concat([e]):null,yd(4,4,gw.bind(null,t,e),r)}function N1(){}function yw(e,t){var r=pn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&C1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ww(e,t){var r=pn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&C1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function vw(e,t,r){return ro&21?(Dn(r,t)||(r=Sy(),Nt.lanes|=r,no|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lr=!0),e.memoizedState=r)}function P3(e,t){var r=st;st=r!==0&&4>r?r:4,e(!0);var n=Rf.transition;Rf.transition={};try{e(!1),t()}finally{st=r,Rf.transition=n}}function bw(){return pn().memoizedState}function j3(e,t,r){var n=fi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ew(e))Cw(t,r);else if(r=nw(e,t,r,n),r!==null){var i=Sr();jn(r,e,n,i),_w(r,t,n)}}function D3(e,t,r){var n=fi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ew(e))Cw(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,h=a(u,r);if(i.hasEagerState=!0,i.eagerState=h,Dn(h,u)){var p=t.interleaved;p===null?(i.next=i,y1(t)):(i.next=p.next,p.next=i),t.interleaved=i;return}}catch{}finally{}r=nw(e,t,i,n),r!==null&&(i=Sr(),jn(r,e,n,i),_w(r,t,n))}}function Ew(e){var t=e.alternate;return e===Nt||t!==null&&t===Nt}function Cw(e,t){ml=Uu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _w(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,s1(e,r)}}var Vu={readContext:mn,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},M3={readContext:mn,useCallback:function(e,t){return qn().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:kp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fu(4194308,4,gw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fu(4194308,4,e,t)},useInsertionEffect:function(e,t){return fu(4,2,e,t)},useMemo:function(e,t){var r=qn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=j3.bind(null,Nt,e),[n.memoizedState,e]},useRef:function(e){var t=qn();return e={current:e},t.memoizedState=e},useState:Tp,useDebugValue:N1,useDeferredValue:function(e){return qn().memoizedState=e},useTransition:function(){var e=Tp(!1),t=e[0];return e=P3.bind(null,e[1]),qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Nt,i=qn();if(bt){if(r===void 0)throw Error(de(407));r=r()}else{if(r=t(),tr===null)throw Error(de(349));ro&30||lw(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,kp(uw.bind(null,n,a,e),[e]),n.flags|=2048,Ll(9,cw.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=qn(),t=tr.identifierPrefix;if(bt){var r=xs,n=gs;r=(n&~(1<<32-Pn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=O3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},L3={readContext:mn,useCallback:yw,useContext:mn,useEffect:A1,useImperativeHandle:xw,useInsertionEffect:mw,useLayoutEffect:pw,useMemo:ww,useReducer:Of,useRef:hw,useState:function(){return Of(Ml)},useDebugValue:N1,useDeferredValue:function(e){var t=pn();return vw(t,Kt.memoizedState,e)},useTransition:function(){var e=Of(Ml)[0],t=pn().memoizedState;return[e,t]},useMutableSource:ow,useSyncExternalStore:aw,useId:bw,unstable_isNewReconciler:!1},B3={readContext:mn,useCallback:yw,useContext:mn,useEffect:A1,useImperativeHandle:xw,useInsertionEffect:mw,useLayoutEffect:pw,useMemo:ww,useReducer:Pf,useRef:hw,useState:function(){return Pf(Ml)},useDebugValue:N1,useDeferredValue:function(e){var t=pn();return Kt===null?t.memoizedState=e:vw(t,Kt.memoizedState,e)},useTransition:function(){var e=Pf(Ml)[0],t=pn().memoizedState;return[e,t]},useMutableSource:ow,useSyncExternalStore:aw,useId:bw,unstable_isNewReconciler:!1};function _n(e,t){if(e&&e.defaultProps){t=Tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $h(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wd={isMounted:function(e){return(e=e._reactInternals)?co(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Sr(),i=fi(e),a=ys(n,i);a.payload=t,r!=null&&(a.callback=r),t=ui(e,a,i),t!==null&&(jn(t,e,i,n),uu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Sr(),i=fi(e),a=ys(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ui(e,a,i),t!==null&&(jn(t,e,i,n),uu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Sr(),n=fi(e),i=ys(r,n);i.tag=2,t!=null&&(i.callback=t),t=ui(e,i,n),t!==null&&(jn(t,e,n,r),uu(t,e,n))}};function Ip(e,t,r,n,i,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,u):t.prototype&&t.prototype.isPureReactComponent?!kl(r,n)||!kl(i,a):!0}function Sw(e,t,r){var n=!1,i=xi,a=t.contextType;return typeof a=="object"&&a!==null?a=mn(a):(i=Fr(t)?eo:vr.current,n=t.contextTypes,a=(n=n!=null)?ha(e,i):xi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Rp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wd.enqueueReplaceState(t,t.state,null)}function Gh(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},w1(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=mn(a):(a=Fr(t)?eo:vr.current,i.context=ha(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($h(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&wd.enqueueReplaceState(i,i.state,null),Bu(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function xa(e,t){try{var r="",n=t;do r+=fC(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function jf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var F3=typeof WeakMap=="function"?WeakMap:Map;function Aw(e,t,r){r=ys(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wu||(Wu=!0,n0=n),qh(e,t)},r}function Nw(e,t,r){r=ys(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){qh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){qh(e,t),typeof n!="function"&&(di===null?di=new Set([this]):di.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}function Op(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new F3;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=J3.bind(null,e,t,r),t.then(e,e))}function Pp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jp(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ys(-1,1),t.tag=2,ui(r,t,1))),r.lanes|=1),e)}var U3=Ns.ReactCurrentOwner,Lr=!1;function Cr(e,t,r,n){t.child=e===null?rw(t,null,r,n):pa(t,e.child,r,n)}function Dp(e,t,r,n,i){r=r.render;var a=t.ref;return Zo(t,i),n=_1(e,t,r,n,a,i),r=S1(),e!==null&&!Lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Es(e,t,i)):(bt&&r&&f1(t),t.flags|=1,Cr(e,t,n,i),t.child)}function Mp(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!D1(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Tw(e,t,a,n,i)):(e=gu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var u=a.memoizedProps;if(r=r.compare,r=r!==null?r:kl,r(u,n)&&e.ref===t.ref)return Es(e,t,i)}return t.flags|=1,e=hi(a,n),e.ref=t.ref,e.return=t,t.child=e}function Tw(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(kl(a,n)&&e.ref===t.ref)if(Lr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Lr=!0);else return t.lanes=e.lanes,Es(e,t,i)}return Kh(e,t,r,n,i)}function kw(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut($o,Hr),Hr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ut($o,Hr),Hr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ut($o,Hr),Hr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ut($o,Hr),Hr|=n;return Cr(e,t,i,r),t.child}function Iw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Kh(e,t,r,n,i){var a=Fr(r)?eo:vr.current;return a=ha(t,a),Zo(t,i),r=_1(e,t,r,n,a,i),n=S1(),e!==null&&!Lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Es(e,t,i)):(bt&&n&&f1(t),t.flags|=1,Cr(e,t,r,i),t.child)}function Lp(e,t,r,n,i){if(Fr(r)){var a=!0;Pu(t)}else a=!1;if(Zo(t,i),t.stateNode===null)hu(e,t),Sw(t,r,n),Gh(t,r,n,i),n=!0;else if(e===null){var u=t.stateNode,h=t.memoizedProps;u.props=h;var p=u.context,x=r.contextType;typeof x=="object"&&x!==null?x=mn(x):(x=Fr(r)?eo:vr.current,x=ha(t,x));var w=r.getDerivedStateFromProps,b=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function";b||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==n||p!==x)&&Rp(t,u,n,x),Gs=!1;var C=t.memoizedState;u.state=C,Bu(t,n,u,i),p=t.memoizedState,h!==n||C!==p||Br.current||Gs?(typeof w=="function"&&($h(t,r,w,n),p=t.memoizedState),(h=Gs||Ip(t,r,h,n,C,p,x))?(b||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=p),u.props=n,u.state=p,u.context=x,n=h):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,sw(e,t),h=t.memoizedProps,x=t.type===t.elementType?h:_n(t.type,h),u.props=x,b=t.pendingProps,C=u.context,p=r.contextType,typeof p=="object"&&p!==null?p=mn(p):(p=Fr(r)?eo:vr.current,p=ha(t,p));var E=r.getDerivedStateFromProps;(w=typeof E=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==b||C!==p)&&Rp(t,u,n,p),Gs=!1,C=t.memoizedState,u.state=C,Bu(t,n,u,i);var k=t.memoizedState;h!==b||C!==k||Br.current||Gs?(typeof E=="function"&&($h(t,r,E,n),k=t.memoizedState),(x=Gs||Ip(t,r,x,n,C,k,p)||!1)?(w||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,k,p),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,k,p)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=k),u.props=n,u.state=k,u.context=p,n=x):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),n=!1)}return Xh(e,t,r,n,a,i)}function Xh(e,t,r,n,i,a){Iw(e,t);var u=(t.flags&128)!==0;if(!n&&!u)return i&&Ep(t,r,!1),Es(e,t,a);n=t.stateNode,U3.current=t;var h=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&u?(t.child=pa(t,e.child,null,a),t.child=pa(t,null,h,a)):Cr(e,t,h,a),t.memoizedState=n.state,i&&Ep(t,r,!0),t.child}function Rw(e){var t=e.stateNode;t.pendingContext?bp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bp(e,t.context,!1),v1(e,t.containerInfo)}function Bp(e,t,r,n,i){return ma(),m1(i),t.flags|=256,Cr(e,t,r,n),t.child}var Yh={dehydrated:null,treeContext:null,retryLane:0};function Qh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ow(e,t,r){var n=t.pendingProps,i=At.current,a=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(i&2)!==0),h?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ut(At,i&1),e===null)return Wh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=n.children,e=n.fallback,a?(n=t.mode,a=t.child,u={mode:"hidden",children:u},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Ed(u,n,0,null),e=Ji(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Qh(r),t.memoizedState=Yh,e):T1(t,u));if(i=e.memoizedState,i!==null&&(h=i.dehydrated,h!==null))return V3(e,t,u,n,h,i,r);if(a){a=n.fallback,u=t.mode,i=e.child,h=i.sibling;var p={mode:"hidden",children:n.children};return!(u&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=p,t.deletions=null):(n=hi(i,p),n.subtreeFlags=i.subtreeFlags&14680064),h!==null?a=hi(h,a):(a=Ji(a,u,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,u=e.child.memoizedState,u=u===null?Qh(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~r,t.memoizedState=Yh,n}return a=e.child,e=a.sibling,n=hi(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function T1(e,t){return t=Ed({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fc(e,t,r,n){return n!==null&&m1(n),pa(t,e.child,null,r),e=T1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function V3(e,t,r,n,i,a,u){if(r)return t.flags&256?(t.flags&=-257,n=jf(Error(de(422))),Fc(e,t,u,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ed({mode:"visible",children:n.children},i,0,null),a=Ji(a,i,u,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&pa(t,e.child,null,u),t.child.memoizedState=Qh(u),t.memoizedState=Yh,a);if(!(t.mode&1))return Fc(e,t,u,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var h=n.dgst;return n=h,a=Error(de(419)),n=jf(a,n,void 0),Fc(e,t,u,n)}if(h=(u&e.childLanes)!==0,Lr||h){if(n=tr,n!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|u)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,bs(e,i),jn(n,e,i,-1))}return j1(),n=jf(Error(de(421))),Fc(e,t,u,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=e_.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Kr=ci(i.nextSibling),Yr=t,bt=!0,Rn=null,e!==null&&(un[dn++]=gs,un[dn++]=xs,un[dn++]=to,gs=e.id,xs=e.overflow,to=t),t=T1(t,n.children),t.flags|=4096,t)}function Fp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Hh(e.return,t,r)}function Df(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Pw(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Cr(e,t,n.children,r),n=At.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fp(e,r,t);else if(e.tag===19)Fp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ut(At,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Fu(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Df(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Fu(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Df(t,!0,r,null,a);break;case"together":Df(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Es(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),no|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,r=hi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function z3(e,t,r){switch(t.tag){case 3:Rw(t),ma();break;case 5:iw(t);break;case 1:Fr(t.type)&&Pu(t);break;case 4:v1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ut(Mu,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ut(At,At.current&1),t.flags|=128,null):r&t.child.childLanes?Ow(e,t,r):(ut(At,At.current&1),e=Es(e,t,r),e!==null?e.sibling:null);ut(At,At.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Pw(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(At,At.current),n)break;return null;case 22:case 23:return t.lanes=0,kw(e,t,r)}return Es(e,t,r)}var jw,Zh,Dw,Mw;jw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zh=function(){};Dw=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Hi(ts.current);var a=null;switch(r){case"input":i=vh(e,i),n=vh(e,n),a=[];break;case"select":i=Tt({},i,{value:void 0}),n=Tt({},n,{value:void 0}),a=[];break;case"textarea":i=Ch(e,i),n=Ch(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ru)}Sh(r,n);var u;r=null;for(x in i)if(!n.hasOwnProperty(x)&&i.hasOwnProperty(x)&&i[x]!=null)if(x==="style"){var h=i[x];for(u in h)h.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(El.hasOwnProperty(x)?a||(a=[]):(a=a||[]).push(x,null));for(x in n){var p=n[x];if(h=i!=null?i[x]:void 0,n.hasOwnProperty(x)&&p!==h&&(p!=null||h!=null))if(x==="style")if(h){for(u in h)!h.hasOwnProperty(u)||p&&p.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in p)p.hasOwnProperty(u)&&h[u]!==p[u]&&(r||(r={}),r[u]=p[u])}else r||(a||(a=[]),a.push(x,r)),r=p;else x==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,h=h?h.__html:void 0,p!=null&&h!==p&&(a=a||[]).push(x,p)):x==="children"?typeof p!="string"&&typeof p!="number"||(a=a||[]).push(x,""+p):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(El.hasOwnProperty(x)?(p!=null&&x==="onScroll"&&ht("scroll",e),a||h===p||(a=[])):(a=a||[]).push(x,p))}r&&(a=a||[]).push("style",r);var x=a;(t.updateQueue=x)&&(t.flags|=4)}};Mw=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ja(e,t){if(!bt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function W3(e,t,r){var n=t.pendingProps;switch(h1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(t),null;case 1:return Fr(t.type)&&Ou(),xr(t),null;case 3:return n=t.stateNode,ga(),pt(Br),pt(vr),E1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Lc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rn!==null&&(o0(Rn),Rn=null))),Zh(e,t),xr(t),null;case 5:b1(t);var i=Hi(jl.current);if(r=t.type,e!==null&&t.stateNode!=null)Dw(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(de(166));return xr(t),null}if(e=Hi(ts.current),Lc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Qn]=t,n[Ol]=a,e=(t.mode&1)!==0,r){case"dialog":ht("cancel",n),ht("close",n);break;case"iframe":case"object":case"embed":ht("load",n);break;case"video":case"audio":for(i=0;i<al.length;i++)ht(al[i],n);break;case"source":ht("error",n);break;case"img":case"image":case"link":ht("error",n),ht("load",n);break;case"details":ht("toggle",n);break;case"input":Km(n,a),ht("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ht("invalid",n);break;case"textarea":Ym(n,a),ht("invalid",n)}Sh(r,a),i=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?n.textContent!==h&&(a.suppressHydrationWarning!==!0&&Mc(n.textContent,h,e),i=["children",h]):typeof h=="number"&&n.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Mc(n.textContent,h,e),i=["children",""+h]):El.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&ht("scroll",n)}switch(r){case"input":Tc(n),Xm(n,a,!0);break;case"textarea":Tc(n),Qm(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ru)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),r==="select"&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[Qn]=t,e[Ol]=n,jw(e,t,!1,!1),t.stateNode=e;e:{switch(u=Ah(r,n),r){case"dialog":ht("cancel",e),ht("close",e),i=n;break;case"iframe":case"object":case"embed":ht("load",e),i=n;break;case"video":case"audio":for(i=0;i<al.length;i++)ht(al[i],e);i=n;break;case"source":ht("error",e),i=n;break;case"img":case"image":case"link":ht("error",e),ht("load",e),i=n;break;case"details":ht("toggle",e),i=n;break;case"input":Km(e,n),i=vh(e,n),ht("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Tt({},n,{value:void 0}),ht("invalid",e);break;case"textarea":Ym(e,n),i=Ch(e,n),ht("invalid",e);break;default:i=n}Sh(r,i),h=i;for(a in h)if(h.hasOwnProperty(a)){var p=h[a];a==="style"?hy(e,p):a==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&dy(e,p)):a==="children"?typeof p=="string"?(r!=="textarea"||p!=="")&&Cl(e,p):typeof p=="number"&&Cl(e,""+p):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(El.hasOwnProperty(a)?p!=null&&a==="onScroll"&&ht("scroll",e):p!=null&&Z0(e,a,p,u))}switch(r){case"input":Tc(e),Xm(e,n,!1);break;case"textarea":Tc(e),Qm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+gi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ko(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ko(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ru)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xr(t),null;case 6:if(e&&t.stateNode!=null)Mw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(de(166));if(r=Hi(jl.current),Hi(ts.current),Lc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Qn]=t,(a=n.nodeValue!==r)&&(e=Yr,e!==null))switch(e.tag){case 3:Mc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qn]=t,t.stateNode=n}return xr(t),null;case 13:if(pt(At),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bt&&Kr!==null&&t.mode&1&&!(t.flags&128))ew(),ma(),t.flags|=98560,a=!1;else if(a=Lc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(de(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(de(317));a[Qn]=t}else ma(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xr(t),a=!1}else Rn!==null&&(o0(Rn),Rn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||At.current&1?Xt===0&&(Xt=3):j1())),t.updateQueue!==null&&(t.flags|=4),xr(t),null);case 4:return ga(),Zh(e,t),e===null&&Il(t.stateNode.containerInfo),xr(t),null;case 10:return x1(t.type._context),xr(t),null;case 17:return Fr(t.type)&&Ou(),xr(t),null;case 19:if(pt(At),a=t.memoizedState,a===null)return xr(t),null;if(n=(t.flags&128)!==0,u=a.rendering,u===null)if(n)Ja(a,!1);else{if(Xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Fu(e),u!==null){for(t.flags|=128,Ja(a,!1),n=u.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ut(At,At.current&1|2),t.child}e=e.sibling}a.tail!==null&&Bt()>ya&&(t.flags|=128,n=!0,Ja(a,!1),t.lanes=4194304)}else{if(!n)if(e=Fu(u),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ja(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!bt)return xr(t),null}else 2*Bt()-a.renderingStartTime>ya&&r!==1073741824&&(t.flags|=128,n=!0,Ja(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(r=a.last,r!==null?r.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Bt(),t.sibling=null,r=At.current,ut(At,n?r&1|2:r&1),t):(xr(t),null);case 22:case 23:return P1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Hr&1073741824&&(xr(t),t.subtreeFlags&6&&(t.flags|=8192)):xr(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function H3(e,t){switch(h1(t),t.tag){case 1:return Fr(t.type)&&Ou(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ga(),pt(Br),pt(vr),E1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return b1(t),null;case 13:if(pt(At),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));ma()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(At),null;case 4:return ga(),null;case 10:return x1(t.type._context),null;case 22:case 23:return P1(),null;case 24:return null;default:return null}}var Uc=!1,wr=!1,$3=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Ho(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Dt(e,t,n)}else r.current=null}function Jh(e,t,r){try{r()}catch(n){Dt(e,t,n)}}var Up=!1;function G3(e,t){if(Mh=Tu,e=Vy(),d1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var u=0,h=-1,p=-1,x=0,w=0,b=e,C=null;t:for(;;){for(var E;b!==r||i!==0&&b.nodeType!==3||(h=u+i),b!==a||n!==0&&b.nodeType!==3||(p=u+n),b.nodeType===3&&(u+=b.nodeValue.length),(E=b.firstChild)!==null;)C=b,b=E;for(;;){if(b===e)break t;if(C===r&&++x===i&&(h=u),C===a&&++w===n&&(p=u),(E=b.nextSibling)!==null)break;b=C,C=b.parentNode}b=E}r=h===-1||p===-1?null:{start:h,end:p}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lh={focusedElem:e,selectionRange:r},Tu=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var A=k.memoizedProps,P=k.memoizedState,T=t.stateNode,S=T.getSnapshotBeforeUpdate(t.elementType===t.type?A:_n(t.type,A),P);T.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(j){Dt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return k=Up,Up=!1,k}function pl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Jh(t,r,a)}i=i.next}while(i!==n)}}function vd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function e0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Lw(e){var t=e.alternate;t!==null&&(e.alternate=null,Lw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qn],delete t[Ol],delete t[Uh],delete t[T3],delete t[k3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bw(e){return e.tag===5||e.tag===3||e.tag===4}function Vp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function t0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ru));else if(n!==4&&(e=e.child,e!==null))for(t0(e,t,r),e=e.sibling;e!==null;)t0(e,t,r),e=e.sibling}function r0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(r0(e,t,r),e=e.sibling;e!==null;)r0(e,t,r),e=e.sibling}var cr=null,kn=!1;function Fs(e,t,r){for(r=r.child;r!==null;)Fw(e,t,r),r=r.sibling}function Fw(e,t,r){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(fd,r)}catch{}switch(r.tag){case 5:wr||Ho(r,t);case 6:var n=cr,i=kn;cr=null,Fs(e,t,r),cr=n,kn=i,cr!==null&&(kn?(e=cr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):cr.removeChild(r.stateNode));break;case 18:cr!==null&&(kn?(e=cr,r=r.stateNode,e.nodeType===8?Tf(e.parentNode,r):e.nodeType===1&&Tf(e,r),Nl(e)):Tf(cr,r.stateNode));break;case 4:n=cr,i=kn,cr=r.stateNode.containerInfo,kn=!0,Fs(e,t,r),cr=n,kn=i;break;case 0:case 11:case 14:case 15:if(!wr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&Jh(r,t,u),i=i.next}while(i!==n)}Fs(e,t,r);break;case 1:if(!wr&&(Ho(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(h){Dt(r,t,h)}Fs(e,t,r);break;case 21:Fs(e,t,r);break;case 22:r.mode&1?(wr=(n=wr)||r.memoizedState!==null,Fs(e,t,r),wr=n):Fs(e,t,r);break;default:Fs(e,t,r)}}function zp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $3),t.forEach(function(n){var i=t_.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function bn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,u=t,h=u;e:for(;h!==null;){switch(h.tag){case 5:cr=h.stateNode,kn=!1;break e;case 3:cr=h.stateNode.containerInfo,kn=!0;break e;case 4:cr=h.stateNode.containerInfo,kn=!0;break e}h=h.return}if(cr===null)throw Error(de(160));Fw(a,u,i),cr=null,kn=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(x){Dt(i,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uw(t,e),t=t.sibling}function Uw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(t,e),Gn(e),n&4){try{pl(3,e,e.return),vd(3,e)}catch(A){Dt(e,e.return,A)}try{pl(5,e,e.return)}catch(A){Dt(e,e.return,A)}}break;case 1:bn(t,e),Gn(e),n&512&&r!==null&&Ho(r,r.return);break;case 5:if(bn(t,e),Gn(e),n&512&&r!==null&&Ho(r,r.return),e.flags&32){var i=e.stateNode;try{Cl(i,"")}catch(A){Dt(e,e.return,A)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,u=r!==null?r.memoizedProps:a,h=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&ly(i,a),Ah(h,u);var x=Ah(h,a);for(u=0;u<p.length;u+=2){var w=p[u],b=p[u+1];w==="style"?hy(i,b):w==="dangerouslySetInnerHTML"?dy(i,b):w==="children"?Cl(i,b):Z0(i,w,b,x)}switch(h){case"input":bh(i,a);break;case"textarea":cy(i,a);break;case"select":var C=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?Ko(i,!!a.multiple,E,!1):C!==!!a.multiple&&(a.defaultValue!=null?Ko(i,!!a.multiple,a.defaultValue,!0):Ko(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ol]=a}catch(A){Dt(e,e.return,A)}}break;case 6:if(bn(t,e),Gn(e),n&4){if(e.stateNode===null)throw Error(de(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(A){Dt(e,e.return,A)}}break;case 3:if(bn(t,e),Gn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nl(t.containerInfo)}catch(A){Dt(e,e.return,A)}break;case 4:bn(t,e),Gn(e);break;case 13:bn(t,e),Gn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(R1=Bt())),n&4&&zp(e);break;case 22:if(w=r!==null&&r.memoizedState!==null,e.mode&1?(wr=(x=wr)||w,bn(t,e),wr=x):bn(t,e),Gn(e),n&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!w&&e.mode&1)for(Ce=e,w=e.child;w!==null;){for(b=Ce=w;Ce!==null;){switch(C=Ce,E=C.child,C.tag){case 0:case 11:case 14:case 15:pl(4,C,C.return);break;case 1:Ho(C,C.return);var k=C.stateNode;if(typeof k.componentWillUnmount=="function"){n=C,r=C.return;try{t=n,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(A){Dt(n,r,A)}}break;case 5:Ho(C,C.return);break;case 22:if(C.memoizedState!==null){Hp(b);continue}}E!==null?(E.return=C,Ce=E):Hp(b)}w=w.sibling}e:for(w=null,b=e;;){if(b.tag===5){if(w===null){w=b;try{i=b.stateNode,x?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=b.stateNode,p=b.memoizedProps.style,u=p!=null&&p.hasOwnProperty("display")?p.display:null,h.style.display=fy("display",u))}catch(A){Dt(e,e.return,A)}}}else if(b.tag===6){if(w===null)try{b.stateNode.nodeValue=x?"":b.memoizedProps}catch(A){Dt(e,e.return,A)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;w===b&&(w=null),b=b.return}w===b&&(w=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:bn(t,e),Gn(e),n&4&&zp(e);break;case 21:break;default:bn(t,e),Gn(e)}}function Gn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Bw(r)){var n=r;break e}r=r.return}throw Error(de(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Cl(i,""),n.flags&=-33);var a=Vp(e);r0(e,a,i);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Vp(e);t0(e,h,u);break;default:throw Error(de(161))}}catch(p){Dt(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function q3(e,t,r){Ce=e,Vw(e)}function Vw(e,t,r){for(var n=(e.mode&1)!==0;Ce!==null;){var i=Ce,a=i.child;if(i.tag===22&&n){var u=i.memoizedState!==null||Uc;if(!u){var h=i.alternate,p=h!==null&&h.memoizedState!==null||wr;h=Uc;var x=wr;if(Uc=u,(wr=p)&&!x)for(Ce=i;Ce!==null;)u=Ce,p=u.child,u.tag===22&&u.memoizedState!==null?$p(i):p!==null?(p.return=u,Ce=p):$p(i);for(;a!==null;)Ce=a,Vw(a),a=a.sibling;Ce=i,Uc=h,wr=x}Wp(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ce=a):Wp(e)}}function Wp(e){for(;Ce!==null;){var t=Ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wr||vd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!wr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:_n(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Np(t,a,n);break;case 3:var u=t.updateQueue;if(u!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Np(t,u,r)}break;case 5:var h=t.stateNode;if(r===null&&t.flags&4){r=h;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&r.focus();break;case"img":p.src&&(r.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var w=x.memoizedState;if(w!==null){var b=w.dehydrated;b!==null&&Nl(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}wr||t.flags&512&&e0(t)}catch(C){Dt(t,t.return,C)}}if(t===e){Ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ce=r;break}Ce=t.return}}function Hp(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ce=r;break}Ce=t.return}}function $p(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vd(4,t)}catch(p){Dt(t,r,p)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(p){Dt(t,i,p)}}var a=t.return;try{e0(t)}catch(p){Dt(t,a,p)}break;case 5:var u=t.return;try{e0(t)}catch(p){Dt(t,u,p)}}}catch(p){Dt(t,t.return,p)}if(t===e){Ce=null;break}var h=t.sibling;if(h!==null){h.return=t.return,Ce=h;break}Ce=t.return}}var K3=Math.ceil,zu=Ns.ReactCurrentDispatcher,k1=Ns.ReactCurrentOwner,hn=Ns.ReactCurrentBatchConfig,Qe=0,tr=null,Vt=null,ur=0,Hr=0,$o=Ei(0),Xt=0,Bl=null,no=0,bd=0,I1=0,gl=null,Mr=null,R1=0,ya=1/0,fs=null,Wu=!1,n0=null,di=null,Vc=!1,ni=null,Hu=0,xl=0,s0=null,mu=-1,pu=0;function Sr(){return Qe&6?Bt():mu!==-1?mu:mu=Bt()}function fi(e){return e.mode&1?Qe&2&&ur!==0?ur&-ur:R3.transition!==null?(pu===0&&(pu=Sy()),pu):(e=st,e!==0||(e=window.event,e=e===void 0?16:Oy(e.type)),e):1}function jn(e,t,r,n){if(50<xl)throw xl=0,s0=null,Error(de(185));rc(e,r,n),(!(Qe&2)||e!==tr)&&(e===tr&&(!(Qe&2)&&(bd|=r),Xt===4&&Xs(e,ur)),Ur(e,n),r===1&&Qe===0&&!(t.mode&1)&&(ya=Bt()+500,xd&&Ci()))}function Ur(e,t){var r=e.callbackNode;RC(e,t);var n=Nu(e,e===tr?ur:0);if(n===0)r!==null&&ep(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ep(r),t===1)e.tag===0?I3(Gp.bind(null,e)):Qy(Gp.bind(null,e)),A3(function(){!(Qe&6)&&Ci()}),r=null;else{switch(Ay(n)){case 1:r=n1;break;case 4:r=Cy;break;case 16:r=Au;break;case 536870912:r=_y;break;default:r=Au}r=Xw(r,zw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zw(e,t){if(mu=-1,pu=0,Qe&6)throw Error(de(327));var r=e.callbackNode;if(Jo()&&e.callbackNode!==r)return null;var n=Nu(e,e===tr?ur:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=$u(e,n);else{t=n;var i=Qe;Qe|=2;var a=Hw();(tr!==e||ur!==t)&&(fs=null,ya=Bt()+500,Zi(e,t));do try{Q3();break}catch(h){Ww(e,h)}while(!0);g1(),zu.current=a,Qe=i,Vt!==null?t=0:(tr=null,ur=0,t=Xt)}if(t!==0){if(t===2&&(i=Rh(e),i!==0&&(n=i,t=i0(e,i))),t===1)throw r=Bl,Zi(e,0),Xs(e,n),Ur(e,Bt()),r;if(t===6)Xs(e,n);else{if(i=e.current.alternate,!(n&30)&&!X3(i)&&(t=$u(e,n),t===2&&(a=Rh(e),a!==0&&(n=a,t=i0(e,a))),t===1))throw r=Bl,Zi(e,0),Xs(e,n),Ur(e,Bt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(de(345));case 2:Bi(e,Mr,fs);break;case 3:if(Xs(e,n),(n&130023424)===n&&(t=R1+500-Bt(),10<t)){if(Nu(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Sr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fh(Bi.bind(null,e,Mr,fs),t);break}Bi(e,Mr,fs);break;case 4:if(Xs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var u=31-Pn(n);a=1<<u,u=t[u],u>i&&(i=u),n&=~a}if(n=i,n=Bt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*K3(n/1960))-n,10<n){e.timeoutHandle=Fh(Bi.bind(null,e,Mr,fs),n);break}Bi(e,Mr,fs);break;case 5:Bi(e,Mr,fs);break;default:throw Error(de(329))}}}return Ur(e,Bt()),e.callbackNode===r?zw.bind(null,e):null}function i0(e,t){var r=gl;return e.current.memoizedState.isDehydrated&&(Zi(e,t).flags|=256),e=$u(e,t),e!==2&&(t=Mr,Mr=r,t!==null&&o0(t)),e}function o0(e){Mr===null?Mr=e:Mr.push.apply(Mr,e)}function X3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Dn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xs(e,t){for(t&=~I1,t&=~bd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pn(t),n=1<<r;e[r]=-1,t&=~n}}function Gp(e){if(Qe&6)throw Error(de(327));Jo();var t=Nu(e,0);if(!(t&1))return Ur(e,Bt()),null;var r=$u(e,t);if(e.tag!==0&&r===2){var n=Rh(e);n!==0&&(t=n,r=i0(e,n))}if(r===1)throw r=Bl,Zi(e,0),Xs(e,t),Ur(e,Bt()),r;if(r===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bi(e,Mr,fs),Ur(e,Bt()),null}function O1(e,t){var r=Qe;Qe|=1;try{return e(t)}finally{Qe=r,Qe===0&&(ya=Bt()+500,xd&&Ci())}}function so(e){ni!==null&&ni.tag===0&&!(Qe&6)&&Jo();var t=Qe;Qe|=1;var r=hn.transition,n=st;try{if(hn.transition=null,st=1,e)return e()}finally{st=n,hn.transition=r,Qe=t,!(Qe&6)&&Ci()}}function P1(){Hr=$o.current,pt($o)}function Zi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,S3(r)),Vt!==null)for(r=Vt.return;r!==null;){var n=r;switch(h1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ou();break;case 3:ga(),pt(Br),pt(vr),E1();break;case 5:b1(n);break;case 4:ga();break;case 13:pt(At);break;case 19:pt(At);break;case 10:x1(n.type._context);break;case 22:case 23:P1()}r=r.return}if(tr=e,Vt=e=hi(e.current,null),ur=Hr=t,Xt=0,Bl=null,I1=bd=no=0,Mr=gl=null,Wi!==null){for(t=0;t<Wi.length;t++)if(r=Wi[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var u=a.next;a.next=i,n.next=u}r.pending=n}Wi=null}return e}function Ww(e,t){do{var r=Vt;try{if(g1(),du.current=Vu,Uu){for(var n=Nt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Uu=!1}if(ro=0,er=Kt=Nt=null,ml=!1,Dl=0,k1.current=null,r===null||r.return===null){Xt=1,Bl=t,Vt=null;break}e:{var a=e,u=r.return,h=r,p=t;if(t=ur,h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var x=p,w=h,b=w.tag;if(!(w.mode&1)&&(b===0||b===11||b===15)){var C=w.alternate;C?(w.updateQueue=C.updateQueue,w.memoizedState=C.memoizedState,w.lanes=C.lanes):(w.updateQueue=null,w.memoizedState=null)}var E=Pp(u);if(E!==null){E.flags&=-257,jp(E,u,h,a,t),E.mode&1&&Op(a,x,t),t=E,p=x;var k=t.updateQueue;if(k===null){var A=new Set;A.add(p),t.updateQueue=A}else k.add(p);break e}else{if(!(t&1)){Op(a,x,t),j1();break e}p=Error(de(426))}}else if(bt&&h.mode&1){var P=Pp(u);if(P!==null){!(P.flags&65536)&&(P.flags|=256),jp(P,u,h,a,t),m1(xa(p,h));break e}}a=p=xa(p,h),Xt!==4&&(Xt=2),gl===null?gl=[a]:gl.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var T=Aw(a,p,t);Ap(a,T);break e;case 1:h=p;var S=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(di===null||!di.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Nw(a,h,t);Ap(a,j);break e}}a=a.return}while(a!==null)}Gw(r)}catch(F){t=F,Vt===r&&r!==null&&(Vt=r=r.return);continue}break}while(!0)}function Hw(){var e=zu.current;return zu.current=Vu,e===null?Vu:e}function j1(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),tr===null||!(no&268435455)&&!(bd&268435455)||Xs(tr,ur)}function $u(e,t){var r=Qe;Qe|=2;var n=Hw();(tr!==e||ur!==t)&&(fs=null,Zi(e,t));do try{Y3();break}catch(i){Ww(e,i)}while(!0);if(g1(),Qe=r,zu.current=n,Vt!==null)throw Error(de(261));return tr=null,ur=0,Xt}function Y3(){for(;Vt!==null;)$w(Vt)}function Q3(){for(;Vt!==null&&!EC();)$w(Vt)}function $w(e){var t=Kw(e.alternate,e,Hr);e.memoizedProps=e.pendingProps,t===null?Gw(e):Vt=t,k1.current=null}function Gw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=H3(r,t),r!==null){r.flags&=32767,Vt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xt=6,Vt=null;return}}else if(r=W3(r,t,Hr),r!==null){Vt=r;return}if(t=t.sibling,t!==null){Vt=t;return}Vt=t=e}while(t!==null);Xt===0&&(Xt=5)}function Bi(e,t,r){var n=st,i=hn.transition;try{hn.transition=null,st=1,Z3(e,t,r,n)}finally{hn.transition=i,st=n}return null}function Z3(e,t,r,n){do Jo();while(ni!==null);if(Qe&6)throw Error(de(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(OC(e,a),e===tr&&(Vt=tr=null,ur=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vc||(Vc=!0,Xw(Au,function(){return Jo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=hn.transition,hn.transition=null;var u=st;st=1;var h=Qe;Qe|=4,k1.current=null,G3(e,r),Uw(r,e),y3(Lh),Tu=!!Mh,Lh=Mh=null,e.current=r,q3(r),CC(),Qe=h,st=u,hn.transition=a}else e.current=r;if(Vc&&(Vc=!1,ni=e,Hu=i),a=e.pendingLanes,a===0&&(di=null),AC(r.stateNode),Ur(e,Bt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=n0,n0=null,e;return Hu&1&&e.tag!==0&&Jo(),a=e.pendingLanes,a&1?e===s0?xl++:(xl=0,s0=e):xl=0,Ci(),null}function Jo(){if(ni!==null){var e=Ay(Hu),t=hn.transition,r=st;try{if(hn.transition=null,st=16>e?16:e,ni===null)var n=!1;else{if(e=ni,ni=null,Hu=0,Qe&6)throw Error(de(331));var i=Qe;for(Qe|=4,Ce=e.current;Ce!==null;){var a=Ce,u=a.child;if(Ce.flags&16){var h=a.deletions;if(h!==null){for(var p=0;p<h.length;p++){var x=h[p];for(Ce=x;Ce!==null;){var w=Ce;switch(w.tag){case 0:case 11:case 15:pl(8,w,a)}var b=w.child;if(b!==null)b.return=w,Ce=b;else for(;Ce!==null;){w=Ce;var C=w.sibling,E=w.return;if(Lw(w),w===x){Ce=null;break}if(C!==null){C.return=E,Ce=C;break}Ce=E}}}var k=a.alternate;if(k!==null){var A=k.child;if(A!==null){k.child=null;do{var P=A.sibling;A.sibling=null,A=P}while(A!==null)}}Ce=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,Ce=u;else e:for(;Ce!==null;){if(a=Ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:pl(9,a,a.return)}var T=a.sibling;if(T!==null){T.return=a.return,Ce=T;break e}Ce=a.return}}var S=e.current;for(Ce=S;Ce!==null;){u=Ce;var _=u.child;if(u.subtreeFlags&2064&&_!==null)_.return=u,Ce=_;else e:for(u=S;Ce!==null;){if(h=Ce,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:vd(9,h)}}catch(F){Dt(h,h.return,F)}if(h===u){Ce=null;break e}var j=h.sibling;if(j!==null){j.return=h.return,Ce=j;break e}Ce=h.return}}if(Qe=i,Ci(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(fd,e)}catch{}n=!0}return n}finally{st=r,hn.transition=t}}return!1}function qp(e,t,r){t=xa(r,t),t=Aw(e,t,1),e=ui(e,t,1),t=Sr(),e!==null&&(rc(e,1,t),Ur(e,t))}function Dt(e,t,r){if(e.tag===3)qp(e,e,r);else for(;t!==null;){if(t.tag===3){qp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(di===null||!di.has(n))){e=xa(r,e),e=Nw(t,e,1),t=ui(t,e,1),e=Sr(),t!==null&&(rc(t,1,e),Ur(t,e));break}}t=t.return}}function J3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Sr(),e.pingedLanes|=e.suspendedLanes&r,tr===e&&(ur&r)===r&&(Xt===4||Xt===3&&(ur&130023424)===ur&&500>Bt()-R1?Zi(e,0):I1|=r),Ur(e,t)}function qw(e,t){t===0&&(e.mode&1?(t=Rc,Rc<<=1,!(Rc&130023424)&&(Rc=4194304)):t=1);var r=Sr();e=bs(e,t),e!==null&&(rc(e,t,r),Ur(e,r))}function e_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qw(e,r)}function t_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(de(314))}n!==null&&n.delete(t),qw(e,r)}var Kw;Kw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Br.current)Lr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Lr=!1,z3(e,t,r);Lr=!!(e.flags&131072)}else Lr=!1,bt&&t.flags&1048576&&Zy(t,Du,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hu(e,t),e=t.pendingProps;var i=ha(t,vr.current);Zo(t,r),i=_1(null,t,n,e,i,r);var a=S1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fr(n)?(a=!0,Pu(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,w1(t),i.updater=wd,t.stateNode=i,i._reactInternals=t,Gh(t,n,e,r),t=Xh(null,t,n,!0,a,r)):(t.tag=0,bt&&a&&f1(t),Cr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(hu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=n_(n),e=_n(n,e),i){case 0:t=Kh(null,t,n,e,r);break e;case 1:t=Lp(null,t,n,e,r);break e;case 11:t=Dp(null,t,n,e,r);break e;case 14:t=Mp(null,t,n,_n(n.type,e),r);break e}throw Error(de(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_n(n,i),Kh(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_n(n,i),Lp(e,t,n,i,r);case 3:e:{if(Rw(t),e===null)throw Error(de(387));n=t.pendingProps,a=t.memoizedState,i=a.element,sw(e,t),Bu(t,n,null,r);var u=t.memoizedState;if(n=u.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=xa(Error(de(423)),t),t=Bp(e,t,n,r,i);break e}else if(n!==i){i=xa(Error(de(424)),t),t=Bp(e,t,n,r,i);break e}else for(Kr=ci(t.stateNode.containerInfo.firstChild),Yr=t,bt=!0,Rn=null,r=rw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ma(),n===i){t=Es(e,t,r);break e}Cr(e,t,n,r)}t=t.child}return t;case 5:return iw(t),e===null&&Wh(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,u=i.children,Bh(n,i)?u=null:a!==null&&Bh(n,a)&&(t.flags|=32),Iw(e,t),Cr(e,t,u,r),t.child;case 6:return e===null&&Wh(t),null;case 13:return Ow(e,t,r);case 4:return v1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=pa(t,null,n,r):Cr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_n(n,i),Dp(e,t,n,i,r);case 7:return Cr(e,t,t.pendingProps,r),t.child;case 8:return Cr(e,t,t.pendingProps.children,r),t.child;case 12:return Cr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,u=i.value,ut(Mu,n._currentValue),n._currentValue=u,a!==null)if(Dn(a.value,u)){if(a.children===i.children&&!Br.current){t=Es(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var p=h.firstContext;p!==null;){if(p.context===n){if(a.tag===1){p=ys(-1,r&-r),p.tag=2;var x=a.updateQueue;if(x!==null){x=x.shared;var w=x.pending;w===null?p.next=p:(p.next=w.next,w.next=p),x.pending=p}}a.lanes|=r,p=a.alternate,p!==null&&(p.lanes|=r),Hh(a.return,r,t),h.lanes|=r;break}p=p.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(de(341));u.lanes|=r,h=u.alternate,h!==null&&(h.lanes|=r),Hh(u,r,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Cr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Zo(t,r),i=mn(i),n=n(i),t.flags|=1,Cr(e,t,n,r),t.child;case 14:return n=t.type,i=_n(n,t.pendingProps),i=_n(n.type,i),Mp(e,t,n,i,r);case 15:return Tw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_n(n,i),hu(e,t),t.tag=1,Fr(n)?(e=!0,Pu(t)):e=!1,Zo(t,r),Sw(t,n,i),Gh(t,n,i,r),Xh(null,t,n,!0,e,r);case 19:return Pw(e,t,r);case 22:return kw(e,t,r)}throw Error(de(156,t.tag))};function Xw(e,t){return Ey(e,t)}function r_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,r,n){return new r_(e,t,r,n)}function D1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function n_(e){if(typeof e=="function")return D1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===e1)return 11;if(e===t1)return 14}return 2}function hi(e,t){var r=e.alternate;return r===null?(r=fn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gu(e,t,r,n,i,a){var u=2;if(n=e,typeof e=="function")D1(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Do:return Ji(r.children,i,a,t);case J0:u=8,i|=8;break;case gh:return e=fn(12,r,t,i|2),e.elementType=gh,e.lanes=a,e;case xh:return e=fn(13,r,t,i),e.elementType=xh,e.lanes=a,e;case yh:return e=fn(19,r,t,i),e.elementType=yh,e.lanes=a,e;case iy:return Ed(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ny:u=10;break e;case sy:u=9;break e;case e1:u=11;break e;case t1:u=14;break e;case $s:u=16,n=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=fn(u,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Ji(e,t,r,n){return e=fn(7,e,n,t),e.lanes=r,e}function Ed(e,t,r,n){return e=fn(22,e,n,t),e.elementType=iy,e.lanes=r,e.stateNode={isHidden:!1},e}function Mf(e,t,r){return e=fn(6,e,null,t),e.lanes=r,e}function Lf(e,t,r){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function s_(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xf(0),this.expirationTimes=xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function M1(e,t,r,n,i,a,u,h,p){return e=new s_(e,t,r,h,p),t===1?(t=1,a===!0&&(t|=8)):t=0,a=fn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},w1(a),e}function i_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Yw(e){if(!e)return xi;e=e._reactInternals;e:{if(co(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var r=e.type;if(Fr(r))return Yy(e,r,t)}return t}function Qw(e,t,r,n,i,a,u,h,p){return e=M1(r,n,!0,e,i,a,u,h,p),e.context=Yw(null),r=e.current,n=Sr(),i=fi(r),a=ys(n,i),a.callback=t??null,ui(r,a,i),e.current.lanes=i,rc(e,i,n),Ur(e,n),e}function Cd(e,t,r,n){var i=t.current,a=Sr(),u=fi(i);return r=Yw(r),t.context===null?t.context=r:t.pendingContext=r,t=ys(a,u),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ui(i,t,u),e!==null&&(jn(e,i,u,a),uu(e,i,u)),u}function Gu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function L1(e,t){Kp(e,t),(e=e.alternate)&&Kp(e,t)}function o_(){return null}var Zw=typeof reportError=="function"?reportError:function(e){console.error(e)};function B1(e){this._internalRoot=e}_d.prototype.render=B1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));Cd(e,t,null,null)};_d.prototype.unmount=B1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;so(function(){Cd(null,e,null,null)}),t[vs]=null}};function _d(e){this._internalRoot=e}_d.prototype.unstable_scheduleHydration=function(e){if(e){var t=ky();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ks.length&&t!==0&&t<Ks[r].priority;r++);Ks.splice(r,0,e),r===0&&Ry(e)}};function F1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xp(){}function a_(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var x=Gu(u);a.call(x)}}var u=Qw(t,n,e,0,null,!1,!1,"",Xp);return e._reactRootContainer=u,e[vs]=u.current,Il(e.nodeType===8?e.parentNode:e),so(),u}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var h=n;n=function(){var x=Gu(p);h.call(x)}}var p=M1(e,0,!1,null,null,!1,!1,"",Xp);return e._reactRootContainer=p,e[vs]=p.current,Il(e.nodeType===8?e.parentNode:e),so(function(){Cd(t,p,r,n)}),p}function Ad(e,t,r,n,i){var a=r._reactRootContainer;if(a){var u=a;if(typeof i=="function"){var h=i;i=function(){var p=Gu(u);h.call(p)}}Cd(t,u,e,i)}else u=a_(r,t,e,i,n);return Gu(u)}Ny=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ol(t.pendingLanes);r!==0&&(s1(t,r|1),Ur(t,Bt()),!(Qe&6)&&(ya=Bt()+500,Ci()))}break;case 13:so(function(){var n=bs(e,1);if(n!==null){var i=Sr();jn(n,e,1,i)}}),L1(e,1)}};i1=function(e){if(e.tag===13){var t=bs(e,134217728);if(t!==null){var r=Sr();jn(t,e,134217728,r)}L1(e,134217728)}};Ty=function(e){if(e.tag===13){var t=fi(e),r=bs(e,t);if(r!==null){var n=Sr();jn(r,e,t,n)}L1(e,t)}};ky=function(){return st};Iy=function(e,t){var r=st;try{return st=e,t()}finally{st=r}};Th=function(e,t,r){switch(t){case"input":if(bh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=gd(n);if(!i)throw Error(de(90));ay(n),bh(n,i)}}}break;case"textarea":cy(e,r);break;case"select":t=r.value,t!=null&&Ko(e,!!r.multiple,t,!1)}};gy=O1;xy=so;var l_={usingClientEntryPoint:!1,Events:[sc,Fo,gd,my,py,O1]},el={findFiberByHostInstance:zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c_={bundleType:el.bundleType,version:el.version,rendererPackageName:el.rendererPackageName,rendererConfig:el.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vy(e),e===null?null:e.stateNode},findFiberByHostInstance:el.findFiberByHostInstance||o_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{fd=zc.inject(c_),es=zc}catch{}}Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l_;Jr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F1(t))throw Error(de(200));return i_(e,t,null,r)};Jr.createRoot=function(e,t){if(!F1(e))throw Error(de(299));var r=!1,n="",i=Zw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=M1(e,1,!1,null,null,r,!1,n,i),e[vs]=t.current,Il(e.nodeType===8?e.parentNode:e),new B1(t)};Jr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=vy(t),e=e===null?null:e.stateNode,e};Jr.flushSync=function(e){return so(e)};Jr.hydrate=function(e,t,r){if(!Sd(t))throw Error(de(200));return Ad(null,e,t,!0,r)};Jr.hydrateRoot=function(e,t,r){if(!F1(e))throw Error(de(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",u=Zw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),t=Qw(t,null,e,1,r??null,i,!1,a,u),e[vs]=t.current,Il(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new _d(t)};Jr.render=function(e,t,r){if(!Sd(t))throw Error(de(200));return Ad(null,e,t,!1,r)};Jr.unmountComponentAtNode=function(e){if(!Sd(e))throw Error(de(40));return e._reactRootContainer?(so(function(){Ad(null,null,e,!1,function(){e._reactRootContainer=null,e[vs]=null})}),!0):!1};Jr.unstable_batchedUpdates=O1;Jr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sd(r))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return Ad(e,t,r,!1,n)};Jr.version="18.3.1-next-f1338f8080-20240426";function Jw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jw)}catch(e){console.error(e)}}Jw(),Jx.exports=Jr;var oc=Jx.exports;const e2=H0(oc);var t2,Yp=oc;t2=Yp.createRoot,Yp.hydrateRoot;const u_=1,d_=1e6;let Bf=0;function f_(){return Bf=(Bf+1)%Number.MAX_SAFE_INTEGER,Bf.toString()}const Ff=new Map,Qp=e=>{if(Ff.has(e))return;const t=setTimeout(()=>{Ff.delete(e),yl({type:"REMOVE_TOAST",toastId:e})},d_);Ff.set(e,t)},h_=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,u_)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Qp(r):e.toasts.forEach(n=>{Qp(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},xu=[];let yu={toasts:[]};function yl(e){yu=h_(yu,e),xu.forEach(t=>{t(yu)})}function m_({...e}){const t=f_(),r=i=>yl({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>yl({type:"DISMISS_TOAST",toastId:t});return yl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function kr(){const[e,t]=I.useState(yu);return I.useEffect(()=>(xu.push(t),()=>{const r=xu.indexOf(t);r>-1&&xu.splice(r,1)}),[e]),{...e,toast:m_,dismiss:r=>yl({type:"DISMISS_TOAST",toastId:r})}}function Et(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Zp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function r2(...e){return t=>{let r=!1;const n=e.map(i=>{const a=Zp(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():Zp(e[i],null)}}}}function Ar(...e){return I.useCallback(r2(...e),e)}function p_(e,t){const r=I.createContext(t),n=a=>{const{children:u,...h}=a,p=I.useMemo(()=>h,Object.values(h));return m.jsx(r.Provider,{value:p,children:u})};n.displayName=e+"Provider";function i(a){const u=I.useContext(r);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function ac(e,t=[]){let r=[];function n(a,u){const h=I.createContext(u),p=r.length;r=[...r,u];const x=b=>{var T;const{scope:C,children:E,...k}=b,A=((T=C==null?void 0:C[e])==null?void 0:T[p])||h,P=I.useMemo(()=>k,Object.values(k));return m.jsx(A.Provider,{value:P,children:E})};x.displayName=a+"Provider";function w(b,C){var A;const E=((A=C==null?void 0:C[e])==null?void 0:A[p])||h,k=I.useContext(E);if(k)return k;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${a}\``)}return[x,w]}const i=()=>{const a=r.map(u=>I.createContext(u));return function(h){const p=(h==null?void 0:h[e])||a;return I.useMemo(()=>({[`__scope${e}`]:{...h,[e]:p}}),[h,p])}};return i.scopeName=e,[n,g_(i,...t)]}function g_(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=n.reduce((h,{useScope:p,scopeName:x})=>{const b=p(a)[`__scope${x}`];return{...h,...b}},{});return I.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}function qu(e){const t=x_(e),r=I.forwardRef((n,i)=>{const{children:a,...u}=n,h=I.Children.toArray(a),p=h.find(w_);if(p){const x=p.props.children,w=h.map(b=>b===p?I.Children.count(x)>1?I.Children.only(null):I.isValidElement(x)?x.props.children:null:b);return m.jsx(t,{...u,ref:i,children:I.isValidElement(x)?I.cloneElement(x,void 0,w):null})}return m.jsx(t,{...u,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function x_(e){const t=I.forwardRef((r,n)=>{const{children:i,...a}=r;if(I.isValidElement(i)){const u=b_(i),h=v_(a,i.props);return i.type!==I.Fragment&&(h.ref=n?r2(n,u):u),I.cloneElement(i,h)}return I.Children.count(i)>1?I.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var n2=Symbol("radix.slottable");function y_(e){const t=({children:r})=>m.jsx(m.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=n2,t}function w_(e){return I.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===n2}function v_(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...h)=>{const p=a(...h);return i(...h),p}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function b_(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function E_(e){const t=e+"CollectionProvider",[r,n]=ac(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=A=>{const{scope:P,children:T}=A,S=pe.useRef(null),_=pe.useRef(new Map).current;return m.jsx(i,{scope:P,itemMap:_,collectionRef:S,children:T})};u.displayName=t;const h=e+"CollectionSlot",p=qu(h),x=pe.forwardRef((A,P)=>{const{scope:T,children:S}=A,_=a(h,T),j=Ar(P,_.collectionRef);return m.jsx(p,{ref:j,children:S})});x.displayName=h;const w=e+"CollectionItemSlot",b="data-radix-collection-item",C=qu(w),E=pe.forwardRef((A,P)=>{const{scope:T,children:S,..._}=A,j=pe.useRef(null),F=Ar(P,j),L=a(w,T);return pe.useEffect(()=>(L.itemMap.set(j,{ref:j,..._}),()=>void L.itemMap.delete(j))),m.jsx(C,{[b]:"",ref:F,children:S})});E.displayName=w;function k(A){const P=a(e+"CollectionConsumer",A);return pe.useCallback(()=>{const S=P.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${b}]`));return Array.from(P.itemMap.values()).sort((L,M)=>_.indexOf(L.ref.current)-_.indexOf(M.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:u,Slot:x,ItemSlot:E},k,n]}var C_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=C_.reduce((e,t)=>{const r=qu(`Primitive.${t}`),n=I.forwardRef((i,a)=>{const{asChild:u,...h}=i,p=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(p,{...h,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function s2(e,t){e&&oc.flushSync(()=>e.dispatchEvent(t))}function ns(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function __(e,t=globalThis==null?void 0:globalThis.document){const r=ns(e);I.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var S_="DismissableLayer",a0="dismissableLayer.update",A_="dismissableLayer.pointerDownOutside",N_="dismissableLayer.focusOutside",Jp,i2=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nd=I.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:h,...p}=e,x=I.useContext(i2),[w,b]=I.useState(null),C=(w==null?void 0:w.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=I.useState({}),k=Ar(t,M=>b(M)),A=Array.from(x.layers),[P]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),T=A.indexOf(P),S=w?A.indexOf(w):-1,_=x.layersWithOutsidePointerEventsDisabled.size>0,j=S>=T,F=k_(M=>{const W=M.target,V=[...x.branches].some(ne=>ne.contains(W));!j||V||(i==null||i(M),u==null||u(M),M.defaultPrevented||h==null||h())},C),L=I_(M=>{const W=M.target;[...x.branches].some(ne=>ne.contains(W))||(a==null||a(M),u==null||u(M),M.defaultPrevented||h==null||h())},C);return __(M=>{S===x.layers.size-1&&(n==null||n(M),!M.defaultPrevented&&h&&(M.preventDefault(),h()))},C),I.useEffect(()=>{if(w)return r&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(Jp=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(w)),x.layers.add(w),eg(),()=>{r&&x.layersWithOutsidePointerEventsDisabled.size===1&&(C.body.style.pointerEvents=Jp)}},[w,C,r,x]),I.useEffect(()=>()=>{w&&(x.layers.delete(w),x.layersWithOutsidePointerEventsDisabled.delete(w),eg())},[w,x]),I.useEffect(()=>{const M=()=>E({});return document.addEventListener(a0,M),()=>document.removeEventListener(a0,M)},[]),m.jsx(zt.div,{...p,ref:k,style:{pointerEvents:_?j?"auto":"none":void 0,...e.style},onFocusCapture:Et(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Et(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Et(e.onPointerDownCapture,F.onPointerDownCapture)})});Nd.displayName=S_;var T_="DismissableLayerBranch",o2=I.forwardRef((e,t)=>{const r=I.useContext(i2),n=I.useRef(null),i=Ar(t,n);return I.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),m.jsx(zt.div,{...e,ref:i})});o2.displayName=T_;function k_(e,t=globalThis==null?void 0:globalThis.document){const r=ns(e),n=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const a=h=>{if(h.target&&!n.current){let p=function(){a2(A_,r,x,{discrete:!0})};const x={originalEvent:h};h.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=p,t.addEventListener("click",i.current,{once:!0})):p()}else t.removeEventListener("click",i.current);n.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function I_(e,t=globalThis==null?void 0:globalThis.document){const r=ns(e),n=I.useRef(!1);return I.useEffect(()=>{const i=a=>{a.target&&!n.current&&a2(N_,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function eg(){const e=new CustomEvent(a0);document.dispatchEvent(e)}function a2(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?s2(i,a):i.dispatchEvent(a)}var R_=Nd,O_=o2,Cs=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},P_="Portal",U1=I.forwardRef((e,t)=>{var h;const{container:r,...n}=e,[i,a]=I.useState(!1);Cs(()=>a(!0),[]);const u=r||i&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?e2.createPortal(m.jsx(zt.div,{...n,ref:t}),u):null});U1.displayName=P_;function j_(e,t){return I.useReducer((r,n)=>t[r][n]??r,e)}var Ta=e=>{const{present:t,children:r}=e,n=D_(t),i=typeof r=="function"?r({present:n.isPresent}):I.Children.only(r),a=Ar(n.ref,M_(i));return typeof r=="function"||n.isPresent?I.cloneElement(i,{ref:a}):null};Ta.displayName="Presence";function D_(e){const[t,r]=I.useState(),n=I.useRef(null),i=I.useRef(e),a=I.useRef("none"),u=e?"mounted":"unmounted",[h,p]=j_(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const x=Wc(n.current);a.current=h==="mounted"?x:"none"},[h]),Cs(()=>{const x=n.current,w=i.current;if(w!==e){const C=a.current,E=Wc(x);e?p("MOUNT"):E==="none"||(x==null?void 0:x.display)==="none"?p("UNMOUNT"):p(w&&C!==E?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,p]),Cs(()=>{if(t){let x;const w=t.ownerDocument.defaultView??window,b=E=>{const A=Wc(n.current).includes(E.animationName);if(E.target===t&&A&&(p("ANIMATION_END"),!i.current)){const P=t.style.animationFillMode;t.style.animationFillMode="forwards",x=w.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=P)})}},C=E=>{E.target===t&&(a.current=Wc(n.current))};return t.addEventListener("animationstart",C),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{w.clearTimeout(x),t.removeEventListener("animationstart",C),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:I.useCallback(x=>{n.current=x?getComputedStyle(x):null,r(x)},[])}}function Wc(e){return(e==null?void 0:e.animationName)||"none"}function M_(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var L_=X0[" useInsertionEffect ".trim().toString()]||Cs;function l2({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,u]=B_({defaultProp:t,onChange:r}),h=e!==void 0,p=h?e:i;{const w=I.useRef(e!==void 0);I.useEffect(()=>{const b=w.current;b!==h&&console.warn(`${n} is changing from ${b?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),w.current=h},[h,n])}const x=I.useCallback(w=>{var b;if(h){const C=F_(w)?w(e):w;C!==e&&((b=u.current)==null||b.call(u,C))}else a(w)},[h,e,a,u]);return[p,x]}function B_({defaultProp:e,onChange:t}){const[r,n]=I.useState(e),i=I.useRef(r),a=I.useRef(t);return L_(()=>{a.current=t},[t]),I.useEffect(()=>{var u;i.current!==r&&((u=a.current)==null||u.call(a,r),i.current=r)},[r,i]),[r,n,a]}function F_(e){return typeof e=="function"}var U_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),V_="VisuallyHidden",Td=I.forwardRef((e,t)=>m.jsx(zt.span,{...e,ref:t,style:{...U_,...e.style}}));Td.displayName=V_;var z_=Td,V1="ToastProvider",[z1,W_,H_]=E_("Toast"),[c2,X5]=ac("Toast",[H_]),[$_,kd]=c2(V1),u2=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:u}=e,[h,p]=I.useState(null),[x,w]=I.useState(0),b=I.useRef(!1),C=I.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${V1}\`. Expected non-empty \`string\`.`),m.jsx(z1.Provider,{scope:t,children:m.jsx($_,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:x,viewport:h,onViewportChange:p,onToastAdd:I.useCallback(()=>w(E=>E+1),[]),onToastRemove:I.useCallback(()=>w(E=>E-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:C,children:u})})};u2.displayName=V1;var d2="ToastViewport",G_=["F8"],l0="toast.viewportPause",c0="toast.viewportResume",f2=I.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=G_,label:i="Notifications ({hotkey})",...a}=e,u=kd(d2,r),h=W_(r),p=I.useRef(null),x=I.useRef(null),w=I.useRef(null),b=I.useRef(null),C=Ar(t,b,u.onViewportChange),E=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=u.toastCount>0;I.useEffect(()=>{const P=T=>{var _;n.length!==0&&n.every(j=>T[j]||T.code===j)&&((_=b.current)==null||_.focus())};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[n]),I.useEffect(()=>{const P=p.current,T=b.current;if(k&&P&&T){const S=()=>{if(!u.isClosePausedRef.current){const L=new CustomEvent(l0);T.dispatchEvent(L),u.isClosePausedRef.current=!0}},_=()=>{if(u.isClosePausedRef.current){const L=new CustomEvent(c0);T.dispatchEvent(L),u.isClosePausedRef.current=!1}},j=L=>{!P.contains(L.relatedTarget)&&_()},F=()=>{P.contains(document.activeElement)||_()};return P.addEventListener("focusin",S),P.addEventListener("focusout",j),P.addEventListener("pointermove",S),P.addEventListener("pointerleave",F),window.addEventListener("blur",S),window.addEventListener("focus",_),()=>{P.removeEventListener("focusin",S),P.removeEventListener("focusout",j),P.removeEventListener("pointermove",S),P.removeEventListener("pointerleave",F),window.removeEventListener("blur",S),window.removeEventListener("focus",_)}}},[k,u.isClosePausedRef]);const A=I.useCallback(({tabbingDirection:P})=>{const S=h().map(_=>{const j=_.ref.current,F=[j,...iS(j)];return P==="forwards"?F:F.reverse()});return(P==="forwards"?S.reverse():S).flat()},[h]);return I.useEffect(()=>{const P=b.current;if(P){const T=S=>{var F,L,M;const _=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!_){const W=document.activeElement,V=S.shiftKey;if(S.target===P&&V){(F=x.current)==null||F.focus();return}const q=A({tabbingDirection:V?"backwards":"forwards"}),ie=q.findIndex(re=>re===W);Uf(q.slice(ie+1))?S.preventDefault():V?(L=x.current)==null||L.focus():(M=w.current)==null||M.focus()}};return P.addEventListener("keydown",T),()=>P.removeEventListener("keydown",T)}},[h,A]),m.jsxs(O_,{ref:p,role:"region","aria-label":i.replace("{hotkey}",E),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&m.jsx(u0,{ref:x,onFocusFromOutsideViewport:()=>{const P=A({tabbingDirection:"forwards"});Uf(P)}}),m.jsx(z1.Slot,{scope:r,children:m.jsx(zt.ol,{tabIndex:-1,...a,ref:C})}),k&&m.jsx(u0,{ref:w,onFocusFromOutsideViewport:()=>{const P=A({tabbingDirection:"backwards"});Uf(P)}})]})});f2.displayName=d2;var h2="ToastFocusProxy",u0=I.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=kd(h2,r);return m.jsx(Td,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:u=>{var x;const h=u.relatedTarget;!((x=a.viewport)!=null&&x.contains(h))&&n()}})});u0.displayName=h2;var lc="Toast",q_="toast.swipeStart",K_="toast.swipeMove",X_="toast.swipeCancel",Y_="toast.swipeEnd",m2=I.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...u}=e,[h,p]=l2({prop:n,defaultProp:i??!0,onChange:a,caller:lc});return m.jsx(Ta,{present:r||h,children:m.jsx(J_,{open:h,...u,ref:t,onClose:()=>p(!1),onPause:ns(e.onPause),onResume:ns(e.onResume),onSwipeStart:Et(e.onSwipeStart,x=>{x.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Et(e.onSwipeMove,x=>{const{x:w,y:b}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","move"),x.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${w}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:Et(e.onSwipeCancel,x=>{x.currentTarget.setAttribute("data-swipe","cancel"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Et(e.onSwipeEnd,x=>{const{x:w,y:b}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","end"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${w}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),p(!1)})})})});m2.displayName=lc;var[Q_,Z_]=c2(lc,{onClose(){}}),J_=I.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:u,onEscapeKeyDown:h,onPause:p,onResume:x,onSwipeStart:w,onSwipeMove:b,onSwipeCancel:C,onSwipeEnd:E,...k}=e,A=kd(lc,r),[P,T]=I.useState(null),S=Ar(t,re=>T(re)),_=I.useRef(null),j=I.useRef(null),F=i||A.duration,L=I.useRef(0),M=I.useRef(F),W=I.useRef(0),{onToastAdd:V,onToastRemove:ne}=A,H=ns(()=>{var G;(P==null?void 0:P.contains(document.activeElement))&&((G=A.viewport)==null||G.focus()),u()}),q=I.useCallback(re=>{!re||re===1/0||(window.clearTimeout(W.current),L.current=new Date().getTime(),W.current=window.setTimeout(H,re))},[H]);I.useEffect(()=>{const re=A.viewport;if(re){const G=()=>{q(M.current),x==null||x()},ue=()=>{const ee=new Date().getTime()-L.current;M.current=M.current-ee,window.clearTimeout(W.current),p==null||p()};return re.addEventListener(l0,ue),re.addEventListener(c0,G),()=>{re.removeEventListener(l0,ue),re.removeEventListener(c0,G)}}},[A.viewport,F,p,x,q]),I.useEffect(()=>{a&&!A.isClosePausedRef.current&&q(F)},[a,F,A.isClosePausedRef,q]),I.useEffect(()=>(V(),()=>ne()),[V,ne]);const ie=I.useMemo(()=>P?b2(P):null,[P]);return A.viewport?m.jsxs(m.Fragment,{children:[ie&&m.jsx(eS,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:ie}),m.jsx(Q_,{scope:r,onClose:H,children:oc.createPortal(m.jsx(z1.ItemSlot,{scope:r,children:m.jsx(R_,{asChild:!0,onEscapeKeyDown:Et(h,()=>{A.isFocusedToastEscapeKeyDownRef.current||H(),A.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(zt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":A.swipeDirection,...k,ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Et(e.onKeyDown,re=>{re.key==="Escape"&&(h==null||h(re.nativeEvent),re.nativeEvent.defaultPrevented||(A.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:Et(e.onPointerDown,re=>{re.button===0&&(_.current={x:re.clientX,y:re.clientY})}),onPointerMove:Et(e.onPointerMove,re=>{if(!_.current)return;const G=re.clientX-_.current.x,ue=re.clientY-_.current.y,ee=!!j.current,J=["left","right"].includes(A.swipeDirection),Y=["left","up"].includes(A.swipeDirection)?Math.min:Math.max,le=J?Y(0,G):0,Ae=J?0:Y(0,ue),xe=re.pointerType==="touch"?10:2,Oe={x:le,y:Ae},Ee={originalEvent:re,delta:Oe};ee?(j.current=Oe,Hc(K_,b,Ee,{discrete:!1})):tg(Oe,A.swipeDirection,xe)?(j.current=Oe,Hc(q_,w,Ee,{discrete:!1}),re.target.setPointerCapture(re.pointerId)):(Math.abs(G)>xe||Math.abs(ue)>xe)&&(_.current=null)}),onPointerUp:Et(e.onPointerUp,re=>{const G=j.current,ue=re.target;if(ue.hasPointerCapture(re.pointerId)&&ue.releasePointerCapture(re.pointerId),j.current=null,_.current=null,G){const ee=re.currentTarget,J={originalEvent:re,delta:G};tg(G,A.swipeDirection,A.swipeThreshold)?Hc(Y_,E,J,{discrete:!0}):Hc(X_,C,J,{discrete:!0}),ee.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),A.viewport)})]}):null}),eS=e=>{const{__scopeToast:t,children:r,...n}=e,i=kd(lc,t),[a,u]=I.useState(!1),[h,p]=I.useState(!1);return nS(()=>u(!0)),I.useEffect(()=>{const x=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(x)},[]),h?null:m.jsx(U1,{asChild:!0,children:m.jsx(Td,{...n,children:a&&m.jsxs(m.Fragment,{children:[i.label," ",r]})})})},tS="ToastTitle",p2=I.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return m.jsx(zt.div,{...n,ref:t})});p2.displayName=tS;var rS="ToastDescription",g2=I.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return m.jsx(zt.div,{...n,ref:t})});g2.displayName=rS;var x2="ToastAction",y2=I.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?m.jsx(v2,{altText:r,asChild:!0,children:m.jsx(W1,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${x2}\`. Expected non-empty \`string\`.`),null)});y2.displayName=x2;var w2="ToastClose",W1=I.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=Z_(w2,r);return m.jsx(v2,{asChild:!0,children:m.jsx(zt.button,{type:"button",...n,ref:t,onClick:Et(e.onClick,i.onClose)})})});W1.displayName=w2;var v2=I.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return m.jsx(zt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function b2(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),sS(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const u=n.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...b2(n))}}),t}function Hc(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?s2(i,a):i.dispatchEvent(a)}var tg=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function nS(e=()=>{}){const t=ns(e);Cs(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function sS(e){return e.nodeType===e.ELEMENT_NODE}function iS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Uf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var oS=u2,E2=f2,C2=m2,_2=p2,S2=g2,A2=y2,N2=W1;function T2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=T2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function k2(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=T2(e))&&(n&&(n+=" "),n+=t);return n}const rg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ng=k2,aS=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ng(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,u=Object.keys(i).map(x=>{const w=r==null?void 0:r[x],b=a==null?void 0:a[x];if(w===null)return null;const C=rg(w)||rg(b);return i[x][C]}),h=r&&Object.entries(r).reduce((x,w)=>{let[b,C]=w;return C===void 0||(x[b]=C),x},{}),p=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((x,w)=>{let{class:b,className:C,...E}=w;return Object.entries(E).every(k=>{let[A,P]=k;return Array.isArray(P)?P.includes({...a,...h}[A]):{...a,...h}[A]===P})?[...x,b,C]:x},[]);return ng(e,u,p,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I2=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=I.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:u,...h},p)=>I.createElement("svg",{ref:p,...cS,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:I2("lucide",i),...h},[...u.map(([x,w])=>I.createElement(x,w)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(e,t)=>{const r=I.forwardRef(({className:n,...i},a)=>I.createElement(uS,{ref:a,iconNode:t,className:I2(`lucide-${lS(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=De("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=De("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=De("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=De("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=De("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=De("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=De("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=De("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=De("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=De("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=De("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=De("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=De("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=De("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=De("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=De("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=De("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=De("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=De("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=De("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=De("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=De("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),q1="-",RS=e=>{const t=PS(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:u=>{const h=u.split(q1);return h[0]===""&&h.length!==1&&h.shift(),W2(h,t)||OS(u)},getConflictingClassGroupIds:(u,h)=>{const p=r[u]||[];return h&&n[u]?[...p,...n[u]]:p}}},W2=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?W2(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(q1);return(u=t.validators.find(({validator:h})=>h(a)))==null?void 0:u.classGroupId},sg=/^\[(.+)\]$/,OS=e=>{if(sg.test(e)){const t=sg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},PS=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return DS(Object.entries(e.classGroups),r).forEach(([a,u])=>{m0(u,n,a,t)}),n},m0=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:ig(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(jS(i)){m0(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,u])=>{m0(u,ig(t,a),r,n)})})},ig=(e,t)=>{let r=e;return t.split(q1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},jS=e=>e.isThemeGetter,DS=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,h])=>[t+u,h])):a);return[r,i]}):e,MS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,u)=>{r.set(a,u),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let u=r.get(a);if(u!==void 0)return u;if((u=n.get(a))!==void 0)return i(a,u),u},set(a,u){r.has(a)?r.set(a,u):i(a,u)}}},H2="!",LS=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,u=h=>{const p=[];let x=0,w=0,b;for(let P=0;P<h.length;P++){let T=h[P];if(x===0){if(T===i&&(n||h.slice(P,P+a)===t)){p.push(h.slice(w,P)),w=P+a;continue}if(T==="/"){b=P;continue}}T==="["?x++:T==="]"&&x--}const C=p.length===0?h:h.substring(w),E=C.startsWith(H2),k=E?C.substring(1):C,A=b&&b>w?b-w:void 0;return{modifiers:p,hasImportantModifier:E,baseClassName:k,maybePostfixModifierPosition:A}};return r?h=>r({className:h,parseClassName:u}):u},BS=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},FS=e=>({cache:MS(e.cacheSize),parseClassName:LS(e),...RS(e)}),US=/\s+/,VS=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],u=e.trim().split(US);let h="";for(let p=u.length-1;p>=0;p-=1){const x=u[p],{modifiers:w,hasImportantModifier:b,baseClassName:C,maybePostfixModifierPosition:E}=r(x);let k=!!E,A=n(k?C.substring(0,E):C);if(!A){if(!k){h=x+(h.length>0?" "+h:h);continue}if(A=n(C),!A){h=x+(h.length>0?" "+h:h);continue}k=!1}const P=BS(w).join(":"),T=b?P+H2:P,S=T+A;if(a.includes(S))continue;a.push(S);const _=i(A,k);for(let j=0;j<_.length;++j){const F=_[j];a.push(T+F)}h=x+(h.length>0?" "+h:h)}return h};function zS(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=$2(t))&&(n&&(n+=" "),n+=r);return n}const $2=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=$2(e[n]))&&(r&&(r+=" "),r+=t);return r};function WS(e,...t){let r,n,i,a=u;function u(p){const x=t.reduce((w,b)=>b(w),e());return r=FS(x),n=r.cache.get,i=r.cache.set,a=h,h(p)}function h(p){const x=n(p);if(x)return x;const w=VS(p,r);return i(p,w),w}return function(){return a(zS.apply(null,arguments))}}const ft=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},G2=/^\[(?:([a-z-]+):)?(.+)\]$/i,HS=/^\d+\/\d+$/,$S=new Set(["px","full","screen"]),GS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,XS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cs=e=>ea(e)||$S.has(e)||HS.test(e),Us=e=>Ia(e,"length",sA),ea=e=>!!e&&!Number.isNaN(Number(e)),zf=e=>Ia(e,"number",ea),tl=e=>!!e&&Number.isInteger(Number(e)),QS=e=>e.endsWith("%")&&ea(e.slice(0,-1)),Ue=e=>G2.test(e),Vs=e=>GS.test(e),ZS=new Set(["length","size","percentage"]),JS=e=>Ia(e,ZS,q2),eA=e=>Ia(e,"position",q2),tA=new Set(["image","url"]),rA=e=>Ia(e,tA,oA),nA=e=>Ia(e,"",iA),rl=()=>!0,Ia=(e,t,r)=>{const n=G2.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},sA=e=>qS.test(e)&&!KS.test(e),q2=()=>!1,iA=e=>XS.test(e),oA=e=>YS.test(e),aA=()=>{const e=ft("colors"),t=ft("spacing"),r=ft("blur"),n=ft("brightness"),i=ft("borderColor"),a=ft("borderRadius"),u=ft("borderSpacing"),h=ft("borderWidth"),p=ft("contrast"),x=ft("grayscale"),w=ft("hueRotate"),b=ft("invert"),C=ft("gap"),E=ft("gradientColorStops"),k=ft("gradientColorStopPositions"),A=ft("inset"),P=ft("margin"),T=ft("opacity"),S=ft("padding"),_=ft("saturate"),j=ft("scale"),F=ft("sepia"),L=ft("skew"),M=ft("space"),W=ft("translate"),V=()=>["auto","contain","none"],ne=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",Ue,t],q=()=>[Ue,t],ie=()=>["",cs,Us],re=()=>["auto",ea,Ue],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ue=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",Ue],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ae=()=>[ea,Ue];return{cacheSize:500,separator:":",theme:{colors:[rl],spacing:[cs,Us],blur:["none","",Vs,Ue],brightness:Ae(),borderColor:[e],borderRadius:["none","","full",Vs,Ue],borderSpacing:q(),borderWidth:ie(),contrast:Ae(),grayscale:Y(),hueRotate:Ae(),invert:Y(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[QS,Us],inset:H(),margin:H(),opacity:Ae(),padding:q(),saturate:Ae(),scale:Ae(),sepia:Y(),skew:Ae(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[Vs]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Ue]}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[A]}],"inset-x":[{"inset-x":[A]}],"inset-y":[{"inset-y":[A]}],start:[{start:[A]}],end:[{end:[A]}],top:[{top:[A]}],right:[{right:[A]}],bottom:[{bottom:[A]}],left:[{left:[A]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",tl,Ue]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",tl,Ue]}],"grid-cols":[{"grid-cols":[rl]}],"col-start-end":[{col:["auto",{span:["full",tl,Ue]},Ue]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[rl]}],"row-start-end":[{row:["auto",{span:[tl,Ue]},Ue]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ue,t]}],"min-w":[{"min-w":[Ue,t,"min","max","fit"]}],"max-w":[{"max-w":[Ue,t,"none","full","min","max","fit","prose",{screen:[Vs]},Vs]}],h:[{h:[Ue,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ue,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ue,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ue,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Vs,Us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zf]}],"font-family":[{font:[rl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",ea,zf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cs,Ue]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cs,Us]}],"underline-offset":[{"underline-offset":["auto",cs,Ue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),eA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...ue(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:ue()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ue()]}],"outline-offset":[{"outline-offset":[cs,Ue]}],"outline-w":[{outline:[cs,Us]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[cs,Us]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vs,nA]}],"shadow-color":[{shadow:[rl]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Vs,Ue]}],grayscale:[{grayscale:[x]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[b]}],saturate:[{saturate:[_]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[x]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:Ae()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:Ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[tl,Ue]}],"translate-x":[{"translate-x":[W]}],"translate-y":[{"translate-y":[W]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[cs,Us,zf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lA=WS(aA);function gn(...e){return lA(k2(e))}const cA=oS,K2=I.forwardRef(({className:e,...t},r)=>m.jsx(E2,{ref:r,className:gn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));K2.displayName=E2.displayName;const uA=aS("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),X2=I.forwardRef(({className:e,variant:t,...r},n)=>m.jsx(C2,{ref:n,className:gn(uA({variant:t}),e),...r}));X2.displayName=C2.displayName;const dA=I.forwardRef(({className:e,...t},r)=>m.jsx(A2,{ref:r,className:gn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));dA.displayName=A2.displayName;const Y2=I.forwardRef(({className:e,...t},r)=>m.jsx(N2,{ref:r,className:gn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:m.jsx(_i,{className:"h-4 w-4"})}));Y2.displayName=N2.displayName;const Q2=I.forwardRef(({className:e,...t},r)=>m.jsx(_2,{ref:r,className:gn("text-sm font-semibold",e),...t}));Q2.displayName=_2.displayName;const Z2=I.forwardRef(({className:e,...t},r)=>m.jsx(S2,{ref:r,className:gn("text-sm opacity-90",e),...t}));Z2.displayName=S2.displayName;function fA(){const{toasts:e}=kr();return m.jsxs(cA,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return m.jsxs(X2,{...a,children:[m.jsxs("div",{className:"grid gap-1",children:[r&&m.jsx(Q2,{children:r}),n&&m.jsx(Z2,{children:n})]}),i,m.jsx(Y2,{})]},t)}),m.jsx(K2,{})]})}var og=["light","dark"],hA="(prefers-color-scheme: dark)",mA=I.createContext(void 0),pA={setTheme:e=>{},themes:[]},gA=()=>{var e;return(e=I.useContext(mA))!=null?e:pA};I.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:u,attrs:h,nonce:p})=>{let x=a==="system",w=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${h.map(k=>`'${k}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,b=i?og.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",C=(k,A=!1,P=!0)=>{let T=u?u[k]:k,S=A?k+"|| ''":`'${T}'`,_="";return i&&P&&!A&&og.includes(k)&&(_+=`d.style.colorScheme = '${k}';`),r==="class"?A||T?_+=`c.add(${S})`:_+="null":T&&(_+=`d[s](n,${S})`),_},E=e?`!function(){${w}${C(e)}}()`:n?`!function(){try{${w}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${x})){var t='${hA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${C("dark")}}else{${C("light")}}}else if(e){${u?`var x=${JSON.stringify(u)};`:""}${C(u?"x[e]":"e",!0)}}${x?"":"else{"+C(a,!1,!1)+"}"}${b}}catch(e){}}()`:`!function(){try{${w}var e=localStorage.getItem('${t}');if(e){${u?`var x=${JSON.stringify(u)};`:""}${C(u?"x[e]":"e",!0)}}else{${C(a,!1,!1)};}${b}}catch(t){}}();`;return I.createElement("script",{nonce:p,dangerouslySetInnerHTML:{__html:E}})});var xA=e=>{switch(e){case"success":return vA;case"info":return EA;case"warning":return bA;case"error":return CA;default:return null}},yA=Array(12).fill(0),wA=({visible:e,className:t})=>pe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},pe.createElement("div",{className:"sonner-spinner"},yA.map((r,n)=>pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),vA=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bA=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EA=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),CA=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_A=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),SA=()=>{let[e,t]=pe.useState(document.hidden);return pe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},p0=1,AA=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:p0++,a=this.toasts.find(h=>h.id===i),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(h=>h.id===i?(this.publish({...h,...e,id:i,title:r}),{...h,...e,id:i,dismissible:u,title:r}):h):this.addToast({title:r,...n,dismissible:u,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,a,u=n.then(async p=>{if(a=["resolve",p],pe.isValidElement(p))i=!1,this.create({id:r,type:"default",message:p});else if(TA(p)&&!p.ok){i=!1;let x=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,w=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description;this.create({id:r,type:"error",message:x,description:w})}else if(t.success!==void 0){i=!1;let x=typeof t.success=="function"?await t.success(p):t.success,w=typeof t.description=="function"?await t.description(p):t.description;this.create({id:r,type:"success",message:x,description:w})}}).catch(async p=>{if(a=["reject",p],t.error!==void 0){i=!1;let x=typeof t.error=="function"?await t.error(p):t.error,w=typeof t.description=="function"?await t.description(p):t.description;this.create({id:r,type:"error",message:x,description:w})}}).finally(()=>{var p;i&&(this.dismiss(r),r=void 0),(p=t.finally)==null||p.call(t)}),h=()=>new Promise((p,x)=>u.then(()=>a[0]==="reject"?x(a[1]):p(a[1])).catch(x));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||p0++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Dr=new AA,NA=(e,t)=>{let r=(t==null?void 0:t.id)||p0++;return Dr.addToast({title:e,...t,id:r}),r},TA=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",kA=NA,IA=()=>Dr.toasts,RA=()=>Dr.getActiveToasts();Object.assign(kA,{success:Dr.success,info:Dr.info,warning:Dr.warning,error:Dr.error,custom:Dr.custom,message:Dr.message,promise:Dr.promise,dismiss:Dr.dismiss,loading:Dr.loading},{getHistory:IA,getToasts:RA});function OA(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}OA(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function $c(e){return e.label!==void 0}var PA=3,jA="32px",DA="16px",ag=4e3,MA=356,LA=14,BA=20,FA=200;function En(...e){return e.filter(Boolean).join(" ")}function UA(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var VA=e=>{var t,r,n,i,a,u,h,p,x,w,b;let{invert:C,toast:E,unstyled:k,interacting:A,setHeights:P,visibleToasts:T,heights:S,index:_,toasts:j,expanded:F,removeToast:L,defaultRichColors:M,closeButton:W,style:V,cancelButtonStyle:ne,actionButtonStyle:H,className:q="",descriptionClassName:ie="",duration:re,position:G,gap:ue,loadingIcon:ee,expandByDefault:J,classNames:Y,icons:le,closeButtonAriaLabel:Ae="Close toast",pauseWhenPageIsHidden:xe}=e,[Oe,Ee]=pe.useState(null),[ae,te]=pe.useState(null),[ge,ye]=pe.useState(!1),[gt,Ct]=pe.useState(!1),[Ke,rt]=pe.useState(!1),[ke,Yt]=pe.useState(!1),[fr,rn]=pe.useState(!1),[Mt,Ze]=pe.useState(0),[Ve,Ni]=pe.useState(0),we=pe.useRef(E.duration||re||ag),Ti=pe.useRef(null),Fn=pe.useRef(null),xn=_===0,Ma=_+1<=T,xt=E.type,as=E.dismissible!==!1,Un=E.className||"",rr=E.descriptionClassName||"",ki=pe.useMemo(()=>S.findIndex(Ne=>Ne.toastId===E.id)||0,[S,E.id]),uo=pe.useMemo(()=>{var Ne;return(Ne=E.closeButton)!=null?Ne:W},[E.closeButton,W]),pc=pe.useMemo(()=>E.duration||re||ag,[E.duration,re]),yt=pe.useRef(0),me=pe.useRef(0),kt=pe.useRef(0),qe=pe.useRef(null),[wt,Ii]=G.split("-"),fo=pe.useMemo(()=>S.reduce((Ne,Je,Fe)=>Fe>=ki?Ne:Ne+Je.height,0),[S,ki]),La=SA(),Xe=E.invert||C,yn=xt==="loading";me.current=pe.useMemo(()=>ki*ue+fo,[ki,fo]),pe.useEffect(()=>{we.current=pc},[pc]),pe.useEffect(()=>{ye(!0)},[]),pe.useEffect(()=>{let Ne=Fn.current;if(Ne){let Je=Ne.getBoundingClientRect().height;return Ni(Je),P(Fe=>[{toastId:E.id,height:Je,position:E.position},...Fe]),()=>P(Fe=>Fe.filter(Qt=>Qt.toastId!==E.id))}},[P,E.id]),pe.useLayoutEffect(()=>{if(!ge)return;let Ne=Fn.current,Je=Ne.style.height;Ne.style.height="auto";let Fe=Ne.getBoundingClientRect().height;Ne.style.height=Je,Ni(Fe),P(Qt=>Qt.find(hr=>hr.toastId===E.id)?Qt.map(hr=>hr.toastId===E.id?{...hr,height:Fe}:hr):[{toastId:E.id,height:Fe,position:E.position},...Qt])},[ge,E.title,E.description,P,E.id]);let wn=pe.useCallback(()=>{Ct(!0),Ze(me.current),P(Ne=>Ne.filter(Je=>Je.toastId!==E.id)),setTimeout(()=>{L(E)},FA)},[E,L,P,me]);pe.useEffect(()=>{if(E.promise&&xt==="loading"||E.duration===1/0||E.type==="loading")return;let Ne;return F||A||xe&&La?(()=>{if(kt.current<yt.current){let Je=new Date().getTime()-yt.current;we.current=we.current-Je}kt.current=new Date().getTime()})():we.current!==1/0&&(yt.current=new Date().getTime(),Ne=setTimeout(()=>{var Je;(Je=E.onAutoClose)==null||Je.call(E,E),wn()},we.current)),()=>clearTimeout(Ne)},[F,A,E,xt,xe,La,wn]),pe.useEffect(()=>{E.delete&&wn()},[wn,E.delete]);function gc(){var Ne,Je,Fe;return le!=null&&le.loading?pe.createElement("div",{className:En(Y==null?void 0:Y.loader,(Ne=E==null?void 0:E.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":xt==="loading"},le.loading):ee?pe.createElement("div",{className:En(Y==null?void 0:Y.loader,(Je=E==null?void 0:E.classNames)==null?void 0:Je.loader,"sonner-loader"),"data-visible":xt==="loading"},ee):pe.createElement(wA,{className:En(Y==null?void 0:Y.loader,(Fe=E==null?void 0:E.classNames)==null?void 0:Fe.loader),visible:xt==="loading"})}return pe.createElement("li",{tabIndex:0,ref:Fn,className:En(q,Un,Y==null?void 0:Y.toast,(t=E==null?void 0:E.classNames)==null?void 0:t.toast,Y==null?void 0:Y.default,Y==null?void 0:Y[xt],(r=E==null?void 0:E.classNames)==null?void 0:r[xt]),"data-sonner-toast":"","data-rich-colors":(n=E.richColors)!=null?n:M,"data-styled":!(E.jsx||E.unstyled||k),"data-mounted":ge,"data-promise":!!E.promise,"data-swiped":fr,"data-removed":gt,"data-visible":Ma,"data-y-position":wt,"data-x-position":Ii,"data-index":_,"data-front":xn,"data-swiping":Ke,"data-dismissible":as,"data-type":xt,"data-invert":Xe,"data-swipe-out":ke,"data-swipe-direction":ae,"data-expanded":!!(F||J&&ge),style:{"--index":_,"--toasts-before":_,"--z-index":j.length-_,"--offset":`${gt?Mt:me.current}px`,"--initial-height":J?"auto":`${Ve}px`,...V,...E.style},onDragEnd:()=>{rt(!1),Ee(null),qe.current=null},onPointerDown:Ne=>{yn||!as||(Ti.current=new Date,Ze(me.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(rt(!0),qe.current={x:Ne.clientX,y:Ne.clientY}))},onPointerUp:()=>{var Ne,Je,Fe,Qt;if(ke||!as)return;qe.current=null;let hr=Number(((Ne=Fn.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wt=Number(((Je=Fn.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ls=new Date().getTime()-((Fe=Ti.current)==null?void 0:Fe.getTime()),Ht=Oe==="x"?hr:Wt,nn=Math.abs(Ht)/ls;if(Math.abs(Ht)>=BA||nn>.11){Ze(me.current),(Qt=E.onDismiss)==null||Qt.call(E,E),te(Oe==="x"?hr>0?"right":"left":Wt>0?"down":"up"),wn(),Yt(!0),rn(!1);return}rt(!1),Ee(null)},onPointerMove:Ne=>{var Je,Fe,Qt,hr;if(!qe.current||!as||((Je=window.getSelection())==null?void 0:Je.toString().length)>0)return;let Wt=Ne.clientY-qe.current.y,ls=Ne.clientX-qe.current.x,Ht=(Fe=e.swipeDirections)!=null?Fe:UA(G);!Oe&&(Math.abs(ls)>1||Math.abs(Wt)>1)&&Ee(Math.abs(ls)>Math.abs(Wt)?"x":"y");let nn={x:0,y:0};Oe==="y"?(Ht.includes("top")||Ht.includes("bottom"))&&(Ht.includes("top")&&Wt<0||Ht.includes("bottom")&&Wt>0)&&(nn.y=Wt):Oe==="x"&&(Ht.includes("left")||Ht.includes("right"))&&(Ht.includes("left")&&ls<0||Ht.includes("right")&&ls>0)&&(nn.x=ls),(Math.abs(nn.x)>0||Math.abs(nn.y)>0)&&rn(!0),(Qt=Fn.current)==null||Qt.style.setProperty("--swipe-amount-x",`${nn.x}px`),(hr=Fn.current)==null||hr.style.setProperty("--swipe-amount-y",`${nn.y}px`)}},uo&&!E.jsx?pe.createElement("button",{"aria-label":Ae,"data-disabled":yn,"data-close-button":!0,onClick:yn||!as?()=>{}:()=>{var Ne;wn(),(Ne=E.onDismiss)==null||Ne.call(E,E)},className:En(Y==null?void 0:Y.closeButton,(i=E==null?void 0:E.classNames)==null?void 0:i.closeButton)},(a=le==null?void 0:le.close)!=null?a:_A):null,E.jsx||I.isValidElement(E.title)?E.jsx?E.jsx:typeof E.title=="function"?E.title():E.title:pe.createElement(pe.Fragment,null,xt||E.icon||E.promise?pe.createElement("div",{"data-icon":"",className:En(Y==null?void 0:Y.icon,(u=E==null?void 0:E.classNames)==null?void 0:u.icon)},E.promise||E.type==="loading"&&!E.icon?E.icon||gc():null,E.type!=="loading"?E.icon||(le==null?void 0:le[xt])||xA(xt):null):null,pe.createElement("div",{"data-content":"",className:En(Y==null?void 0:Y.content,(h=E==null?void 0:E.classNames)==null?void 0:h.content)},pe.createElement("div",{"data-title":"",className:En(Y==null?void 0:Y.title,(p=E==null?void 0:E.classNames)==null?void 0:p.title)},typeof E.title=="function"?E.title():E.title),E.description?pe.createElement("div",{"data-description":"",className:En(ie,rr,Y==null?void 0:Y.description,(x=E==null?void 0:E.classNames)==null?void 0:x.description)},typeof E.description=="function"?E.description():E.description):null),I.isValidElement(E.cancel)?E.cancel:E.cancel&&$c(E.cancel)?pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:E.cancelButtonStyle||ne,onClick:Ne=>{var Je,Fe;$c(E.cancel)&&as&&((Fe=(Je=E.cancel).onClick)==null||Fe.call(Je,Ne),wn())},className:En(Y==null?void 0:Y.cancelButton,(w=E==null?void 0:E.classNames)==null?void 0:w.cancelButton)},E.cancel.label):null,I.isValidElement(E.action)?E.action:E.action&&$c(E.action)?pe.createElement("button",{"data-button":!0,"data-action":!0,style:E.actionButtonStyle||H,onClick:Ne=>{var Je,Fe;$c(E.action)&&((Fe=(Je=E.action).onClick)==null||Fe.call(Je,Ne),!Ne.defaultPrevented&&wn())},className:En(Y==null?void 0:Y.actionButton,(b=E==null?void 0:E.classNames)==null?void 0:b.actionButton)},E.action.label):null))};function lg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function zA(e,t){let r={};return[e,t].forEach((n,i)=>{let a=i===1,u=a?"--mobile-offset":"--offset",h=a?DA:jA;function p(x){["top","right","bottom","left"].forEach(w=>{r[`${u}-${w}`]=typeof x=="number"?`${x}px`:x})}typeof n=="number"||typeof n=="string"?p(n):typeof n=="object"?["top","right","bottom","left"].forEach(x=>{n[x]===void 0?r[`${u}-${x}`]=h:r[`${u}-${x}`]=typeof n[x]=="number"?`${n[x]}px`:n[x]}):p(h)}),r}var WA=I.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:u,className:h,offset:p,mobileOffset:x,theme:w="light",richColors:b,duration:C,style:E,visibleToasts:k=PA,toastOptions:A,dir:P=lg(),gap:T=LA,loadingIcon:S,icons:_,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:F}=e,[L,M]=pe.useState([]),W=pe.useMemo(()=>Array.from(new Set([n].concat(L.filter(xe=>xe.position).map(xe=>xe.position)))),[L,n]),[V,ne]=pe.useState([]),[H,q]=pe.useState(!1),[ie,re]=pe.useState(!1),[G,ue]=pe.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=pe.useRef(null),J=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Y=pe.useRef(null),le=pe.useRef(!1),Ae=pe.useCallback(xe=>{M(Oe=>{var Ee;return(Ee=Oe.find(ae=>ae.id===xe.id))!=null&&Ee.delete||Dr.dismiss(xe.id),Oe.filter(({id:ae})=>ae!==xe.id)})},[]);return pe.useEffect(()=>Dr.subscribe(xe=>{if(xe.dismiss){M(Oe=>Oe.map(Ee=>Ee.id===xe.id?{...Ee,delete:!0}:Ee));return}setTimeout(()=>{e2.flushSync(()=>{M(Oe=>{let Ee=Oe.findIndex(ae=>ae.id===xe.id);return Ee!==-1?[...Oe.slice(0,Ee),{...Oe[Ee],...xe},...Oe.slice(Ee+1)]:[xe,...Oe]})})})}),[]),pe.useEffect(()=>{if(w!=="system"){ue(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ue("dark"):ue("light")),typeof window>"u")return;let xe=window.matchMedia("(prefers-color-scheme: dark)");try{xe.addEventListener("change",({matches:Oe})=>{ue(Oe?"dark":"light")})}catch{xe.addListener(({matches:Ee})=>{try{ue(Ee?"dark":"light")}catch(ae){console.error(ae)}})}},[w]),pe.useEffect(()=>{L.length<=1&&q(!1)},[L]),pe.useEffect(()=>{let xe=Oe=>{var Ee,ae;i.every(te=>Oe[te]||Oe.code===te)&&(q(!0),(Ee=ee.current)==null||Ee.focus()),Oe.code==="Escape"&&(document.activeElement===ee.current||(ae=ee.current)!=null&&ae.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",xe),()=>document.removeEventListener("keydown",xe)},[i]),pe.useEffect(()=>{if(ee.current)return()=>{Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null,le.current=!1)}},[ee.current]),pe.createElement("section",{ref:t,"aria-label":`${j} ${J}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},W.map((xe,Oe)=>{var Ee;let[ae,te]=xe.split("-");return L.length?pe.createElement("ol",{key:xe,dir:P==="auto"?lg():P,tabIndex:-1,ref:ee,className:h,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":ae,"data-lifted":H&&L.length>1&&!a,"data-x-position":te,style:{"--front-toast-height":`${((Ee=V[0])==null?void 0:Ee.height)||0}px`,"--width":`${MA}px`,"--gap":`${T}px`,...E,...zA(p,x)},onBlur:ge=>{le.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(le.current=!1,Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||le.current||(le.current=!0,Y.current=ge.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{ie||q(!1)},onDragEnd:()=>q(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||re(!0)},onPointerUp:()=>re(!1)},L.filter(ge=>!ge.position&&Oe===0||ge.position===xe).map((ge,ye)=>{var gt,Ct;return pe.createElement(VA,{key:ge.id,icons:_,index:ye,toast:ge,defaultRichColors:b,duration:(gt=A==null?void 0:A.duration)!=null?gt:C,className:A==null?void 0:A.className,descriptionClassName:A==null?void 0:A.descriptionClassName,invert:r,visibleToasts:k,closeButton:(Ct=A==null?void 0:A.closeButton)!=null?Ct:u,interacting:ie,position:xe,style:A==null?void 0:A.style,unstyled:A==null?void 0:A.unstyled,classNames:A==null?void 0:A.classNames,cancelButtonStyle:A==null?void 0:A.cancelButtonStyle,actionButtonStyle:A==null?void 0:A.actionButtonStyle,removeToast:Ae,toasts:L.filter(Ke=>Ke.position==ge.position),heights:V.filter(Ke=>Ke.position==ge.position),setHeights:ne,expandByDefault:a,gap:T,loadingIcon:S,expanded:H,pauseWhenPageIsHidden:F,swipeDirections:e.swipeDirections})})):null}))});const HA=({...e})=>{const{theme:t="system"}=gA();return m.jsx(WA,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var $A=X0[" useId ".trim().toString()]||(()=>{}),GA=0;function Wf(e){const[t,r]=I.useState($A());return Cs(()=>{e||r(n=>n??String(GA++))},[e]),e||(t?`radix-${t}`:"")}const qA=["top","right","bottom","left"],wi=Math.min,$r=Math.max,Xu=Math.round,Gc=Math.floor,rs=e=>({x:e,y:e}),KA={left:"right",right:"left",bottom:"top",top:"bottom"},XA={start:"end",end:"start"};function g0(e,t,r){return $r(e,wi(t,r))}function _s(e,t){return typeof e=="function"?e(t):e}function Ss(e){return e.split("-")[0]}function Ra(e){return e.split("-")[1]}function K1(e){return e==="x"?"y":"x"}function X1(e){return e==="y"?"height":"width"}const YA=new Set(["top","bottom"]);function Jn(e){return YA.has(Ss(e))?"y":"x"}function Y1(e){return K1(Jn(e))}function QA(e,t,r){r===void 0&&(r=!1);const n=Ra(e),i=Y1(e),a=X1(i);let u=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(u=Yu(u)),[u,Yu(u)]}function ZA(e){const t=Yu(e);return[x0(e),t,x0(t)]}function x0(e){return e.replace(/start|end/g,t=>XA[t])}const cg=["left","right"],ug=["right","left"],JA=["top","bottom"],eN=["bottom","top"];function tN(e,t,r){switch(e){case"top":case"bottom":return r?t?ug:cg:t?cg:ug;case"left":case"right":return t?JA:eN;default:return[]}}function rN(e,t,r,n){const i=Ra(e);let a=tN(Ss(e),r==="start",n);return i&&(a=a.map(u=>u+"-"+i),t&&(a=a.concat(a.map(x0)))),a}function Yu(e){return e.replace(/left|right|bottom|top/g,t=>KA[t])}function nN(e){return{top:0,right:0,bottom:0,left:0,...e}}function J2(e){return typeof e!="number"?nN(e):{top:e,right:e,bottom:e,left:e}}function Qu(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function dg(e,t,r){let{reference:n,floating:i}=e;const a=Jn(t),u=Y1(t),h=X1(u),p=Ss(t),x=a==="y",w=n.x+n.width/2-i.width/2,b=n.y+n.height/2-i.height/2,C=n[h]/2-i[h]/2;let E;switch(p){case"top":E={x:w,y:n.y-i.height};break;case"bottom":E={x:w,y:n.y+n.height};break;case"right":E={x:n.x+n.width,y:b};break;case"left":E={x:n.x-i.width,y:b};break;default:E={x:n.x,y:n.y}}switch(Ra(t)){case"start":E[u]-=C*(r&&x?-1:1);break;case"end":E[u]+=C*(r&&x?-1:1);break}return E}const sN=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:u}=r,h=a.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(t));let x=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:w,y:b}=dg(x,n,p),C=n,E={},k=0;for(let A=0;A<h.length;A++){const{name:P,fn:T}=h[A],{x:S,y:_,data:j,reset:F}=await T({x:w,y:b,initialPlacement:n,placement:C,strategy:i,middlewareData:E,rects:x,platform:u,elements:{reference:e,floating:t}});w=S??w,b=_??b,E={...E,[P]:{...E[P],...j}},F&&k<=50&&(k++,typeof F=="object"&&(F.placement&&(C=F.placement),F.rects&&(x=F.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):F.rects),{x:w,y:b}=dg(x,C,p)),A=-1)}return{x:w,y:b,placement:C,strategy:i,middlewareData:E}};async function Ul(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:u,elements:h,strategy:p}=e,{boundary:x="clippingAncestors",rootBoundary:w="viewport",elementContext:b="floating",altBoundary:C=!1,padding:E=0}=_s(t,e),k=J2(E),P=h[C?b==="floating"?"reference":"floating":b],T=Qu(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(P)))==null||r?P:P.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:x,rootBoundary:w,strategy:p})),S=b==="floating"?{x:n,y:i,width:u.floating.width,height:u.floating.height}:u.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),j=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},F=Qu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:S,offsetParent:_,strategy:p}):S);return{top:(T.top-F.top+k.top)/j.y,bottom:(F.bottom-T.bottom+k.bottom)/j.y,left:(T.left-F.left+k.left)/j.x,right:(F.right-T.right+k.right)/j.x}}const iN=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:u,elements:h,middlewareData:p}=t,{element:x,padding:w=0}=_s(e,t)||{};if(x==null)return{};const b=J2(w),C={x:r,y:n},E=Y1(i),k=X1(E),A=await u.getDimensions(x),P=E==="y",T=P?"top":"left",S=P?"bottom":"right",_=P?"clientHeight":"clientWidth",j=a.reference[k]+a.reference[E]-C[E]-a.floating[k],F=C[E]-a.reference[E],L=await(u.getOffsetParent==null?void 0:u.getOffsetParent(x));let M=L?L[_]:0;(!M||!await(u.isElement==null?void 0:u.isElement(L)))&&(M=h.floating[_]||a.floating[k]);const W=j/2-F/2,V=M/2-A[k]/2-1,ne=wi(b[T],V),H=wi(b[S],V),q=ne,ie=M-A[k]-H,re=M/2-A[k]/2+W,G=g0(q,re,ie),ue=!p.arrow&&Ra(i)!=null&&re!==G&&a.reference[k]/2-(re<q?ne:H)-A[k]/2<0,ee=ue?re<q?re-q:re-ie:0;return{[E]:C[E]+ee,data:{[E]:G,centerOffset:re-G-ee,...ue&&{alignmentOffset:ee}},reset:ue}}}),oN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:u,initialPlacement:h,platform:p,elements:x}=t,{mainAxis:w=!0,crossAxis:b=!0,fallbackPlacements:C,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:A=!0,...P}=_s(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const T=Ss(i),S=Jn(h),_=Ss(h)===h,j=await(p.isRTL==null?void 0:p.isRTL(x.floating)),F=C||(_||!A?[Yu(h)]:ZA(h)),L=k!=="none";!C&&L&&F.push(...rN(h,A,k,j));const M=[h,...F],W=await Ul(t,P),V=[];let ne=((n=a.flip)==null?void 0:n.overflows)||[];if(w&&V.push(W[T]),b){const re=QA(i,u,j);V.push(W[re[0]],W[re[1]])}if(ne=[...ne,{placement:i,overflows:V}],!V.every(re=>re<=0)){var H,q;const re=(((H=a.flip)==null?void 0:H.index)||0)+1,G=M[re];if(G&&(!(b==="alignment"?S!==Jn(G):!1)||ne.every(J=>J.overflows[0]>0&&Jn(J.placement)===S)))return{data:{index:re,overflows:ne},reset:{placement:G}};let ue=(q=ne.filter(ee=>ee.overflows[0]<=0).sort((ee,J)=>ee.overflows[1]-J.overflows[1])[0])==null?void 0:q.placement;if(!ue)switch(E){case"bestFit":{var ie;const ee=(ie=ne.filter(J=>{if(L){const Y=Jn(J.placement);return Y===S||Y==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(Y=>Y>0).reduce((Y,le)=>Y+le,0)]).sort((J,Y)=>J[1]-Y[1])[0])==null?void 0:ie[0];ee&&(ue=ee);break}case"initialPlacement":ue=h;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}};function fg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function hg(e){return qA.some(t=>e[t]>=0)}const aN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=_s(e,t);switch(n){case"referenceHidden":{const a=await Ul(t,{...i,elementContext:"reference"}),u=fg(a,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:hg(u)}}}case"escaped":{const a=await Ul(t,{...i,altBoundary:!0}),u=fg(a,r.floating);return{data:{escapedOffsets:u,escaped:hg(u)}}}default:return{}}}}},ev=new Set(["left","top"]);async function lN(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),u=Ss(r),h=Ra(r),p=Jn(r)==="y",x=ev.has(u)?-1:1,w=a&&p?-1:1,b=_s(t,e);let{mainAxis:C,crossAxis:E,alignmentAxis:k}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return h&&typeof k=="number"&&(E=h==="end"?k*-1:k),p?{x:E*w,y:C*x}:{x:C*x,y:E*w}}const cN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:u,middlewareData:h}=t,p=await lN(t,e);return u===((r=h.offset)==null?void 0:r.placement)&&(n=h.arrow)!=null&&n.alignmentOffset?{}:{x:i+p.x,y:a+p.y,data:{...p,placement:u}}}}},uN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:u=!1,limiter:h={fn:P=>{let{x:T,y:S}=P;return{x:T,y:S}}},...p}=_s(e,t),x={x:r,y:n},w=await Ul(t,p),b=Jn(Ss(i)),C=K1(b);let E=x[C],k=x[b];if(a){const P=C==="y"?"top":"left",T=C==="y"?"bottom":"right",S=E+w[P],_=E-w[T];E=g0(S,E,_)}if(u){const P=b==="y"?"top":"left",T=b==="y"?"bottom":"right",S=k+w[P],_=k-w[T];k=g0(S,k,_)}const A=h.fn({...t,[C]:E,[b]:k});return{...A,data:{x:A.x-r,y:A.y-n,enabled:{[C]:a,[b]:u}}}}}},dN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:u}=t,{offset:h=0,mainAxis:p=!0,crossAxis:x=!0}=_s(e,t),w={x:r,y:n},b=Jn(i),C=K1(b);let E=w[C],k=w[b];const A=_s(h,t),P=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(p){const _=C==="y"?"height":"width",j=a.reference[C]-a.floating[_]+P.mainAxis,F=a.reference[C]+a.reference[_]-P.mainAxis;E<j?E=j:E>F&&(E=F)}if(x){var T,S;const _=C==="y"?"width":"height",j=ev.has(Ss(i)),F=a.reference[b]-a.floating[_]+(j&&((T=u.offset)==null?void 0:T[b])||0)+(j?0:P.crossAxis),L=a.reference[b]+a.reference[_]+(j?0:((S=u.offset)==null?void 0:S[b])||0)-(j?P.crossAxis:0);k<F?k=F:k>L&&(k=L)}return{[C]:E,[b]:k}}}},fN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:u,elements:h}=t,{apply:p=()=>{},...x}=_s(e,t),w=await Ul(t,x),b=Ss(i),C=Ra(i),E=Jn(i)==="y",{width:k,height:A}=a.floating;let P,T;b==="top"||b==="bottom"?(P=b,T=C===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(T=b,P=C==="end"?"top":"bottom");const S=A-w.top-w.bottom,_=k-w.left-w.right,j=wi(A-w[P],S),F=wi(k-w[T],_),L=!t.middlewareData.shift;let M=j,W=F;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(W=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(M=S),L&&!C){const ne=$r(w.left,0),H=$r(w.right,0),q=$r(w.top,0),ie=$r(w.bottom,0);E?W=k-2*(ne!==0||H!==0?ne+H:$r(w.left,w.right)):M=A-2*(q!==0||ie!==0?q+ie:$r(w.top,w.bottom))}await p({...t,availableWidth:W,availableHeight:M});const V=await u.getDimensions(h.floating);return k!==V.width||A!==V.height?{reset:{rects:!0}}:{}}}};function Od(){return typeof window<"u"}function Oa(e){return tv(e)?(e.nodeName||"").toLowerCase():"#document"}function Qr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function is(e){var t;return(t=(tv(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function tv(e){return Od()?e instanceof Node||e instanceof Qr(e).Node:!1}function Mn(e){return Od()?e instanceof Element||e instanceof Qr(e).Element:!1}function ss(e){return Od()?e instanceof HTMLElement||e instanceof Qr(e).HTMLElement:!1}function mg(e){return!Od()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qr(e).ShadowRoot}const hN=new Set(["inline","contents"]);function cc(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Ln(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!hN.has(i)}const mN=new Set(["table","td","th"]);function pN(e){return mN.has(Oa(e))}const gN=[":popover-open",":modal"];function Pd(e){return gN.some(t=>{try{return e.matches(t)}catch{return!1}})}const xN=["transform","translate","scale","rotate","perspective"],yN=["transform","translate","scale","rotate","perspective","filter"],wN=["paint","layout","strict","content"];function Q1(e){const t=Z1(),r=Mn(e)?Ln(e):e;return xN.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||yN.some(n=>(r.willChange||"").includes(n))||wN.some(n=>(r.contain||"").includes(n))}function vN(e){let t=vi(e);for(;ss(t)&&!wa(t);){if(Q1(t))return t;if(Pd(t))return null;t=vi(t)}return null}function Z1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bN=new Set(["html","body","#document"]);function wa(e){return bN.has(Oa(e))}function Ln(e){return Qr(e).getComputedStyle(e)}function jd(e){return Mn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vi(e){if(Oa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||mg(e)&&e.host||is(e);return mg(t)?t.host:t}function rv(e){const t=vi(e);return wa(t)?e.ownerDocument?e.ownerDocument.body:e.body:ss(t)&&cc(t)?t:rv(t)}function Vl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=rv(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),u=Qr(i);if(a){const h=y0(u);return t.concat(u,u.visualViewport||[],cc(i)?i:[],h&&r?Vl(h):[])}return t.concat(i,Vl(i,[],r))}function y0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function nv(e){const t=Ln(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ss(e),a=i?e.offsetWidth:r,u=i?e.offsetHeight:n,h=Xu(r)!==a||Xu(n)!==u;return h&&(r=a,n=u),{width:r,height:n,$:h}}function J1(e){return Mn(e)?e:e.contextElement}function ta(e){const t=J1(e);if(!ss(t))return rs(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=nv(t);let u=(a?Xu(r.width):r.width)/n,h=(a?Xu(r.height):r.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const EN=rs(0);function sv(e){const t=Qr(e);return!Z1()||!t.visualViewport?EN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function CN(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qr(e)?!1:t}function oo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=J1(e);let u=rs(1);t&&(n?Mn(n)&&(u=ta(n)):u=ta(e));const h=CN(a,r,n)?sv(a):rs(0);let p=(i.left+h.x)/u.x,x=(i.top+h.y)/u.y,w=i.width/u.x,b=i.height/u.y;if(a){const C=Qr(a),E=n&&Mn(n)?Qr(n):n;let k=C,A=y0(k);for(;A&&n&&E!==k;){const P=ta(A),T=A.getBoundingClientRect(),S=Ln(A),_=T.left+(A.clientLeft+parseFloat(S.paddingLeft))*P.x,j=T.top+(A.clientTop+parseFloat(S.paddingTop))*P.y;p*=P.x,x*=P.y,w*=P.x,b*=P.y,p+=_,x+=j,k=Qr(A),A=y0(k)}}return Qu({width:w,height:b,x:p,y:x})}function em(e,t){const r=jd(e).scrollLeft;return t?t.left+r:oo(is(e)).left+r}function iv(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:em(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function _N(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",u=is(n),h=t?Pd(t.floating):!1;if(n===u||h&&a)return r;let p={scrollLeft:0,scrollTop:0},x=rs(1);const w=rs(0),b=ss(n);if((b||!b&&!a)&&((Oa(n)!=="body"||cc(u))&&(p=jd(n)),ss(n))){const E=oo(n);x=ta(n),w.x=E.x+n.clientLeft,w.y=E.y+n.clientTop}const C=u&&!b&&!a?iv(u,p,!0):rs(0);return{width:r.width*x.x,height:r.height*x.y,x:r.x*x.x-p.scrollLeft*x.x+w.x+C.x,y:r.y*x.y-p.scrollTop*x.y+w.y+C.y}}function SN(e){return Array.from(e.getClientRects())}function AN(e){const t=is(e),r=jd(e),n=e.ownerDocument.body,i=$r(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=$r(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let u=-r.scrollLeft+em(e);const h=-r.scrollTop;return Ln(n).direction==="rtl"&&(u+=$r(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:u,y:h}}function NN(e,t){const r=Qr(e),n=is(e),i=r.visualViewport;let a=n.clientWidth,u=n.clientHeight,h=0,p=0;if(i){a=i.width,u=i.height;const x=Z1();(!x||x&&t==="fixed")&&(h=i.offsetLeft,p=i.offsetTop)}return{width:a,height:u,x:h,y:p}}const TN=new Set(["absolute","fixed"]);function kN(e,t){const r=oo(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=ss(e)?ta(e):rs(1),u=e.clientWidth*a.x,h=e.clientHeight*a.y,p=i*a.x,x=n*a.y;return{width:u,height:h,x:p,y:x}}function pg(e,t,r){let n;if(t==="viewport")n=NN(e,r);else if(t==="document")n=AN(is(e));else if(Mn(t))n=kN(t,r);else{const i=sv(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Qu(n)}function ov(e,t){const r=vi(e);return r===t||!Mn(r)||wa(r)?!1:Ln(r).position==="fixed"||ov(r,t)}function IN(e,t){const r=t.get(e);if(r)return r;let n=Vl(e,[],!1).filter(h=>Mn(h)&&Oa(h)!=="body"),i=null;const a=Ln(e).position==="fixed";let u=a?vi(e):e;for(;Mn(u)&&!wa(u);){const h=Ln(u),p=Q1(u);!p&&h.position==="fixed"&&(i=null),(a?!p&&!i:!p&&h.position==="static"&&!!i&&TN.has(i.position)||cc(u)&&!p&&ov(e,u))?n=n.filter(w=>w!==u):i=h,u=vi(u)}return t.set(e,n),n}function RN(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const u=[...r==="clippingAncestors"?Pd(t)?[]:IN(t,this._c):[].concat(r),n],h=u[0],p=u.reduce((x,w)=>{const b=pg(t,w,i);return x.top=$r(b.top,x.top),x.right=wi(b.right,x.right),x.bottom=wi(b.bottom,x.bottom),x.left=$r(b.left,x.left),x},pg(t,h,i));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function ON(e){const{width:t,height:r}=nv(e);return{width:t,height:r}}function PN(e,t,r){const n=ss(t),i=is(t),a=r==="fixed",u=oo(e,!0,a,t);let h={scrollLeft:0,scrollTop:0};const p=rs(0);function x(){p.x=em(i)}if(n||!n&&!a)if((Oa(t)!=="body"||cc(i))&&(h=jd(t)),n){const E=oo(t,!0,a,t);p.x=E.x+t.clientLeft,p.y=E.y+t.clientTop}else i&&x();a&&!n&&i&&x();const w=i&&!n&&!a?iv(i,h):rs(0),b=u.left+h.scrollLeft-p.x-w.x,C=u.top+h.scrollTop-p.y-w.y;return{x:b,y:C,width:u.width,height:u.height}}function Hf(e){return Ln(e).position==="static"}function gg(e,t){if(!ss(e)||Ln(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return is(e)===r&&(r=r.ownerDocument.body),r}function av(e,t){const r=Qr(e);if(Pd(e))return r;if(!ss(e)){let i=vi(e);for(;i&&!wa(i);){if(Mn(i)&&!Hf(i))return i;i=vi(i)}return r}let n=gg(e,t);for(;n&&pN(n)&&Hf(n);)n=gg(n,t);return n&&wa(n)&&Hf(n)&&!Q1(n)?r:n||vN(e)||r}const jN=async function(e){const t=this.getOffsetParent||av,r=this.getDimensions,n=await r(e.floating);return{reference:PN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function DN(e){return Ln(e).direction==="rtl"}const MN={convertOffsetParentRelativeRectToViewportRelativeRect:_N,getDocumentElement:is,getClippingRect:RN,getOffsetParent:av,getElementRects:jN,getClientRects:SN,getDimensions:ON,getScale:ta,isElement:Mn,isRTL:DN};function lv(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function LN(e,t){let r=null,n;const i=is(e);function a(){var h;clearTimeout(n),(h=r)==null||h.disconnect(),r=null}function u(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),a();const x=e.getBoundingClientRect(),{left:w,top:b,width:C,height:E}=x;if(h||t(),!C||!E)return;const k=Gc(b),A=Gc(i.clientWidth-(w+C)),P=Gc(i.clientHeight-(b+E)),T=Gc(w),_={rootMargin:-k+"px "+-A+"px "+-P+"px "+-T+"px",threshold:$r(0,wi(1,p))||1};let j=!0;function F(L){const M=L[0].intersectionRatio;if(M!==p){if(!j)return u();M?u(!1,M):n=setTimeout(()=>{u(!1,1e-7)},1e3)}M===1&&!lv(x,e.getBoundingClientRect())&&u(),j=!1}try{r=new IntersectionObserver(F,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(F,_)}r.observe(e)}return u(!0),a}function BN(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,x=J1(e),w=i||a?[...x?Vl(x):[],...Vl(t)]:[];w.forEach(T=>{i&&T.addEventListener("scroll",r,{passive:!0}),a&&T.addEventListener("resize",r)});const b=x&&h?LN(x,r):null;let C=-1,E=null;u&&(E=new ResizeObserver(T=>{let[S]=T;S&&S.target===x&&E&&(E.unobserve(t),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var _;(_=E)==null||_.observe(t)})),r()}),x&&!p&&E.observe(x),E.observe(t));let k,A=p?oo(e):null;p&&P();function P(){const T=oo(e);A&&!lv(A,T)&&r(),A=T,k=requestAnimationFrame(P)}return r(),()=>{var T;w.forEach(S=>{i&&S.removeEventListener("scroll",r),a&&S.removeEventListener("resize",r)}),b==null||b(),(T=E)==null||T.disconnect(),E=null,p&&cancelAnimationFrame(k)}}const FN=cN,UN=uN,VN=oN,zN=fN,WN=aN,xg=iN,HN=dN,$N=(e,t,r)=>{const n=new Map,i={platform:MN,...r},a={...i.platform,_c:n};return sN(e,t,{...i,platform:a})};var GN=typeof document<"u",qN=function(){},vu=GN?I.useLayoutEffect:qN;function Zu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Zu(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!Zu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function cv(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yg(e,t){const r=cv(e);return Math.round(t*r)/r}function $f(e){const t=I.useRef(e);return vu(()=>{t.current=e}),t}function KN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:u}={},transform:h=!0,whileElementsMounted:p,open:x}=e,[w,b]=I.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[C,E]=I.useState(n);Zu(C,n)||E(n);const[k,A]=I.useState(null),[P,T]=I.useState(null),S=I.useCallback(J=>{J!==L.current&&(L.current=J,A(J))},[]),_=I.useCallback(J=>{J!==M.current&&(M.current=J,T(J))},[]),j=a||k,F=u||P,L=I.useRef(null),M=I.useRef(null),W=I.useRef(w),V=p!=null,ne=$f(p),H=$f(i),q=$f(x),ie=I.useCallback(()=>{if(!L.current||!M.current)return;const J={placement:t,strategy:r,middleware:C};H.current&&(J.platform=H.current),$N(L.current,M.current,J).then(Y=>{const le={...Y,isPositioned:q.current!==!1};re.current&&!Zu(W.current,le)&&(W.current=le,oc.flushSync(()=>{b(le)}))})},[C,t,r,H,q]);vu(()=>{x===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,b(J=>({...J,isPositioned:!1})))},[x]);const re=I.useRef(!1);vu(()=>(re.current=!0,()=>{re.current=!1}),[]),vu(()=>{if(j&&(L.current=j),F&&(M.current=F),j&&F){if(ne.current)return ne.current(j,F,ie);ie()}},[j,F,ie,ne,V]);const G=I.useMemo(()=>({reference:L,floating:M,setReference:S,setFloating:_}),[S,_]),ue=I.useMemo(()=>({reference:j,floating:F}),[j,F]),ee=I.useMemo(()=>{const J={position:r,left:0,top:0};if(!ue.floating)return J;const Y=yg(ue.floating,w.x),le=yg(ue.floating,w.y);return h?{...J,transform:"translate("+Y+"px, "+le+"px)",...cv(ue.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Y,top:le}},[r,h,ue.floating,w.x,w.y]);return I.useMemo(()=>({...w,update:ie,refs:G,elements:ue,floatingStyles:ee}),[w,ie,G,ue,ee])}const XN=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?xg({element:n.current,padding:i}).fn(r):{}:n?xg({element:n,padding:i}).fn(r):{}}}},YN=(e,t)=>({...FN(e),options:[e,t]}),QN=(e,t)=>({...UN(e),options:[e,t]}),ZN=(e,t)=>({...HN(e),options:[e,t]}),JN=(e,t)=>({...VN(e),options:[e,t]}),e4=(e,t)=>({...zN(e),options:[e,t]}),t4=(e,t)=>({...WN(e),options:[e,t]}),r4=(e,t)=>({...XN(e),options:[e,t]});var n4="Arrow",uv=I.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return m.jsx(zt.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});uv.displayName=n4;var s4=uv;function i4(e){const[t,r]=I.useState(void 0);return Cs(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let u,h;if("borderBoxSize"in a){const p=a.borderBoxSize,x=Array.isArray(p)?p[0]:p;u=x.inlineSize,h=x.blockSize}else u=e.offsetWidth,h=e.offsetHeight;r({width:u,height:h})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var dv="Popper",[fv,hv]=ac(dv),[Y5,mv]=fv(dv),pv="PopperAnchor",gv=I.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=mv(pv,r),u=I.useRef(null),h=Ar(t,u);return I.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||u.current)}),n?null:m.jsx(zt.div,{...i,ref:h})});gv.displayName=pv;var tm="PopperContent",[o4,a4]=fv(tm),xv=I.forwardRef((e,t)=>{var ge,ye,gt,Ct,Ke,rt;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:p=!0,collisionBoundary:x=[],collisionPadding:w=0,sticky:b="partial",hideWhenDetached:C=!1,updatePositionStrategy:E="optimized",onPlaced:k,...A}=e,P=mv(tm,r),[T,S]=I.useState(null),_=Ar(t,ke=>S(ke)),[j,F]=I.useState(null),L=i4(j),M=(L==null?void 0:L.width)??0,W=(L==null?void 0:L.height)??0,V=n+(a!=="center"?"-"+a:""),ne=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},H=Array.isArray(x)?x:[x],q=H.length>0,ie={padding:ne,boundary:H.filter(c4),altBoundary:q},{refs:re,floatingStyles:G,placement:ue,isPositioned:ee,middlewareData:J}=KN({strategy:"fixed",placement:V,whileElementsMounted:(...ke)=>BN(...ke,{animationFrame:E==="always"}),elements:{reference:P.anchor},middleware:[YN({mainAxis:i+W,alignmentAxis:u}),p&&QN({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?ZN():void 0,...ie}),p&&JN({...ie}),e4({...ie,apply:({elements:ke,rects:Yt,availableWidth:fr,availableHeight:rn})=>{const{width:Mt,height:Ze}=Yt.reference,Ve=ke.floating.style;Ve.setProperty("--radix-popper-available-width",`${fr}px`),Ve.setProperty("--radix-popper-available-height",`${rn}px`),Ve.setProperty("--radix-popper-anchor-width",`${Mt}px`),Ve.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),j&&r4({element:j,padding:h}),u4({arrowWidth:M,arrowHeight:W}),C&&t4({strategy:"referenceHidden",...ie})]}),[Y,le]=vv(ue),Ae=ns(k);Cs(()=>{ee&&(Ae==null||Ae())},[ee,Ae]);const xe=(ge=J.arrow)==null?void 0:ge.x,Oe=(ye=J.arrow)==null?void 0:ye.y,Ee=((gt=J.arrow)==null?void 0:gt.centerOffset)!==0,[ae,te]=I.useState();return Cs(()=>{T&&te(window.getComputedStyle(T).zIndex)},[T]),m.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:ee?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(Ct=J.transformOrigin)==null?void 0:Ct.x,(Ke=J.transformOrigin)==null?void 0:Ke.y].join(" "),...((rt=J.hide)==null?void 0:rt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:m.jsx(o4,{scope:r,placedSide:Y,onArrowChange:F,arrowX:xe,arrowY:Oe,shouldHideArrow:Ee,children:m.jsx(zt.div,{"data-side":Y,"data-align":le,...A,ref:_,style:{...A.style,animation:ee?void 0:"none"}})})})});xv.displayName=tm;var yv="PopperArrow",l4={top:"bottom",right:"left",bottom:"top",left:"right"},wv=I.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=a4(yv,n),u=l4[a.placedSide];return m.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:m.jsx(s4,{...i,ref:r,style:{...i.style,display:"block"}})})});wv.displayName=yv;function c4(e){return e!==null}var u4=e=>({name:"transformOrigin",options:e,fn(t){var P,T,S;const{placement:r,rects:n,middlewareData:i}=t,u=((P=i.arrow)==null?void 0:P.centerOffset)!==0,h=u?0:e.arrowWidth,p=u?0:e.arrowHeight,[x,w]=vv(r),b={start:"0%",center:"50%",end:"100%"}[w],C=(((T=i.arrow)==null?void 0:T.x)??0)+h/2,E=(((S=i.arrow)==null?void 0:S.y)??0)+p/2;let k="",A="";return x==="bottom"?(k=u?b:`${C}px`,A=`${-p}px`):x==="top"?(k=u?b:`${C}px`,A=`${n.floating.height+p}px`):x==="right"?(k=`${-p}px`,A=u?b:`${E}px`):x==="left"&&(k=`${n.floating.width+p}px`,A=u?b:`${E}px`),{data:{x:k,y:A}}}});function vv(e){const[t,r="center"]=e.split("-");return[t,r]}var d4=gv,f4=xv,h4=wv,[Dd,Q5]=ac("Tooltip",[hv]),rm=hv(),bv="TooltipProvider",m4=700,wg="tooltip.open",[p4,Ev]=Dd(bv),Cv=e=>{const{__scopeTooltip:t,delayDuration:r=m4,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,u=I.useRef(!0),h=I.useRef(!1),p=I.useRef(0);return I.useEffect(()=>{const x=p.current;return()=>window.clearTimeout(x)},[]),m.jsx(p4,{scope:t,isOpenDelayedRef:u,delayDuration:r,onOpen:I.useCallback(()=>{window.clearTimeout(p.current),u.current=!1},[]),onClose:I.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>u.current=!0,n)},[n]),isPointerInTransitRef:h,onPointerInTransitChange:I.useCallback(x=>{h.current=x},[]),disableHoverableContent:i,children:a})};Cv.displayName=bv;var _v="Tooltip",[Z5,Md]=Dd(_v),w0="TooltipTrigger",g4=I.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Md(w0,r),a=Ev(w0,r),u=rm(r),h=I.useRef(null),p=Ar(t,h,i.onTriggerChange),x=I.useRef(!1),w=I.useRef(!1),b=I.useCallback(()=>x.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),m.jsx(d4,{asChild:!0,...u,children:m.jsx(zt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:p,onPointerMove:Et(e.onPointerMove,C=>{C.pointerType!=="touch"&&!w.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),w.current=!0)}),onPointerLeave:Et(e.onPointerLeave,()=>{i.onTriggerLeave(),w.current=!1}),onPointerDown:Et(e.onPointerDown,()=>{i.open&&i.onClose(),x.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:Et(e.onFocus,()=>{x.current||i.onOpen()}),onBlur:Et(e.onBlur,i.onClose),onClick:Et(e.onClick,i.onClose)})})});g4.displayName=w0;var x4="TooltipPortal",[J5,y4]=Dd(x4,{forceMount:void 0}),va="TooltipContent",Sv=I.forwardRef((e,t)=>{const r=y4(va,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,u=Md(va,e.__scopeTooltip);return m.jsx(Ta,{present:n||u.open,children:u.disableHoverableContent?m.jsx(Av,{side:i,...a,ref:t}):m.jsx(w4,{side:i,...a,ref:t})})}),w4=I.forwardRef((e,t)=>{const r=Md(va,e.__scopeTooltip),n=Ev(va,e.__scopeTooltip),i=I.useRef(null),a=Ar(t,i),[u,h]=I.useState(null),{trigger:p,onClose:x}=r,w=i.current,{onPointerInTransitChange:b}=n,C=I.useCallback(()=>{h(null),b(!1)},[b]),E=I.useCallback((k,A)=>{const P=k.currentTarget,T={x:k.clientX,y:k.clientY},S=_4(T,P.getBoundingClientRect()),_=S4(T,S),j=A4(A.getBoundingClientRect()),F=T4([..._,...j]);h(F),b(!0)},[b]);return I.useEffect(()=>()=>C(),[C]),I.useEffect(()=>{if(p&&w){const k=P=>E(P,w),A=P=>E(P,p);return p.addEventListener("pointerleave",k),w.addEventListener("pointerleave",A),()=>{p.removeEventListener("pointerleave",k),w.removeEventListener("pointerleave",A)}}},[p,w,E,C]),I.useEffect(()=>{if(u){const k=A=>{const P=A.target,T={x:A.clientX,y:A.clientY},S=(p==null?void 0:p.contains(P))||(w==null?void 0:w.contains(P)),_=!N4(T,u);S?C():_&&(C(),x())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[p,w,u,x,C]),m.jsx(Av,{...e,ref:a})}),[v4,b4]=Dd(_v,{isInside:!1}),E4=y_("TooltipContent"),Av=I.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:u,...h}=e,p=Md(va,r),x=rm(r),{onClose:w}=p;return I.useEffect(()=>(document.addEventListener(wg,w),()=>document.removeEventListener(wg,w)),[w]),I.useEffect(()=>{if(p.trigger){const b=C=>{const E=C.target;E!=null&&E.contains(p.trigger)&&w()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[p.trigger,w]),m.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:b=>b.preventDefault(),onDismiss:w,children:m.jsxs(f4,{"data-state":p.stateAttribute,...x,...h,ref:t,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(E4,{children:n}),m.jsx(v4,{scope:r,isInside:!0,children:m.jsx(z_,{id:p.contentId,role:"tooltip",children:i||n})})]})})});Sv.displayName=va;var Nv="TooltipArrow",C4=I.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=rm(r);return b4(Nv,r).isInside?null:m.jsx(h4,{...i,...n,ref:t})});C4.displayName=Nv;function _4(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function S4(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function A4(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function N4(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const h=t[a],p=t[u],x=h.x,w=h.y,b=p.x,C=p.y;w>n!=C>n&&r<(b-x)*(n-w)/(C-w)+x&&(i=!i)}return i}function T4(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),k4(t)}function k4(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],u=r[r.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var I4=Cv,Tv=Sv;const R4=I4,O4=I.forwardRef(({className:e,sideOffset:t=4,...r},n)=>m.jsx(Tv,{ref:n,sideOffset:t,className:gn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));O4.displayName=Tv.displayName;var Ld=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bd=typeof window>"u"||"Deno"in globalThis;function Sn(){}function P4(e,t){return typeof e=="function"?e(t):e}function j4(e){return typeof e=="number"&&e>=0&&e!==1/0}function D4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function v0(e,t){return typeof e=="function"?e(t):e}function M4(e,t){return typeof e=="function"?e(t):e}function vg(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:u,stale:h}=e;if(u){if(n){if(t.queryHash!==nm(u,t.options))return!1}else if(!Wl(t.queryKey,u))return!1}if(r!=="all"){const p=t.isActive();if(r==="active"&&!p||r==="inactive"&&p)return!1}return!(typeof h=="boolean"&&t.isStale()!==h||i&&i!==t.state.fetchStatus||a&&!a(t))}function bg(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(zl(t.options.mutationKey)!==zl(a))return!1}else if(!Wl(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function nm(e,t){return((t==null?void 0:t.queryKeyHashFn)||zl)(e)}function zl(e){return JSON.stringify(e,(t,r)=>b0(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Wl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Wl(e[r],t[r])):!1}function kv(e,t){if(e===t)return e;const r=Eg(e)&&Eg(t);if(r||b0(e)&&b0(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),u=a.length,h=r?[]:{},p=new Set(n);let x=0;for(let w=0;w<u;w++){const b=r?w:a[w];(!r&&p.has(b)||r)&&e[b]===void 0&&t[b]===void 0?(h[b]=void 0,x++):(h[b]=kv(e[b],t[b]),h[b]===e[b]&&e[b]!==void 0&&x++)}return i===u&&x===i?e:h}return t}function Eg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function b0(e){if(!Cg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Cg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Cg(e){return Object.prototype.toString.call(e)==="[object Object]"}function L4(e){return new Promise(t=>{setTimeout(t,e)})}function B4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?kv(e,t):t}function F4(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function U4(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var sm=Symbol();function Iv(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===sm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Gi,Qs,sa,Px,V4=(Px=class extends Ld{constructor(){super();et(this,Gi);et(this,Qs);et(this,sa);Le(this,sa,t=>{if(!Bd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){se(this,Qs)||this.setEventListener(se(this,sa))}onUnsubscribe(){var t;this.hasListeners()||((t=se(this,Qs))==null||t.call(this),Le(this,Qs,void 0))}setEventListener(t){var r;Le(this,sa,t),(r=se(this,Qs))==null||r.call(this),Le(this,Qs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){se(this,Gi)!==t&&(Le(this,Gi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof se(this,Gi)=="boolean"?se(this,Gi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gi=new WeakMap,Qs=new WeakMap,sa=new WeakMap,Px),Rv=new V4,ia,Zs,oa,jx,z4=(jx=class extends Ld{constructor(){super();et(this,ia,!0);et(this,Zs);et(this,oa);Le(this,oa,t=>{if(!Bd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){se(this,Zs)||this.setEventListener(se(this,oa))}onUnsubscribe(){var t;this.hasListeners()||((t=se(this,Zs))==null||t.call(this),Le(this,Zs,void 0))}setEventListener(t){var r;Le(this,oa,t),(r=se(this,Zs))==null||r.call(this),Le(this,Zs,t(this.setOnline.bind(this)))}setOnline(t){se(this,ia)!==t&&(Le(this,ia,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return se(this,ia)}},ia=new WeakMap,Zs=new WeakMap,oa=new WeakMap,jx),Ju=new z4;function W4(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function H4(e){return Math.min(1e3*2**e,3e4)}function Ov(e){return(e??"online")==="online"?Ju.isOnline():!0}var Pv=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Gf(e){return e instanceof Pv}function jv(e){let t=!1,r=0,n=!1,i;const a=W4(),u=A=>{var P;n||(C(new Pv(A)),(P=e.abort)==null||P.call(e))},h=()=>{t=!0},p=()=>{t=!1},x=()=>Rv.isFocused()&&(e.networkMode==="always"||Ju.isOnline())&&e.canRun(),w=()=>Ov(e.networkMode)&&e.canRun(),b=A=>{var P;n||(n=!0,(P=e.onSuccess)==null||P.call(e,A),i==null||i(),a.resolve(A))},C=A=>{var P;n||(n=!0,(P=e.onError)==null||P.call(e,A),i==null||i(),a.reject(A))},E=()=>new Promise(A=>{var P;i=T=>{(n||x())&&A(T)},(P=e.onPause)==null||P.call(e)}).then(()=>{var A;i=void 0,n||(A=e.onContinue)==null||A.call(e)}),k=()=>{if(n)return;let A;const P=r===0?e.initialPromise:void 0;try{A=P??e.fn()}catch(T){A=Promise.reject(T)}Promise.resolve(A).then(b).catch(T=>{var L;if(n)return;const S=e.retry??(Bd?0:3),_=e.retryDelay??H4,j=typeof _=="function"?_(r,T):_,F=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,T);if(t||!F){C(T);return}r++,(L=e.onFail)==null||L.call(e,r,T),L4(j).then(()=>x()?void 0:E()).then(()=>{t?C(T):k()})})};return{promise:a,cancel:u,continue:()=>(i==null||i(),a),cancelRetry:h,continueRetry:p,canStart:w,start:()=>(w()?k():E().then(k),a)}}var $4=e=>setTimeout(e,0);function G4(){let e=[],t=0,r=h=>{h()},n=h=>{h()},i=$4;const a=h=>{t?e.push(h):i(()=>{r(h)})},u=()=>{const h=e;e=[],h.length&&i(()=>{n(()=>{h.forEach(p=>{r(p)})})})};return{batch:h=>{let p;t++;try{p=h()}finally{t--,t||u()}return p},batchCalls:h=>(...p)=>{a(()=>{h(...p)})},schedule:a,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{n=h},setScheduler:h=>{i=h}}}var _r=G4(),qi,Dx,Dv=(Dx=class{constructor(){et(this,qi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),j4(this.gcTime)&&Le(this,qi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bd?1/0:5*60*1e3))}clearGcTimeout(){se(this,qi)&&(clearTimeout(se(this,qi)),Le(this,qi,void 0))}},qi=new WeakMap,Dx),aa,Ki,cn,Xi,yr,Jl,Yi,Nn,us,Mx,q4=(Mx=class extends Dv{constructor(t){super();et(this,Nn);et(this,aa);et(this,Ki);et(this,cn);et(this,Xi);et(this,yr);et(this,Jl);et(this,Yi);Le(this,Yi,!1),Le(this,Jl,t.defaultOptions),this.setOptions(t.options),this.observers=[],Le(this,Xi,t.client),Le(this,cn,se(this,Xi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Le(this,aa,X4(this.options)),this.state=t.state??se(this,aa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=se(this,yr))==null?void 0:t.promise}setOptions(t){this.options={...se(this,Jl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,cn).remove(this)}setData(t,r){const n=B4(this.state.data,t,this.options);return pr(this,Nn,us).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){pr(this,Nn,us).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=se(this,yr))==null?void 0:n.promise;return(i=se(this,yr))==null||i.cancel(t),r?r.then(Sn).catch(Sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,aa))}isActive(){return this.observers.some(t=>M4(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>v0(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!D4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=se(this,yr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=se(this,yr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),se(this,cn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(se(this,yr)&&(se(this,Yi)?se(this,yr).cancel({revert:!0}):se(this,yr).cancelRetry()),this.scheduleGc()),se(this,cn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pr(this,Nn,us).call(this,{type:"invalidate"})}fetch(t,r){var x,w,b;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(se(this,yr))return se(this,yr).continueRetry(),se(this,yr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(E=>E.options.queryFn);C&&this.setOptions(C.options)}const n=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(Le(this,Yi,!0),n.signal)})},a=()=>{const C=Iv(this.options,r),k=(()=>{const A={client:se(this,Xi),queryKey:this.queryKey,meta:this.meta};return i(A),A})();return Le(this,Yi,!1),this.options.persister?this.options.persister(C,k,this):C(k)},h=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:se(this,Xi),state:this.state,fetchFn:a};return i(C),C})();(x=this.options.behavior)==null||x.onFetch(h,this),Le(this,Ki,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=h.fetchOptions)==null?void 0:w.meta))&&pr(this,Nn,us).call(this,{type:"fetch",meta:(b=h.fetchOptions)==null?void 0:b.meta});const p=C=>{var E,k,A,P;Gf(C)&&C.silent||pr(this,Nn,us).call(this,{type:"error",error:C}),Gf(C)||((k=(E=se(this,cn).config).onError)==null||k.call(E,C,this),(P=(A=se(this,cn).config).onSettled)==null||P.call(A,this.state.data,C,this)),this.scheduleGc()};return Le(this,yr,jv({initialPromise:r==null?void 0:r.initialPromise,fn:h.fetchFn,abort:n.abort.bind(n),onSuccess:C=>{var E,k,A,P;if(C===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(C)}catch(T){p(T);return}(k=(E=se(this,cn).config).onSuccess)==null||k.call(E,C,this),(P=(A=se(this,cn).config).onSettled)==null||P.call(A,C,this.state.error,this),this.scheduleGc()},onError:p,onFail:(C,E)=>{pr(this,Nn,us).call(this,{type:"failed",failureCount:C,error:E})},onPause:()=>{pr(this,Nn,us).call(this,{type:"pause"})},onContinue:()=>{pr(this,Nn,us).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),se(this,yr).start()}},aa=new WeakMap,Ki=new WeakMap,cn=new WeakMap,Xi=new WeakMap,yr=new WeakMap,Jl=new WeakMap,Yi=new WeakMap,Nn=new WeakSet,us=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...K4(n.data,this.options),fetchMeta:t.meta??null};case"success":return Le(this,Ki,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Gf(i)&&i.revert&&se(this,Ki)?{...se(this,Ki),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),_r.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),se(this,cn).notify({query:this,type:"updated",action:t})})},Mx);function K4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ov(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function X4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Kn,Lx,Y4=(Lx=class extends Ld{constructor(t={}){super();et(this,Kn);this.config=t,Le(this,Kn,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??nm(i,r);let u=this.get(a);return u||(u=new q4({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(u)),u}add(t){se(this,Kn).has(t.queryHash)||(se(this,Kn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=se(this,Kn).get(t.queryHash);r&&(t.destroy(),r===t&&se(this,Kn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_r.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return se(this,Kn).get(t)}getAll(){return[...se(this,Kn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>vg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>vg(t,n)):r}notify(t){_r.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){_r.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_r.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Kn=new WeakMap,Lx),Xn,Er,Qi,Yn,Ws,Bx,Q4=(Bx=class extends Dv{constructor(t){super();et(this,Yn);et(this,Xn);et(this,Er);et(this,Qi);this.mutationId=t.mutationId,Le(this,Er,t.mutationCache),Le(this,Xn,[]),this.state=t.state||Z4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){se(this,Xn).includes(t)||(se(this,Xn).push(t),this.clearGcTimeout(),se(this,Er).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Le(this,Xn,se(this,Xn).filter(r=>r!==t)),this.scheduleGc(),se(this,Er).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){se(this,Xn).length||(this.state.status==="pending"?this.scheduleGc():se(this,Er).remove(this))}continue(){var t;return((t=se(this,Qi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,u,h,p,x,w,b,C,E,k,A,P,T,S,_,j,F,L,M,W;const r=()=>{pr(this,Yn,Ws).call(this,{type:"continue"})};Le(this,Qi,jv({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(V,ne)=>{pr(this,Yn,Ws).call(this,{type:"failed",failureCount:V,error:ne})},onPause:()=>{pr(this,Yn,Ws).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Er).canRun(this)}));const n=this.state.status==="pending",i=!se(this,Qi).canStart();try{if(n)r();else{pr(this,Yn,Ws).call(this,{type:"pending",variables:t,isPaused:i}),await((u=(a=se(this,Er).config).onMutate)==null?void 0:u.call(a,t,this));const ne=await((p=(h=this.options).onMutate)==null?void 0:p.call(h,t));ne!==this.state.context&&pr(this,Yn,Ws).call(this,{type:"pending",context:ne,variables:t,isPaused:i})}const V=await se(this,Qi).start();return await((w=(x=se(this,Er).config).onSuccess)==null?void 0:w.call(x,V,t,this.state.context,this)),await((C=(b=this.options).onSuccess)==null?void 0:C.call(b,V,t,this.state.context)),await((k=(E=se(this,Er).config).onSettled)==null?void 0:k.call(E,V,null,this.state.variables,this.state.context,this)),await((P=(A=this.options).onSettled)==null?void 0:P.call(A,V,null,t,this.state.context)),pr(this,Yn,Ws).call(this,{type:"success",data:V}),V}catch(V){try{throw await((S=(T=se(this,Er).config).onError)==null?void 0:S.call(T,V,t,this.state.context,this)),await((j=(_=this.options).onError)==null?void 0:j.call(_,V,t,this.state.context)),await((L=(F=se(this,Er).config).onSettled)==null?void 0:L.call(F,void 0,V,this.state.variables,this.state.context,this)),await((W=(M=this.options).onSettled)==null?void 0:W.call(M,void 0,V,t,this.state.context)),V}finally{pr(this,Yn,Ws).call(this,{type:"error",error:V})}}finally{se(this,Er).runNext(this)}}},Xn=new WeakMap,Er=new WeakMap,Qi=new WeakMap,Yn=new WeakSet,Ws=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),_r.batch(()=>{se(this,Xn).forEach(n=>{n.onMutationUpdate(t)}),se(this,Er).notify({mutation:this,type:"updated",action:t})})},Bx);function Z4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ps,Tn,ec,Fx,J4=(Fx=class extends Ld{constructor(t={}){super();et(this,ps);et(this,Tn);et(this,ec);this.config=t,Le(this,ps,new Set),Le(this,Tn,new Map),Le(this,ec,0)}build(t,r,n){const i=new Q4({mutationCache:this,mutationId:++Sc(this,ec)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){se(this,ps).add(t);const r=qc(t);if(typeof r=="string"){const n=se(this,Tn).get(r);n?n.push(t):se(this,Tn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(se(this,ps).delete(t)){const r=qc(t);if(typeof r=="string"){const n=se(this,Tn).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&se(this,Tn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=qc(t);if(typeof r=="string"){const n=se(this,Tn).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=qc(t);if(typeof r=="string"){const i=(n=se(this,Tn).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_r.batch(()=>{se(this,ps).forEach(t=>{this.notify({type:"removed",mutation:t})}),se(this,ps).clear(),se(this,Tn).clear()})}getAll(){return Array.from(se(this,ps))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>bg(r,n))}findAll(t={}){return this.getAll().filter(r=>bg(t,r))}notify(t){_r.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return _r.batch(()=>Promise.all(t.map(r=>r.continue().catch(Sn))))}},ps=new WeakMap,Tn=new WeakMap,ec=new WeakMap,Fx);function qc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function _g(e){return{onFetch:(t,r)=>{var w,b,C,E,k;const n=t.options,i=(C=(b=(w=t.fetchOptions)==null?void 0:w.meta)==null?void 0:b.fetchMore)==null?void 0:C.direction,a=((E=t.state.data)==null?void 0:E.pages)||[],u=((k=t.state.data)==null?void 0:k.pageParams)||[];let h={pages:[],pageParams:[]},p=0;const x=async()=>{let A=!1;const P=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?A=!0:t.signal.addEventListener("abort",()=>{A=!0}),t.signal)})},T=Iv(t.options,t.fetchOptions),S=async(_,j,F)=>{if(A)return Promise.reject();if(j==null&&_.pages.length)return Promise.resolve(_);const M=(()=>{const H={client:t.client,queryKey:t.queryKey,pageParam:j,direction:F?"backward":"forward",meta:t.options.meta};return P(H),H})(),W=await T(M),{maxPages:V}=t.options,ne=F?U4:F4;return{pages:ne(_.pages,W,V),pageParams:ne(_.pageParams,j,V)}};if(i&&a.length){const _=i==="backward",j=_?eT:Sg,F={pages:a,pageParams:u},L=j(n,F);h=await S(F,L,_)}else{const _=e??a.length;do{const j=p===0?u[0]??n.initialPageParam:Sg(n,h);if(p>0&&j==null)break;h=await S(h,j),p++}while(p<_)}return h};t.options.persister?t.fetchFn=()=>{var A,P;return(P=(A=t.options).persister)==null?void 0:P.call(A,x,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=x}}}function Sg(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function eT(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ot,Js,ei,la,ca,ti,ua,da,Ux,tT=(Ux=class{constructor(e={}){et(this,Ot);et(this,Js);et(this,ei);et(this,la);et(this,ca);et(this,ti);et(this,ua);et(this,da);Le(this,Ot,e.queryCache||new Y4),Le(this,Js,e.mutationCache||new J4),Le(this,ei,e.defaultOptions||{}),Le(this,la,new Map),Le(this,ca,new Map),Le(this,ti,0)}mount(){Sc(this,ti)._++,se(this,ti)===1&&(Le(this,ua,Rv.subscribe(async e=>{e&&(await this.resumePausedMutations(),se(this,Ot).onFocus())})),Le(this,da,Ju.subscribe(async e=>{e&&(await this.resumePausedMutations(),se(this,Ot).onOnline())})))}unmount(){var e,t;Sc(this,ti)._--,se(this,ti)===0&&((e=se(this,ua))==null||e.call(this),Le(this,ua,void 0),(t=se(this,da))==null||t.call(this),Le(this,da,void 0))}isFetching(e){return se(this,Ot).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return se(this,Js).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=se(this,Ot).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=se(this,Ot).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(v0(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return se(this,Ot).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=se(this,Ot).get(n.queryHash),a=i==null?void 0:i.state.data,u=P4(t,a);if(u!==void 0)return se(this,Ot).build(this,n).setData(u,{...r,manual:!0})}setQueriesData(e,t,r){return _r.batch(()=>se(this,Ot).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=se(this,Ot).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=se(this,Ot);_r.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=se(this,Ot);return _r.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=_r.batch(()=>se(this,Ot).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Sn).catch(Sn)}invalidateQueries(e,t={}){return _r.batch(()=>(se(this,Ot).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=_r.batch(()=>se(this,Ot).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Sn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Sn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=se(this,Ot).build(this,t);return r.isStaleByTime(v0(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Sn).catch(Sn)}fetchInfiniteQuery(e){return e.behavior=_g(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Sn).catch(Sn)}ensureInfiniteQueryData(e){return e.behavior=_g(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ju.isOnline()?se(this,Js).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,Ot)}getMutationCache(){return se(this,Js)}getDefaultOptions(){return se(this,ei)}setDefaultOptions(e){Le(this,ei,e)}setQueryDefaults(e,t){se(this,la).set(zl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...se(this,la).values()],r={};return t.forEach(n=>{Wl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){se(this,ca).set(zl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...se(this,ca).values()],r={};return t.forEach(n=>{Wl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...se(this,ei).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===sm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...se(this,ei).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){se(this,Ot).clear(),se(this,Js).clear()}},Ot=new WeakMap,Js=new WeakMap,ei=new WeakMap,la=new WeakMap,ca=new WeakMap,ti=new WeakMap,ua=new WeakMap,da=new WeakMap,Ux),rT=I.createContext(void 0),nT=({client:e,children:t})=>(I.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),m.jsx(rT.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(this,arguments)}var si;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(si||(si={}));const Ag="popstate";function sT(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:u,hash:h}=n.location;return E0("",{pathname:a,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ed(i)}return oT(t,r,null,e)}function Ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function im(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iT(){return Math.random().toString(36).substr(2,8)}function Ng(e,t){return{usr:e.state,key:e.key,idx:t}}function E0(e,t,r,n){return r===void 0&&(r=null),Hl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pa(t):t,{state:r,key:t&&t.key||n||iT()})}function ed(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function oT(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,u=i.history,h=si.Pop,p=null,x=w();x==null&&(x=0,u.replaceState(Hl({},u.state,{idx:x}),""));function w(){return(u.state||{idx:null}).idx}function b(){h=si.Pop;let P=w(),T=P==null?null:P-x;x=P,p&&p({action:h,location:A.location,delta:T})}function C(P,T){h=si.Push;let S=E0(A.location,P,T);x=w()+1;let _=Ng(S,x),j=A.createHref(S);try{u.pushState(_,"",j)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(j)}a&&p&&p({action:h,location:A.location,delta:1})}function E(P,T){h=si.Replace;let S=E0(A.location,P,T);x=w();let _=Ng(S,x),j=A.createHref(S);u.replaceState(_,"",j),a&&p&&p({action:h,location:A.location,delta:0})}function k(P){let T=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof P=="string"?P:ed(P);return S=S.replace(/ $/,"%20"),Ft(T,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,T)}let A={get action(){return h},get location(){return e(i,u)},listen(P){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(Ag,b),p=P,()=>{i.removeEventListener(Ag,b),p=null}},createHref(P){return t(i,P)},createURL:k,encodeLocation(P){let T=k(P);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:C,replace:E,go(P){return u.go(P)}};return A}var Tg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tg||(Tg={}));function aT(e,t,r){return r===void 0&&(r="/"),lT(e,t,r,!1)}function lT(e,t,r,n){let i=typeof t=="string"?Pa(t):t,a=om(i.pathname||"/",r);if(a==null)return null;let u=Mv(e);cT(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let x=vT(a);h=yT(u[p],x,n)}return h}function Mv(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,u,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};p.relativePath.startsWith("/")&&(Ft(p.relativePath.startsWith(n),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(n.length));let x=pi([n,p.relativePath]),w=r.concat(p);a.children&&a.children.length>0&&(Ft(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),Mv(a.children,t,w,x)),!(a.path==null&&!a.index)&&t.push({path:x,score:gT(x,a.index),routesMeta:w})};return e.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))i(a,u);else for(let p of Lv(a.path))i(a,u,p)}),t}function Lv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let u=Lv(n.join("/")),h=[];return h.push(...u.map(p=>p===""?a:[a,p].join("/"))),i&&h.push(...u),h.map(p=>e.startsWith("/")&&p===""?"/":p)}function cT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xT(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const uT=/^:[\w-]+$/,dT=3,fT=2,hT=1,mT=10,pT=-2,kg=e=>e==="*";function gT(e,t){let r=e.split("/"),n=r.length;return r.some(kg)&&(n+=pT),t&&(n+=fT),r.filter(i=>!kg(i)).reduce((i,a)=>i+(uT.test(a)?dT:a===""?hT:mT),n)}function xT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function yT(e,t,r){let{routesMeta:n}=e,i={},a="/",u=[];for(let h=0;h<n.length;++h){let p=n[h],x=h===n.length-1,w=a==="/"?t:t.slice(a.length)||"/",b=Ig({path:p.relativePath,caseSensitive:p.caseSensitive,end:x},w),C=p.route;if(!b&&x&&r&&!n[n.length-1].route.index&&(b=Ig({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!b)return null;Object.assign(i,b.params),u.push({params:i,pathname:pi([a,b.pathname]),pathnameBase:ST(pi([a,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(a=pi([a,b.pathnameBase]))}return u}function Ig(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=wT(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:n.reduce((x,w,b)=>{let{paramName:C,isOptional:E}=w;if(C==="*"){let A=h[b]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const k=h[b];return E&&!k?x[C]=void 0:x[C]=(k||"").replace(/%2F/g,"/"),x},{}),pathname:a,pathnameBase:u,pattern:e}}function wT(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),im(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(n.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function vT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return im(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function om(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const bT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ET=e=>bT.test(e);function CT(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Pa(e):e,a;if(r)if(ET(r))a=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),im(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+r))}r.startsWith("/")?a=Rg(r.substring(1),"/"):a=Rg(r,t)}else a=t;return{pathname:a,search:AT(n),hash:NT(i)}}function Rg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function qf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _T(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function am(e,t){let r=_T(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function lm(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Pa(e):(i=Hl({},e),Ft(!i.pathname||!i.pathname.includes("?"),qf("?","pathname","search",i)),Ft(!i.pathname||!i.pathname.includes("#"),qf("#","pathname","hash",i)),Ft(!i.search||!i.search.includes("#"),qf("#","search","hash",i)));let a=e===""||i.pathname==="",u=a?"/":i.pathname,h;if(u==null)h=r;else{let b=t.length-1;if(!n&&u.startsWith("..")){let C=u.split("/");for(;C[0]==="..";)C.shift(),b-=1;i.pathname=C.join("/")}h=b>=0?t[b]:"/"}let p=CT(i,h),x=u&&u!=="/"&&u.endsWith("/"),w=(a||u===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(x||w)&&(p.pathname+="/"),p}const pi=e=>e.join("/").replace(/\/\/+/g,"/"),ST=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,NT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function TT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Bv=["post","put","patch","delete"];new Set(Bv);const kT=["get",...Bv];new Set(kT);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(this,arguments)}const cm=I.createContext(null),IT=I.createContext(null),Si=I.createContext(null),Fd=I.createContext(null),Ts=I.createContext({outlet:null,matches:[],isDataRoute:!1}),Fv=I.createContext(null);function RT(e,t){let{relative:r}=t===void 0?{}:t;ja()||Ft(!1);let{basename:n,navigator:i}=I.useContext(Si),{hash:a,pathname:u,search:h}=zv(e,{relative:r}),p=u;return n!=="/"&&(p=u==="/"?n:pi([n,u])),i.createHref({pathname:p,search:h,hash:a})}function ja(){return I.useContext(Fd)!=null}function ks(){return ja()||Ft(!1),I.useContext(Fd).location}function Uv(e){I.useContext(Si).static||I.useLayoutEffect(e)}function Is(){let{isDataRoute:e}=I.useContext(Ts);return e?HT():OT()}function OT(){ja()||Ft(!1);let e=I.useContext(cm),{basename:t,future:r,navigator:n}=I.useContext(Si),{matches:i}=I.useContext(Ts),{pathname:a}=ks(),u=JSON.stringify(am(i,r.v7_relativeSplatPath)),h=I.useRef(!1);return Uv(()=>{h.current=!0}),I.useCallback(function(x,w){if(w===void 0&&(w={}),!h.current)return;if(typeof x=="number"){n.go(x);return}let b=lm(x,JSON.parse(u),a,w.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:pi([t,b.pathname])),(w.replace?n.replace:n.push)(b,w.state,w)},[t,n,u,a,e])}function Vv(){let{matches:e}=I.useContext(Ts),t=e[e.length-1];return t?t.params:{}}function zv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=I.useContext(Si),{matches:i}=I.useContext(Ts),{pathname:a}=ks(),u=JSON.stringify(am(i,n.v7_relativeSplatPath));return I.useMemo(()=>lm(e,JSON.parse(u),a,r==="path"),[e,u,a,r])}function PT(e,t){return jT(e,t)}function jT(e,t,r,n){ja()||Ft(!1);let{navigator:i}=I.useContext(Si),{matches:a}=I.useContext(Ts),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let x=ks(),w;if(t){var b;let P=typeof t=="string"?Pa(t):t;p==="/"||(b=P.pathname)!=null&&b.startsWith(p)||Ft(!1),w=P}else w=x;let C=w.pathname||"/",E=C;if(p!=="/"){let P=p.replace(/^\//,"").split("/");E="/"+C.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=aT(e,{pathname:E}),A=FT(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:pi([p,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:pi([p,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,r,n);return t&&A?I.createElement(Fd.Provider,{value:{location:$l({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:si.Pop}},A):A}function DT(){let e=WT(),t=TT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),r?I.createElement("pre",{style:i},r):null,null)}const MT=I.createElement(DT,null);class LT extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?I.createElement(Ts.Provider,{value:this.props.routeContext},I.createElement(Fv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BT(e){let{routeContext:t,match:r,children:n}=e,i=I.useContext(cm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(Ts.Provider,{value:t},n)}function FT(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let u=e,h=(i=r)==null?void 0:i.errors;if(h!=null){let w=u.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);w>=0||Ft(!1),u=u.slice(0,Math.min(u.length,w+1))}let p=!1,x=-1;if(r&&n&&n.v7_partialHydration)for(let w=0;w<u.length;w++){let b=u[w];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=w),b.route.id){let{loaderData:C,errors:E}=r,k=b.route.loader&&C[b.route.id]===void 0&&(!E||E[b.route.id]===void 0);if(b.route.lazy||k){p=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}return u.reduceRight((w,b,C)=>{let E,k=!1,A=null,P=null;r&&(E=h&&b.route.id?h[b.route.id]:void 0,A=b.route.errorElement||MT,p&&(x<0&&C===0?(k=!0,P=null):x===C&&(k=!0,P=b.route.hydrateFallbackElement||null)));let T=t.concat(u.slice(0,C+1)),S=()=>{let _;return E?_=A:k?_=P:b.route.Component?_=I.createElement(b.route.Component,null):b.route.element?_=b.route.element:_=w,I.createElement(BT,{match:b,routeContext:{outlet:w,matches:T,isDataRoute:r!=null},children:_})};return r&&(b.route.ErrorBoundary||b.route.errorElement||C===0)?I.createElement(LT,{location:r.location,revalidation:r.revalidation,component:A,error:E,children:S(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):S()},null)}var Wv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Wv||{}),td=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(td||{});function UT(e){let t=I.useContext(cm);return t||Ft(!1),t}function VT(e){let t=I.useContext(IT);return t||Ft(!1),t}function zT(e){let t=I.useContext(Ts);return t||Ft(!1),t}function Hv(e){let t=zT(),r=t.matches[t.matches.length-1];return r.route.id||Ft(!1),r.route.id}function WT(){var e;let t=I.useContext(Fv),r=VT(td.UseRouteError),n=Hv(td.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function HT(){let{router:e}=UT(Wv.UseNavigateStable),t=Hv(td.UseNavigateStable),r=I.useRef(!1);return Uv(()=>{r.current=!0}),I.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,$l({fromRouteId:t},a)))},[e,t])}function $T(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function C0(e){let{to:t,replace:r,state:n,relative:i}=e;ja()||Ft(!1);let{future:a,static:u}=I.useContext(Si),{matches:h}=I.useContext(Ts),{pathname:p}=ks(),x=Is(),w=lm(t,am(h,a.v7_relativeSplatPath),p,i==="path"),b=JSON.stringify(w);return I.useEffect(()=>x(JSON.parse(b),{replace:r,state:n,relative:i}),[x,b,i,r,n]),null}function ar(e){Ft(!1)}function GT(e){let{basename:t="/",children:r=null,location:n,navigationType:i=si.Pop,navigator:a,static:u=!1,future:h}=e;ja()&&Ft(!1);let p=t.replace(/^\/*/,"/"),x=I.useMemo(()=>({basename:p,navigator:a,static:u,future:$l({v7_relativeSplatPath:!1},h)}),[p,h,a,u]);typeof n=="string"&&(n=Pa(n));let{pathname:w="/",search:b="",hash:C="",state:E=null,key:k="default"}=n,A=I.useMemo(()=>{let P=om(w,p);return P==null?null:{location:{pathname:P,search:b,hash:C,state:E,key:k},navigationType:i}},[p,w,b,C,E,k,i]);return A==null?null:I.createElement(Si.Provider,{value:x},I.createElement(Fd.Provider,{children:r,value:A}))}function qT(e){let{children:t,location:r}=e;return PT(_0(t),r)}new Promise(()=>{});function _0(e,t){t===void 0&&(t=[]);let r=[];return I.Children.forEach(e,(n,i)=>{if(!I.isValidElement(n))return;let a=[...t,i];if(n.type===I.Fragment){r.push.apply(r,_0(n.props.children,a));return}n.type!==ar&&Ft(!1),!n.props.index||!n.props.children||Ft(!1);let u={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=_0(n.props.children,a)),r.push(u)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S0.apply(this,arguments)}function KT(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function XT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YT(e,t){return e.button===0&&(!t||t==="_self")&&!XT(e)}const QT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZT="6";try{window.__reactRouterVersion=ZT}catch{}const JT="startTransition",Og=X0[JT];function e8(e){let{basename:t,children:r,future:n,window:i}=e,a=I.useRef();a.current==null&&(a.current=sT({window:i,v5Compat:!0}));let u=a.current,[h,p]=I.useState({action:u.action,location:u.location}),{v7_startTransition:x}=n||{},w=I.useCallback(b=>{x&&Og?Og(()=>p(b)):p(b)},[p,x]);return I.useLayoutEffect(()=>u.listen(w),[u,w]),I.useEffect(()=>$T(n),[n]),I.createElement(GT,{basename:t,children:r,location:h.location,navigationType:h.action,navigator:u,future:n})}const t8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",r8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xr=I.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:u,state:h,target:p,to:x,preventScrollReset:w,viewTransition:b}=t,C=KT(t,QT),{basename:E}=I.useContext(Si),k,A=!1;if(typeof x=="string"&&r8.test(x)&&(k=x,t8))try{let _=new URL(window.location.href),j=x.startsWith("//")?new URL(_.protocol+x):new URL(x),F=om(j.pathname,E);j.origin===_.origin&&F!=null?x=F+j.search+j.hash:A=!0}catch{}let P=RT(x,{relative:i}),T=n8(x,{replace:u,state:h,target:p,preventScrollReset:w,relative:i,viewTransition:b});function S(_){n&&n(_),_.defaultPrevented||T(_)}return I.createElement("a",S0({},C,{href:k||P,onClick:A||a?n:S,ref:r,target:p}))});var Pg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pg||(Pg={}));var jg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jg||(jg={}));function n8(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:u,viewTransition:h}=t===void 0?{}:t,p=Is(),x=ks(),w=zv(e,{relative:u});return I.useCallback(b=>{if(YT(b,r)){b.preventDefault();let C=n!==void 0?n:ed(x)===ed(w);p(e,{replace:C,state:i,preventScrollReset:a,relative:u,viewTransition:h})}},[x,p,w,n,i,r,e,a,u,h])}var Zn=function(){return Zn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Zn.apply(this,arguments)};function Da(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function s8(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function h(w){try{x(n.next(w))}catch(b){u(b)}}function p(w){try{x(n.throw(w))}catch(b){u(b)}}function x(w){w.done?a(w.value):i(w.value).then(h,p)}x((n=n.apply(e,t||[])).next())})}function i8(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}const o8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class um extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class a8 extends um{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Dg extends um{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Mg extends um{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var A0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(A0||(A0={}));class l8{constructor(t,{headers:r={},customFetch:n,region:i=A0.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=o8(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return s8(this,arguments,void 0,function*(r,n={}){var i;let a,u;try{const{headers:h,method:p,body:x,signal:w,timeout:b}=n;let C={},{region:E}=n;E||(E=this.region);const k=new URL(`${this.url}/${r}`);E&&E!=="any"&&(C["x-region"]=E,k.searchParams.set("forceFunctionRegion",E));let A;x&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(C["Content-Type"]="application/octet-stream",A=x):typeof x=="string"?(C["Content-Type"]="text/plain",A=x):typeof FormData<"u"&&x instanceof FormData?A=x:(C["Content-Type"]="application/json",A=JSON.stringify(x)):x&&typeof x!="string"&&!(typeof Blob<"u"&&x instanceof Blob)&&!(x instanceof ArrayBuffer)&&!(typeof FormData<"u"&&x instanceof FormData)?A=JSON.stringify(x):A=x;let P=w;b&&(u=new AbortController,a=setTimeout(()=>u.abort(),b),w?(P=u.signal,w.addEventListener("abort",()=>u.abort())):P=u.signal);const T=yield this.fetch(k.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},C),this.headers),h),body:A,signal:P}).catch(F=>{throw new a8(F)}),S=T.headers.get("x-relay-error");if(S&&S==="true")throw new Dg(T);if(!T.ok)throw new Mg(T);let _=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return _==="application/json"?j=yield T.json():_==="application/octet-stream"||_==="application/pdf"?j=yield T.blob():_==="text/event-stream"?j=T:_==="multipart/form-data"?j=yield T.formData():j=yield T.text(),{data:j,error:null,response:T}}catch(h){return{data:null,error:h,response:h instanceof Mg||h instanceof Dg?h.context:void 0}}finally{a&&clearTimeout(a)}})}}var c8=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},u8=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let u=null,h=null,p=null,x=a.status,w=a.statusText;if(a.ok){var b,C;if(r.method!=="HEAD"){var E;const T=await a.text();T===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((E=r.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?h=T:h=JSON.parse(T))}const A=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),P=(C=a.headers.get("content-range"))===null||C===void 0?void 0:C.split("/");A&&P&&P.length>1&&(p=parseInt(P[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,x=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var k;const A=await a.text();try{u=JSON.parse(A),Array.isArray(u)&&a.status===404&&(h=[],u=null,x=200,w="OK")}catch{a.status===404&&A===""?(x=204,w="No Content"):u={message:A}}if(u&&r.isMaybeSingle&&(!(u==null||(k=u.details)===null||k===void 0)&&k.includes("0 rows"))&&(u=null,x=200,w="OK"),u&&r.shouldThrowOnError)throw new c8(u)}return{error:u,data:h,count:p,status:x,statusText:w}});return this.shouldThrowOnError||(i=i.catch(a=>{var u;let h="";const p=a==null?void 0:a.cause;if(p){var x,w,b,C;const k=(x=p==null?void 0:p.message)!==null&&x!==void 0?x:"",A=(w=p==null?void 0:p.code)!==null&&w!==void 0?w:"";h=`${(b=a==null?void 0:a.name)!==null&&b!==void 0?b:"FetchError"}: ${a==null?void 0:a.message}`,h+=`

Caused by: ${(C=p==null?void 0:p.name)!==null&&C!==void 0?C:"Error"}: ${k}`,A&&(h+=` (${A})`),p!=null&&p.stack&&(h+=`
${p.stack}`)}else{var E;h=(E=a==null?void 0:a.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},d8=class extends u8{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",u=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${u?`${u},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var u;const h=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${p}"; options=${h};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Lg=new RegExp("[,()]");var Ro=class extends d8{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Lg.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Lg.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},f8=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let a=!1;const u=(e??"*").split("").map(x=>/\s/.test(x)&&!a?"":(x==='"'&&(a=!a),x)).join(""),{url:h,headers:p}=this.cloneRequestState();return h.searchParams.set("select",u),n&&p.append("Prefer",`count=${n}`),new Ro({method:i,url:h,headers:p,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:u}=this.cloneRequestState();if(t&&u.append("Prefer",`count=${t}`),r||u.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,x)=>p.concat(Object.keys(x)),[]);if(h.length>0){const p=[...new Set(h)].map(x=>`"${x}"`);a.searchParams.set("columns",p.join(","))}}return new Ro({method:i,url:a,headers:u,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const u="POST",{url:h,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&h.searchParams.set("on_conflict",t),n&&p.append("Prefer",`count=${n}`),i||p.append("Prefer","missing=default"),Array.isArray(e)){const x=e.reduce((w,b)=>w.concat(Object.keys(b)),[]);if(x.length>0){const w=[...new Set(x)].map(b=>`"${b}"`);h.searchParams.set("columns",w.join(","))}}return new Ro({method:u,url:h,headers:p,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Ro({method:n,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Ro({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},h8=class $v{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new f8(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $v(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var u;let h;const p=new URL(`${this.url}/rpc/${t}`);let x;const w=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(w)),b=n&&Object.values(r).some(w);b?(h="POST",x=r):n||i?(h=n?"HEAD":"GET",Object.entries(r).filter(([E,k])=>k!==void 0).map(([E,k])=>[E,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([E,k])=>{p.searchParams.append(E,k)})):(h="POST",x=r);const C=new Headers(this.headers);return b?C.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&C.set("Prefer",`count=${a}`),new Ro({method:h,url:p,headers:C,schema:this.schemaName,body:x,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class m8{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const p8="2.90.1",g8=`realtime-js/${p8}`,Gv="1.0.0",x8="2.0.0",Bg=Gv,N0=1e4,y8=1e3,w8=100;var qs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qs||(qs={}));var qt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qt||(qt={}));var In;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(In||(In={}));var T0;(function(e){e.websocket="websocket"})(T0||(T0={}));var Ui;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ui||(Ui={}));class v8{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},u=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,r,n){var i,a;const u=t.topic,h=(i=t.ref)!==null&&i!==void 0?i:"",p=(a=t.join_ref)!==null&&a!==void 0?a:"",x=t.payload.event,w=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(w).length===0?"":JSON.stringify(w);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const C=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+u.length+x.length+b.length,E=new ArrayBuffer(this.HEADER_LENGTH+C);let k=new DataView(E),A=0;k.setUint8(A++,this.KINDS.userBroadcastPush),k.setUint8(A++,p.length),k.setUint8(A++,h.length),k.setUint8(A++,u.length),k.setUint8(A++,x.length),k.setUint8(A++,b.length),k.setUint8(A++,r),Array.from(p,T=>k.setUint8(A++,T.charCodeAt(0))),Array.from(h,T=>k.setUint8(A++,T.charCodeAt(0))),Array.from(u,T=>k.setUint8(A++,T.charCodeAt(0))),Array.from(x,T=>k.setUint8(A++,T.charCodeAt(0))),Array.from(b,T=>k.setUint8(A++,T.charCodeAt(0)));var P=new Uint8Array(E.byteLength+n.byteLength);return P.set(new Uint8Array(E),0),P.set(new Uint8Array(n),E.byteLength),P.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,u,h,p]=n;return r({join_ref:i,ref:a,topic:u,event:h,payload:p})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),u=r.getUint8(3),h=r.getUint8(4);let p=this.HEADER_LENGTH+4;const x=n.decode(t.slice(p,p+i));p=p+i;const w=n.decode(t.slice(p,p+a));p=p+a;const b=n.decode(t.slice(p,p+u));p=p+u;const C=t.slice(p,t.byteLength),E=h===this.JSON_ENCODING?JSON.parse(n.decode(C)):C,k={type:this.BROADCAST_EVENT,event:w,payload:E};return u>0&&(k.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class qv{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ct||(ct={}));const Fg=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,u)=>(a[u]=b8(u,e,t,i),a),{}):{}},b8=(e,t,r,n)=>{const i=t.find(h=>h.name===e),a=i==null?void 0:i.type,u=r[e];return a&&!n.includes(a)?Kv(a,u):k0(u)},Kv=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return S8(t,r)}switch(e){case ct.bool:return E8(t);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return C8(t);case ct.json:case ct.jsonb:return _8(t);case ct.timestamp:return A8(t);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return k0(t);default:return k0(t)}},k0=e=>e,E8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},C8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},_8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},S8=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const u=e.slice(1,r);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(h=>Kv(t,h))}return e},A8=e=>typeof e=="string"?e.replace(" ","T"):e,Xv=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Kf{constructor(t,r,n={},i=N0){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ug;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ug||(Ug={}));class wl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wl.syncState(this.state,i,a,u),this.pendingDiffs.forEach(p=>{this.state=wl.syncDiff(this.state,p,a,u)}),this.pendingDiffs=[],h()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=wl.syncDiff(this.state,i,a,u),h())}),this.onJoin((i,a,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:u})}),this.onLeave((i,a,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),u=this.transformState(r),h={},p={};return this.map(a,(x,w)=>{u[x]||(p[x]=w)}),this.map(u,(x,w)=>{const b=a[x];if(b){const C=w.map(P=>P.presence_ref),E=b.map(P=>P.presence_ref),k=w.filter(P=>E.indexOf(P.presence_ref)<0),A=b.filter(P=>C.indexOf(P.presence_ref)<0);k.length>0&&(h[x]=k),A.length>0&&(p[x]=A)}else h[x]=w}),this.syncDiff(a,{joins:h,leaves:p},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(h,p)=>{var x;const w=(x=t[h])!==null&&x!==void 0?x:[];if(t[h]=this.cloneDeep(p),w.length>0){const b=t[h].map(E=>E.presence_ref),C=w.filter(E=>b.indexOf(E.presence_ref)<0);t[h].unshift(...C)}n(h,w,p)}),this.map(u,(h,p)=>{let x=t[h];if(!x)return;const w=p.map(b=>b.presence_ref);x=x.filter(b=>w.indexOf(b.presence_ref)<0),t[h]=x,i(h,x,p),x.length===0&&delete t[h]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Vg||(Vg={}));var vl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vl||(vl={}));var hs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hs||(hs={}));class Go{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Kf(this,In.join,this.params,this.timeout),this.rejoinTimer=new qv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(In.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new wl(this),this.broadcastEndpointURL=Xv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==qt.closed){const{config:{broadcast:u,presence:h,private:p}}=this.params,x=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(E=>E.filter))!==null&&i!==void 0?i:[],w=!!this.bindings[vl.PRESENCE]&&this.bindings[vl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,b={},C={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:w}),postgres_changes:x,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(E=>t==null?void 0:t(hs.CHANNEL_ERROR,E)),this._onClose(()=>t==null?void 0:t(hs.CLOSED)),this.updateJoinPayload(Object.assign({config:C},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:E})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){t==null||t(hs.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,P=(k=A==null?void 0:A.length)!==null&&k!==void 0?k:0,T=[];for(let S=0;S<P;S++){const _=A[S],{filter:{event:j,schema:F,table:L,filter:M}}=_,W=E&&E[S];if(W&&W.event===j&&Go.isFilterValueEqual(W.schema,F)&&Go.isFilterValueEqual(W.table,L)&&Go.isFilterValueEqual(W.filter,M))T.push(Object.assign(Object.assign({},_),{id:W.id}));else{this.unsubscribe(),this.state=qt.errored,t==null||t(hs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(hs.SUBSCRIBED);return}}).receive("error",E=>{this.state=qt.errored,t==null||t(hs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===qt.joined&&t===vl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const x=await h.json();p=x.error||x.message||p}catch{}return Promise.reject(new Error(p))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=t,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=x.body)===null||i===void 0?void 0:i.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,h,p;const x=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&a("ok"),x.receive("ok",()=>a("ok")),x.receive("error",()=>a("error")),x.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(In.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Kf(this,In.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),u=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),u}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Kf(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>w8){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const u=t.toLocaleLowerCase(),{close:h,error:p,leave:x,join:w}=In;if(n&&[h,p,x,w].indexOf(u)>=0&&n!==this._joinRef())return;let C=this._onMessage(u,r,n);if(r&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(E=>{var k,A,P;return((k=E.filter)===null||k===void 0?void 0:k.event)==="*"||((P=(A=E.filter)===null||A===void 0?void 0:A.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===u}).map(E=>E.callback(C,n)):(a=this.bindings[u])===null||a===void 0||a.filter(E=>{var k,A,P,T,S,_,j,F;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in E){const L=E.id,M=(k=E.filter)===null||k===void 0?void 0:k.event;return L&&((A=r.ids)===null||A===void 0?void 0:A.includes(L))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((P=r.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))&&(!(!((T=E.filter)===null||T===void 0)&&T.table)||E.filter.table===((S=r.data)===null||S===void 0?void 0:S.table))}else{const L=(j=(_=E==null?void 0:E.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return L==="*"||L===((F=r==null?void 0:r.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===u}).map(E=>{if(typeof C=="object"&&"ids"in C){const k=C.data,{schema:A,table:P,commit_timestamp:T,type:S,errors:_}=k;C=Object.assign(Object.assign({},{schema:A,table:P,commit_timestamp:T,eventType:S,new:{},old:{},errors:_}),this._getPayloadRecords(k))}E.callback(C,n)})}_isClosed(){return this.state===qt.closed}_isJoined(){return this.state===qt.joined}_isJoining(){return this.state===qt.joining}_isLeaving(){return this.state===qt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Go.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(In.close,{},t)}_onError(t){this._on(In.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Fg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Fg(t.columns,t.old_record)),r}}const Xf=()=>{},Kc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},N8=[1e3,2e3,5e3,1e4],T8=1e4,k8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class I8{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=N0,this.transport=null,this.heartbeatIntervalMs=Kc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xf,this.ref=0,this.reconnectTimer=null,this.vsn=Bg,this.logger=Xf,this.conn=null,this.sendBuffer=[],this.serializer=new v8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${T0.websocket}`,this.httpEndpoint=Xv(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=m8.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qs.connecting:return Ui.Connecting;case qs.open:return Ui.Open;case qs.closing:return Ui.Closing;default:return Ui.Closed}}isConnected(){return this.connectionState()===Ui.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Go(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,u=()=>{this.encode(t,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(y8,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Kc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const x=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",x)}catch(w){this.log("error","error in heartbeat callback",w)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:u}=r,h=u?`(${u})`:"",p=a.status||"";this.log("receive",`${p} ${n} ${i} ${h}`.trim(),a),this.channels.filter(x=>x._isMember(n)).forEach(x=>x._trigger(i,a,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===qs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qs.open||this.conn.readyState===qs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(In.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([k8],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:g8};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(In.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new qv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,u,h,p,x,w,b,C,E;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:N0,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Kc.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=t==null?void 0:t.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=t==null?void 0:t.heartbeatCallback)!==null&&h!==void 0?h:Xf,this.vsn=(p=t==null?void 0:t.vsn)!==null&&p!==void 0?p:Bg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=t==null?void 0:t.reconnectAfterMs)!==null&&x!==void 0?x:k=>N8[k-1]||T8,this.vsn){case Gv:this.encode=(w=t==null?void 0:t.encode)!==null&&w!==void 0?w:(k,A)=>A(JSON.stringify(k)),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:(k,A)=>A(JSON.parse(k));break;case x8:this.encode=(C=t==null?void 0:t.encode)!==null&&C!==void 0?C:this.serializer.encode.bind(this.serializer),this.decode=(E=t==null?void 0:t.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Gl=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function R8(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function O8(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function P8(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:u}){const h=R8(e.baseUrl,n,i),p=await O8(e.auth),x=await t(h,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...p,...u},body:a?JSON.stringify(a):void 0}),w=await x.text(),b=(x.headers.get("content-type")||"").includes("application/json"),C=b&&w?JSON.parse(w):w;if(!x.ok){const E=b?C:void 0,k=E==null?void 0:E.error;throw new Gl((k==null?void 0:k.message)??`Request failed with status ${x.status}`,{status:x.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:E})}return{status:x.status,headers:x.headers,data:C}}}}function Xc(e){return e.join("")}var j8=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Xc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xc(e.namespace)}`}),!0}catch(t){if(t instanceof Gl&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Gl&&r.status===409)return;throw r}}};function Eo(e){return e.join("")}var D8=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Eo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Gl&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Gl&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},M8=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=P8({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new j8(this.client,t),this.tableOps=new D8(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ud=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function St(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var L8=class extends Ud{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},I0=class extends Ud{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const dm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),B8=()=>Response,R0=e=>{if(Array.isArray(e))return e.map(r=>R0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=R0(n)}),t},F8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},U8=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function V8(e,t){if(ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z8(e){var t=V8(e,"string");return ql(t)=="symbol"?t:t+""}function W8(e,t,r){return(t=z8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zg(Object(r),!0).forEach(function(n){W8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Yf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},H8=async(e,t,r)=>{e instanceof await B8()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const i=e.status||500,a=(n==null?void 0:n.statusCode)||i+"";t(new L8(Yf(n),i,a))}).catch(n=>{t(new I0(Yf(n),n))}):t(new I0(Yf(e),e))},$8=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(F8(n)?(i.headers=je({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),je(je({},i),r))};async function uc(e,t,r,n,i,a){return new Promise((u,h)=>{e(r,$8(t,n,i,a)).then(p=>{if(!p.ok)throw p;return n!=null&&n.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>H8(p,h,n))})}async function Kl(e,t,r,n){return uc(e,"GET",t,r,n)}async function An(e,t,r,n,i){return uc(e,"POST",t,n,i,r)}async function O0(e,t,r,n,i){return uc(e,"PUT",t,n,i,r)}async function G8(e,t,r,n){return uc(e,"HEAD",t,je(je({},r),{},{noResolveJson:!0}),n)}async function fm(e,t,r,n,i){return uc(e,"DELETE",t,n,i,r)}var q8=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(St(t))return{data:null,error:t};throw t}}};let Yv;Yv=Symbol.toStringTag;var K8=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Yv]="BlobDownloadBuilder",this.promise=null}asStream(){return new q8(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(St(t))return{data:null,error:t};throw t}}};const X8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Y8=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=dm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var i=this;try{let a;const u=je(je({},Wg),n);let h=je(je({},i.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),p&&a.append("metadata",i.encodeMetadata(p)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),p&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(p))):(a=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,p&&(h["x-metadata"]=i.toBase64(i.encodeMetadata(p))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),n!=null&&n.headers&&(h=je(je({},h),n.headers));const x=i._removeEmptyFolders(t),w=i._getFinalPath(x),b=await(e=="PUT"?O0:An)(i.fetch,`${i.url}/object/${w}`,a,je({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:x,id:b.Id,fullPath:b.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(St(a))return{data:null,error:a};throw a}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const a=i._removeEmptyFolders(e),u=i._getFinalPath(a),h=new URL(i.url+`/object/upload/sign/${u}`);h.searchParams.set("token",t);try{let p;const x=je({upsert:Wg.upsert},n),w=je(je({},i.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",x.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",x.cacheControl)):(p=r,w["cache-control"]=`max-age=${x.cacheControl}`,w["content-type"]=x.contentType),{data:{path:a,fullPath:(await O0(i.fetch,h.toString(),p,{headers:w})).Key},error:null}}catch(p){if(i.shouldThrowOnError)throw p;if(St(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const i=je({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await An(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),u=new URL(r.url+a.url),h=u.searchParams.get("token");if(!h)throw new Ud("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await An(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}}async copy(e,t,r){var n=this;try{return{data:{path:(await An(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,r){var n=this;try{let i=n._getFinalPath(e),a=await An(n.fetch,`${n.url}/object/sign/${i}`,je({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,r){var n=this;try{const i=await An(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(u=>je(je({},u),{},{signedUrl:u.signedURL?encodeURI(`${n.url}${u.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(e),u=()=>Kl(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new K8(u,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:R0(await Kl(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await G8(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(St(n)&&n instanceof I0){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});u!==""&&n.push(u);let h=n.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${h}`)}}}async remove(e){var t=this;try{return{data:await fm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const i=je(je(je({},X8),t),{},{prefix:e||""});return{data:await An(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(St(i))return{data:null,error:i};throw i}}async listV2(e,t){var r=this;try{const n=je({},e);return{data:await An(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Qv="2.90.1",Zv={"X-Client-Info":`storage-js/${Qv}`};var Q8=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=je(je({},Zv),t),this.fetch=dm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Kl(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Kl(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await An(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await O0(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(St(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await An(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await fm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Z8=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=je(je({},Zv),t),this.fetch=dm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await An(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Kl(t.fetch,i,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await fm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(St(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!U8(e))throw new Ud("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new M8({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const u=i[a];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(i,h),error:null}}catch(p){if(n)throw p;return{data:null,error:p}}}}})}};const hm={"X-Client-Info":`storage-js/${Qv}`,"Content-Type":"application/json"};var Jv=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Gr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Qf=class extends Jv{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},J8=class extends Jv{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const mm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ek=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tk=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const u=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";t(new Qf(Hg(a),n,u))}).catch(()=>{const a=n+"";t(new Qf(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";t(new Qf(i.statusText||`HTTP ${n} error`,n,a))}}else t(new J8(Hg(e),e))},rk=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(ek(n)?(i.headers=je({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,je(je({},i),r)):i};async function nk(e,t,r,n,i,a){return new Promise((u,h)=>{e(r,rk(t,n,i,a)).then(p=>{if(!p.ok)throw p;if(n!=null&&n.noResolveJson)return p;const x=p.headers.get("content-type");return!x||!x.includes("application/json")?{}:p.json()}).then(p=>u(p)).catch(p=>tk(p,h,n))})}async function qr(e,t,r,n,i){return nk(e,"POST",t,n,i,r)}var sk=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=je(je({},hm),t),this.fetch=mm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await qr(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Gr(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await qr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Gr(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await qr(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Gr(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await qr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Gr(n))return{data:null,error:n};throw n}}},ik=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=je(je({},hm),t),this.fetch=mm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await qr(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Gr(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await qr(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Gr(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await qr(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Gr(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await qr(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Gr(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await qr(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Gr(r))return{data:null,error:r};throw r}}},ok=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=je(je({},hm),t),this.fetch=mm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await qr(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Gr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await qr(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Gr(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await qr(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Gr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await qr(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Gr(r))return{data:null,error:r};throw r}}},ak=class extends ok{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new lk(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},lk=class extends sk{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,je(je({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,je(je({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new ck(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},ck=class extends ik{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,je(je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,je(je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,je(je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,je(je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,je(je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},uk=class extends Q8{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Y8(this.url,this.headers,e,this.fetch)}get vectors(){return new ak(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Z8(this.url+"/iceberg",this.headers,this.fetch)}};const eb="2.90.1",Oo=30*1e3,P0=3,Zf=P0*Oo,dk="http://localhost:9999",fk="supabase.auth.token",hk={"X-Client-Info":`gotrue-js/${eb}`},j0="X-Supabase-Api-Version",tb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pk=10*60*1e3;class Xl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function _e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gk extends Xl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function xk(e){return _e(e)&&e.name==="AuthApiError"}class Vi extends Xl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Rs extends Xl{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class zr extends Rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yk(e){return _e(e)&&e.name==="AuthSessionMissingError"}class Co extends Rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yc extends Rs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qc extends Rs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wk(e){return _e(e)&&e.name==="AuthImplicitGrantRedirectError"}class $g extends Rs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vk extends Rs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class D0 extends Rs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Jf(e){return _e(e)&&e.name==="AuthRetryableFetchError"}class Gg extends Rs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class M0 extends Rs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qg=` 	
\r=`.split(""),bk=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qg.length;t+=1)e[qg[t].charCodeAt(0)]=-2;for(let t=0;t<rd.length;t+=1)e[rd[t].charCodeAt(0)]=t;return e})();function Kg(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(rd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(rd[n]),t.queuedBits-=6}}function rb(e,t,r){const n=bk[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Xg(e){const t=[],r=u=>{t.push(String.fromCodePoint(u))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=u=>{_k(u,n,r)};for(let u=0;u<e.length;u+=1)rb(e.charCodeAt(u),i,a);return t.join("")}function Ek(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ck(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Ek(n,t)}}function _k(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ra(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)rb(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Sk(e){const t=[];return Ck(e,r=>t.push(r)),new Uint8Array(t)}function $i(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Kg(i,r,n)),Kg(null,r,n),t.join("")}function Ak(e){return Math.round(Date.now()/1e3)+e}function Nk(){return Symbol("auth-callback")}const lr=()=>typeof window<"u"&&typeof document<"u",Di={tested:!1,writable:!1},nb=()=>{if(!lr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Di.tested)return Di.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Di.tested=!0,Di.writable=!0}catch{Di.tested=!0,Di.writable=!1}return Di.writable};function Tk(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const sb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Po=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Mi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},or=async(e,t)=>{await e.removeItem(t)};class Vd{constructor(){this.promise=new Vd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Vd.promiseConstructor=Promise;function eh(e){const t=e.split(".");if(t.length!==3)throw new M0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!mk.test(t[n]))throw new M0("JWT not in base64url format");return{header:JSON.parse(Xg(t[0])),payload:JSON.parse(Xg(t[1])),signature:ra(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ik(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Rk(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await e(a);if(!t(a,null,u)){n(u);return}}catch(u){if(!t(a,u)){i(u);return}}})()})}function Ok(e){return("0"+e.toString(16)).substr(-2)}function Pk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Ok).join("")}async function jk(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Dk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await jk(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _o(e,t,r=!1){const n=Pk();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Po(e,`${t}-code-verifier`,i);const a=await Dk(n);return[a,n===a?"plain":"s256"]}const Mk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Lk(e){const t=e.headers.get(j0);if(!t||!t.match(Mk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Bk(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Fk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Uk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function So(e){if(!Uk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function th(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vk(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function Yg(e){return JSON.parse(JSON.stringify(e))}const Fi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zk=[502,503,504];async function Qg(e){var t;if(!kk(e))throw new D0(Fi(e),0);if(zk.includes(e.status))throw new D0(Fi(e),e.status);let r;try{r=await e.json()}catch(a){throw new Vi(Fi(a),a)}let n;const i=Lk(e);if(i&&i.getTime()>=tb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Gg(Fi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new zr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Gg(Fi(r),e.status,r.weak_password.reasons);throw new gk(Fi(r),e.status||500,n)}const Wk=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Pe(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[j0]||(a[j0]=tb["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const u=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(u.redirect_to=n.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await Hk(e,t,r+h,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(p):{data:Object.assign({},p),error:null}}async function Hk(e,t,r,n,i,a){const u=Wk(t,n,i,a);let h;try{h=await e(r,Object.assign({},u))}catch(p){throw console.error(p),new D0(Fi(p),0)}if(h.ok||await Qg(h),n!=null&&n.noResolveJson)return h;try{return await h.json()}catch(p){await Qg(p)}}function Cn(e){var t;let r=null;qk(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ak(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Zg(e){const t=Cn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ys(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $k(e){return{data:e,error:null}}function Gk(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,u=Da(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},p=Object.assign({},u);return{data:{properties:h,user:p},error:null}}function Jg(e){return e}function qk(e){return e.access_token&&e.refresh_token&&e.expires_in}const rh=["global","local","others"];class Kk{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=sb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=rh[0]){if(rh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rh.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ys})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Da(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Gk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(_e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ys})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,u,h,p;try{const x={nextPage:null,lastPage:0,total:0},w=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Jg});if(w.error)throw w.error;const b=await w.json(),C=(u=w.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(p=(h=w.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(k=>{const A=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(k.split(";")[1].split("=")[1]);x[`${P}Page`]=A}),x.total=parseInt(C)),{data:Object.assign(Object.assign({},b),x),error:null}}catch(x){if(_e(x))return{data:{users:[]},error:x};throw x}}async getUserById(t){So(t);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ys})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){So(t);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ys})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){So(t);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ys})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){So(t.userId);try{const{data:r,error:n}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _deleteFactor(t){So(t.userId),So(t.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,u,h,p;try{const x={nextPage:null,lastPage:0,total:0},w=await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Jg});if(w.error)throw w.error;const b=await w.json(),C=(u=w.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(p=(h=w.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(k=>{const A=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(k.split(";")[1].split("=")[1]);x[`${P}Page`]=A}),x.total=parseInt(C)),{data:Object.assign(Object.assign({},b),x),error:null}}catch(x){if(_e(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}}function ex(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ao={debug:!!(globalThis&&nb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ib extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Xk extends ib{}async function Yk(e,t,r){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Xk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ao.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Qk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ob(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Zk(e){return parseInt(e,16)}function Jk(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function eI(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:u,notBefore:h,requestId:p,resources:x,scheme:w,uri:b,version:C}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(C!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${C}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const E=ob(e.address),k=w?`${w}://${n}`:n,A=e.statement?`${e.statement}
`:"",P=`${k} wants you to sign in with your Ethereum account:
${E}

${A}`;let T=`URI: ${b}
Version: ${C}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),h&&(T+=`
Not Before: ${h.toISOString()}`),p&&(T+=`
Request ID: ${p}`),x){let S=`
Resources:`;for(const _ of x){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);S+=`
- ${_}`}T+=S}return`${P}
${T}`}class Ut extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class nd extends Ut{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function tI({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const u=window.location.hostname;if(ab(u)){if(a.rp.id!==u)return new Ut({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function rI({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(ab(n)){if(r.rpId!==n)return new Ut({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class nI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const sI=new nI;function iI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Da(e,["challenge","user","excludeCredentials"]),a=ra(t).buffer,u=Object.assign(Object.assign({},r),{id:ra(r.id).buffer}),h=Object.assign(Object.assign({},i),{challenge:a,user:u});if(n&&n.length>0){h.excludeCredentials=new Array(n.length);for(let p=0;p<n.length;p++){const x=n[p];h.excludeCredentials[p]=Object.assign(Object.assign({},x),{id:ra(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return h}function oI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Da(e,["challenge","allowCredentials"]),i=ra(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const h=r[u];a.allowCredentials[u]=Object.assign(Object.assign({},h),{id:ra(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return a}function aI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:$i(new Uint8Array(e.response.attestationObject)),clientDataJSON:$i(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:$i(new Uint8Array(i.authenticatorData)),clientDataJSON:$i(new Uint8Array(i.clientDataJSON)),signature:$i(new Uint8Array(i.signature)),userHandle:i.userHandle?$i(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ab(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function tx(){var e,t;return!!(lr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function cI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nd("Browser returned unexpected credential type",t)}:{data:null,error:new nd("Empty credential response",t)}}catch(t){return{data:null,error:tI({error:t,options:e})}}}async function uI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nd("Browser returned unexpected credential type",t)}:{data:null,error:new nd("Empty credential response",t)}}catch(t){return{data:null,error:rI({error:t,options:e})}}}const dI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},fI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function sd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const u=i[a];if(u!==void 0)if(Array.isArray(u))n[a]=u;else if(r(u))n[a]=u;else if(t(u)){const h=n[a];t(h)?n[a]=sd(h,u):n[a]=sd(u)}else n[a]=u}return n}function hI(e,t){return sd(dI,e,t||{})}function mI(e,t){return sd(fI,e,t||{})}class pI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!u)return{data:null,error:h};const p=i??sI.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:x}=u.webauthn.credential_options.publicKey;x.name||(x.name=`${x.id}:${n}`),x.displayName||(x.displayName=x.name)}switch(u.webauthn.type){case"create":{const x=hI(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:w,error:b}=await cI({publicKey:x,signal:p});return w?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:w}},error:null}:{data:null,error:b}}case"request":{const x=mI(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:w,error:b}=await uI(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:x,signal:p}));return w?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:w}},error:null}:{data:null,error:b}}}}catch(u){return _e(u)?{data:null,error:u}:{data:null,error:new Vi("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Xl("rpId is required for WebAuthn authentication")};try{if(!tx())return{data:null,error:new Vi("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!u)return{data:null,error:h};const{webauthn:p}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:n,credential_response:p.credential_response}})}catch(u){return _e(u)?{data:null,error:u}:{data:null,error:new Vi("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Xl("rpId is required for WebAuthn registration")};try{if(!tx())return{data:null,error:new Vi("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(w=>{var b;return(b=w.data)===null||b===void 0?void 0:b.all.find(C=>C.factor_type==="webauthn"&&C.friendly_name===t&&C.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w==null?void 0:w.id}):void 0),{data:null,error:h};const{data:p,error:x}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:n,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:x}}catch(u){return _e(u)?{data:null,error:u}:{data:null,error:new Vi("Unexpected error in register",u)}}}}Qk();const gI={url:dk,storageKey:fk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function rx(e,t,r){return await r()}const No={};class Yl{get jwks(){var t,r;return(r=(t=No[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=No[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},gI),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Yl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Yl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&lr()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Kk({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=sb(a.fetch),this.lock=a.lock||rx,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&lr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Yk:this.lock=rx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:nb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ex(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=ex(this.memoryStorage)),lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${eb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(lr()&&(r=Tk(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),lr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),wk(a)){const p=(t=a.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:u,redirectType:h}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _e(r)?this._returnResult({error:r}):this._returnResult({error:new Vi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Cn}),{data:u,error:h}=a;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const p=u.session,x=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(a){if(_e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:w,password:b,options:C}=t;let E=null,k=null;this.flowType==="pkce"&&([E,k]=await _o(this.storage,this.storageKey)),a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:C==null?void 0:C.emailRedirectTo,body:{email:w,password:b,data:(r=C==null?void 0:C.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken},code_challenge:E,code_challenge_method:k},xform:Cn})}else if("phone"in t){const{phone:w,password:b,options:C}=t;a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:b,data:(n=C==null?void 0:C.data)!==null&&n!==void 0?n:{},channel:(i=C==null?void 0:C.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken}},xform:Cn})}else throw new Yc("You must provide either an email or phone number and a password");const{data:u,error:h}=a;if(h||!u)return await or(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const p=u.session,x=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(a){if(await or(this.storage,`${this.storageKey}-code-verifier`),_e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:u,options:h}=t;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Zg})}else if("phone"in t){const{phone:a,password:u,options:h}=t;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Zg})}else throw new Yc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Co;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,u,h,p,x,w,b,C;let E,k;if("message"in t)E=t.message,k=t.signature;else{const{chain:A,wallet:P,statement:T,options:S}=t;let _;if(lr())if(typeof P=="object")_=P;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")_=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=P}const j=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href),F=await _.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=ob(F[0]);let M=(n=S==null?void 0:S.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!M){const V=await _.request({method:"eth_chainId"});M=Zk(V)}const W={domain:j.host,address:L,statement:T,uri:j.href,version:"1",chainId:M,nonce:(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(a=S==null?void 0:S.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=S==null?void 0:S.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=S==null?void 0:S.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(x=S==null?void 0:S.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(w=S==null?void 0:S.signInWithEthereum)===null||w===void 0?void 0:w.resources};E=eI(W),k=await _.request({method:"personal_sign",params:[Jk(E),L]})}try{const{data:A,error:P}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:k},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(C=t.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Cn});if(P)throw P;if(!A||!A.session||!A.user){const T=new Co;return this._returnResult({data:{user:null,session:null},error:T})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:P})}catch(A){if(_e(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(t){var r,n,i,a,u,h,p,x,w,b,C,E;let k,A;if("message"in t)k=t.message,A=t.signature;else{const{chain:P,wallet:T,statement:S,options:_}=t;let j;if(lr())if(typeof T=="object")j=T;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))j=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=T}const F=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const L=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),S?{statement:S}:null));let M;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")M=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)M=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)k=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),A=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${F.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((h=_==null?void 0:_.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((p=_==null?void 0:_.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((x=_==null?void 0:_.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((b=(w=_==null?void 0:_.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||b===void 0)&&b.length?["Resources",..._.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const L=await j.signMessage(new TextEncoder().encode(k),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=L}}try{const{data:P,error:T}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:$i(A)},!((C=t.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Cn});if(T)throw T;if(!P||!P.session||!P.user){const S=new Co;return this._returnResult({data:{user:null,session:null},error:S})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:T})}catch(P){if(_e(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async _exchangeCodeForSession(t){const r=await Mi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new vk;const{data:a,error:u}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Cn});if(await or(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const h=new Co;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:u})}catch(a){if(await or(this.storage,`${this.storageKey}-code-verifier`),_e(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:u}=t,h=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Cn}),{data:p,error:x}=h;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!p||!p.session||!p.user){const w=new Co;return this._returnResult({data:{user:null,session:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:x})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,u;try{if("email"in t){const{email:h,options:p}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await _o(this.storage,this.storageKey));const{error:b}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},create_user:(n=p==null?void 0:p.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:x,code_challenge_method:w},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:h,options:p}=t,{data:x,error:w}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(i=p==null?void 0:p.data)!==null&&i!==void 0?i:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:w})}throw new Yc("You must provide either an email or phone number.")}catch(h){if(await or(this.storage,`${this.storageKey}-code-verifier`),_e(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:u,error:h}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Cn});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,x=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:x,session:p},error:null})}catch(i){if(_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,u;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await _o(this.storage,this.storageKey));const x=await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:$k});return!((a=x.data)===null||a===void 0)&&a.url&&lr()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(h){if(await or(this.storage,`${this.storageKey}-code-verifier`),_e(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new zr;const{error:i}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(_e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:u}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:u,error:h}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new Yc("You must provide either an email or phone number and a type")}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Mi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Zf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const u=await Mi(this.userStorage,this.storageKey+"-user");u!=null&&u.user?t.user=u.user:t.user=th()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=Vk(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ys}):await this._useSession(async r=>{var n,i,a;const{data:u,error:h}=r;if(h)throw h;return!(!((n=u.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zr}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ys})})}catch(r){if(_e(r))return yk(r)&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new zr;const u=i.session;let h=null,p=null;this.flowType==="pkce"&&t.email!=null&&([h,p]=await _o(this.storage,this.storageKey));const{data:x,error:w}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:p}),jwt:u.access_token,xform:Ys});if(w)throw w;return u.user=x.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(n){if(await or(this.storage,`${this.storageKey}-code-verifier`),_e(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zr;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:u}=eh(t.access_token);if(u.exp&&(n=u.exp,i=n<=r),i){const{data:h,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:p}=await this._getUser(t.access_token);if(p)throw p;a={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(_e(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:u,error:h}=r;if(h)throw h;t=(n=u.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new zr;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!lr())throw new Qc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $g("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $g("No code detected.");const{data:S,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:u,expires_in:h,expires_at:p,token_type:x}=t;if(!a||!h||!u||!x)throw new Qc("No session defined in URL");const w=Math.round(Date.now()/1e3),b=parseInt(h);let C=w+b;p&&(C=parseInt(p));const E=C-w;E*1e3<=Oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${b}s`);const k=C-b;w-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,C,w):w-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,C,w);const{data:A,error:P}=await this._getUser(a);if(P)throw P;const T={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:b,expires_at:C,refresh_token:u,token_type:x,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(n){if(_e(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Mi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const u=(n=i.session)===null||n===void 0?void 0:n.access_token;if(u){const{error:h}=await this.admin.signOut(u,t);if(h&&!(xk(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return t!=="others"&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Nk(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:u}=r;if(u)throw u;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await _o(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await or(this.storage,`${this.storageKey}-code-verifier`),_e(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var u,h,p,x,w;const{data:b,error:C}=a;if(C)throw C;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",E,{headers:this.headers,jwt:(w=(x=b.session)===null||x===void 0?void 0:x.access_token)!==null&&w!==void 0?w:void 0})});if(i)throw i;return lr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(_e(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:u,provider:h,token:p,access_token:x,nonce:w}=t,b=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:h,id_token:p,access_token:x,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Cn}),{data:C,error:E}=b;return E?this._returnResult({data:{user:null,session:null},error:E}):!C||!C.session||!C.user?this._returnResult({data:{user:null,session:null},error:new Co}):(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("USER_UPDATED",C.session)),this._returnResult({data:C,error:E}))}catch(i){if(await or(this.storage,`${this.storageKey}-code-verifier`),_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:u}=r;if(u)throw u;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Rk(async i=>(i>0&&await Ik(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cn})),(i,a)=>{const u=200*Math.pow(2,i);return a&&Jf(a)&&Date.now()+u-n<Oo})}catch(n){if(this._debug(r,"error",n),_e(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),lr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Mi(this.storage,this.storageKey);if(i&&this.userStorage){let u=await Mi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await Po(this.userStorage,this.storageKey+"-user",u)),i.user=(t=u==null?void 0:u.user)!==null&&t!==void 0?t:th()}else if(i&&!i.user&&!i.user){const u=await Mi(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(i.user=u.user,await or(this.storage,this.storageKey+"-user"),await Po(this.storage,this.storageKey,i)):i.user=th()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Zf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Zf}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),Jf(u)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(i.access_token);!h&&(u!=null&&u.user)?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(n,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new zr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Vd;const{data:a,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!a.session)throw new zr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={data:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(i,"error",a),_e(a)){const u={data:null,error:a};return Jf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,r)}catch(p){a.push(p)}});if(await Promise.all(u),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await or(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Po(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Yg(i);await Po(this.storage,this.storageKey,a)}else{const i=Yg(r);await Po(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await or(this.storage,this.storageKey),await or(this.storage,this.storageKey+"-code-verifier"),await or(this.storage,this.storageKey+"-user"),this.userStorage&&await or(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&lr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Oo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Oo}ms, refresh threshold is ${P0} ticks`),i<=P0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ib)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,u]=await _o(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(h.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:u}=r;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:x}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return x?this._returnResult({data:null,error:x}):(t.factorType==="totp"&&p.type==="totp"&&(!((i=p==null?void 0:p.totp)===null||i===void 0)&&i.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?aI(t.webauthn.credential_response):lI(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:p}=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const u=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:iI(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:oI(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=eh(n.access_token);let u=null;a.aal&&(u=a.aal);let h=u;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(w=>w.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const x=a.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new zr})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new zr});const u=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&lr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new zr});const u=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&lr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new zr})})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new zr})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(h=>h.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(h=>h.kid===t),n&&this.jwks_cached_at+pk>i)return n;const{data:a,error:u}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(h=>h.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:E,error:k}=await this.getSession();if(k||!E.session)return this._returnResult({data:null,error:k});n=E.session.access_token}const{header:i,payload:a,signature:u,raw:{header:h,payload:p}}=eh(n);r!=null&&r.allowExpired||Bk(a.exp);const x=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!x){const{error:E}=await this.getUser(n);if(E)throw E;return{data:{claims:a,header:i,signature:u},error:null}}const w=Fk(i.alg),b=await crypto.subtle.importKey("jwk",x,w,!0,["verify"]);if(!await crypto.subtle.verify(w,b,u,Sk(`${h}.${p}`)))throw new M0("Invalid JWT signature");return{data:{claims:a,header:i,signature:u},error:null}}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}}Yl.nextInstanceID={};const xI=Yl,yI="2.90.1";let ll="";typeof Deno<"u"?ll="deno":typeof document<"u"?ll="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ll="react-native":ll="node";const wI={"X-Client-Info":`supabase-js-${ll}/${yI}`},vI={headers:wI},bI={schema:"public"},EI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CI={};function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function _I(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SI(e){var t=_I(e,"string");return Ql(t)=="symbol"?t:t+""}function AI(e,t,r){return(t=SI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nx(Object(r),!0).forEach(function(n){AI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const NI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),TI=()=>Headers,kI=(e,t,r)=>{const n=NI(r),i=TI();return async(a,u)=>{var h;const p=(h=await t())!==null&&h!==void 0?h:e;let x=new i(u==null?void 0:u.headers);return x.has("apikey")||x.set("apikey",e),x.has("Authorization")||x.set("Authorization",`Bearer ${p}`),n(a,jt(jt({},u),{},{headers:x}))}};function II(e){return e.endsWith("/")?e:e+"/"}function RI(e,t){var r,n;const{db:i,auth:a,realtime:u,global:h}=e,{db:p,auth:x,realtime:w,global:b}=t,C={db:jt(jt({},p),i),auth:jt(jt({},x),a),realtime:jt(jt({},w),u),storage:{},global:jt(jt(jt({},b),h),{},{headers:jt(jt({},(r=b==null?void 0:b.headers)!==null&&r!==void 0?r:{}),(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?C.accessToken=e.accessToken:delete C.accessToken,C}function OI(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(II(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var PI=class extends xI{constructor(e){super(e)}},jI=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=OI(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,h={db:bI,realtime:CI,auth:jt(jt({},EI),{},{storageKey:u}),global:vI},p=RI(r??{},h);if(this.storageKey=(n=p.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(w,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=p.auth)!==null&&x!==void 0?x:{},this.headers,p.global.fetch)}this.fetch=kI(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(jt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new h8(new URL("rest/v1",a).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new uk(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new l8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:u,lock:h,debug:p,throwOnError:x},w,b){const C={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PI({url:this.authUrl.href,headers:jt(jt({},C),w),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:u,lock:h,debug:p,throwOnError:x,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new I8(this.realtimeUrl.href,jt(jt({},e),{},{params:jt(jt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const DI=(e,t,r)=>new jI(e,t,r);function MI(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}MI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const LI=void 0,BI=void 0;throw new Error("Missing Supabase environment variables");const Te=DI(LI,BI,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),lb=I.createContext(void 0),Os=()=>{const e=I.useContext(lb);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},FI=({children:e})=>{const[t,r]=I.useState(null),[n,i]=I.useState(null),[a,u]=I.useState(null),[h,p]=I.useState(!0),x=async k=>{try{const{data:A,error:P}=await Te.from("profiles").select("*").eq("id",k).single();return P||!A?(console.warn("Profile fetch failed:",P==null?void 0:P.message),null):A}catch(A){return console.error("Profile fetch error:",A),null}},w=async()=>{if(t){const k=await x(t.id);k&&u(k)}};I.useEffect(()=>{let k=!0;const A=async T=>{var S,_,j;if(k){if(T!=null&&T.user){i(T),r(T.user);const F=await x(T.user.id);k&&u(F||{id:T.user.id,full_name:((S=T.user.user_metadata)==null?void 0:S.full_name)||((_=T.user.user_metadata)==null?void 0:_.name)||"",email:T.user.email||"",phone:((j=T.user.user_metadata)==null?void 0:j.phone)||"",referral_code:null,is_admin:!1,is_volunteer:!1})}else i(null),r(null),u(null);k&&p(!1)}};Te.auth.getSession().then(({data:{session:T}})=>{A(T)}).catch(T=>{console.error("getSession error:",T),k&&p(!1)});const{data:{subscription:P}}=Te.auth.onAuthStateChange((T,S)=>{A(S)});return()=>{k=!1,P.unsubscribe()}},[]);const b=async()=>{await Te.auth.signOut(),r(null),i(null),u(null)},C=(a==null?void 0:a.is_admin)??!1,E=(a==null?void 0:a.is_volunteer)??!1;return m.jsx(lb.Provider,{value:{user:t,session:n,profile:a,loading:h,isAdmin:C,isVolunteer:E,signOut:b,refreshProfile:w},children:e})},zs=({children:e})=>{const{user:t,loading:r,isAdmin:n}=Os();return r?m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx("div",{className:"text-primary font-mono animate-pulse",children:"LOADING..."})}):t?n?m.jsx(m.Fragment,{children:e}):m.jsx(C0,{to:"/dashboard",replace:!0}):m.jsx(C0,{to:"/login",replace:!0})},sx=({children:e})=>{const{user:t,loading:r,isAdmin:n,isVolunteer:i}=Os();return r?m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx("div",{className:"text-primary font-mono animate-pulse",children:"AUTHENTICATING..."})}):!t||!n&&!i?m.jsx(C0,{to:"/login",replace:!0}):m.jsx(m.Fragment,{children:e})},ix=[{label:"HOME",href:"#home"},{label:"ABOUT",href:"#about"},{label:"EVENTS",href:"#events"},{label:"GALLERY",href:"#gallery"}],dc=()=>{const e=Is(),[t,r]=I.useState(!1),[n,i]=I.useState("home");I.useEffect(()=>{const h=()=>{const p=ix.map(w=>w.href.slice(1)),x=window.scrollY+200;for(const w of p){const b=document.getElementById(w);if(b){const{offsetTop:C,offsetHeight:E}=b;if(x>=C&&x<C+E){i(w);break}}}};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const a=h=>{r(!1);const p=document.querySelector(h);p&&p.scrollIntoView({behavior:"smooth"})},u=()=>{r(!1),e("/login")};return m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>r(!t),className:"menu-button","aria-label":"Toggle navigation menu",children:t?m.jsx(_i,{className:"w-6 h-6 text-primary"}):m.jsxs("div",{className:"flex flex-col gap-1.5",children:[m.jsx("span",{className:"w-6 h-0.5 bg-primary rounded-full"}),m.jsx("span",{className:"w-6 h-0.5 bg-primary rounded-full"}),m.jsx("span",{className:"w-6 h-0.5 bg-primary rounded-full"})]})}),t&&m.jsx("div",{className:"nav-overlay animate-fade-in",children:m.jsx("nav",{className:"glass-card p-8 md:p-12 rounded-2xl",children:m.jsxs("ul",{className:"space-y-6",children:[ix.map(h=>m.jsx("li",{children:m.jsxs("button",{onClick:()=>a(h.href),className:`nav-link ${n===h.href.slice(1)?"text-primary glow-text":""}`,children:[m.jsx("span",{className:"text-primary/60",children:">"}),h.label]})},h.href)),m.jsx("li",{children:m.jsxs("button",{onClick:u,className:"nav-link group",children:[m.jsx(ES,{className:"w-5 h-5 md:w-6 md:h-6 text-primary/60 group-hover:text-primary transition-colors"}),"LOGIN"]})})]})})})]})},UI=()=>m.jsx("div",{className:"fixed top-6 left-6 z-40 pointer-events-none select-none",children:m.jsx("div",{className:"glass-card bg-black/20 backdrop-blur-sm border border-white/10 px-6 py-2 rounded-2xl shadow-lg",children:m.jsx("span",{className:"text-2xl md:text-3xl font-bold text-white tracking-wider font-sans",children:"IEEE"})})}),VI=new Date("2026-01-31T00:00:00"),zI=()=>{const e=Is(),[t,r]=I.useState({days:0,hours:0,minutes:0,seconds:0});I.useEffect(()=>{const a=()=>{const h=VI.getTime()-new Date().getTime();h>0&&r({days:Math.floor(h/864e5),hours:Math.floor(h/36e5%24),minutes:Math.floor(h/1e3/60%60),seconds:Math.floor(h/1e3%60)})};a();const u=setInterval(a,1e3);return()=>clearInterval(u)},[]);const n=a=>a.toString().padStart(2,"0"),i=[{value:t.days,label:"DAYS"},{value:t.hours,label:"HOURS"},{value:t.minutes,label:"MINS"},{value:t.seconds,label:"SECS"}];return m.jsxs("div",{className:"flex flex-col items-center gap-12 w-full max-w-5xl mx-auto px-4",children:[m.jsxs("div",{className:"flex flex-row items-center justify-center w-full gap-4 md:gap-12",children:[m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"text-[10px] md:text-2xl text-primary font-display tracking-widest mb-1 md:mb-2",children:"JANUARY"}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("div",{className:"bg-primary text-background p-1 md:p-2 rounded w-8 h-12 md:w-24 md:h-32 flex items-center justify-center",children:m.jsx("span",{className:"text-2xl md:text-8xl font-bold font-display",children:"3"})}),m.jsx("div",{className:"bg-primary text-background p-1 md:p-2 rounded w-8 h-12 md:w-24 md:h-32 flex items-center justify-center",children:m.jsx("span",{className:"text-2xl md:text-8xl font-bold font-display",children:"1"})})]})]}),m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute -inset-1 bg-primary rounded-lg blur opacity-25 group-hover:opacity-75 transition duration-1000 group-hover:duration-200"}),m.jsx("button",{onClick:()=>e("/register"),className:"relative glow-button bg-primary text-background px-3 py-2 md:px-8 md:py-4 text-xs md:text-2xl font-bold font-display tracking-wider rounded-lg hover:scale-105 transition-transform flex items-center gap-2 whitespace-nowrap",children:"REGISTER NOW"})]}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("span",{className:"text-[10px] md:text-2xl text-primary font-display tracking-widest mb-1 md:mb-2",children:"FEBRUARY"}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("div",{className:"bg-primary text-background p-1 md:p-2 rounded w-8 h-12 md:w-24 md:h-32 flex items-center justify-center",children:m.jsx("span",{className:"text-2xl md:text-8xl font-bold font-display",children:"0"})}),m.jsx("div",{className:"bg-primary text-background p-1 md:p-2 rounded w-8 h-12 md:w-24 md:h-32 flex items-center justify-center",children:m.jsx("span",{className:"text-2xl md:text-8xl font-bold font-display",children:"1"})})]})]})]}),m.jsx("div",{className:"flex gap-2 md:gap-8 justify-center w-full",children:i.map((a,u)=>m.jsxs("div",{className:"countdown-box glow-border",children:[m.jsx("span",{className:"countdown-number font-display",children:n(a.value)}),m.jsx("span",{className:"countdown-label",children:a.label})]},a.label))})]})},WI=()=>m.jsx("div",{className:"w-full overflow-hidden",children:m.jsx("div",{className:"relative w-full",style:{paddingTop:"15%"},children:m.jsx("img",{src:"/pixel-mountains-%20and-%20stuff.png",alt:"Pixel mountains",className:"absolute inset-0 w-full h-full object-cover"})})}),HI=()=>m.jsxs("section",{id:"home",className:"min-h-screen flex flex-col relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-30 pointer-events-none"}),m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-4 pt-20 pb-8 relative z-10",children:[m.jsx("img",{src:"/tesseractlogo.png",alt:"Tesseract 9.0 logo",className:"w-20 h-20 md:w-28 md:h-28 mb-6 animate-float object-contain"}),m.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-display font-bold text-primary tracking-wider text-center glow-text mb-8",children:"TESSERACT 9.0"}),m.jsx(zI,{})]}),m.jsx("div",{className:"relative z-10 mt-auto",children:m.jsx(WI,{})})]}),$I=[{icon:kS,title:"ABOUT TESSERACT 9.0",content:"Tesseract is no less than a celebration for the IEEE SB SJCET since it's our annual flagship event. Tesseract provides an avenue for all the minds out there to meet, network, and find new opportunities. Enjoy these two days with fun workshops, a cultural night, and, of course, the food fiesta."},{icon:ka,title:"ONCE IN A LIFETIME EXPERIENCE",content:"Join us at Tesseract 9.0 for a once-in-a-lifetime experience where you can immerse yourself in two days of tech, fun, networking, and insightful discussions on the ever-evolving world of technology."},{icon:CS,title:"ABOUT THE HOST",content:"St. Joseph's College of Engineering and Technology, Palai is a place where diversity is celebrated. Our campus is a melting pot of cultures, backgrounds, and perspectives. You will have the opportunity to engage with a diverse community of students and faculty, broadening your horizons and fostering a global mindset."}],GI=()=>m.jsxs("section",{id:"about",className:"py-20 px-4 relative",children:[m.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20 pointer-events-none"}),m.jsxs("div",{className:"container mx-auto max-w-4xl relative z-10",children:[m.jsx("h2",{className:"section-title font-display",children:"ABOUT"}),m.jsx("div",{className:"section-underline mb-16"}),m.jsx("div",{className:"space-y-6",children:$I.map((e,t)=>m.jsxs("div",{className:"terminal-card animate-fade-in",style:{animationDelay:`${t*.1}s`},children:[m.jsxs("div",{className:"flex items-center gap-3 p-5 border-b border-border",children:[m.jsx("div",{className:"p-2 rounded-lg bg-secondary/50",children:m.jsx(e.icon,{className:"w-5 h-5 text-primary"})}),m.jsx("h3",{className:"text-lg md:text-xl font-display font-semibold text-primary tracking-wide",children:e.title})]}),m.jsxs("div",{className:"p-5",children:[m.jsx("p",{className:"text-foreground/80 leading-relaxed",children:e.content}),m.jsx("div",{className:"mt-4 h-1 bg-border rounded-full overflow-hidden",children:m.jsx("div",{className:"progress-bar w-full"})})]})]},t))}),m.jsx("div",{className:"mt-12 flex justify-center",children:m.jsx("div",{className:"glass-card glow-border px-8 py-4 rounded-none",children:m.jsx("span",{className:"text-sm md:text-base font-display text-primary tracking-widest",children:"POWERED BY IEEE SB SJCET"})})})]})]}),qI=[{title:"TECHNICAL WORKSHOPS",locked:!0},{title:"SPECIAL GUEST",locked:!0},{title:"CULTURAL NIGHT",locked:!0},{title:"TECH TALKS",locked:!0}],KI=()=>m.jsxs("section",{id:"events",className:"py-20 px-4 relative",children:[m.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20 pointer-events-none"}),m.jsxs("div",{className:"container mx-auto max-w-4xl relative z-10",children:[m.jsx("h2",{className:"section-title font-display",children:"EVENTS"}),m.jsx("div",{className:"section-underline mb-8"}),m.jsxs("p",{className:"section-subtitle mb-12",children:[m.jsx("span",{className:"text-primary",children:">"})," Plans loading",m.jsx("span",{className:"animate-blink",children:"..."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:qI.map((e,t)=>m.jsxs("div",{className:"event-card-locked group transition-all duration-300 hover:border-primary/50",style:{animationDelay:`${t*.1}s`},children:[m.jsx("div",{className:"flex justify-center mb-4 relative z-10",children:m.jsx("div",{className:"p-4 rounded-xl bg-secondary/80 border border-border group-hover:border-primary/50 transition-colors",children:m.jsx(bS,{className:"w-8 h-8 text-primary/70"})})}),m.jsx("h3",{className:"text-lg font-display font-semibold text-primary tracking-wide mb-2 relative z-10",children:e.title}),m.jsx("p",{className:"text-muted-foreground text-sm relative z-10",children:"Event details will be revealed soon..."}),m.jsx("div",{className:"mt-4 relative z-10",children:m.jsx("div",{className:"h-0.5 bg-border rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full w-1/4 bg-primary rounded-full"})})})]},t))})]})]}),nl=[{id:"img1",src:"/gallery/img8.webp"},{id:"img2",src:"/gallery/tess7_2.jpg"},{id:"img3",src:"/gallery/tess7_4.jpg"},{id:"img4",src:"/gallery/img5.webp"},{id:"img5",src:"/gallery/img7.webp"},{id:"img6",src:"/gallery/tess7_1.jpg"}],XI=()=>{const[e,t]=I.useState(4),[r,n]=I.useState(!1),[i,a]=I.useState(!0);I.useEffect(()=>{const h=()=>{const p=typeof window<"u"?window.innerWidth<768:!0;a(p),t(p?Math.min(4,nl.length):nl.length)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]);const u=()=>{n(!0),setTimeout(()=>{t(h=>Math.min(h+2,nl.length)),n(!1)},800)};return m.jsxs("section",{id:"gallery",className:"py-20 px-4 relative",children:[m.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20 pointer-events-none"}),m.jsxs("div",{className:"container mx-auto max-w-4xl relative z-10",children:[m.jsx("h2",{className:"section-title font-display",children:"GALLERY"}),m.jsx("div",{className:"section-underline mb-8"}),m.jsxs("p",{className:"section-subtitle mb-12",children:[m.jsx("span",{className:"text-primary",children:">"})," Memories from previous Tesseracts"]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:nl.slice(0,e).map((h,p)=>m.jsx("div",{className:"gallery-image animate-fade-in bg-card overflow-hidden rounded-none relative",style:{animationDelay:`${p*.05}s`},children:m.jsx("img",{src:h.src,alt:h.id,className:"w-full h-56 md:h-48 lg:h-64 object-cover block rounded-none"})},h.id))}),i&&e<nl.length&&m.jsx("div",{className:"mt-12 flex justify-center",children:m.jsx("button",{onClick:u,disabled:r,className:"glass-card glow-button px-8 py-4 font-mono text-primary hover:border-primary/50 transition-all duration-300 disabled:opacity-50 rounded-none",children:r?m.jsxs("span",{children:[m.jsx("span",{className:"text-primary",children:">"})," Loading",m.jsx("span",{className:"animate-blink",children:"..."})]}):m.jsxs("span",{children:[m.jsx("span",{className:"text-primary",children:">"})," More memories"]})})})]})]})},YI=[{icon:gS,title:"IEEE SB SJCET",subtitle:"Official Website",href:"https://ieee.sjcetpalai.ac.in/"},{icon:yS,title:"INSTAGRAM",subtitle:"@ieee_sb_sjcet",href:"https://www.instagram.com/ieeesbsjcet/"},{icon:vS,title:"LINKEDIN",subtitle:"IEEE SB SJCET",href:"https://www.linkedin.com/in/ieee-sb-sjcet-palai-2a0a3a1a6/"},{icon:D2,title:"EMAIL",subtitle:"contact@ieeesbsjcet.org",href:"mailto:contact@ieeesbsjcet@gmail.com"}],QI=()=>m.jsxs("section",{className:"py-20 px-4 relative",children:[m.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20 pointer-events-none"}),m.jsxs("div",{className:"container mx-auto max-w-4xl relative z-10",children:[m.jsx("h2",{className:"section-title font-display",children:"LINKS"}),m.jsx("div",{className:"section-underline mb-8"}),m.jsxs("p",{className:"section-subtitle mb-12",children:[m.jsx("span",{className:"text-primary",children:">"})," Connect with us"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:YI.map((e,t)=>m.jsxs("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"link-card group",children:[m.jsx("div",{className:"p-3 rounded-xl bg-secondary/80 border border-border group-hover:border-primary/50 transition-colors",children:m.jsx(e.icon,{className:"w-6 h-6 text-primary"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-display font-semibold text-primary tracking-wide",children:e.title}),m.jsx("p",{className:"text-muted-foreground text-sm",children:e.subtitle})]})]},t))}),m.jsx("div",{className:"mt-12 flex justify-center",children:m.jsx("div",{className:"glass-card glow-border px-8 py-4",children:m.jsxs("span",{className:"text-sm md:text-base font-mono text-primary",children:[m.jsx("span",{className:"text-primary/60",children:">"})," Stay connected for updates"]})})})]})]}),ZI=[{terminal:"contact_terminal_1.exe",name:"Blesson K Tomy",role:"Chair, IEEE SB SJCET",phone:"+91 89213 03814"},{terminal:"contact_terminal_2.exe",name:"Ayswaryalakshmi R",role:"Program Co-ordinator, IEEE SB SJCET",phone:"+91 94002 06919"}],JI=()=>m.jsxs("section",{className:"py-20 px-4 relative",children:[m.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20 pointer-events-none"}),m.jsxs("div",{className:"container mx-auto max-w-4xl relative z-10",children:[m.jsx("h2",{className:"section-title font-display",children:"ANY DOUBTS?"}),m.jsx("div",{className:"section-underline mb-8"}),m.jsxs("p",{className:"section-subtitle mb-12",children:[m.jsx("span",{className:"text-primary",children:">"})," Contact our organizers"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:ZI.map((e,t)=>m.jsxs("div",{className:"terminal-card rounded-none",children:[m.jsxs("div",{className:"terminal-header",children:[m.jsx("span",{className:"terminal-dot-red"}),m.jsx("span",{className:"terminal-dot-yellow"}),m.jsx("span",{className:"terminal-dot-green"}),m.jsx("span",{className:"text-muted-foreground text-sm ml-2 font-mono",children:e.terminal})]}),m.jsxs("div",{className:"p-5 space-y-4",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Rd,{className:"w-5 h-5 text-muted-foreground mt-0.5"}),m.jsxs("div",{children:[m.jsx("span",{className:"text-muted-foreground text-sm block",children:"> NAME"}),m.jsx("span",{className:"text-foreground font-semibold",children:e.name})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(fS,{className:"w-5 h-5 text-muted-foreground mt-0.5"}),m.jsxs("div",{children:[m.jsx("span",{className:"text-muted-foreground text-sm block",children:"> ROLE"}),m.jsx("span",{className:"text-foreground font-semibold",children:e.role})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(B2,{className:"w-5 h-5 text-muted-foreground mt-0.5"}),m.jsxs("div",{children:[m.jsx("span",{className:"text-muted-foreground text-sm block",children:"> PHONE"}),m.jsx("a",{href:`tel:${e.phone.replace(/\s/g,"")}`,className:"text-foreground font-semibold hover:text-primary transition-colors",children:e.phone})]})]})]})]},t))})]})]}),e6=()=>{const e="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3932.462339742505!2d76.7260948!3d9.7268467!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3b07cc024cb7c83f%3A0xc8944aaebb3ba492!2sSt.%20Joseph%27s%20College%20of%20Engineering%20and%20Technology%2C%20Palai%20(Autonomous)!5e0!3m2!1sen!2sin!4v1766851408365!5m2!1sen!2sin",t=()=>{window.open("https://www.google.com/maps/place/St.+Joseph's+College+of+Engineering+and+Technology,+Palai","_blank")};return m.jsxs("section",{className:"py-20 px-4 relative",children:[m.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-20 pointer-events-none"}),m.jsxs("div",{className:"container mx-auto max-w-4xl relative z-10",children:[m.jsx("h2",{className:"section-title font-display",children:"LOCATION"}),m.jsx("div",{className:"section-underline mb-8"}),m.jsxs("p",{className:"section-subtitle mb-12",children:[m.jsx("span",{className:"text-primary",children:">"})," Find us here"]}),m.jsxs("div",{className:"terminal-card mb-6 relative",children:[m.jsx("div",{className:"absolute top-4 left-4 z-10",children:m.jsx("div",{className:"glass-card px-4 py-2 backdrop-blur-md",children:m.jsx("span",{className:"font-mono text-sm text-muted-foreground",children:"St. Joseph's College of Engineering and Technology, Palai"})})}),m.jsxs("div",{className:"aspect-video bg-secondary/30 flex items-center justify-center relative overflow-hidden",children:[m.jsx("iframe",{title:"SJCET Palai - map",src:e,className:"absolute inset-0 w-full h-full border-0",allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"}),m.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:m.jsx("button",{onClick:t,className:"glass-card px-3 py-2 font-mono text-xs text-primary hover:border-primary/50",type:"button",children:"Open in Google Maps"})})]})]}),m.jsxs("div",{className:"terminal-card",children:[m.jsxs("div",{className:"terminal-header",children:[m.jsx("span",{className:"terminal-dot-red"}),m.jsx("span",{className:"terminal-dot-yellow"}),m.jsx("span",{className:"terminal-dot-green"}),m.jsx("span",{className:"text-muted-foreground text-sm ml-2 font-mono",children:"location_data.txt"})]}),m.jsxs("div",{className:"p-5 space-y-4",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-muted-foreground text-sm block",children:"> VENUE"}),m.jsx("h3",{className:"text-lg md:text-xl font-display font-semibold text-primary tracking-wide",children:"ST. JOSEPH'S COLLEGE OF ENGINEERING AND TECHNOLOGY"}),m.jsx("p",{className:"text-foreground mt-1",children:"Palai, Kerala"})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-muted-foreground text-sm block",children:"> ADDRESS"}),m.jsxs("p",{className:"text-foreground",children:["Choondacherry P.O.",m.jsx("br",{}),"Palai, Kottayam",m.jsx("br",{}),"Kerala - 686579"]})]})]})]}),m.jsx("div",{className:"mt-8 flex justify-center",children:m.jsxs("button",{onClick:t,className:"glass-card glow-button px-8 py-4 flex items-center gap-3 font-mono text-primary hover:border-primary/50 transition-all duration-300 group",type:"button",children:[m.jsx(SS,{className:"w-5 h-5 group-hover:animate-pulse"}),m.jsx("span",{children:"GET DIRECTIONS"})]})})]})]})},fc=()=>m.jsxs("footer",{className:"py-12 px-4 border-t border-border relative",children:[m.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-10 pointer-events-none"}),m.jsx("div",{className:"container mx-auto max-w-4xl relative z-10",children:m.jsxs("div",{className:"flex flex-col items-center gap-6",children:[m.jsx("img",{src:"/tesseractlogo.png",alt:"Tesseract 9.0 logo",className:"w-12 h-12 opacity-50 object-contain"}),m.jsx("p",{className:"font-display text-sm text-muted-foreground tracking-widest text-center",children:"TESSERACT 9.0  Annual Flagship Event of IEEE SB SJCET"})]})})]}),t6=()=>m.jsxs("div",{className:"min-h-screen bg-background relative scanlines",children:[m.jsx(UI,{}),m.jsx(dc,{}),m.jsxs("main",{children:[m.jsx(HI,{}),m.jsx(GI,{}),m.jsx(KI,{}),m.jsx(XI,{}),m.jsx(QI,{}),m.jsx(JI,{}),m.jsx(e6,{})]}),m.jsx(fc,{})]}),r6=()=>{const e=Is(),{toast:t}=kr(),[r,n]=I.useState(""),[i,a]=I.useState(""),[u,h]=I.useState(!1),p=async w=>{if(w.preventDefault(),!r||!i){t({title:"Validation Error",description:"Please enter both email and password.",variant:"destructive"});return}h(!0);try{const{data:b,error:C}=await Te.auth.signInWithPassword({email:r,password:i});if(C)t({title:"Login Failed",description:C.message,variant:"destructive"});else if(b.session){t({title:"Success",description:"Logged in successfully."}),e("/dashboard");return}else t({title:"Email Not Verified",description:"Please check your email to verify your account before logging in.",variant:"destructive"})}catch{t({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{h(!1)}},x=async()=>{h(!0);const{error:w}=await Te.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});w&&(t({title:"Login Failed",description:w.message,variant:"destructive"}),h(!1))};return m.jsxs("div",{className:"min-h-screen bg-background relative scanlines flex flex-col",children:[m.jsx(dc,{}),m.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[m.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-30 pointer-events-none"}),m.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[m.jsx("h1",{className:"text-3xl md:text-5xl font-display font-bold text-primary glow-text mb-8 text-center tracking-wider",children:"LOGIN"}),m.jsxs("div",{className:"terminal-card",children:[m.jsxs("div",{className:"terminal-header",children:[m.jsx("span",{className:"terminal-dot terminal-dot-red"}),m.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),m.jsx("span",{className:"terminal-dot terminal-dot-green"}),m.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"auth://login"})]}),m.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm text-primary/80 font-mono mb-2",children:"EMAIL"}),m.jsx("input",{id:"email",type:"email",value:r,onChange:w=>n(w.target.value),placeholder:"user@example.com",className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",disabled:u})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm text-primary/80 font-mono mb-2",children:"PASSWORD"}),m.jsx("input",{id:"password",type:"password",value:i,onChange:w=>a(w.target.value),placeholder:"",className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",disabled:u})]}),m.jsx("button",{type:"submit",disabled:u,className:"w-full glow-button bg-primary text-background py-3 font-display font-bold tracking-wider rounded hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:cursor-not-allowed",children:u?"AUTHENTICATING...":"LOGIN"})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("div",{className:"w-full border-t border-border"})}),m.jsx("div",{className:"relative flex justify-center text-xs",children:m.jsx("span",{className:"bg-card px-4 text-muted-foreground font-mono",children:"OR"})})]}),m.jsxs("button",{onClick:x,disabled:u,className:"w-full flex items-center justify-center gap-3 border border-border bg-secondary/30 py-3 rounded font-mono text-primary hover:bg-secondary/50 hover:border-primary/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"CONTINUE WITH GOOGLE"]}),m.jsxs("p",{className:"text-center text-sm text-muted-foreground font-mono",children:["Don't have an account?"," ",m.jsx(Xr,{to:"/register",className:"text-primary hover:underline hover:glow-text transition-all",children:"Register here"})]})]})]})]})]}),m.jsx(fc,{})]})},n6=()=>{const e=Is(),{toast:t}=kr(),[r,n]=I.useState({name:"",email:"",phone:"",password:""}),[i,a]=I.useState(!1),u=x=>{const{name:w,value:b}=x.target;n(C=>({...C,[w]:b}))},h=async()=>{a(!0);const{error:x}=await Te.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});x&&(t({title:"Registration Failed",description:x.message,variant:"destructive"}),a(!1))},p=async x=>{if(x.preventDefault(),!r.name||!r.email||!r.phone||!r.password){t({title:"Validation Error",description:"Please fill in all fields.",variant:"destructive"});return}if(r.password.length<6){t({title:"Validation Error",description:"Password must be at least 6 characters.",variant:"destructive"});return}a(!0);const{error:w}=await Te.auth.signUp({email:r.email,password:r.password,options:{data:{full_name:r.name,phone:r.phone}}});w?t({title:"Registration Failed",description:w.message,variant:"destructive"}):(t({title:"Registration Successful",description:"Please check your email inbox / spam to verify your account."}),e("/dashboard")),a(!1)};return m.jsxs("div",{className:"min-h-screen bg-background relative scanlines flex flex-col",children:[m.jsx(dc,{}),m.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[m.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-30 pointer-events-none"}),m.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[m.jsx("h1",{className:"text-3xl md:text-5xl font-display font-bold text-primary glow-text mb-8 text-center tracking-wider",children:"REGISTER"}),m.jsxs("div",{className:"terminal-card",children:[m.jsxs("div",{className:"terminal-header",children:[m.jsx("span",{className:"terminal-dot terminal-dot-red"}),m.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),m.jsx("span",{className:"terminal-dot terminal-dot-green"}),m.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"auth://register"})]}),m.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[m.jsxs("button",{onClick:h,disabled:i,className:"w-full flex items-center justify-center gap-3 border border-border bg-secondary/30 py-3 rounded font-mono text-primary hover:bg-secondary/50 hover:border-primary/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"CONTINUE WITH GOOGLE"]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("div",{className:"w-full border-t border-border"})}),m.jsx("div",{className:"relative flex justify-center text-xs",children:m.jsx("span",{className:"bg-card px-4 text-muted-foreground font-mono",children:"OR"})})]}),m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm text-primary/80 font-mono mb-2",children:"FULL NAME"}),m.jsx("input",{id:"name",name:"name",type:"text",value:r.name,onChange:u,placeholder:"John Doe",className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",disabled:i})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm text-primary/80 font-mono mb-2",children:"EMAIL"}),m.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:u,placeholder:"user@example.com",className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",disabled:i})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"phone",className:"block text-sm text-primary/80 font-mono mb-2",children:"PHONE"}),m.jsx("input",{id:"phone",name:"phone",type:"tel",value:r.phone,onChange:u,placeholder:"+91 9876543210",className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",disabled:i})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm text-primary/80 font-mono mb-2",children:"PASSWORD"}),m.jsx("input",{id:"password",name:"password",type:"password",value:r.password,onChange:u,placeholder:"",className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",disabled:i})]}),m.jsx("button",{type:"submit",disabled:i,className:"w-full glow-button bg-primary text-background py-3 font-display font-bold tracking-wider rounded hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:cursor-not-allowed mt-6",children:i?"CREATING ACCOUNT...":"CREATE ACCOUNT"})]}),m.jsxs("p",{className:"text-center text-sm text-muted-foreground font-mono mt-6",children:["Already have an account?"," ",m.jsx(Xr,{to:"/login",className:"text-primary hover:underline hover:glow-text transition-all",children:"Login here"})]})]})]})]})]}),m.jsx(fc,{})]})};var nh="focusScope.autoFocusOnMount",sh="focusScope.autoFocusOnUnmount",ox={bubbles:!1,cancelable:!0},s6="FocusScope",cb=I.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...u}=e,[h,p]=I.useState(null),x=ns(i),w=ns(a),b=I.useRef(null),C=Ar(t,A=>p(A)),E=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(n){let A=function(_){if(E.paused||!h)return;const j=_.target;h.contains(j)?b.current=j:Hs(b.current,{select:!0})},P=function(_){if(E.paused||!h)return;const j=_.relatedTarget;j!==null&&(h.contains(j)||Hs(b.current,{select:!0}))},T=function(_){if(document.activeElement===document.body)for(const F of _)F.removedNodes.length>0&&Hs(h)};document.addEventListener("focusin",A),document.addEventListener("focusout",P);const S=new MutationObserver(T);return h&&S.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",P),S.disconnect()}}},[n,h,E.paused]),I.useEffect(()=>{if(h){lx.add(E);const A=document.activeElement;if(!h.contains(A)){const T=new CustomEvent(nh,ox);h.addEventListener(nh,x),h.dispatchEvent(T),T.defaultPrevented||(i6(u6(ub(h)),{select:!0}),document.activeElement===A&&Hs(h))}return()=>{h.removeEventListener(nh,x),setTimeout(()=>{const T=new CustomEvent(sh,ox);h.addEventListener(sh,w),h.dispatchEvent(T),T.defaultPrevented||Hs(A??document.body,{select:!0}),h.removeEventListener(sh,w),lx.remove(E)},0)}}},[h,x,w,E]);const k=I.useCallback(A=>{if(!r&&!n||E.paused)return;const P=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,T=document.activeElement;if(P&&T){const S=A.currentTarget,[_,j]=o6(S);_&&j?!A.shiftKey&&T===j?(A.preventDefault(),r&&Hs(_,{select:!0})):A.shiftKey&&T===_&&(A.preventDefault(),r&&Hs(j,{select:!0})):T===S&&A.preventDefault()}},[r,n,E.paused]);return m.jsx(zt.div,{tabIndex:-1,...u,ref:C,onKeyDown:k})});cb.displayName=s6;function i6(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Hs(n,{select:t}),document.activeElement!==r)return}function o6(e){const t=ub(e),r=ax(t,e),n=ax(t.reverse(),e);return[r,n]}function ub(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ax(e,t){for(const r of e)if(!a6(r,{upTo:t}))return r}function a6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function l6(e){return e instanceof HTMLInputElement&&"select"in e}function Hs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&l6(e)&&t&&e.select()}}var lx=c6();function c6(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=cx(e,t),e.unshift(t)},remove(t){var r;e=cx(e,t),(r=e[0])==null||r.resume()}}}function cx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function u6(e){return e.filter(t=>t.tagName!=="A")}var ih=0;function d6(){I.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ux()),document.body.insertAdjacentElement("beforeend",e[1]??ux()),ih++,()=>{ih===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ih--}},[])}function ux(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var bu="right-scroll-bar-position",Eu="width-before-scroll-bar",f6="with-scroll-bars-hidden",h6="--removed-body-scroll-bar-size";function oh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function m6(e,t){var r=I.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var p6=typeof window<"u"?I.useLayoutEffect:I.useEffect,dx=new WeakMap;function g6(e,t){var r=m6(null,function(n){return e.forEach(function(i){return oh(i,n)})});return p6(function(){var n=dx.get(r);if(n){var i=new Set(n),a=new Set(e),u=r.current;i.forEach(function(h){a.has(h)||oh(h,null)}),a.forEach(function(h){i.has(h)||oh(h,u)})}dx.set(r,e)},[e]),r}function x6(e){return e}function y6(e,t){t===void 0&&(t=x6);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var u=t(a,n);return r.push(u),function(){r=r.filter(function(h){return h!==u})}},assignSyncMedium:function(a){for(n=!0;r.length;){var u=r;r=[],u.forEach(a)}r={push:function(h){return a(h)},filter:function(){return r}}},assignMedium:function(a){n=!0;var u=[];if(r.length){var h=r;r=[],h.forEach(a),u=r}var p=function(){var w=u;u=[],w.forEach(a)},x=function(){return Promise.resolve().then(p)};x(),r={push:function(w){u.push(w),x()},filter:function(w){return u=u.filter(w),r}}}};return i}function w6(e){e===void 0&&(e={});var t=y6(null);return t.options=Zn({async:!0,ssr:!1},e),t}var db=function(e){var t=e.sideCar,r=Da(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return I.createElement(n,Zn({},r))};db.isSideCarExport=!0;function v6(e,t){return e.useMedium(t),db}var fb=w6(),ah=function(){},zd=I.forwardRef(function(e,t){var r=I.useRef(null),n=I.useState({onScrollCapture:ah,onWheelCapture:ah,onTouchMoveCapture:ah}),i=n[0],a=n[1],u=e.forwardProps,h=e.children,p=e.className,x=e.removeScrollBar,w=e.enabled,b=e.shards,C=e.sideCar,E=e.noRelative,k=e.noIsolation,A=e.inert,P=e.allowPinchZoom,T=e.as,S=T===void 0?"div":T,_=e.gapMode,j=Da(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=C,L=g6([r,t]),M=Zn(Zn({},j),i);return I.createElement(I.Fragment,null,w&&I.createElement(F,{sideCar:fb,removeScrollBar:x,shards:b,noRelative:E,noIsolation:k,inert:A,setCallbacks:a,allowPinchZoom:!!P,lockRef:r,gapMode:_}),u?I.cloneElement(I.Children.only(h),Zn(Zn({},M),{ref:L})):I.createElement(S,Zn({},M,{className:p,ref:L}),h))});zd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zd.classNames={fullWidth:Eu,zeroRight:bu};var b6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function E6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=b6();return t&&e.setAttribute("nonce",t),e}function C6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function _6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var S6=function(){var e=0,t=null;return{add:function(r){e==0&&(t=E6())&&(C6(t,r),_6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},A6=function(){var e=S6();return function(t,r){I.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},hb=function(){var e=A6(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},N6={left:0,top:0,right:0,gap:0},lh=function(e){return parseInt(e||"",10)||0},T6=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[lh(r),lh(n),lh(i)]},k6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return N6;var t=T6(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},I6=hb(),na="data-scroll-locked",R6=function(e,t,r,n){var i=e.left,a=e.top,u=e.right,h=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(f6,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(h,"px ").concat(n,`;
  }
  body[`).concat(na,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(h,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bu,` {
    right: `).concat(h,"px ").concat(n,`;
  }
  
  .`).concat(Eu,` {
    margin-right: `).concat(h,"px ").concat(n,`;
  }
  
  .`).concat(bu," .").concat(bu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Eu," .").concat(Eu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(na,`] {
    `).concat(h6,": ").concat(h,`px;
  }
`)},fx=function(){var e=parseInt(document.body.getAttribute(na)||"0",10);return isFinite(e)?e:0},O6=function(){I.useEffect(function(){return document.body.setAttribute(na,(fx()+1).toString()),function(){var e=fx()-1;e<=0?document.body.removeAttribute(na):document.body.setAttribute(na,e.toString())}},[])},P6=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;O6();var a=I.useMemo(function(){return k6(i)},[i]);return I.createElement(I6,{styles:R6(a,!t,i,r?"":"!important")})},L0=!1;if(typeof window<"u")try{var Zc=Object.defineProperty({},"passive",{get:function(){return L0=!0,!0}});window.addEventListener("test",Zc,Zc),window.removeEventListener("test",Zc,Zc)}catch{L0=!1}var To=L0?{passive:!1}:!1,j6=function(e){return e.tagName==="TEXTAREA"},mb=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!j6(e)&&r[t]==="visible")},D6=function(e){return mb(e,"overflowY")},M6=function(e){return mb(e,"overflowX")},hx=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=pb(e,n);if(i){var a=gb(e,n),u=a[1],h=a[2];if(u>h)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},L6=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},B6=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},pb=function(e,t){return e==="v"?D6(t):M6(t)},gb=function(e,t){return e==="v"?L6(t):B6(t)},F6=function(e,t){return e==="h"&&t==="rtl"?-1:1},U6=function(e,t,r,n,i){var a=F6(e,window.getComputedStyle(t).direction),u=a*n,h=r.target,p=t.contains(h),x=!1,w=u>0,b=0,C=0;do{if(!h)break;var E=gb(e,h),k=E[0],A=E[1],P=E[2],T=A-P-a*k;(k||T)&&pb(e,h)&&(b+=T,C+=k);var S=h.parentNode;h=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!p&&h!==document.body||p&&(t.contains(h)||t===h));return(w&&(Math.abs(b)<1||!i)||!w&&(Math.abs(C)<1||!i))&&(x=!0),x},Jc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mx=function(e){return[e.deltaX,e.deltaY]},px=function(e){return e&&"current"in e?e.current:e},V6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},z6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},W6=0,ko=[];function H6(e){var t=I.useRef([]),r=I.useRef([0,0]),n=I.useRef(),i=I.useState(W6++)[0],a=I.useState(hb)[0],u=I.useRef(e);I.useEffect(function(){u.current=e},[e]),I.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var A=i8([e.lockRef.current],(e.shards||[]).map(px),!0).filter(Boolean);return A.forEach(function(P){return P.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),A.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var h=I.useCallback(function(A,P){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!u.current.allowPinchZoom;var T=Jc(A),S=r.current,_="deltaX"in A?A.deltaX:S[0]-T[0],j="deltaY"in A?A.deltaY:S[1]-T[1],F,L=A.target,M=Math.abs(_)>Math.abs(j)?"h":"v";if("touches"in A&&M==="h"&&L.type==="range")return!1;var W=hx(M,L);if(!W)return!0;if(W?F=M:(F=M==="v"?"h":"v",W=hx(M,L)),!W)return!1;if(!n.current&&"changedTouches"in A&&(_||j)&&(n.current=F),!F)return!0;var V=n.current||F;return U6(V,P,A,V==="h"?_:j,!0)},[]),p=I.useCallback(function(A){var P=A;if(!(!ko.length||ko[ko.length-1]!==a)){var T="deltaY"in P?mx(P):Jc(P),S=t.current.filter(function(F){return F.name===P.type&&(F.target===P.target||P.target===F.shadowParent)&&V6(F.delta,T)})[0];if(S&&S.should){P.cancelable&&P.preventDefault();return}if(!S){var _=(u.current.shards||[]).map(px).filter(Boolean).filter(function(F){return F.contains(P.target)}),j=_.length>0?h(P,_[0]):!u.current.noIsolation;j&&P.cancelable&&P.preventDefault()}}},[]),x=I.useCallback(function(A,P,T,S){var _={name:A,delta:P,target:T,should:S,shadowParent:$6(T)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(j){return j!==_})},1)},[]),w=I.useCallback(function(A){r.current=Jc(A),n.current=void 0},[]),b=I.useCallback(function(A){x(A.type,mx(A),A.target,h(A,e.lockRef.current))},[]),C=I.useCallback(function(A){x(A.type,Jc(A),A.target,h(A,e.lockRef.current))},[]);I.useEffect(function(){return ko.push(a),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:C}),document.addEventListener("wheel",p,To),document.addEventListener("touchmove",p,To),document.addEventListener("touchstart",w,To),function(){ko=ko.filter(function(A){return A!==a}),document.removeEventListener("wheel",p,To),document.removeEventListener("touchmove",p,To),document.removeEventListener("touchstart",w,To)}},[]);var E=e.removeScrollBar,k=e.inert;return I.createElement(I.Fragment,null,k?I.createElement(a,{styles:z6(i)}):null,E?I.createElement(P6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const G6=v6(fb,H6);var xb=I.forwardRef(function(e,t){return I.createElement(zd,Zn({},e,{ref:t,sideCar:G6}))});xb.classNames=zd.classNames;var q6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Io=new WeakMap,eu=new WeakMap,tu={},ch=0,yb=function(e){return e&&(e.host||yb(e.parentNode))},K6=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=yb(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},X6=function(e,t,r,n){var i=K6(t,Array.isArray(e)?e:[e]);tu[r]||(tu[r]=new WeakMap);var a=tu[r],u=[],h=new Set,p=new Set(i),x=function(b){!b||h.has(b)||(h.add(b),x(b.parentNode))};i.forEach(x);var w=function(b){!b||p.has(b)||Array.prototype.forEach.call(b.children,function(C){if(h.has(C))w(C);else try{var E=C.getAttribute(n),k=E!==null&&E!=="false",A=(Io.get(C)||0)+1,P=(a.get(C)||0)+1;Io.set(C,A),a.set(C,P),u.push(C),A===1&&k&&eu.set(C,!0),P===1&&C.setAttribute(r,"true"),k||C.setAttribute(n,"true")}catch(T){console.error("aria-hidden: cannot operate on ",C,T)}})};return w(t),h.clear(),ch++,function(){u.forEach(function(b){var C=Io.get(b)-1,E=a.get(b)-1;Io.set(b,C),a.set(b,E),C||(eu.has(b)||b.removeAttribute(n),eu.delete(b)),E||b.removeAttribute(r)}),ch--,ch||(Io=new WeakMap,Io=new WeakMap,eu=new WeakMap,tu={})}},Y6=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=q6(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),X6(n,i,r,"aria-hidden")):function(){return null}},Wd="Dialog",[wb,eO]=ac(Wd),[Q6,Bn]=wb(Wd),vb=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:u=!0}=e,h=I.useRef(null),p=I.useRef(null),[x,w]=l2({prop:n,defaultProp:i??!1,onChange:a,caller:Wd});return m.jsx(Q6,{scope:t,triggerRef:h,contentRef:p,contentId:Wf(),titleId:Wf(),descriptionId:Wf(),open:x,onOpenChange:w,onOpenToggle:I.useCallback(()=>w(b=>!b),[w]),modal:u,children:r})};vb.displayName=Wd;var bb="DialogTrigger",Z6=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Bn(bb,r),a=Ar(t,i.triggerRef);return m.jsx(zt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xm(i.open),...n,ref:a,onClick:Et(e.onClick,i.onOpenToggle)})});Z6.displayName=bb;var pm="DialogPortal",[J6,Eb]=wb(pm,{forceMount:void 0}),Cb=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=Bn(pm,t);return m.jsx(J6,{scope:t,forceMount:r,children:I.Children.map(n,u=>m.jsx(Ta,{present:r||a.open,children:m.jsx(U1,{asChild:!0,container:i,children:u})}))})};Cb.displayName=pm;var id="DialogOverlay",_b=I.forwardRef((e,t)=>{const r=Eb(id,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Bn(id,e.__scopeDialog);return a.modal?m.jsx(Ta,{present:n||a.open,children:m.jsx(tR,{...i,ref:t})}):null});_b.displayName=id;var eR=qu("DialogOverlay.RemoveScroll"),tR=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Bn(id,r);return m.jsx(xb,{as:eR,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(zt.div,{"data-state":xm(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ao="DialogContent",Sb=I.forwardRef((e,t)=>{const r=Eb(ao,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Bn(ao,e.__scopeDialog);return m.jsx(Ta,{present:n||a.open,children:a.modal?m.jsx(rR,{...i,ref:t}):m.jsx(nR,{...i,ref:t})})});Sb.displayName=ao;var rR=I.forwardRef((e,t)=>{const r=Bn(ao,e.__scopeDialog),n=I.useRef(null),i=Ar(t,r.contentRef,n);return I.useEffect(()=>{const a=n.current;if(a)return Y6(a)},[]),m.jsx(Ab,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Et(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Et(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&a.preventDefault()}),onFocusOutside:Et(e.onFocusOutside,a=>a.preventDefault())})}),nR=I.forwardRef((e,t)=>{const r=Bn(ao,e.__scopeDialog),n=I.useRef(!1),i=I.useRef(!1);return m.jsx(Ab,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,h;(u=e.onCloseAutoFocus)==null||u.call(e,a),a.defaultPrevented||(n.current||(h=r.triggerRef.current)==null||h.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var p,x;(p=e.onInteractOutside)==null||p.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=a.target;((x=r.triggerRef.current)==null?void 0:x.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Ab=I.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...u}=e,h=Bn(ao,r),p=I.useRef(null),x=Ar(t,p);return d6(),m.jsxs(m.Fragment,{children:[m.jsx(cb,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:m.jsx(Nd,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":xm(h.open),...u,ref:x,onDismiss:()=>h.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(sR,{titleId:h.titleId}),m.jsx(oR,{contentRef:p,descriptionId:h.descriptionId})]})]})}),gm="DialogTitle",Nb=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Bn(gm,r);return m.jsx(zt.h2,{id:i.titleId,...n,ref:t})});Nb.displayName=gm;var Tb="DialogDescription",kb=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Bn(Tb,r);return m.jsx(zt.p,{id:i.descriptionId,...n,ref:t})});kb.displayName=Tb;var Ib="DialogClose",Rb=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Bn(Ib,r);return m.jsx(zt.button,{type:"button",...n,ref:t,onClick:Et(e.onClick,()=>i.onOpenChange(!1))})});Rb.displayName=Ib;function xm(e){return e?"open":"closed"}var Ob="DialogTitleWarning",[tO,Pb]=p_(Ob,{contentName:ao,titleName:gm,docsSlug:"dialog"}),sR=({titleId:e})=>{const t=Pb(Ob),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return I.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},iR="DialogDescriptionWarning",oR=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pb(iR).contentName}}.`;return I.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},aR=vb,lR=Cb,jb=_b,Db=Sb,Mb=Nb,Lb=kb,cR=Rb;const Bb=aR,uR=lR,Fb=I.forwardRef(({className:e,...t},r)=>m.jsx(jb,{ref:r,className:gn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Fb.displayName=jb.displayName;const ym=I.forwardRef(({className:e,children:t,...r},n)=>m.jsxs(uR,{children:[m.jsx(Fb,{}),m.jsxs(Db,{ref:n,className:gn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,m.jsxs(cR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[m.jsx(_i,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ym.displayName=Db.displayName;const wm=({className:e,...t})=>m.jsx("div",{className:gn("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});wm.displayName="DialogHeader";const vm=I.forwardRef(({className:e,...t},r)=>m.jsx(Mb,{ref:r,className:gn("text-lg font-semibold leading-none tracking-tight",e),...t}));vm.displayName=Mb.displayName;const Ub=I.forwardRef(({className:e,...t},r)=>m.jsx(Lb,{ref:r,className:gn("text-sm text-muted-foreground",e),...t}));Ub.displayName=Lb.displayName;const dR=({open:e,onComplete:t})=>{const{user:r,refreshProfile:n}=Os(),{toast:i}=kr(),[a,u]=I.useState(""),[h,p]=I.useState(!1),x=async w=>{if(w.preventDefault(),!a.trim()){i({title:"Validation Error",description:"Please enter your phone number.",variant:"destructive"});return}if(!r)return;p(!0);const{error:b}=await Te.from("profiles").update({phone:a.trim()}).eq("id",r.id);b?i({title:"Error",description:"Failed to save phone number. Please try again.",variant:"destructive"}):(await n(),i({title:"Success",description:"Phone number saved successfully."}),t()),p(!1)};return m.jsx(Bb,{open:e,onOpenChange:()=>{},children:m.jsxs(ym,{className:"terminal-card border-primary/30 sm:max-w-md",onPointerDownOutside:w=>w.preventDefault(),children:[m.jsxs(wm,{children:[m.jsx(vm,{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"COMPLETE PROFILE"}),m.jsx(Ub,{className:"text-muted-foreground font-mono",children:"Please enter your phone number to continue."})]}),m.jsxs("form",{onSubmit:x,className:"space-y-4 mt-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"phone-dialog",className:"block text-sm text-primary/80 font-mono mb-2",children:"PHONE NUMBER"}),m.jsx("input",{id:"phone-dialog",type:"tel",value:a,onChange:w=>u(w.target.value),placeholder:"+91 9876543210",className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors",disabled:h,autoFocus:!0})]}),m.jsx("button",{type:"submit",disabled:h,className:"w-full glow-button bg-primary text-background py-3 font-display font-bold tracking-wider rounded hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:cursor-not-allowed",children:h?"SAVING...":"CONTINUE"})]})]})})};var hc={},fR=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Vb={},tn={};let bm;const hR=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];tn.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};tn.getSymbolTotalCodewords=function(t){return hR[t]};tn.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};tn.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');bm=t};tn.isKanjiModeEnabled=function(){return typeof bm<"u"};tn.toSJIS=function(t){return bm(t)};var Hd={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(Hd);function zb(){this.buffer=[],this.length=0}zb.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var mR=zb;function mc(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}mc.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)};mc.prototype.get=function(e,t){return this.data[e*this.size+t]};mc.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};mc.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var pR=mc,Wb={};(function(e){const t=tn.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=t(n),u=a===145?26:Math.ceil((a-13)/(2*i-2))*2,h=[a-7];for(let p=1;p<i-1;p++)h[p]=h[p-1]-u;return h.push(6),h.reverse()},e.getPositions=function(n){const i=[],a=e.getRowColCoords(n),u=a.length;for(let h=0;h<u;h++)for(let p=0;p<u;p++)h===0&&p===0||h===0&&p===u-1||h===u-1&&p===0||i.push([a[h],a[p]]);return i}})(Wb);var Hb={};const gR=tn.getSymbolSize,gx=7;Hb.getPositions=function(t){const r=gR(t);return[[0,0],[r-gx,0],[0,r-gx]]};var $b={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let u=0,h=0,p=0,x=null,w=null;for(let b=0;b<a;b++){h=p=0,x=w=null;for(let C=0;C<a;C++){let E=i.get(b,C);E===x?h++:(h>=5&&(u+=t.N1+(h-5)),x=E,h=1),E=i.get(C,b),E===w?p++:(p>=5&&(u+=t.N1+(p-5)),w=E,p=1)}h>=5&&(u+=t.N1+(h-5)),p>=5&&(u+=t.N1+(p-5))}return u},e.getPenaltyN2=function(i){const a=i.size;let u=0;for(let h=0;h<a-1;h++)for(let p=0;p<a-1;p++){const x=i.get(h,p)+i.get(h,p+1)+i.get(h+1,p)+i.get(h+1,p+1);(x===4||x===0)&&u++}return u*t.N2},e.getPenaltyN3=function(i){const a=i.size;let u=0,h=0,p=0;for(let x=0;x<a;x++){h=p=0;for(let w=0;w<a;w++)h=h<<1&2047|i.get(x,w),w>=10&&(h===1488||h===93)&&u++,p=p<<1&2047|i.get(w,x),w>=10&&(p===1488||p===93)&&u++}return u*t.N3},e.getPenaltyN4=function(i){let a=0;const u=i.data.length;for(let p=0;p<u;p++)a+=i.data[p];return Math.abs(Math.ceil(a*100/u/5)-10)*t.N4};function r(n,i,a){switch(n){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,a){const u=a.size;for(let h=0;h<u;h++)for(let p=0;p<u;p++)a.isReserved(p,h)||a.xor(p,h,r(i,p,h))},e.getBestMask=function(i,a){const u=Object.keys(e.Patterns).length;let h=0,p=1/0;for(let x=0;x<u;x++){a(x),e.applyMask(x,i);const w=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(x,i),w<p&&(p=w,h=x)}return h}})($b);var $d={};const ii=Hd,ru=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],nu=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];$d.getBlocksCount=function(t,r){switch(r){case ii.L:return ru[(t-1)*4+0];case ii.M:return ru[(t-1)*4+1];case ii.Q:return ru[(t-1)*4+2];case ii.H:return ru[(t-1)*4+3];default:return}};$d.getTotalCodewordsCount=function(t,r){switch(r){case ii.L:return nu[(t-1)*4+0];case ii.M:return nu[(t-1)*4+1];case ii.Q:return nu[(t-1)*4+2];case ii.H:return nu[(t-1)*4+3];default:return}};var Gb={},Gd={};const bl=new Uint8Array(512),od=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)bl[r]=t,od[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)bl[r]=bl[r-255]})();Gd.log=function(t){if(t<1)throw new Error("log("+t+")");return od[t]};Gd.exp=function(t){return bl[t]};Gd.mul=function(t,r){return t===0||r===0?0:bl[od[t]+od[r]]};(function(e){const t=Gd;e.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let u=0;u<n.length;u++)for(let h=0;h<i.length;h++)a[u+h]^=t.mul(n[u],i[h]);return a},e.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const u=a[0];for(let p=0;p<i.length;p++)a[p]^=t.mul(i[p],u);let h=0;for(;h<a.length&&a[h]===0;)h++;a=a.slice(h)}return a},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})(Gb);const qb=Gb;function Em(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Em.prototype.initialize=function(t){this.degree=t,this.genPoly=qb.generateECPolynomial(this.degree)};Em.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=qb.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var xR=Em,Kb={},Ai={},Cm={};Cm.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var os={};const Xb="[0-9]+",yR="[A-Z $%*+\\-./:]+";let Zl="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Zl=Zl.replace(/u/g,"\\u");const wR="(?:(?![A-Z0-9 $%*+\\-./:]|"+Zl+`)(?:.|[\r
]))+`;os.KANJI=new RegExp(Zl,"g");os.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");os.BYTE=new RegExp(wR,"g");os.NUMERIC=new RegExp(Xb,"g");os.ALPHANUMERIC=new RegExp(yR,"g");const vR=new RegExp("^"+Zl+"$"),bR=new RegExp("^"+Xb+"$"),ER=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");os.testKanji=function(t){return vR.test(t)};os.testNumeric=function(t){return bR.test(t)};os.testAlphanumeric=function(t){return ER.test(t)};(function(e){const t=Cm,r=os;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,u){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?a.ccBits[0]:u<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return r.testNumeric(a)?e.NUMERIC:r.testAlphanumeric(a)?e.ALPHANUMERIC:r.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,u){if(e.isValid(a))return a;try{return n(a)}catch{return u}}})(Ai);(function(e){const t=tn,r=$d,n=Hd,i=Ai,a=Cm,u=7973,h=t.getBCHDigit(u);function p(C,E,k){for(let A=1;A<=40;A++)if(E<=e.getCapacity(A,k,C))return A}function x(C,E){return i.getCharCountIndicator(C,E)+4}function w(C,E){let k=0;return C.forEach(function(A){const P=x(A.mode,E);k+=P+A.getBitsLength()}),k}function b(C,E){for(let k=1;k<=40;k++)if(w(C,k)<=e.getCapacity(k,E,i.MIXED))return k}e.from=function(E,k){return a.isValid(E)?parseInt(E,10):k},e.getCapacity=function(E,k,A){if(!a.isValid(E))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=i.BYTE);const P=t.getSymbolTotalCodewords(E),T=r.getTotalCodewordsCount(E,k),S=(P-T)*8;if(A===i.MIXED)return S;const _=S-x(A,E);switch(A){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},e.getBestVersionForData=function(E,k){let A;const P=n.from(k,n.M);if(Array.isArray(E)){if(E.length>1)return b(E,P);if(E.length===0)return 1;A=E[0]}else A=E;return p(A.mode,A.getLength(),P)},e.getEncodedBits=function(E){if(!a.isValid(E)||E<7)throw new Error("Invalid QR Code version");let k=E<<12;for(;t.getBCHDigit(k)-h>=0;)k^=u<<t.getBCHDigit(k)-h;return E<<12|k}})(Kb);var Yb={};const B0=tn,Qb=1335,CR=21522,xx=B0.getBCHDigit(Qb);Yb.getEncodedBits=function(t,r){const n=t.bit<<3|r;let i=n<<10;for(;B0.getBCHDigit(i)-xx>=0;)i^=Qb<<B0.getBCHDigit(i)-xx;return(n<<10|i)^CR};var Zb={};const _R=Ai;function ba(e){this.mode=_R.NUMERIC,this.data=e.toString()}ba.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};ba.prototype.getLength=function(){return this.data.length};ba.prototype.getBitsLength=function(){return ba.getBitsLength(this.data.length)};ba.prototype.write=function(t){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),t.put(i,10);const a=this.data.length-r;a>0&&(n=this.data.substr(r),i=parseInt(n,10),t.put(i,a*3+1))};var SR=ba;const AR=Ai,uh=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ea(e){this.mode=AR.ALPHANUMERIC,this.data=e}Ea.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Ea.prototype.getLength=function(){return this.data.length};Ea.prototype.getBitsLength=function(){return Ea.getBitsLength(this.data.length)};Ea.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=uh.indexOf(this.data[r])*45;n+=uh.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(uh.indexOf(this.data[r]),6)};var NR=Ea;const TR=Ai;function Ca(e){this.mode=TR.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Ca.getBitsLength=function(t){return t*8};Ca.prototype.getLength=function(){return this.data.length};Ca.prototype.getBitsLength=function(){return Ca.getBitsLength(this.data.length)};Ca.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var kR=Ca;const IR=Ai,RR=tn;function _a(e){this.mode=IR.KANJI,this.data=e}_a.getBitsLength=function(t){return t*13};_a.prototype.getLength=function(){return this.data.length};_a.prototype.getBitsLength=function(){return _a.getBitsLength(this.data.length)};_a.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=RR.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var OR=_a,Jb={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,i){var a={},u={};u[n]=0;var h=t.PriorityQueue.make();h.push(n,0);for(var p,x,w,b,C,E,k,A,P;!h.empty();){p=h.pop(),x=p.value,b=p.cost,C=r[x]||{};for(w in C)C.hasOwnProperty(w)&&(E=C[w],k=b+E,A=u[w],P=typeof u[w]>"u",(P||A>k)&&(u[w]=k,h.push(w,k),a[w]=x))}if(typeof i<"u"&&typeof u[i]>"u"){var T=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(T)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],a=n;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,n,i){var a=t.single_source_shortest_paths(r,n,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,i={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Jb);var PR=Jb.exports;(function(e){const t=Ai,r=SR,n=NR,i=kR,a=OR,u=os,h=tn,p=PR;function x(T){return unescape(encodeURIComponent(T)).length}function w(T,S,_){const j=[];let F;for(;(F=T.exec(_))!==null;)j.push({data:F[0],index:F.index,mode:S,length:F[0].length});return j}function b(T){const S=w(u.NUMERIC,t.NUMERIC,T),_=w(u.ALPHANUMERIC,t.ALPHANUMERIC,T);let j,F;return h.isKanjiModeEnabled()?(j=w(u.BYTE,t.BYTE,T),F=w(u.KANJI,t.KANJI,T)):(j=w(u.BYTE_KANJI,t.BYTE,T),F=[]),S.concat(_,j,F).sort(function(M,W){return M.index-W.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function C(T,S){switch(S){case t.NUMERIC:return r.getBitsLength(T);case t.ALPHANUMERIC:return n.getBitsLength(T);case t.KANJI:return a.getBitsLength(T);case t.BYTE:return i.getBitsLength(T)}}function E(T){return T.reduce(function(S,_){const j=S.length-1>=0?S[S.length-1]:null;return j&&j.mode===_.mode?(S[S.length-1].data+=_.data,S):(S.push(_),S)},[])}function k(T){const S=[];for(let _=0;_<T.length;_++){const j=T[_];switch(j.mode){case t.NUMERIC:S.push([j,{data:j.data,mode:t.ALPHANUMERIC,length:j.length},{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.ALPHANUMERIC:S.push([j,{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.KANJI:S.push([j,{data:j.data,mode:t.BYTE,length:x(j.data)}]);break;case t.BYTE:S.push([{data:j.data,mode:t.BYTE,length:x(j.data)}])}}return S}function A(T,S){const _={},j={start:{}};let F=["start"];for(let L=0;L<T.length;L++){const M=T[L],W=[];for(let V=0;V<M.length;V++){const ne=M[V],H=""+L+V;W.push(H),_[H]={node:ne,lastCount:0},j[H]={};for(let q=0;q<F.length;q++){const ie=F[q];_[ie]&&_[ie].node.mode===ne.mode?(j[ie][H]=C(_[ie].lastCount+ne.length,ne.mode)-C(_[ie].lastCount,ne.mode),_[ie].lastCount+=ne.length):(_[ie]&&(_[ie].lastCount=ne.length),j[ie][H]=C(ne.length,ne.mode)+4+t.getCharCountIndicator(ne.mode,S))}}F=W}for(let L=0;L<F.length;L++)j[F[L]].end=0;return{map:j,table:_}}function P(T,S){let _;const j=t.getBestModeForData(T);if(_=t.from(S,j),_!==t.BYTE&&_.bit<j.bit)throw new Error('"'+T+'" cannot be encoded with mode '+t.toString(_)+`.
 Suggested mode is: `+t.toString(j));switch(_===t.KANJI&&!h.isKanjiModeEnabled()&&(_=t.BYTE),_){case t.NUMERIC:return new r(T);case t.ALPHANUMERIC:return new n(T);case t.KANJI:return new a(T);case t.BYTE:return new i(T)}}e.fromArray=function(S){return S.reduce(function(_,j){return typeof j=="string"?_.push(P(j,null)):j.data&&_.push(P(j.data,j.mode)),_},[])},e.fromString=function(S,_){const j=b(S,h.isKanjiModeEnabled()),F=k(j),L=A(F,_),M=p.find_path(L.map,"start","end"),W=[];for(let V=1;V<M.length-1;V++)W.push(L.table[M[V]].node);return e.fromArray(E(W))},e.rawSplit=function(S){return e.fromArray(b(S,h.isKanjiModeEnabled()))}})(Zb);const qd=tn,dh=Hd,jR=mR,DR=pR,MR=Wb,LR=Hb,F0=$b,U0=$d,BR=xR,ad=Kb,FR=Yb,UR=Ai,fh=Zb;function VR(e,t){const r=e.size,n=LR.getPositions(t);for(let i=0;i<n.length;i++){const a=n[i][0],u=n[i][1];for(let h=-1;h<=7;h++)if(!(a+h<=-1||r<=a+h))for(let p=-1;p<=7;p++)u+p<=-1||r<=u+p||(h>=0&&h<=6&&(p===0||p===6)||p>=0&&p<=6&&(h===0||h===6)||h>=2&&h<=4&&p>=2&&p<=4?e.set(a+h,u+p,!0,!0):e.set(a+h,u+p,!1,!0))}}function zR(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function WR(e,t){const r=MR.getPositions(t);for(let n=0;n<r.length;n++){const i=r[n][0],a=r[n][1];for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)u===-2||u===2||h===-2||h===2||u===0&&h===0?e.set(i+u,a+h,!0,!0):e.set(i+u,a+h,!1,!0)}}function HR(e,t){const r=e.size,n=ad.getEncodedBits(t);let i,a,u;for(let h=0;h<18;h++)i=Math.floor(h/3),a=h%3+r-8-3,u=(n>>h&1)===1,e.set(i,a,u,!0),e.set(a,i,u,!0)}function hh(e,t,r){const n=e.size,i=FR.getEncodedBits(t,r);let a,u;for(a=0;a<15;a++)u=(i>>a&1)===1,a<6?e.set(a,8,u,!0):a<8?e.set(a+1,8,u,!0):e.set(n-15+a,8,u,!0),a<8?e.set(8,n-a-1,u,!0):a<9?e.set(8,15-a-1+1,u,!0):e.set(8,15-a-1,u,!0);e.set(n-8,8,1,!0)}function $R(e,t){const r=e.size;let n=-1,i=r-1,a=7,u=0;for(let h=r-1;h>0;h-=2)for(h===6&&h--;;){for(let p=0;p<2;p++)if(!e.isReserved(i,h-p)){let x=!1;u<t.length&&(x=(t[u]>>>a&1)===1),e.set(i,h-p,x),a--,a===-1&&(u++,a=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function GR(e,t,r){const n=new jR;r.forEach(function(p){n.put(p.mode.bit,4),n.put(p.getLength(),UR.getCharCountIndicator(p.mode,e)),p.write(n)});const i=qd.getSymbolTotalCodewords(e),a=U0.getTotalCodewordsCount(e,t),u=(i-a)*8;for(n.getLengthInBits()+4<=u&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const h=(u-n.getLengthInBits())/8;for(let p=0;p<h;p++)n.put(p%2?17:236,8);return qR(n,e,t)}function qR(e,t,r){const n=qd.getSymbolTotalCodewords(t),i=U0.getTotalCodewordsCount(t,r),a=n-i,u=U0.getBlocksCount(t,r),h=n%u,p=u-h,x=Math.floor(n/u),w=Math.floor(a/u),b=w+1,C=x-w,E=new BR(C);let k=0;const A=new Array(u),P=new Array(u);let T=0;const S=new Uint8Array(e.buffer);for(let M=0;M<u;M++){const W=M<p?w:b;A[M]=S.slice(k,k+W),P[M]=E.encode(A[M]),k+=W,T=Math.max(T,W)}const _=new Uint8Array(n);let j=0,F,L;for(F=0;F<T;F++)for(L=0;L<u;L++)F<A[L].length&&(_[j++]=A[L][F]);for(F=0;F<C;F++)for(L=0;L<u;L++)_[j++]=P[L][F];return _}function KR(e,t,r,n){let i;if(Array.isArray(e))i=fh.fromArray(e);else if(typeof e=="string"){let x=t;if(!x){const w=fh.rawSplit(e);x=ad.getBestVersionForData(w,r)}i=fh.fromString(e,x||40)}else throw new Error("Invalid data");const a=ad.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const u=GR(t,r,i),h=qd.getSymbolSize(t),p=new DR(h);return VR(p,t),zR(p),WR(p,t),hh(p,r,0),t>=7&&HR(p,t),$R(p,u),isNaN(n)&&(n=F0.getBestMask(p,hh.bind(null,p,r))),F0.applyMask(n,p),hh(p,r,n),{modules:p,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}Vb.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=dh.M,i,a;return typeof r<"u"&&(n=dh.from(r.errorCorrectionLevel,dh.M),i=ad.from(r.version),a=F0.from(r.maskPattern),r.toSJISFunc&&qd.setToSJISFunction(r.toSJISFunc)),KR(t,i,n,a)};var eE={},_m={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,u=n.scale||4;return{width:a,scale:a?4:u,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const a=e.getScale(n,i);return Math.floor((n+i.margin*2)*a)},e.qrToImageData=function(n,i,a){const u=i.modules.size,h=i.modules.data,p=e.getScale(u,a),x=Math.floor((u+a.margin*2)*p),w=a.margin*p,b=[a.color.light,a.color.dark];for(let C=0;C<x;C++)for(let E=0;E<x;E++){let k=(C*x+E)*4,A=a.color.light;if(C>=w&&E>=w&&C<x-w&&E<x-w){const P=Math.floor((C-w)/p),T=Math.floor((E-w)/p);A=b[h[P*u+T]?1:0]}n[k++]=A.r,n[k++]=A.g,n[k++]=A.b,n[k]=A.a}}})(_m);(function(e){const t=_m;function r(i,a,u){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=u,a.width=u,a.style.height=u+"px",a.style.width=u+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,u,h){let p=h,x=u;typeof p>"u"&&(!u||!u.getContext)&&(p=u,u=void 0),u||(x=n()),p=t.getOptions(p);const w=t.getImageWidth(a.modules.size,p),b=x.getContext("2d"),C=b.createImageData(w,w);return t.qrToImageData(C.data,a,p),r(b,x,w),b.putImageData(C,0,0),x},e.renderToDataURL=function(a,u,h){let p=h;typeof p>"u"&&(!u||!u.getContext)&&(p=u,u=void 0),p||(p={});const x=e.render(a,u,p),w=p.type||"image/png",b=p.rendererOpts||{};return x.toDataURL(w,b.quality)}})(eE);var tE={};const XR=_m;function yx(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function mh(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function YR(e,t,r){let n="",i=0,a=!1,u=0;for(let h=0;h<e.length;h++){const p=Math.floor(h%t),x=Math.floor(h/t);!p&&!a&&(a=!0),e[h]?(u++,h>0&&p>0&&e[h-1]||(n+=a?mh("M",p+r,.5+x+r):mh("m",i,0),i=0,a=!1),p+1<t&&e[h+1]||(n+=mh("h",u),u=0)):i++}return n}tE.render=function(t,r,n){const i=XR.getOptions(r),a=t.modules.size,u=t.modules.data,h=a+i.margin*2,p=i.color.light.a?"<path "+yx(i.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",x="<path "+yx(i.color.dark,"stroke")+' d="'+YR(u,a,i.margin)+'"/>',w='viewBox="0 0 '+h+" "+h+'"',C='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+w+' shape-rendering="crispEdges">'+p+x+`</svg>
`;return typeof n=="function"&&n(null,C),C};const QR=fR,V0=Vb,rE=eE,ZR=tE;function Sm(e,t,r,n,i){const a=[].slice.call(arguments,1),u=a.length,h=typeof a[u-1]=="function";if(!h&&!QR())throw new Error("Callback required as last argument");if(h){if(u<2)throw new Error("Too few arguments provided");u===2?(i=r,r=t,t=n=void 0):u===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0))}else{if(u<1)throw new Error("Too few arguments provided");return u===1?(r=t,t=n=void 0):u===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(p,x){try{const w=V0.create(r,n);p(e(w,t,n))}catch(w){x(w)}})}try{const p=V0.create(r,n);i(null,e(p,t,n))}catch(p){i(p)}}hc.create=V0.create;hc.toCanvas=Sm.bind(null,rE.render);hc.toDataURL=Sm.bind(null,rE.renderToDataURL);hc.toString=Sm.bind(null,function(e,t,r){return ZR.render(e,r)});async function nE(e,t){return new Promise((r,n)=>{const i=document.createElement("canvas"),a=i.getContext("2d");if(!a){n(new Error("Could not get canvas context"));return}const u=new Image;u.crossOrigin="anonymous",u.onload=async()=>{i.width=u.width,i.height=u.height,a.drawImage(u,0,0);for(const h of e.fields)await JR(a,h,t);i.toBlob(h=>{h?r(h):n(new Error("Could not generate image blob"))},"image/png")},u.onerror=()=>{n(new Error("Could not load background image"))},u.src=e.background_url})}async function JR(e,t,r){const n=e5(t,r);if(t.type==="text"){const i=t.fontSize||24,a=t.fontFamily||"Arial",u=t.color||"#000000",h=t.align||"left";e.font=`${i}px ${a}`,e.fillStyle=u,e.textAlign=h,e.textBaseline="top",e.fillText(n,t.x,t.y)}else if(t.type==="qrcode"){const i=t.size||100;try{const a=await hc.toDataURL(n,{width:i,margin:1,color:{dark:t.color||"#000000",light:"#ffffff"}}),u=new Image;await new Promise((h,p)=>{u.onload=()=>{e.drawImage(u,t.x,t.y,i,i),h()},u.onerror=p,u.src=a})}catch(a){console.error("Error generating QR code:",a)}}}function e5(e,t){return e.field==="custom"&&e.customValue?e.customValue:t[e.field]||""}function t5(e,t){const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}async function sE(e,t){const r=await nE(e,t);return URL.createObjectURL(r)}const r5=()=>{const e=Is(),t=ks(),{toast:r}=kr(),{user:n,profile:i,loading:a,signOut:u,isAdmin:h,isVolunteer:p}=Os(),[x,w]=I.useState(!1),[b,C]=I.useState([]),[E,k]=I.useState([]),[A,P]=I.useState(0),[T,S]=I.useState(!1),[_,j]=I.useState(!0),[F,L]=I.useState(null),[M,W]=I.useState(!1),[V,ne]=I.useState(null);I.useEffect(()=>{!a&&!n&&e("/login")},[n,a,e]),I.useEffect(()=>{i&&!i.phone&&w(!0)},[i]),I.useEffect(()=>{n&&(async()=>{if(!n)return;const[J,Y]=await Promise.all([Te.from("tickets").select("*").eq("is_active",!0),Te.from("registrations").select("*, ticket:tickets(*)").eq("user_id",n.id).order("created_at",{ascending:!1})]);J.error||C(J.data||[]),Y.error||k(Y.data||[]),j(!1)})()},[n]),I.useEffect(()=>{(async()=>{if(!(i!=null&&i.referral_code))return;const{count:J}=await Te.from("registrations").select("id",{count:"exact",head:!0}).eq("referred_by",i.referral_code);P(J||0)})()},[i==null?void 0:i.referral_code,t.key]);const H=()=>{i!=null&&i.referral_code&&(navigator.clipboard.writeText(i.referral_code),S(!0),setTimeout(()=>S(!1),2e3))},q=async()=>{await u(),e("/")},ie=()=>{w(!1)},re=async ee=>{var J;if(!(!ee.registration_id||!ee.ticket_id)){W(!0);try{const{data:Y,error:le}=await Te.from("ticket_templates").select("*").eq("ticket_id",ee.ticket_id).single();if(le||!Y){r({title:"No Template",description:"No ticket template has been created for this event yet.",variant:"destructive"}),W(!1);return}const Ae={user_name:(i==null?void 0:i.full_name)||"User",ticket_name:((J=ee.ticket)==null?void 0:J.title)||"Event",registration_id:ee.registration_id,date:new Date(ee.created_at).toLocaleDateString()},xe=await sE(Y,Ae);L(xe),ne({template:Y,data:Ae})}catch{r({title:"Error",description:"Could not generate ticket. Please try again.",variant:"destructive"})}W(!1)}},G=async()=>{if(V)try{const ee=await nE(V.template,V.data);t5(ee,`ticket-${V.data.registration_id}.png`)}catch{r({title:"Error",description:"Could not download ticket.",variant:"destructive"})}},ue=()=>{F&&URL.revokeObjectURL(F),L(null),ne(null)};return a?m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx("div",{className:"text-primary font-mono animate-pulse",children:"LOADING..."})}):n?m.jsxs("div",{className:"min-h-screen bg-background relative scanlines flex flex-col",children:[m.jsx(dc,{}),m.jsxs("main",{className:"flex-1 p-4 pt-20",children:[m.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-30 pointer-events-none"}),m.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto space-y-8",children:[m.jsx("h1",{className:"text-3xl md:text-5xl font-display font-bold text-primary glow-text text-center tracking-wider",children:"DASHBOARD"}),h&&m.jsxs(Xr,{to:"/admin",className:"flex items-center justify-center gap-2 bg-secondary/30 border border-primary/30 py-3 rounded font-mono text-primary hover:bg-secondary/50 hover:border-primary transition-colors",children:[m.jsx(TS,{className:"w-5 h-5"}),"ADMIN PANEL"]}),(p||h)&&m.jsxs(Xr,{to:"/volunteer",className:"flex items-center justify-center gap-2 bg-secondary/30 border border-green-500/30 py-3 rounded font-mono text-green-400 hover:bg-secondary/50 hover:border-green-500 transition-colors",children:[m.jsx($1,{className:"w-5 h-5"}),"VOLUNTEER PANEL"]}),m.jsxs("div",{className:"terminal-card",children:[m.jsxs("div",{className:"terminal-header",children:[m.jsx("span",{className:"terminal-dot terminal-dot-red"}),m.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),m.jsx("span",{className:"terminal-dot terminal-dot-green"}),m.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"user://profile"})]}),m.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[m.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-primary/20 border border-primary/50 flex items-center justify-center shrink-0",children:m.jsx(Rd,{className:"w-6 h-6 sm:w-7 sm:h-7 text-primary"})}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("h2",{className:"text-base sm:text-lg font-display text-primary break-words",children:(i==null?void 0:i.full_name)||"User"}),m.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:"Welcome back"})]})]}),m.jsxs("button",{onClick:q,className:"flex items-center justify-center gap-2 px-3 py-2 border border-destructive/50 bg-destructive/10 rounded font-mono text-sm text-destructive hover:bg-destructive/20 shrink-0",children:[m.jsx(H1,{className:"w-4 h-4"}),"SIGN OUT"]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background border border-border rounded",children:[m.jsx(D2,{className:"w-4 h-4 text-primary/60"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("span",{className:"text-xs text-muted-foreground font-mono block",children:"EMAIL"}),m.jsx("span",{className:"text-sm text-primary font-mono truncate block",children:(i==null?void 0:i.email)||n.email})]})]}),m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background border border-border rounded",children:[m.jsx(B2,{className:"w-4 h-4 text-primary/60"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("span",{className:"text-xs text-muted-foreground font-mono block",children:"PHONE"}),m.jsx("span",{className:"text-sm text-primary font-mono truncate block",children:(i==null?void 0:i.phone)||"Not provided"})]})]})]})]})]}),m.jsxs("div",{className:"terminal-card",children:[m.jsxs("div",{className:"terminal-header",children:[m.jsx("span",{className:"terminal-dot terminal-dot-red"}),m.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),m.jsx("span",{className:"terminal-dot terminal-dot-green"}),m.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"tickets://available"})]}),m.jsxs("div",{className:"p-6",children:[m.jsx("h3",{className:"text-lg font-display text-primary mb-4",children:"AVAILABLE TICKETS"}),_?m.jsx("div",{className:"text-muted-foreground font-mono text-sm animate-pulse",children:"Loading..."}):b.length===0?m.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:"No tickets available at the moment."}):m.jsx("div",{className:"grid gap-3",children:b.map(ee=>m.jsxs("div",{className:"p-4 bg-background border border-border rounded hover:border-primary/50 transition-colors",children:[m.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[m.jsx(yi,{className:"w-5 h-5 text-primary/60 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-display text-primary",children:ee.title}),ee.description&&m.jsx("p",{className:"text-xs text-muted-foreground font-mono mt-1",children:ee.description})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-primary font-display font-bold",children:ee.price>0?`${ee.price}`:"FREE"}),m.jsx(Xr,{to:`/tickets/${ee.id}/register`,className:"bg-primary text-background px-4 py-2 font-display font-bold text-sm rounded hover:scale-105 transition-transform",children:"REGISTER"})]})]},ee.id))})]})]}),m.jsxs("div",{className:"terminal-card",children:[m.jsxs("div",{className:"terminal-header",children:[m.jsx("span",{className:"terminal-dot terminal-dot-red"}),m.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),m.jsx("span",{className:"terminal-dot terminal-dot-green"}),m.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"registrations://mine"})]}),m.jsxs("div",{className:"p-6",children:[m.jsx("h3",{className:"text-lg font-display text-primary mb-4",children:"MY REGISTRATIONS"}),_?m.jsx("div",{className:"text-muted-foreground font-mono text-sm animate-pulse",children:"Loading..."}):E.length===0?m.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:"You haven't registered for any events yet."}):m.jsx("div",{className:"space-y-3",children:E.map(ee=>{var J;return m.jsxs("div",{className:"p-4 bg-background border border-border rounded",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h4",{className:"font-display text-primary",children:((J=ee.ticket)==null?void 0:J.title)||"Unknown"}),m.jsx("span",{className:`text-xs px-2 py-1 rounded font-mono ${ee.status==="confirmed"?"bg-green-500/20 text-green-500":ee.status==="cancelled"?"bg-red-500/20 text-red-500":"bg-yellow-500/20 text-yellow-500"}`,children:ee.status.toUpperCase()})]}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground font-mono",children:[m.jsx("span",{children:new Date(ee.created_at).toLocaleDateString()}),ee.registration_id&&m.jsxs("span",{className:"text-primary bg-primary/10 px-2 py-0.5 rounded tracking-wider",children:["ID: ",ee.registration_id]})]}),ee.status==="confirmed"&&ee.registration_id&&m.jsxs("button",{onClick:()=>re(ee),disabled:M,className:"mt-3 w-full flex items-center justify-center gap-2 px-3 py-2 border border-primary text-primary rounded font-mono text-sm hover:bg-primary/10 disabled:opacity-50",children:[m.jsx(P2,{className:"w-4 h-4"}),M?"Loading...":"View Ticket"]})]},ee.id)})})]})]}),m.jsxs("div",{className:"terminal-card",children:[m.jsxs("div",{className:"terminal-header",children:[m.jsx("span",{className:"terminal-dot terminal-dot-red"}),m.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),m.jsx("span",{className:"terminal-dot terminal-dot-green"}),m.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"referrals://code"})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(F2,{className:"w-5 h-5 text-primary"}),m.jsx("h3",{className:"text-lg font-display text-primary",children:"YOUR REFERRAL CODE"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"p-4 bg-background border border-border rounded",children:[m.jsx("span",{className:"text-xs text-muted-foreground font-mono block mb-2",children:"REFERRAL CODE"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-2xl font-display font-bold text-primary tracking-widest",children:(i==null?void 0:i.referral_code)||"-----"}),m.jsx("button",{onClick:H,className:"p-2 hover:bg-secondary/50 rounded transition-colors",title:"Copy code",children:T?m.jsx(d0,{className:"w-4 h-4 text-green-500"}):m.jsx(mS,{className:"w-4 h-4 text-muted-foreground"})})]})]}),m.jsxs("div",{className:"p-4 bg-background border border-border rounded",children:[m.jsx("span",{className:"text-xs text-muted-foreground font-mono block mb-2",children:"TOTAL REFERRALS"}),m.jsx("span",{className:"text-2xl font-display font-bold text-primary",children:A})]})]}),m.jsx("p",{className:"text-xs text-muted-foreground font-mono mt-4",children:"Share your referral code with friends. When they use it during registration, you'll see them in your referral count!"})]})]})]})]}),m.jsx(fc,{}),F&&m.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] overflow-auto",children:[m.jsx("button",{onClick:ue,className:"absolute top-2 right-2 p-2 bg-black/50 rounded-full text-white hover:bg-black/70 z-10",children:m.jsx(_i,{className:"w-5 h-5"})}),m.jsx("img",{src:F,alt:"Your Ticket",className:"max-w-full h-auto"}),m.jsxs("div",{className:"mt-4 flex justify-center gap-3",children:[m.jsxs("button",{onClick:G,className:"flex items-center gap-2 bg-primary text-background px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform",children:[m.jsx(O2,{className:"w-5 h-5"}),"Download Ticket"]}),m.jsx("button",{onClick:ue,className:"flex items-center gap-2 border border-white text-white px-6 py-3 font-mono rounded hover:bg-white/10",children:"Close"})]})]})}),m.jsx(dR,{open:x,onComplete:ie})]}):null},n5=void 0,wx=void 0,vx=void 0,s5=()=>{const{ticketId:e}=Vv(),t=Is(),{user:r,profile:n,session:i,loading:a}=Os(),{toast:u}=kr(),[h,p]=I.useState(null),[x,w]=I.useState(!0),[b,C]=I.useState(!1),[E,k]=I.useState({}),[A,P]=I.useState("");I.useEffect(()=>{if(!a&&!r){t("/login");return}a||(async()=>{if(!e)return;const{data:W,error:V}=await Te.from("tickets").select("*").eq("id",e).eq("is_active",!0).single();if(V||!W){u({title:"Error",description:"Ticket not found or unavailable",variant:"destructive"}),t("/dashboard");return}p(W);const ne={};(W.form_fields||[]).forEach(H=>{ne[H.id]=H.type==="checkbox"?!1:""}),k(ne),w(!1)})()},[e,r,a,t,u]);const T=(M,W)=>{k(V=>({...V,[M]:W}))},S=()=>{const M="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let W="";for(let V=0;V<10;V++)W+=M.charAt(Math.floor(Math.random()*M.length));return W},_=()=>new Promise(M=>{if(window.Razorpay){M(!0);return}const W=document.createElement("script");W.src="https://checkout.razorpay.com/v1/checkout.js",W.onload=()=>M(!0),W.onerror=()=>M(!1),document.body.appendChild(W)}),j=async(M,W)=>{if(!(!h||!r))try{if(!await _())throw new Error("Failed to load payment gateway");const ne=i==null?void 0:i.access_token;if(!ne)throw new Error("No valid session. Please log in again.");const q=await(await fetch(`${wx}/functions/v1/create-order`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`,apikey:vx},body:JSON.stringify({amount:h.price,user_id:r.id,registration_id:W})})).json();if(!q.success)throw new Error(q.error||"Failed to create order");const ie={key:n5,amount:q.amount,currency:q.currency,order_id:q.order_id,name:"TESSERACT 9.0",description:`Registration for ${h.title}`,prefill:{name:(n==null?void 0:n.full_name)||"",email:(n==null?void 0:n.email)||"",contact:(n==null?void 0:n.phone)||""},handler:async G=>{try{const ee=await(await fetch(`${wx}/functions/v1/verify-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`,apikey:vx},body:JSON.stringify({razorpay_order_id:q.order_id,razorpay_payment_id:G.razorpay_payment_id,razorpay_signature:G.razorpay_signature,registration_id:W})})).json();if(!ee.success)throw new Error(ee.error||"Payment verification failed");u({title:"Payment Successful!",description:`Your registration ID is ${M}`}),t("/dashboard")}catch(ue){console.error("Payment verification error:",ue),u({title:"Verification Error",description:ue instanceof Error?ue.message:"Payment verification failed",variant:"destructive"})}finally{C(!1)}},theme:{color:"#00ff88"},modal:{ondismiss:()=>{u({title:"Payment Cancelled",description:"You can retry payment from your dashboard."}),C(!1),t("/dashboard")}}},re=new window.Razorpay(ie);re.on("payment.failed",G=>{u({title:"Payment Failed",description:G.error.description,variant:"destructive"}),C(!1)}),re.open()}catch(V){console.error("Payment error:",V),u({title:"Payment Error",description:V instanceof Error?V.message:"Failed to initiate payment",variant:"destructive"}),C(!1)}},F=async M=>{if(M.preventDefault(),!r||!h)return;const W=(h.form_fields||[]).filter(ue=>ue.required&&!E[ue.id]);if(W.length>0){u({title:"Validation Error",description:`Please fill in: ${W.map(ue=>ue.label).join(", ")}`,variant:"destructive"});return}C(!0);let V=null;if(A.trim()){const{data:ue,error:ee}=await Te.from("profiles").select("id").eq("referral_code",A.trim()).maybeSingle();if(ee){console.error("Referral validation error:",ee),u({title:"Validation Error",description:"Could not validate referral code. Please try again.",variant:"destructive"}),C(!1);return}if(ue)V=A.trim();else{u({title:"Invalid Referral Code",description:"The referral code you entered does not exist.",variant:"destructive"}),C(!1);return}}const ne=S(),H=h.price===0,{data:q,error:ie}=await Te.from("profiles").select("id").eq("id",r.id).single();if(ie||!q){console.error("Profile verification failed:",ie),u({title:"Profile Error",description:"Your profile was not found. Please try logging out and back in.",variant:"destructive"}),C(!1);return}const{data:re,error:G}=await Te.from("registrations").insert({user_id:r.id,ticket_id:h.id,form_data:E,status:H?"confirmed":"pending",referred_by:V,registration_id:ne}).select("id").single();if(G||!re){u({title:"Error",description:(G==null?void 0:G.message)||"Failed to create registration",variant:"destructive"}),C(!1);return}if(H){u({title:"Registration Successful!",description:`Your registration ID is ${ne}`}),t("/dashboard");return}await j(ne,re.id)},L=M=>{const W="w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors";switch(M.type){case"textarea":return m.jsx("textarea",{value:String(E[M.id]||""),onChange:V=>T(M.id,V.target.value),placeholder:M.placeholder,className:`${W} h-24 resize-none`,required:M.required});case"select":return m.jsxs("select",{value:String(E[M.id]||""),onChange:V=>T(M.id,V.target.value),className:W,required:M.required,children:[m.jsx("option",{value:"",children:"Select an option"}),(M.options||[]).map(V=>m.jsx("option",{value:V,children:V},V))]});case"checkbox":return m.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:!!E[M.id],onChange:V=>T(M.id,V.target.checked),className:"w-5 h-5 accent-primary"}),m.jsx("span",{className:"text-primary font-mono",children:M.label})]});default:return m.jsx("input",{type:M.type,value:String(E[M.id]||""),onChange:V=>T(M.id,V.target.value),placeholder:M.placeholder,className:W,required:M.required})}};return x||a?m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx("div",{className:"text-primary font-mono animate-pulse",children:"LOADING..."})}):h?m.jsxs("div",{className:"min-h-screen bg-background relative scanlines flex flex-col",children:[m.jsx(dc,{}),m.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[m.jsx("div",{className:"absolute inset-0 bg-grid-pattern bg-grid opacity-30 pointer-events-none"}),m.jsxs("div",{className:"relative z-10 w-full max-w-lg",children:[m.jsx("h1",{className:"text-2xl md:text-4xl font-display font-bold text-primary glow-text mb-2 text-center tracking-wider",children:h.title}),h.description&&m.jsx("p",{className:"text-muted-foreground font-mono text-sm text-center mb-6",children:h.description}),m.jsxs("div",{className:"terminal-card",children:[m.jsxs("div",{className:"terminal-header",children:[m.jsx("span",{className:"terminal-dot terminal-dot-red"}),m.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),m.jsx("span",{className:"terminal-dot terminal-dot-green"}),m.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"register://ticket"})]}),m.jsxs("div",{className:"p-6 md:p-8",children:[m.jsxs("div",{className:"mb-6 pb-6 border-b border-border",children:[m.jsx("p",{className:"text-xs text-muted-foreground font-mono mb-3",children:"YOUR INFO"}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Name:"}),m.jsx("span",{className:"text-primary font-mono",children:(n==null?void 0:n.full_name)||"-"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Email:"}),m.jsx("span",{className:"text-primary font-mono",children:(n==null?void 0:n.email)||"-"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),m.jsx("span",{className:"text-primary font-mono",children:(n==null?void 0:n.phone)||"-"})]})]})]}),m.jsxs("form",{onSubmit:F,className:"space-y-4",children:[(h.form_fields||[]).map(M=>m.jsxs("div",{children:[M.type!=="checkbox"&&m.jsxs("label",{className:"block text-sm text-primary/80 font-mono mb-2",children:[M.label.toUpperCase(),M.required&&m.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),L(M)]},M.id)),m.jsxs("div",{className:"pt-4 border-t border-border",children:[m.jsx("label",{className:"block text-sm text-primary/80 font-mono mb-2",children:"REFERRAL CODE (OPTIONAL)"}),m.jsx("input",{type:"text",value:A,onChange:M=>P(M.target.value.toUpperCase()),placeholder:"Enter 5-digit referral code",maxLength:5,className:"w-full bg-background border border-border rounded px-4 py-3 text-primary font-mono placeholder:text-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-colors tracking-widest"}),m.jsx("p",{className:"text-xs text-muted-foreground font-mono mt-1",children:"Have a friend's referral code? Enter it here."})]}),h.price>0&&m.jsxs("div",{className:"flex justify-between items-center py-4 border-t border-border",children:[m.jsx("span",{className:"text-muted-foreground font-mono",children:"Ticket Price:"}),m.jsxs("span",{className:"text-xl font-display font-bold text-primary",children:["",h.price]})]}),m.jsx("button",{type:"submit",disabled:b,className:"w-full glow-button bg-primary text-background py-3 font-display font-bold tracking-wider rounded hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:b?"PROCESSING...":h.price>0?"PROCEED TO PAYMENT":"REGISTER NOW"})]})]})]})]})]}),m.jsx(fc,{})]}):null},i5=[{href:"/admin",label:"Dashboard",icon:wS},{href:"/admin/tickets",label:"Tickets",icon:yi},{href:"/admin/registrations",label:"Registrations",icon:ka},{href:"/admin/referrals",label:"Referrals",icon:F2},{href:"/admin/coupons",label:"Coupons",icon:mi},{href:"/admin/checkin",label:"Scanners",icon:$1},{href:"/admin/verify-payments",label:"Verify Payments",icon:U2}],As=({children:e})=>{const{profile:t,signOut:r}=Os(),n=ks(),[i,a]=I.useState(!1),u=()=>a(!1);return m.jsxs("div",{className:"min-h-screen bg-background flex",children:[i&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:u}),m.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 bg-card border-r border-border flex flex-col transform transition-transform duration-300 ease-in-out ${i?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[m.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx(Xr,{to:"/",className:"flex items-center gap-2",onClick:u,children:m.jsx("span",{className:"text-xl font-display font-bold text-primary glow-text tracking-wider",children:"TESSERACT"})}),m.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:"Admin Panel"})]}),m.jsx("button",{onClick:u,className:"lg:hidden p-2 text-primary hover:bg-secondary/50 rounded",children:m.jsx(_i,{className:"w-5 h-5"})})]}),m.jsx("nav",{className:"flex-1 p-4 space-y-2",children:i5.map(h=>{const p=n.pathname===h.href,x=h.icon;return m.jsxs(Xr,{to:h.href,onClick:u,className:`flex items-center gap-3 px-3 py-2 rounded font-mono text-sm transition-colors ${p?"bg-primary text-background":"text-primary/70 hover:bg-secondary/50 hover:text-primary"}`,children:[m.jsx(x,{className:"w-4 h-4"}),h.label]},h.href)})}),m.jsxs("div",{className:"p-4 border-t border-border space-y-2",children:[m.jsxs(Xr,{to:"/",onClick:u,className:"flex items-center gap-3 px-3 py-2 rounded font-mono text-sm text-primary/70 hover:bg-secondary/50 hover:text-primary transition-colors",children:[m.jsx(j2,{className:"w-4 h-4"}),"Back to Site"]}),m.jsxs("button",{onClick:()=>{u(),r()},className:"w-full flex items-center gap-3 px-3 py-2 rounded font-mono text-sm text-destructive hover:bg-destructive/10 transition-colors",children:[m.jsx(H1,{className:"w-4 h-4"}),"Sign Out"]})]})]}),m.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[m.jsxs("header",{className:"h-16 bg-card border-b border-border flex items-center justify-between px-4 lg:px-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>a(!0),className:"lg:hidden p-2 text-primary hover:bg-secondary/50 rounded",children:m.jsx(M2,{className:"w-5 h-5"})}),m.jsx("h1",{className:"text-lg font-display text-primary",children:"Admin Panel"})]}),m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[m.jsx("span",{className:"text-sm text-muted-foreground font-mono hidden sm:block",children:(t==null?void 0:t.full_name)||(t==null?void 0:t.email)}),m.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 border border-primary/50 flex items-center justify-center",children:m.jsx("span",{className:"text-xs font-bold text-primary",children:((t==null?void 0:t.full_name)||(t==null?void 0:t.email)||"A")[0].toUpperCase()})})]})]}),m.jsx("div",{className:"flex-1 p-4 lg:p-6 overflow-auto",children:e})]})]})},o5=()=>{const[e,t]=I.useState({totalTickets:0,activeTickets:0,totalRegistrations:0,pendingRegistrations:0}),[r,n]=I.useState(!0);I.useEffect(()=>{(async()=>{try{const[u,h,p,x]=await Promise.all([Te.from("tickets").select("id",{count:"exact",head:!0}),Te.from("tickets").select("id",{count:"exact",head:!0}).eq("is_active",!0),Te.from("registrations").select("id",{count:"exact",head:!0}),Te.from("registrations").select("id",{count:"exact",head:!0}).eq("status","pending")]);t({totalTickets:u.count||0,activeTickets:h.count||0,totalRegistrations:p.count||0,pendingRegistrations:x.count||0})}catch(u){console.error("Error fetching stats:",u)}finally{n(!1)}})()},[]);const i=[{label:"Total Tickets",value:e.totalTickets,icon:yi,color:"text-primary"},{label:"Active Tickets",value:e.activeTickets,icon:yi,color:"text-green-500"},{label:"Total Registrations",value:e.totalRegistrations,icon:ka,color:"text-blue-500"},{label:"Pending",value:e.pendingRegistrations,icon:pS,color:"text-yellow-500"}];return m.jsx(As,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"DASHBOARD"}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Overview of your ticket system"})]}),r?m.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Loading stats..."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map(a=>{const u=a.icon;return m.jsx("div",{className:"terminal-card p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-muted-foreground font-mono uppercase tracking-wider",children:a.label}),m.jsx("p",{className:`text-3xl font-display font-bold mt-2 ${a.color}`,children:a.value})]}),m.jsx(u,{className:`w-8 h-8 ${a.color} opacity-50`})]})},a.label)})}),m.jsxs("div",{className:"terminal-card p-6",children:[m.jsxs("div",{className:"terminal-header mb-4 -mx-6 -mt-6 px-4",children:[m.jsx("span",{className:"terminal-dot terminal-dot-red"}),m.jsx("span",{className:"terminal-dot terminal-dot-yellow"}),m.jsx("span",{className:"terminal-dot terminal-dot-green"}),m.jsx("span",{className:"text-xs text-muted-foreground ml-2 font-mono",children:"quick_actions.sh"})]}),m.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[m.jsxs("p",{className:"text-muted-foreground",children:[m.jsx("span",{className:"text-primary",children:">"})," Navigate to"," ",m.jsx("a",{href:"/admin/tickets",className:"text-primary hover:underline",children:"Tickets"})," ","to create and manage event tickets"]}),m.jsxs("p",{className:"text-muted-foreground",children:[m.jsx("span",{className:"text-primary",children:">"})," View"," ",m.jsx("a",{href:"/admin/registrations",className:"text-primary hover:underline",children:"Registrations"})," ","to see all user submissions"]})]})]})]})})},a5=["text","email","tel","number","textarea","select","checkbox"],bx={title:"",description:"",price:0,is_active:!0,form_fields:[],max_registrations:null},l5={id:"",label:"",type:"text",required:!1,options:[],placeholder:""},c5=()=>{const{toast:e}=kr(),[t,r]=I.useState([]),[n,i]=I.useState(!0),[a,u]=I.useState(!1),[h,p]=I.useState(bx),[x,w]=I.useState(!1),b=async()=>{const{data:j,error:F}=await Te.from("tickets").select("*").order("created_at",{ascending:!1});F?e({title:"Error",description:F.message,variant:"destructive"}):r(j||[]),i(!1)};I.useEffect(()=>{b()},[]);const C=()=>{p(bx),u(!0)},E=j=>{p({...j}),u(!0)},k=async()=>{var j;if(!((j=h.title)!=null&&j.trim())){e({title:"Validation Error",description:"Title is required",variant:"destructive"});return}if(w(!0),h.id){const{error:F}=await Te.from("tickets").update({title:h.title,description:h.description,price:h.price,is_active:h.is_active,form_fields:h.form_fields,max_registrations:h.max_registrations,updated_at:new Date().toISOString()}).eq("id",h.id);F?e({title:"Error",description:F.message,variant:"destructive"}):(e({title:"Success",description:"Ticket updated"}),u(!1),b())}else{const{error:F}=await Te.from("tickets").insert({title:h.title,description:h.description,price:h.price||0,is_active:h.is_active??!0,form_fields:h.form_fields||[],max_registrations:h.max_registrations});F?e({title:"Error",description:F.message,variant:"destructive"}):(e({title:"Success",description:"Ticket created"}),u(!1),b())}w(!1)},A=async j=>{const{error:F}=await Te.from("tickets").update({is_active:!j.is_active}).eq("id",j.id);F?e({title:"Error",description:F.message,variant:"destructive"}):b()},P=async j=>{if(!confirm(`Delete "${j.title}"? This cannot be undone.`))return;const{error:F}=await Te.from("tickets").delete().eq("id",j.id);F?e({title:"Error",description:F.message,variant:"destructive"}):(e({title:"Deleted",description:"Ticket removed"}),b())},T=()=>{const j={...l5,id:`field_${Date.now()}`};p({...h,form_fields:[...h.form_fields||[],j]})},S=(j,F)=>{const L=[...h.form_fields||[]];L[j]={...L[j],...F},p({...h,form_fields:L})},_=j=>{const F=[...h.form_fields||[]];F.splice(j,1),p({...h,form_fields:F})};return m.jsxs(As,{children:[m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"TICKETS"}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Manage event tickets and registration forms"})]}),m.jsxs("button",{onClick:C,className:"flex items-center justify-center gap-2 bg-primary text-background px-4 py-2 font-display font-bold rounded hover:scale-105 transition-transform",children:[m.jsx(Ku,{className:"w-4 h-4"}),"NEW TICKET"]})]}),n?m.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Loading tickets..."}):t.length===0?m.jsx("div",{className:"terminal-card p-8 text-center",children:m.jsx("p",{className:"text-muted-foreground font-mono",children:"No tickets created yet."})}):m.jsx("div",{className:"space-y-4",children:t.map(j=>{var F;return m.jsx("div",{className:`terminal-card p-4 ${j.is_active?"":"opacity-60"}`,children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("h3",{className:"font-display text-primary",children:j.title}),m.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-mono ${j.is_active?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"}`,children:j.is_active?"ACTIVE":"INACTIVE"})]}),m.jsxs("p",{className:"text-sm text-muted-foreground font-mono mt-1",children:["",j.price,"  ",((F=j.form_fields)==null?void 0:F.length)||0," custom fields"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Xr,{to:`/admin/tickets/${j.id}/template`,className:"p-2 rounded hover:bg-secondary/50 transition-colors text-primary",title:"Edit Ticket Template",children:m.jsx(xS,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>A(j),className:`p-2 rounded hover:bg-secondary/50 transition-colors ${j.is_active?"text-green-500":"text-muted-foreground"}`,title:j.is_active?"Deactivate":"Activate",children:m.jsx(AS,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>E(j),className:"p-2 rounded hover:bg-secondary/50 transition-colors text-primary",title:"Edit",children:m.jsx(L2,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>P(j),className:"p-2 rounded hover:bg-secondary/50 transition-colors text-destructive",title:"Delete",children:m.jsx(G1,{className:"w-4 h-4"})})]})]})},j.id)})})]}),m.jsx(Bb,{open:a,onOpenChange:u,children:m.jsxs(ym,{className:"terminal-card border-primary/30 max-w-2xl max-h-[90vh] overflow-y-auto mx-4",children:[m.jsx(wm,{children:m.jsx(vm,{className:"text-xl font-display text-primary tracking-wider",children:h.id?"EDIT TICKET":"CREATE TICKET"})}),m.jsxs("div",{className:"space-y-4 mt-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-primary/80 font-mono mb-2",children:"TITLE *"}),m.jsx("input",{type:"text",value:h.title||"",onChange:j=>p({...h,title:j.target.value}),className:"w-full bg-background border border-border rounded px-4 py-2 text-primary font-mono focus:border-primary focus:ring-1 focus:ring-primary",placeholder:"Event Name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-primary/80 font-mono mb-2",children:"DESCRIPTION"}),m.jsx("textarea",{value:h.description||"",onChange:j=>p({...h,description:j.target.value}),className:"w-full bg-background border border-border rounded px-4 py-2 text-primary font-mono focus:border-primary focus:ring-1 focus:ring-primary h-20 resize-none",placeholder:"Event description..."})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-primary/80 font-mono mb-2",children:"PRICE ()"}),m.jsx("input",{type:"number",value:h.price||0,onChange:j=>p({...h,price:parseFloat(j.target.value)||0}),className:"w-full bg-background border border-border rounded px-4 py-2 text-primary font-mono focus:border-primary focus:ring-1 focus:ring-primary",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-primary/80 font-mono mb-2",children:"MAX REGISTRATIONS"}),m.jsx("input",{type:"number",value:h.max_registrations||"",onChange:j=>p({...h,max_registrations:j.target.value?parseInt(j.target.value):null}),className:"w-full bg-background border border-border rounded px-4 py-2 text-primary font-mono focus:border-primary focus:ring-1 focus:ring-primary",min:"0",placeholder:"Unlimited"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("input",{type:"checkbox",id:"is_active",checked:h.is_active??!0,onChange:j=>p({...h,is_active:j.target.checked}),className:"w-4 h-4 accent-primary"}),m.jsx("label",{htmlFor:"is_active",className:"text-sm text-primary/80 font-mono",children:"Active (visible to users)"})]}),m.jsxs("div",{className:"border-t border-border pt-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("label",{className:"text-sm text-primary/80 font-mono",children:"CUSTOM FORM FIELDS"}),m.jsx("button",{type:"button",onClick:T,className:"text-xs bg-secondary text-primary px-3 py-1 rounded font-mono hover:bg-secondary/80",children:"+ Add Field"})]}),(h.form_fields||[]).length===0?m.jsx("p",{className:"text-sm text-muted-foreground font-mono text-center py-4",children:"No custom fields. User profile data (name, email, phone) is collected by default."}):m.jsx("div",{className:"space-y-3",children:(h.form_fields||[]).map((j,F)=>{var L;return m.jsxs("div",{className:"bg-secondary/20 p-3 rounded border border-border",children:[m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-2",children:[m.jsx("input",{type:"text",value:j.label,onChange:M=>S(F,{label:M.target.value}),className:"bg-background border border-border rounded px-3 py-1.5 text-sm text-primary font-mono",placeholder:"Field Label"}),m.jsx("select",{value:j.type,onChange:M=>S(F,{type:M.target.value}),className:"bg-background border border-border rounded px-3 py-1.5 text-sm text-primary font-mono",children:a5.map(M=>m.jsx("option",{value:M,children:M},M))})]}),m.jsx("button",{type:"button",onClick:()=>_(F),className:"p-1.5 text-destructive hover:bg-destructive/10 rounded",children:m.jsx(_i,{className:"w-4 h-4"})})]}),m.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[m.jsxs("label",{className:"flex items-center gap-2 text-xs text-muted-foreground font-mono",children:[m.jsx("input",{type:"checkbox",checked:j.required,onChange:M=>S(F,{required:M.target.checked}),className:"w-3 h-3 accent-primary"}),"Required"]}),j.type==="select"&&m.jsx("input",{type:"text",value:((L=j.options)==null?void 0:L.join(", "))||"",onChange:M=>S(F,{options:M.target.value.split(",").map(W=>W.trim())}),className:"flex-1 bg-background border border-border rounded px-2 py-1 text-xs text-primary font-mono",placeholder:"Options (comma separated)"})]})]},j.id)})})]}),m.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-border",children:[m.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-border rounded font-mono text-sm hover:bg-secondary/50",children:"Cancel"}),m.jsx("button",{onClick:k,disabled:x,className:"px-4 py-2 bg-primary text-background rounded font-display font-bold hover:scale-105 transition-transform disabled:opacity-50",children:x?"SAVING...":"SAVE"})]})]})]})})]})},su=e=>{var r;if(!e.form_data||!((r=e.ticket)!=null&&r.form_fields))return"";const t=e.ticket.form_fields.find(n=>n.label.toLowerCase().includes("college"));return t&&e.form_data[t.id]?String(e.form_data[t.id]):""},u5=()=>{const{toast:e}=kr(),[t,r]=I.useState([]),[n,i]=I.useState([]),[a,u]=I.useState(!0),[h,p]=I.useState(new Set),[x,w]=I.useState("created_at"),[b,C]=I.useState("desc"),[E,k]=I.useState(""),[A,P]=I.useState(""),[T,S]=I.useState(""),_=async()=>{const[H,q]=await Promise.all([Te.from("registrations").select("*, ticket:tickets(*), profile:profiles!fk_registrations_profile(full_name, email, phone)").order("created_at",{ascending:!1}),Te.from("tickets").select("*")]);H.error?e({title:"Error",description:H.error.message,variant:"destructive"}):r(H.data||[]),q.error||i(q.data||[]),u(!1)};I.useEffect(()=>{_()},[]);const j=H=>{const q=new Set(h);q.has(H)?q.delete(H):q.add(H),p(q)},F=H=>{x===H?C(b==="asc"?"desc":"asc"):(w(H),C("asc"))},L=(H,q)=>{if(!(H!=null&&H.form_fields))return q;const ie=H.form_fields.find(re=>re.id===q);return(ie==null?void 0:ie.label)||q},M=(H,q)=>{var ie,re,G;switch(q){case"profile.full_name":return((ie=H.profile)==null?void 0:ie.full_name)||"";case"profile.email":return((re=H.profile)==null?void 0:re.email)||"";case"college":return su(H);case"ticket.title":return((G=H.ticket)==null?void 0:G.title)||"";case"status":return H.status;case"created_at":default:return new Date(H.created_at).getTime()}},W=I.useMemo(()=>{let H=[...t];if(E){const q=E.toLowerCase();H=H.filter(ie=>{var re,G,ue,ee,J,Y,le,Ae;return((G=(re=ie.profile)==null?void 0:re.full_name)==null?void 0:G.toLowerCase().includes(q))||((ee=(ue=ie.profile)==null?void 0:ue.email)==null?void 0:ee.toLowerCase().includes(q))||((Y=(J=ie.profile)==null?void 0:J.phone)==null?void 0:Y.includes(q))||su(ie).toLowerCase().includes(q)||((Ae=(le=ie.ticket)==null?void 0:le.title)==null?void 0:Ae.toLowerCase().includes(q))})}return A&&(H=H.filter(q=>q.ticket_id===A)),T&&(H=H.filter(q=>q.status===T)),H.sort((q,ie)=>{const re=M(q,x),G=M(ie,x);return typeof re=="string"&&typeof G=="string"?b==="asc"?re.localeCompare(G):G.localeCompare(re):b==="asc"?re-G:G-re}),H},[t,E,A,T,x,b]),V=()=>{if(W.length===0){e({title:"No Data",description:"No registrations to export",variant:"destructive"});return}const H=["Name","Email","Phone","College","Ticket","Status","Check-in","Referred By","Date"],q=new Map;W.forEach(Y=>{Object.keys(Y.form_data||{}).forEach(le=>{q.has(le)||q.set(le,L(Y.ticket,le))})});const ie=[...H,...Array.from(q.values())],re=Array.from(q.keys()),G=W.map(Y=>{var xe,Oe,Ee,ae;const le=[((xe=Y.profile)==null?void 0:xe.full_name)||"",((Oe=Y.profile)==null?void 0:Oe.email)||"",((Ee=Y.profile)==null?void 0:Ee.phone)||"",su(Y),((ae=Y.ticket)==null?void 0:ae.title)||"",Y.status,Y.checked_in?"Yes":"No",Y.referred_by||"",new Date(Y.created_at).toLocaleDateString()],Ae=re.map(te=>{var ye;const ge=(ye=Y.form_data)==null?void 0:ye[te];return typeof ge=="object"?JSON.stringify(ge):String(ge??"")});return[...le,...Ae]}),ue=[ie.join(","),...G.map(Y=>Y.map(le=>`"${String(le).replace(/"/g,'""')}"`).join(","))].join(`
`),ee=new Blob([ue],{type:"text/csv;charset=utf-8;"}),J=document.createElement("a");J.href=URL.createObjectURL(ee),J.download=`registrations_${new Date().toISOString().split("T")[0]}.csv`,J.click(),e({title:"Exported",description:`${W.length} registrations exported`})},ne=({field:H,label:q})=>m.jsx("th",{onClick:()=>F(H),className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider cursor-pointer hover:text-primary",children:m.jsxs("div",{className:"flex items-center gap-1",children:[q,x===H&&(b==="asc"?m.jsx(f0,{className:"w-3 h-3"}):m.jsx(Fl,{className:"w-3 h-3"}))]})});return m.jsx(As,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"REGISTRATIONS"}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"View and export all user registrations"})]}),m.jsxs("button",{onClick:V,className:"flex items-center justify-center gap-2 bg-primary text-background px-4 py-2 font-display font-bold rounded hover:scale-105 transition-transform",children:[m.jsx(O2,{className:"w-4 h-4"}),"EXPORT CSV"]})]}),m.jsx("div",{className:"terminal-card p-4",children:m.jsxs("div",{className:"flex flex-wrap gap-4",children:[m.jsx("div",{className:"flex-1 min-w-[200px]",children:m.jsxs("div",{className:"relative",children:[m.jsx(Id,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),m.jsx("input",{type:"text",value:E,onChange:H=>k(H.target.value),placeholder:"Search by name, email, phone...",className:"w-full bg-background border border-border rounded pl-10 pr-4 py-2 text-sm text-primary font-mono focus:border-primary"})]})}),m.jsxs("select",{value:A,onChange:H=>P(H.target.value),className:"bg-background border border-border rounded px-4 py-2 text-sm text-primary font-mono focus:border-primary",children:[m.jsx("option",{value:"",children:"All Tickets"}),n.map(H=>m.jsx("option",{value:H.id,children:H.title},H.id))]}),m.jsxs("select",{value:T,onChange:H=>S(H.target.value),className:"bg-background border border-border rounded px-4 py-2 text-sm text-primary font-mono focus:border-primary",children:[m.jsx("option",{value:"",children:"All Status"}),m.jsx("option",{value:"pending",children:"Pending"}),m.jsx("option",{value:"confirmed",children:"Confirmed"}),m.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})}),a?m.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Loading registrations..."}):W.length===0?m.jsx("div",{className:"terminal-card p-8 text-center",children:m.jsx("p",{className:"text-muted-foreground font-mono",children:"No registrations found."})}):m.jsx("div",{className:"terminal-card overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-secondary/30 border-b border-border",children:m.jsxs("tr",{children:[m.jsx("th",{className:"w-10"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Reg ID"}),m.jsx(ne,{field:"profile.full_name",label:"Name"}),m.jsx(ne,{field:"profile.email",label:"Email"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Phone"}),m.jsx(ne,{field:"college",label:"College"}),m.jsx(ne,{field:"ticket.title",label:"Ticket"}),m.jsx(ne,{field:"status",label:"Status"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Check-in"}),m.jsx(ne,{field:"created_at",label:"Date"})]})}),m.jsx("tbody",{className:"divide-y divide-border",children:W.map(H=>{var q,ie,re,G;return m.jsxs(m.Fragment,{children:[m.jsxs("tr",{className:"hover:bg-secondary/20 cursor-pointer",onClick:()=>j(H.id),children:[m.jsx("td",{className:"px-4 py-3",children:Object.keys(H.form_data||{}).length>0&&(h.has(H.id)?m.jsx(f0,{className:"w-4 h-4 text-muted-foreground"}):m.jsx(Fl,{className:"w-4 h-4 text-muted-foreground"}))}),m.jsx("td",{className:"px-4 py-3 text-sm font-mono text-primary",children:H.registration_id||"-"}),m.jsx("td",{className:"px-4 py-3 text-sm font-mono text-primary",children:((q=H.profile)==null?void 0:q.full_name)||"-"}),m.jsx("td",{className:"px-4 py-3 text-sm font-mono text-muted-foreground",children:((ie=H.profile)==null?void 0:ie.email)||"-"}),m.jsx("td",{className:"px-4 py-3 text-sm font-mono text-muted-foreground",children:((re=H.profile)==null?void 0:re.phone)||"-"}),m.jsx("td",{className:"px-4 py-3 text-sm font-mono text-muted-foreground",children:su(H)||"-"}),m.jsx("td",{className:"px-4 py-3 text-sm font-mono text-primary",children:((G=H.ticket)==null?void 0:G.title)||"-"}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-mono ${H.status==="confirmed"?"bg-green-500/20 text-green-500":H.status==="cancelled"?"bg-red-500/20 text-red-500":"bg-yellow-500/20 text-yellow-500"}`,children:H.status.toUpperCase()})}),m.jsx("td",{className:"px-4 py-3",children:H.checked_in?m.jsx("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded font-mono bg-green-500/20 text-green-500",children:" CHECKED IN"}):m.jsx("span",{className:"text-xs px-2 py-0.5 rounded font-mono bg-secondary/30 text-muted-foreground",children:""})}),m.jsx("td",{className:"px-4 py-3 text-sm font-mono text-muted-foreground",children:new Date(H.created_at).toLocaleDateString()})]},H.id),h.has(H.id)&&m.jsx("tr",{children:m.jsx("td",{colSpan:10,className:"px-4 py-4 bg-secondary/10",children:m.jsxs("div",{className:"space-y-4",children:[H.referred_by&&m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-mono text-muted-foreground mb-2",children:"REFERRED BY"}),m.jsx("div",{className:"bg-background p-2 rounded border border-border inline-block",children:m.jsx("span",{className:"text-sm text-primary font-mono",children:H.referred_by})})]}),H.checked_in&&H.checked_in_at&&m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-mono text-muted-foreground mb-2",children:"CHECK-IN DETAILS"}),m.jsx("div",{className:"bg-background p-2 rounded border border-green-500/30 inline-block",children:m.jsxs("span",{className:"text-sm text-green-500 font-mono",children:["Checked in at ",new Date(H.checked_in_at).toLocaleString()]})})]}),Object.keys(H.form_data||{}).length>0&&m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-mono text-muted-foreground mb-2",children:"CUSTOM FORM DATA"}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(H.form_data||{}).map(([ue,ee])=>m.jsxs("div",{className:"bg-background p-2 rounded border border-border",children:[m.jsx("span",{className:"text-xs text-muted-foreground block",children:L(H.ticket,ue)}),m.jsx("span",{className:"text-sm text-primary font-mono",children:typeof ee=="boolean"?ee?"Yes":"No":String(ee)})]},ue))})]})]})})},`${H.id}-details`)]})})})]})})}),m.jsxs("div",{className:"text-sm text-muted-foreground font-mono",children:["Showing ",W.length," of ",t.length," registrations"]})]})})},d5=()=>{const{toast:e}=kr(),[t,r]=I.useState([]),[n,i]=I.useState(!0),[a,u]=I.useState(new Set),[h,p]=I.useState({}),[x,w]=I.useState(new Set);I.useEffect(()=>{b()},[]);const b=async()=>{try{const{data:E,error:k}=await Te.from("profiles").select("id, full_name, email, phone, referral_code").not("referral_code","is",null);if(k){e({title:"Error",description:k.message,variant:"destructive"}),i(!1);return}const{data:A,error:P}=await Te.from("registrations").select("referred_by").not("referred_by","is",null);if(P){e({title:"Error",description:P.message,variant:"destructive"}),i(!1);return}const T={};(A||[]).forEach(_=>{_.referred_by&&(T[_.referred_by]=(T[_.referred_by]||0)+1)});const S=(E||[]).map(_=>({..._,referral_count:T[_.referral_code]||0})).filter(_=>_.referral_count>=1).sort((_,j)=>j.referral_count-_.referral_count);r(S)}catch(E){console.error("Fetch error:",E),e({title:"Error",description:"Failed to load referral data",variant:"destructive"})}i(!1)},C=async(E,k)=>{const A=new Set(a);if(A.has(E)){A.delete(E),u(A);return}if(!h[E]){w(S=>new Set([...S,E]));const{data:P,error:T}=await Te.from("registrations").select("id, created_at, user_id, ticket:tickets(title), profile:profiles!fk_registrations_profile(full_name, phone)").eq("referred_by",k);if(T)e({title:"Error",description:T.message,variant:"destructive"});else{const S=(P||[]).map(_=>{var j,F,L;return{id:_.id,full_name:((j=_.profile)==null?void 0:j.full_name)||"Unknown",phone:((F=_.profile)==null?void 0:F.phone)||"-",ticket_title:((L=_.ticket)==null?void 0:L.title)||"Unknown",created_at:_.created_at}});p(_=>({..._,[E]:S}))}w(S=>{const _=new Set(S);return _.delete(E),_})}A.add(E),u(A)};return m.jsx(As,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"REFERRALS"}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Users with successful referrals"})]}),n?m.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Loading referrals..."}):t.length===0?m.jsxs("div",{className:"terminal-card p-8 text-center",children:[m.jsx(ka,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),m.jsx("p",{className:"text-muted-foreground font-mono",children:"No users with referrals yet."})]}):m.jsx("div",{className:"terminal-card overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-secondary/30 border-b border-border",children:m.jsxs("tr",{children:[m.jsx("th",{className:"w-10"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Name"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Email"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Phone"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Referral Code"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-mono text-primary/80 uppercase tracking-wider",children:"Referrals"})]})}),m.jsx("tbody",{className:"divide-y divide-border",children:t.map(E=>m.jsxs(m.Fragment,{children:[m.jsxs("tr",{className:"hover:bg-secondary/20 cursor-pointer",onClick:()=>C(E.id,E.referral_code),children:[m.jsx("td",{className:"px-4 py-3",children:a.has(E.id)?m.jsx(f0,{className:"w-4 h-4 text-muted-foreground"}):m.jsx(Fl,{className:"w-4 h-4 text-muted-foreground"})}),m.jsx("td",{className:"px-4 py-3 text-sm font-mono text-primary",children:E.full_name||"-"}),m.jsx("td",{className:"px-4 py-3 text-sm font-mono text-muted-foreground",children:E.email}),m.jsx("td",{className:"px-4 py-3 text-sm font-mono text-muted-foreground",children:E.phone||"-"}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:"text-sm font-mono text-primary bg-primary/10 px-2 py-1 rounded tracking-widest",children:E.referral_code})}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:"text-sm font-display font-bold text-primary",children:E.referral_count})})]},E.id),a.has(E.id)&&m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-4 py-4 bg-secondary/10",children:x.has(E.id)?m.jsx("div",{className:"text-muted-foreground font-mono text-sm animate-pulse",children:"Loading referred users..."}):m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-mono text-muted-foreground mb-3",children:"REFERRED USERS"}),m.jsx("div",{className:"grid gap-2",children:(h[E.id]||[]).map(k=>m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-background border border-border rounded gap-2",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-sm font-mono text-primary",children:k.full_name}),m.jsx("span",{className:"text-xs text-muted-foreground ml-3",children:k.phone})]}),m.jsxs("div",{className:"sm:text-right",children:[m.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:k.ticket_title}),m.jsx("span",{className:"text-xs text-muted-foreground ml-3",children:new Date(k.created_at).toLocaleDateString()})]})]},k.id))})]})})},`${E.id}-details`)]}))})]})})}),m.jsxs("div",{className:"text-sm text-muted-foreground font-mono",children:["Showing ",t.length," users with referrals"]})]})})},Ex=[{value:"user_name",label:"User Name"},{value:"ticket_name",label:"Ticket/Event Name"},{value:"registration_id",label:"Registration ID"},{value:"date",label:"Registration Date"}],f5=["Arial","Helvetica","Times New Roman","Georgia","Courier New","Verdana","Impact"],h5=()=>{const{ticketId:e}=Vv(),t=Is(),{toast:r}=kr(),n=I.useRef(null),i=I.useRef(null),[a,u]=I.useState(null),[h,p]=I.useState(""),[x,w]=I.useState(null),[b,C]=I.useState([]),[E,k]=I.useState(null),[A,P]=I.useState(!0),[T,S]=I.useState(!1),[_,j]=I.useState(""),[F,L]=I.useState(!1),[M,W]=I.useState(!1),[V,ne]=I.useState({x:0,y:0}),H={user_name:"John Doe",ticket_name:(a==null?void 0:a.title)||"Event Name",registration_id:"ABC123XYZ0",date:new Date().toLocaleDateString()};I.useEffect(()=>{q()},[e]),I.useEffect(()=>{ie()},[h,b,E]);const q=async()=>{if(!e)return;const{data:ae,error:te}=await Te.from("tickets").select("id, title").eq("id",e).single();if(te){r({title:"Error",description:"Could not load ticket",variant:"destructive"}),t("/admin/tickets");return}u(ae);const{data:ge}=await Te.from("ticket_templates").select("*").eq("ticket_id",e).single();ge&&(p(ge.background_url||""),C(ge.fields||[])),P(!1)},ie=()=>{const ae=n.current;if(!ae)return;const te=ae.getContext("2d");if(!te)return;if(!h){ae.width=800,ae.height=400,te.fillStyle="#1a1a1a",te.fillRect(0,0,ae.width,ae.height),te.fillStyle="#333",te.font="20px Arial",te.textAlign="center",te.fillText("Upload a background image to get started",ae.width/2,ae.height/2);return}const ge=new Image;ge.crossOrigin="anonymous",ge.onload=()=>{ae.width=ge.width,ae.height=ge.height,te.drawImage(ge,0,0),b.forEach((ye,gt)=>{const Ct=gt===E,Ke=H[ye.field]||ye.customValue||"[Field]";if(ye.type==="text"){if(te.font=`${ye.fontSize||24}px ${ye.fontFamily||"Arial"}`,te.fillStyle=ye.color||"#000000",te.textAlign=ye.align||"left",te.textBaseline="top",te.fillText(Ke,ye.x,ye.y),Ct){const rt=te.measureText(Ke),ke=ye.fontSize||24;let Yt=ye.x;ye.align==="center"?Yt-=rt.width/2:ye.align==="right"&&(Yt-=rt.width),te.strokeStyle="#00ff00",te.lineWidth=2,te.setLineDash([5,5]),te.strokeRect(Yt-5,ye.y-5,rt.width+10,ke+10),te.setLineDash([])}}else if(ye.type==="qrcode"){const rt=ye.size||100;te.fillStyle="#ffffff",te.fillRect(ye.x,ye.y,rt,rt),te.fillStyle="#000000",te.font="12px Arial",te.textAlign="center",te.fillText("QR Code",ye.x+rt/2,ye.y+rt/2),Ct&&(te.strokeStyle="#00ff00",te.lineWidth=2,te.setLineDash([5,5]),te.strokeRect(ye.x-5,ye.y-5,rt+10,rt+10),te.setLineDash([]))}})},ge.src=h},re=async ae=>{var ye;const te=(ye=ae.target.files)==null?void 0:ye[0];if(!te)return;w(te);const ge=URL.createObjectURL(te);p(ge)},G=ae=>{const te=n.current;if(!te)return;const ge=te.getBoundingClientRect(),ye=te.width/ge.width,gt=te.height/ge.height,Ct=(ae.clientX-ge.left)*ye,Ke=(ae.clientY-ge.top)*gt;for(let rt=b.length-1;rt>=0;rt--){const ke=b[rt],Yt=ke.type==="qrcode"?ke.size||100:ke.fontSize||24,fr=ke.type==="qrcode"?Yt:200,rn=ke.type==="qrcode"?Yt:ke.fontSize||24;if(Ct>=ke.x&&Ct<=ke.x+fr&&Ke>=ke.y&&Ke<=ke.y+rn){k(rt);return}}k(null)},ue=ae=>{if(E===null)return;const te=n.current;if(!te)return;const ge=te.getBoundingClientRect(),ye=te.width/ge.width,gt=te.height/ge.height,Ct=(ae.clientX-ge.left)*ye,Ke=(ae.clientY-ge.top)*gt,rt=b[E];ne({x:Ct-rt.x,y:Ke-rt.y}),W(!0)},ee=ae=>{if(!M||E===null)return;const te=n.current;if(!te)return;const ge=te.getBoundingClientRect(),ye=te.width/ge.width,gt=te.height/ge.height,Ct=(ae.clientX-ge.left)*ye,Ke=(ae.clientY-ge.top)*gt;le(E,{x:Math.max(0,Ct-V.x),y:Math.max(0,Ke-V.y)})},J=()=>{W(!1)},Y=ae=>{const te={type:ae,field:ae==="qrcode"?"registration_id":"user_name",x:50,y:50+b.length*40,fontSize:24,fontFamily:"Arial",color:"#000000",align:"left",size:100};C([...b,te]),k(b.length)},le=(ae,te)=>{const ge=[...b];ge[ae]={...ge[ae],...te},C(ge)},Ae=ae=>{C(b.filter((te,ge)=>ge!==ae)),k(null)},xe=async()=>{if(!h||b.length===0){r({title:"Error",description:"Add background and fields first",variant:"destructive"});return}try{const ae=await sE({ticket_id:e,background_url:h,fields:b},H);j(ae),L(!0)}catch{r({title:"Error",description:"Could not generate preview",variant:"destructive"})}},Oe=async()=>{if(e){S(!0);try{let ae=h;if(x){const ge=`ticket-templates/${e}-${Date.now()}.${x.name.split(".").pop()}`,{error:ye}=await Te.storage.from("tickets").upload(ge,x,{upsert:!0});if(ye)throw ye;const{data:gt}=Te.storage.from("tickets").getPublicUrl(ge);ae=gt.publicUrl}const{error:te}=await Te.from("ticket_templates").upsert({ticket_id:e,background_url:ae,fields:b,updated_at:new Date().toISOString()},{onConflict:"ticket_id"});if(te)throw te;p(ae),w(null),r({title:"Success",description:"Template saved successfully!"})}catch(ae){const te=ae instanceof Error?ae.message:"Could not save template";r({title:"Error",description:te,variant:"destructive"})}S(!1)}};if(A)return m.jsx(As,{children:m.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Loading template editor..."})});const Ee=E!==null?b[E]:null;return m.jsxs(As,{children:[m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>t("/admin/tickets"),className:"p-2 hover:bg-secondary/50 rounded",children:m.jsx(dS,{className:"w-5 h-5 text-primary"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"TICKET TEMPLATE"}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:a==null?void 0:a.title})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:xe,className:"flex items-center gap-2 px-4 py-2 border border-primary text-primary rounded font-mono text-sm hover:bg-primary/10",children:[m.jsx(P2,{className:"w-4 h-4"}),"Preview"]}),m.jsxs("button",{onClick:Oe,disabled:T,className:"flex items-center gap-2 bg-primary text-background px-4 py-2 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50",children:[m.jsx(NS,{className:"w-4 h-4"}),T?"SAVING...":"SAVE"]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 terminal-card p-4",children:[m.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[m.jsx("span",{className:"text-sm text-muted-foreground font-mono",children:"Canvas Editor"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:re,className:"hidden"}),m.jsxs("button",{onClick:()=>{var ae;return(ae=i.current)==null?void 0:ae.click()},className:"flex items-center gap-2 px-3 py-1.5 border border-border rounded text-sm font-mono hover:bg-secondary/50",children:[m.jsx(IS,{className:"w-4 h-4"}),"Upload Background"]})]})]}),m.jsx("div",{className:"overflow-auto max-h-[600px] border border-border rounded",children:m.jsx("canvas",{ref:n,onClick:G,onMouseDown:ue,onMouseMove:ee,onMouseUp:J,onMouseLeave:J,className:"cursor-crosshair max-w-full",style:{display:"block"}})}),m.jsx("p",{className:"text-xs text-muted-foreground font-mono mt-2",children:"Click to select fields. Drag to reposition. Use the panel on the right to customize."})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"terminal-card p-4",children:[m.jsx("h3",{className:"text-sm font-mono text-primary mb-3",children:"Add Fields"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>Y("text"),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 border border-border rounded text-sm font-mono hover:bg-secondary/50",children:[m.jsx(Ku,{className:"w-4 h-4"}),"Text"]}),m.jsxs("button",{onClick:()=>Y("qrcode"),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 border border-border rounded text-sm font-mono hover:bg-secondary/50",children:[m.jsx(Ku,{className:"w-4 h-4"}),"QR Code"]})]})]}),m.jsxs("div",{className:"terminal-card p-4",children:[m.jsxs("h3",{className:"text-sm font-mono text-primary mb-3",children:["Fields (",b.length,")"]}),b.length===0?m.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"No fields added yet."}):m.jsx("div",{className:"space-y-2",children:b.map((ae,te)=>{var ge;return m.jsxs("div",{onClick:()=>k(te),className:`flex items-center justify-between p-2 rounded cursor-pointer ${te===E?"bg-primary/20 border border-primary":"bg-secondary/20 border border-transparent hover:border-border"}`,children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(_S,{className:"w-3 h-3 text-muted-foreground"}),m.jsx("span",{className:"text-xs font-mono text-primary",children:ae.type==="qrcode"?"QR":((ge=Ex.find(ye=>ye.value===ae.field))==null?void 0:ge.label)||ae.field})]}),m.jsx("button",{onClick:ye=>{ye.stopPropagation(),Ae(te)},className:"p-1 text-destructive hover:bg-destructive/10 rounded",children:m.jsx(G1,{className:"w-3 h-3"})})]},te)})})]}),Ee&&m.jsxs("div",{className:"terminal-card p-4",children:[m.jsx("h3",{className:"text-sm font-mono text-primary mb-3",children:"Field Properties"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"Data Field"}),m.jsx("select",{value:Ee.field,onChange:ae=>le(E,{field:ae.target.value}),className:"w-full bg-background border border-border rounded px-3 py-1.5 text-sm font-mono text-primary",children:Ex.map(ae=>m.jsx("option",{value:ae.value,children:ae.label},ae.value))})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"X"}),m.jsx("input",{type:"number",value:Math.round(Ee.x),onChange:ae=>le(E,{x:parseInt(ae.target.value)||0}),className:"w-full bg-background border border-border rounded px-3 py-1.5 text-sm font-mono text-primary"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"Y"}),m.jsx("input",{type:"number",value:Math.round(Ee.y),onChange:ae=>le(E,{y:parseInt(ae.target.value)||0}),className:"w-full bg-background border border-border rounded px-3 py-1.5 text-sm font-mono text-primary"})]})]}),Ee.type==="text"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"Font Family"}),m.jsx("select",{value:Ee.fontFamily||"Arial",onChange:ae=>le(E,{fontFamily:ae.target.value}),className:"w-full bg-background border border-border rounded px-3 py-1.5 text-sm font-mono text-primary",children:f5.map(ae=>m.jsx("option",{value:ae,children:ae},ae))})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"Size"}),m.jsx("input",{type:"number",value:Ee.fontSize||24,onChange:ae=>le(E,{fontSize:parseInt(ae.target.value)||24}),className:"w-full bg-background border border-border rounded px-3 py-1.5 text-sm font-mono text-primary"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"Color"}),m.jsx("input",{type:"color",value:Ee.color||"#000000",onChange:ae=>le(E,{color:ae.target.value}),className:"w-full h-8 bg-background border border-border rounded cursor-pointer"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"Align"}),m.jsx("div",{className:"flex gap-1",children:["left","center","right"].map(ae=>m.jsx("button",{onClick:()=>le(E,{align:ae}),className:`flex-1 py-1.5 text-xs font-mono rounded ${Ee.align===ae?"bg-primary text-background":"bg-secondary/50 text-primary hover:bg-secondary"}`,children:ae.charAt(0).toUpperCase()+ae.slice(1)},ae))})]})]}):m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-muted-foreground font-mono mb-1",children:"QR Size"}),m.jsx("input",{type:"number",value:Ee.size||100,onChange:ae=>le(E,{size:parseInt(ae.target.value)||100}),className:"w-full bg-background border border-border rounded px-3 py-1.5 text-sm font-mono text-primary"})]})]})]})]})]})]}),F&&_&&m.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>L(!1),children:m.jsx("div",{className:"max-w-4xl max-h-[90vh] overflow-auto",children:m.jsx("img",{src:_,alt:"Ticket Preview",className:"max-w-full h-auto"})})})]})};var be;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(be||(be={}));var Cx=new Map([[be.QR_CODE,"QR_CODE"],[be.AZTEC,"AZTEC"],[be.CODABAR,"CODABAR"],[be.CODE_39,"CODE_39"],[be.CODE_93,"CODE_93"],[be.CODE_128,"CODE_128"],[be.DATA_MATRIX,"DATA_MATRIX"],[be.MAXICODE,"MAXICODE"],[be.ITF,"ITF"],[be.EAN_13,"EAN_13"],[be.EAN_8,"EAN_8"],[be.PDF_417,"PDF_417"],[be.RSS_14,"RSS_14"],[be.RSS_EXPANDED,"RSS_EXPANDED"],[be.UPC_A,"UPC_A"],[be.UPC_E,"UPC_E"],[be.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),_x;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(_x||(_x={}));function m5(e){return Object.values(be).includes(e)}var ld;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ld||(ld={}));var p5=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[ld.SCAN_TYPE_CAMERA,ld.SCAN_TYPE_FILE],e}(),iE=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Cx.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Cx.get(t))},e}(),Sx=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),z0;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(z0||(z0={}));var g5=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:z0.UNKWOWN_ERROR}},e}(),x5=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ds(e){return typeof e>"u"||e===null}var qo=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),oE=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),u=Object.keys(t),h=0,p=u;h<p.length;h++){var x=p[h];if(a.has(x))return r.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),W0={exports:{}};(function(e,t){(function(r,n){n(t)})(Ga,function(r){function n(R){return R==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,s){R.__proto__=s}||function(R,s){for(var o in s)s.hasOwnProperty(o)&&(R[o]=s[o])};function a(R,s){i(R,s);function o(){this.constructor=R}R.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function u(R,s){var o=Object.setPrototypeOf;o?o(R,s):R.__proto__=s}function h(R,s){s===void 0&&(s=R.constructor);var o=Error.captureStackTrace;o&&o(R,s)}var p=function(R){a(s,R);function s(o){var l=this.constructor,c=R.call(this,o)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),u(c,l.prototype),h(c),c}return s}(Error);class x extends p{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}x.kind="Exception";class w extends x{}w.kind="ArgumentException";class b extends x{}b.kind="IllegalArgumentException";class C{constructor(s){if(this.binarizer=s,s===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,l,c){const d=this.binarizer.getLuminanceSource().crop(s,o,l,c);return new C(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends x{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class k{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class A{static arraycopy(s,o,l,c,d){for(;d--;)l[c++]=s[o++]}static currentTimeMillis(){return Date.now()}}class P extends x{}P.kind="IndexOutOfBoundsException";class T extends P{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}T.kind="ArrayIndexOutOfBoundsException";class S{static fill(s,o){for(let l=0,c=s.length;l<c;l++)s[l]=o}static fillWithin(s,o,l,c){S.rangeCheck(s.length,o,l);for(let d=o;d<l;d++)s[d]=c}static rangeCheck(s,o,l){if(o>l)throw new b("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new T(o);if(l>s)throw new T(l)}static asList(...s){return s}static create(s,o,l){return Array.from({length:s}).map(d=>Array.from({length:o}).fill(l))}static createInt32Array(s,o,l){return Array.from({length:s}).map(d=>Int32Array.from({length:o}).fill(l))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let l=0,c=s.length;l<c;l++)if(s[l]!==o[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const l of s)o=31*o+l;return o}static fillUint8Array(s,o){for(let l=0;l!==s.length;l++)s[l]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const l=new Uint8Array(o);return l.set(s),l}return s.slice(0,o)}static copyOfRange(s,o,l){const c=l-o,d=new Int32Array(c);return A.arraycopy(s,o,d,0,c),d}static binarySearch(s,o,l){l===void 0&&(l=S.numberComparator);let c=0,d=s.length-1;for(;c<=d;){const f=d+c>>1,g=l(o,s[f]);if(g>0)c=f+1;else if(g<0)d=f-1;else return f}return-c-1}static numberComparator(s,o){return s-o}}class _{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let l=31;return o=s<<16,o!==0&&(l-=16,s=o),o=s<<8,o!==0&&(l-=8,s=o),o=s<<4,o!==0&&(l-=4,s=o),o=s<<2,o!==0&&(l-=2,s=o),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=j.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=j.makeArray(s);A.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const l=this.bits;let c=Math.floor(s/32),d=l[c];d&=~((1<<(s&31))-1);const f=l.length;for(;d===0;){if(++c===f)return o;d=l[c]}const g=c*32+_.numberOfTrailingZeros(d);return g>o?o:g}getNextUnset(s){const o=this.size;if(s>=o)return o;const l=this.bits;let c=Math.floor(s/32),d=~l[c];d&=~((1<<(s&31))-1);const f=l.length;for(;d===0;){if(++c===f)return o;d=~l[c]}const g=c*32+_.numberOfTrailingZeros(d);return g>o?o:g}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new b;if(o===s)return;o--;const l=Math.floor(s/32),c=Math.floor(o/32),d=this.bits;for(let f=l;f<=c;f++){const g=f>l?0:s&31,v=(2<<(f<c?31:o&31))-(1<<g);d[f]|=v}}clear(){const s=this.bits.length,o=this.bits;for(let l=0;l<s;l++)o[l]=0}isRange(s,o,l){if(o<s||s<0||o>this.size)throw new b;if(o===s)return!0;o--;const c=Math.floor(s/32),d=Math.floor(o/32),f=this.bits;for(let g=c;g<=d;g++){const y=g>c?0:s&31,N=(2<<(g<d?31:o&31))-(1<<y)&4294967295;if((f[g]&N)!==(l?N:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new b("Sizes don't match");const o=this.bits;for(let l=0,c=o.length;l<c;l++)o[l]^=s.bits[l]}toBytes(s,o,l,c){for(let d=0;d<c;d++){let f=0;for(let g=0;g<8;g++)this.get(s)&&(f|=1<<7-g),s++;o[l+d]=f}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,c=this.bits;for(let d=0;d<l;d++){let f=c[d];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,s[o-d]=f}if(this.size!==l*32){const d=l*32-this.size;let f=s[0]>>>d;for(let g=1;g<l;g++){const y=s[g];f|=y<<32-d,s[g-1]=f,f=y>>>d}s[l-1]=f}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof j))return!1;const o=s;return this.size===o.size&&S.equals(this.bits,o.bits)}hashCode(){return 31*this.size+S.hashCode(this.bits)}toString(){let s="";for(let o=0,l=this.size;o<l;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new j(this.size,this.bits.slice())}}var F;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(F||(F={}));var L=F;class M extends x{static getFormatInstance(){return new M}}M.kind="FormatException";var W;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(W||(W={}));class V{constructor(s,o,l,...c){this.valueIdentifier=s,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=c,V.VALUE_IDENTIFIER_TO_ECI.set(s,this),V.NAME_TO_ECI.set(l,this);const d=this.values;for(let f=0,g=d.length;f!==g;f++){const y=d[f];V.VALUES_TO_ECI.set(y,this)}for(const f of c)V.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new M("incorect value");const o=V.VALUES_TO_ECI.get(s);if(o===void 0)throw new M("incorect value");return o}static getCharacterSetECIByName(s){const o=V.NAME_TO_ECI.get(s);if(o===void 0)throw new M("incorect value");return o}equals(s){if(!(s instanceof V))return!1;const o=s;return this.getName()===o.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(W.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(W.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(W.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(W.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(W.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(W.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(W.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(W.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(W.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(W.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(W.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(W.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(W.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(W.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(W.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(W.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(W.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(W.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(W.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(W.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(W.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(W.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(W.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(W.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(W.Big5,28,"Big5"),V.GB18030=new V(W.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(W.EUC_KR,30,"EUC_KR","EUC-KR");class ne extends x{}ne.kind="UnsupportedOperationException";class H{static decode(s,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!H.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof V?s:V.getCharacterSetECIByName(s)}static decodeFallback(s,o){const l=this.encodingCharacterSet(o);if(H.isDecodeFallbackSupported(l)){let c="";for(let d=0,f=s.length;d<f;d++){let g=s[d].toString(16);g.length<2&&(g="0"+g),c+="%"+g}return decodeURIComponent(c)}if(l.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new ne(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(V.UTF8)||s.equals(V.ISO8859_1)||s.equals(V.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),c=[];for(let d=0;d<l.length;d++)c.push(l[d].charCodeAt(0));return new Uint8Array(c)}}class q{static castAsNonUtf8Char(s,o=null){const l=o?o.getName():this.ISO88591;return H.decode(new Uint8Array([s]),l)}static guessEncoding(s,o){if(o!=null&&o.get(L.CHARACTER_SET)!==void 0)return o.get(L.CHARACTER_SET).toString();const l=s.length;let c=!0,d=!0,f=!0,g=0,y=0,v=0,N=0,O=0,D=0,U=0,z=0,$=0,K=0,Z=0;const fe=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let he=0;he<l&&(c||d||f);he++){const ce=s[he]&255;f&&(g>0?ce&128?g--:f=!1:ce&128&&(ce&64?(g++,ce&32?(g++,ce&16?(g++,ce&8?f=!1:N++):v++):y++):f=!1)),c&&(ce>127&&ce<160?c=!1:ce>159&&(ce<192||ce===215||ce===247)&&Z++),d&&(O>0?ce<64||ce===127||ce>252?d=!1:O--:ce===128||ce===160||ce>239?d=!1:ce>160&&ce<224?(D++,z=0,U++,U>$&&($=U)):ce>127?(O++,U=0,z++,z>K&&(K=z)):(U=0,z=0))}return f&&g>0&&(f=!1),d&&O>0&&(d=!1),f&&(fe||y+v+N>0)?q.UTF8:d&&(q.ASSUME_SHIFT_JIS||$>=3||K>=3)?q.SHIFT_JIS:c&&d?$===2&&D===2||Z*10>=l?q.SHIFT_JIS:q.ISO88591:c?q.ISO88591:d?q.SHIFT_JIS:f?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let l=-1;function c(f,g,y,v,N,O){if(f==="%%")return"%";if(o[++l]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let D=N?parseInt(N.substr(1)):void 0,U;switch(O){case"s":U=o[l];break;case"c":U=o[l][0];break;case"f":U=parseFloat(o[l]).toFixed(f);break;case"p":U=parseFloat(o[l]).toPrecision(f);break;case"e":U=parseFloat(o[l]).toExponential(f);break;case"x":U=parseInt(o[l]).toString(D||16);break;case"d":U=parseFloat(parseInt(o[l],D||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(D);let z=parseInt(y),$=y&&y[0]+""=="0"?"0":" ";for(;U.length<z;)U=g!==void 0?U+$:$+U;return U}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,c)}static getBytes(s,o){return H.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}q.SHIFT_JIS=V.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=V.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=V.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class ie{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=q.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,l){for(let c=o;o<o+l;c++)this.append(s[c]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class re{constructor(s,o,l,c){if(this.width=s,this.height=o,this.rowSize=l,this.bits=c,o==null&&(o=s),this.height=o,s<1||o<1)throw new b("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,l=s[0].length,c=new re(l,o);for(let d=0;d<o;d++){const f=s[d];for(let g=0;g<l;g++)f[g]&&c.set(g,d)}return c}static parseFromString(s,o,l){if(s===null)throw new b("stringRepresentation cannot be null");const c=new Array(s.length);let d=0,f=0,g=-1,y=0,v=0;for(;v<s.length;)if(s.charAt(v)===`
`||s.charAt(v)==="\r"){if(d>f){if(g===-1)g=d-f;else if(d-f!==g)throw new b("row lengths do not match");f=d,y++}v++}else if(s.substring(v,v+o.length)===o)v+=o.length,c[d]=!0,d++;else if(s.substring(v,v+l.length)===l)v+=l.length,c[d]=!1,d++;else throw new b("illegal character encountered: "+s.substring(v));if(d>f){if(g===-1)g=d-f;else if(d-f!==g)throw new b("row lengths do not match");y++}const N=new re(g,y);for(let O=0;O<d;O++)c[O]&&N.set(Math.floor(O%g),Math.floor(O/g));return N}get(s,o){const l=o*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new b("input matrix dimensions do not match");const o=new j(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let d=0,f=this.height;d<f;d++){const g=d*l,y=s.getRow(d,o).getBitArray();for(let v=0;v<l;v++)c[g+v]^=y[v]}}clear(){const s=this.bits,o=s.length;for(let l=0;l<o;l++)s[l]=0}setRegion(s,o,l,c){if(o<0||s<0)throw new b("Left and top must be nonnegative");if(c<1||l<1)throw new b("Height and width must be at least 1");const d=s+l,f=o+c;if(f>this.height||d>this.width)throw new b("The region must fit inside the matrix");const g=this.rowSize,y=this.bits;for(let v=o;v<f;v++){const N=v*g;for(let O=s;O<d;O++)y[N+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new j(this.width):o.clear();const l=this.rowSize,c=this.bits,d=s*l;for(let f=0;f<l;f++)o.setBulk(f*32,c[d+f]);return o}setRow(s,o){A.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let l=new j(s),c=new j(s);for(let d=0,f=Math.floor((o+1)/2);d<f;d++)l=this.getRow(d,l),c=this.getRow(o-1-d,c),l.reverse(),c.reverse(),this.setRow(d,c),this.setRow(o-1-d,l)}getEnclosingRectangle(){const s=this.width,o=this.height,l=this.rowSize,c=this.bits;let d=s,f=o,g=-1,y=-1;for(let v=0;v<o;v++)for(let N=0;N<l;N++){const O=c[v*l+N];if(O!==0){if(v<f&&(f=v),v>y&&(y=v),N*32<d){let D=0;for(;!(O<<31-D&4294967295);)D++;N*32+D<d&&(d=N*32+D)}if(N*32+31>g){let D=31;for(;!(O>>>D);)D--;N*32+D>g&&(g=N*32+D)}}}return g<d||y<f?null:Int32Array.from([d,f,g-d+1,y-f+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const c=l/s;let d=l%s*32;const f=o[l];let g=0;for(;!(f<<31-g&4294967295);)g++;return d+=g,Int32Array.from([d,c])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const c=Math.floor(l/s);let d=Math.floor(l%s)*32;const f=o[l];let g=31;for(;!(f>>>g);)g--;return d+=g,Int32Array.from([d,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof re))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&S.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+S.hashCode(this.bits),s}toString(s="X ",o="  ",l=`
`){return this.buildToString(s,o,l)}buildToString(s,o,l){let c=new ie;for(let d=0,f=this.height;d<f;d++){for(let g=0,y=this.width;g<y;g++)c.append(this.get(g,d)?s:o);c.append(l)}return c.toString()}clone(){return new re(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends x{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class ue extends k{constructor(s){super(s),this.luminances=ue.EMPTY,this.buckets=new Int32Array(ue.LUMINANCE_BUCKETS)}getBlackRow(s,o){const l=this.getLuminanceSource(),c=l.getWidth();o==null||o.getSize()<c?o=new j(c):o.clear(),this.initArrays(c);const d=l.getRow(s,this.luminances),f=this.buckets;for(let y=0;y<c;y++)f[(d[y]&255)>>ue.LUMINANCE_SHIFT]++;const g=ue.estimateBlackPoint(f);if(c<3)for(let y=0;y<c;y++)(d[y]&255)<g&&o.set(y);else{let y=d[0]&255,v=d[1]&255;for(let N=1;N<c-1;N++){const O=d[N+1]&255;(v*4-y-O)/2<g&&o.set(N),y=v,v=O}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight(),c=new re(o,l);this.initArrays(o);const d=this.buckets;for(let y=1;y<5;y++){const v=Math.floor(l*y/5),N=s.getRow(v,this.luminances),O=Math.floor(o*4/5);for(let D=Math.floor(o/5);D<O;D++){const U=N[D]&255;d[U>>ue.LUMINANCE_SHIFT]++}}const f=ue.estimateBlackPoint(d),g=s.getMatrix();for(let y=0;y<l;y++){const v=y*o;for(let N=0;N<o;N++)(g[v+N]&255)<f&&c.set(N,y)}return c}createBinarizer(s){return new ue(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let l=0;l<ue.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(s){const o=s.length;let l=0,c=0,d=0;for(let N=0;N<o;N++)s[N]>d&&(c=N,d=s[N]),s[N]>l&&(l=s[N]);let f=0,g=0;for(let N=0;N<o;N++){const O=N-c,D=s[N]*O*O;D>g&&(f=N,g=D)}if(c>f){const N=c;c=f,f=N}if(f-c<=o/16)throw new G;let y=f-1,v=-1;for(let N=f-1;N>c;N--){const O=N-c,D=O*O*(f-N)*(l-s[N]);D>v&&(y=N,v=D)}return y<<ue.LUMINANCE_SHIFT}}ue.LUMINANCE_BITS=5,ue.LUMINANCE_SHIFT=8-ue.LUMINANCE_BITS,ue.LUMINANCE_BUCKETS=1<<ue.LUMINANCE_BITS,ue.EMPTY=Uint8ClampedArray.from([0]);class ee extends ue{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight();if(o>=ee.MINIMUM_DIMENSION&&l>=ee.MINIMUM_DIMENSION){const c=s.getMatrix();let d=o>>ee.BLOCK_SIZE_POWER;o&ee.BLOCK_SIZE_MASK&&d++;let f=l>>ee.BLOCK_SIZE_POWER;l&ee.BLOCK_SIZE_MASK&&f++;const g=ee.calculateBlackPoints(c,d,f,o,l),y=new re(o,l);ee.calculateThresholdForBlock(c,d,f,o,l,g,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new ee(s)}static calculateThresholdForBlock(s,o,l,c,d,f,g){const y=d-ee.BLOCK_SIZE,v=c-ee.BLOCK_SIZE;for(let N=0;N<l;N++){let O=N<<ee.BLOCK_SIZE_POWER;O>y&&(O=y);const D=ee.cap(N,2,l-3);for(let U=0;U<o;U++){let z=U<<ee.BLOCK_SIZE_POWER;z>v&&(z=v);const $=ee.cap(U,2,o-3);let K=0;for(let fe=-2;fe<=2;fe++){const he=f[D+fe];K+=he[$-2]+he[$-1]+he[$]+he[$+1]+he[$+2]}const Z=K/25;ee.thresholdBlock(s,z,O,Z,c,g)}}}static cap(s,o,l){return s<o?o:s>l?l:s}static thresholdBlock(s,o,l,c,d,f){for(let g=0,y=l*d+o;g<ee.BLOCK_SIZE;g++,y+=d)for(let v=0;v<ee.BLOCK_SIZE;v++)(s[y+v]&255)<=c&&f.set(o+v,l+g)}static calculateBlackPoints(s,o,l,c,d){const f=d-ee.BLOCK_SIZE,g=c-ee.BLOCK_SIZE,y=new Array(l);for(let v=0;v<l;v++){y[v]=new Int32Array(o);let N=v<<ee.BLOCK_SIZE_POWER;N>f&&(N=f);for(let O=0;O<o;O++){let D=O<<ee.BLOCK_SIZE_POWER;D>g&&(D=g);let U=0,z=255,$=0;for(let Z=0,fe=N*c+D;Z<ee.BLOCK_SIZE;Z++,fe+=c){for(let he=0;he<ee.BLOCK_SIZE;he++){const ce=s[fe+he]&255;U+=ce,ce<z&&(z=ce),ce>$&&($=ce)}if($-z>ee.MIN_DYNAMIC_RANGE)for(Z++,fe+=c;Z<ee.BLOCK_SIZE;Z++,fe+=c)for(let he=0;he<ee.BLOCK_SIZE;he++)U+=s[fe+he]&255}let K=U>>ee.BLOCK_SIZE_POWER*2;if($-z<=ee.MIN_DYNAMIC_RANGE&&(K=z/2,v>0&&O>0)){const Z=(y[v-1][O]+2*y[v][O-1]+y[v-1][O-1])/4;z<Z&&(K=Z)}y[v][O]=K}}return y}}ee.BLOCK_SIZE_POWER=3,ee.BLOCK_SIZE=1<<ee.BLOCK_SIZE_POWER,ee.BLOCK_SIZE_MASK=ee.BLOCK_SIZE-1,ee.MINIMUM_DIMENSION=ee.BLOCK_SIZE*5,ee.MIN_DYNAMIC_RANGE=24;class J{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,l,c){throw new ne("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ne("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ne("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new ie;for(let l=0;l<this.height;l++){const c=this.getRow(l,s);for(let d=0;d<this.width;d++){const f=c[d]&255;let g;f<64?g="#":f<128?g="+":f<192?g=".":g=" ",o.append(g)}o.append(`
`)}return o.toString()}}class Y extends J{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const l=this.delegate.getRow(s,o),c=this.getWidth();for(let d=0;d<c;d++)l[d]=255-(l[d]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let c=0;c<o;c++)l[c]=255-(s[c]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,l,c){return new Y(this.delegate.crop(s,o,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Y(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Y(this.delegate.rotateCounterClockwise45())}}class le extends J{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=le.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return le.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,l){const c=new Uint8ClampedArray(o*l);for(let d=0,f=0,g=s.length;d<g;d+=4,f++){let y;if(s[d+3]===0)y=255;else{const N=s[d],O=s[d+1],D=s[d+2];y=306*N+601*O+117*D+512>>10}c[f]=y}return c}getRow(s,o){if(s<0||s>=this.getHeight())throw new b("Requested row is outside the image: "+s);const l=this.getWidth(),c=s*l;return o===null?o=this.buffer.slice(c,c+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(c,c+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,l,c){return super.crop(s,o,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),l=o.getContext("2d"),c=s*le.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(c))*d+Math.abs(Math.sin(c))*f),y=Math.ceil(Math.abs(Math.sin(c))*d+Math.abs(Math.cos(c))*f);return o.width=g,o.height=y,l.translate(g/2,y/2),l.rotate(c),l.drawImage(this.canvas,d/-2,f/-2),this.buffer=le.makeBufferFromCanvasImageData(o),this}invert(){return new Y(this)}}le.DEGREE_TO_RADIANS=Math.PI/180;class Ae{constructor(s,o,l){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var xe=(globalThis||Ga||self||window||void 0)&&(globalThis||Ga||self||window||void 0).__awaiter||function(R,s,o,l){function c(d){return d instanceof o?d:new o(function(f){f(d)})}return new(o||(o=Promise))(function(d,f){function g(N){try{v(l.next(N))}catch(O){f(O)}}function y(N){try{v(l.throw(N))}catch(O){f(O)}}function v(N){N.done?d(N.value):c(N.value).then(g,y)}v((l=l.apply(R,s||[])).next())})};class Oe{constructor(s,o=500,l){this.reader=s,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return xe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of s){const c=l.kind==="video"?"videoinput":l.kind;if(c!=="videoinput")continue;const d=l.deviceId||l.id,f=l.label||`Video device ${o.length+1}`,g=l.groupId,y={deviceId:d,label:f,kind:c,groupId:g};o.push(y)}return o})}getVideoInputDevices(){return xe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Ae(o.deviceId,o.label))})}findDeviceById(s){return xe(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return xe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return xe(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,o)})}decodeOnceFromConstraints(s,o){return xe(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(s,o){return xe(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,o,l){return xe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,l)})}decodeFromVideoDevice(s,o,l){return xe(this,void 0,void 0,function*(){let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const d={video:c};return yield this.decodeFromConstraints(d,o,l)})}decodeFromConstraints(s,o,l){return xe(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(c,o,l)})}decodeFromStream(s,o,l){return xe(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return xe(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((o,l)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return xe(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const l=document.getElementById(s);if(!l)throw new w(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new w(`element with id '${s}' must be an ${o} element`);return l}decodeFromImage(s,o){if(!s&&!o)throw new w("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new w("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,l){if(s===void 0&&o===void 0)throw new w("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new w("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(s){if(!s)throw new w("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=s,l}decodeFromVideoUrl(s){if(!s)throw new w("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=s,l}decodeFromVideoUrlContinuously(s,o){if(!s)throw new w("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,o);return l.src=s,c}_decodeOnLoadImage(s){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return xe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return xe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,l=!0){this._stopAsyncDecode=!1;const c=(d,f)=>{if(this._stopAsyncDecode){f(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(s);d(g)}catch(g){const y=o&&g instanceof G,N=(g instanceof E||g instanceof M)&&l;if(y||N)return setTimeout(c,this._timeBetweenDecodingAttempts,d,f);f(g)}};return new Promise((d,f)=>c(d,f))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(s);o(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){o(null,c);const d=c instanceof E||c instanceof M,f=c instanceof G;(d||f)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,l){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),l=new le(o),c=new ee(l);return new C(c)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,c;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,c=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,c=s.naturalHeight||s.height)),o.style.width=l+"px",o.style.height=c+"px",o.width=l,o.height=c,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Ee{constructor(s,o,l=o==null?0:8*o.length,c,d,f=A.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=l,this.resultPoints=c,this.format=d,this.timestamp=f,this.text=s,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=c,this.format=d,this.resultMetadata=null,f==null?this.timestamp=A.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(o.length+s.length);A.arraycopy(o,0,l,0,o.length),A.arraycopy(s,0,l,o.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ae;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ae||(ae={}));var te=ae,ge;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ge||(ge={}));var ye=ge;class gt{constructor(s,o,l,c,d=-1,f=-1){this.rawBytes=s,this.text=o,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ct{exp(s){return this.expTable[s]}log(s){if(s===0)throw new b;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class Ke{constructor(s,o){if(o.length===0)throw new b;this.field=s;const l=o.length;if(l>1&&o[0]===0){let c=1;for(;c<l&&o[c]===0;)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),A.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(s===1){l=0;for(let f=0,g=o.length;f!==g;f++){const y=o[f];l=Ct.addOrSubtract(l,y)}return l}l=o[0];const c=o.length,d=this.field;for(let f=1;f<c;f++)l=Ct.addOrSubtract(d.multiply(s,l),o[f]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){const f=o;o=l,l=f}let c=new Int32Array(l.length);const d=l.length-o.length;A.arraycopy(l,0,c,0,d);for(let f=d;f<l.length;f++)c[f]=Ct.addOrSubtract(o[f-d],l[f]);return new Ke(this.field,c)}multiply(s){if(!this.field.equals(s.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,c=s.coefficients,d=c.length,f=new Int32Array(l+d-1),g=this.field;for(let y=0;y<l;y++){const v=o[y];for(let N=0;N<d;N++)f[y+N]=Ct.addOrSubtract(f[y+N],g.multiply(v,c[N]))}return new Ke(g,f)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,l=this.field,c=new Int32Array(o),d=this.coefficients;for(let f=0;f<o;f++)c[f]=l.multiply(d[f],s);return new Ke(l,c)}multiplyByMonomial(s,o){if(s<0)throw new b;if(o===0)return this.field.getZero();const l=this.coefficients,c=l.length,d=new Int32Array(c+s),f=this.field;for(let g=0;g<c;g++)d[g]=f.multiply(l[g],o);return new Ke(f,d)}divide(s){if(!this.field.equals(s.field))throw new b("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new b("Divide by 0");const o=this.field;let l=o.getZero(),c=this;const d=s.getCoefficient(s.getDegree()),f=o.inverse(d);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){const g=c.getDegree()-s.getDegree(),y=o.multiply(c.getCoefficient(c.getDegree()),f),v=s.multiplyByMonomial(g,y),N=o.buildMonomial(g,y);l=l.addOrSubtract(N),c=c.addOrSubtract(v)}return[l,c]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),o===0||l!==1){const c=this.field.log(l);c===0?s+="1":c===1?s+="a":(s+="a^",s+=c)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class rt extends x{}rt.kind="ArithmeticException";class ke extends Ct{constructor(s,o,l){super(),this.primitive=s,this.size=o,this.generatorBase=l;const c=new Int32Array(o);let d=1;for(let g=0;g<o;g++)c[g]=d,d*=2,d>=o&&(d^=s,d&=o-1);this.expTable=c;const f=new Int32Array(o);for(let g=0;g<o-1;g++)f[c[g]]=g;this.logTable=f,this.zero=new Ke(this,Int32Array.from([0])),this.one=new Ke(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new b;if(o===0)return this.zero;const l=new Int32Array(s+1);return l[0]=o,new Ke(this,l)}inverse(s){if(s===0)throw new rt;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}ke.AZTEC_DATA_12=new ke(4201,4096,1),ke.AZTEC_DATA_10=new ke(1033,1024,1),ke.AZTEC_DATA_6=new ke(67,64,1),ke.AZTEC_PARAM=new ke(19,16,1),ke.QR_CODE_FIELD_256=new ke(285,256,0),ke.DATA_MATRIX_FIELD_256=new ke(301,256,1),ke.AZTEC_DATA_8=ke.DATA_MATRIX_FIELD_256,ke.MAXICODE_FIELD_64=ke.AZTEC_DATA_6;class Yt extends x{}Yt.kind="ReedSolomonException";class fr extends x{}fr.kind="IllegalStateException";class rn{constructor(s){this.field=s}decode(s,o){const l=this.field,c=new Ke(l,s),d=new Int32Array(o);let f=!0;for(let U=0;U<o;U++){const z=c.evaluateAt(l.exp(U+l.getGeneratorBase()));d[d.length-1-U]=z,z!==0&&(f=!1)}if(f)return;const g=new Ke(l,d),y=this.runEuclideanAlgorithm(l.buildMonomial(o,1),g,o),v=y[0],N=y[1],O=this.findErrorLocations(v),D=this.findErrorMagnitudes(N,O);for(let U=0;U<O.length;U++){const z=s.length-1-l.log(O[U]);if(z<0)throw new Yt("Bad error location");s[z]=ke.addOrSubtract(s[z],D[U])}}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){const U=s;s=o,o=U}const c=this.field;let d=s,f=o,g=c.getZero(),y=c.getOne();for(;f.getDegree()>=(l/2|0);){let U=d,z=g;if(d=f,g=y,d.isZero())throw new Yt("r_{i-1} was zero");f=U;let $=c.getZero();const K=d.getCoefficient(d.getDegree()),Z=c.inverse(K);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const fe=f.getDegree()-d.getDegree(),he=c.multiply(f.getCoefficient(f.getDegree()),Z);$=$.addOrSubtract(c.buildMonomial(fe,he)),f=f.addOrSubtract(d.multiplyByMonomial(fe,he))}if(y=$.multiply(g).addOrSubtract(z),f.getDegree()>=d.getDegree())throw new fr("Division algorithm failed to reduce polynomial?")}const v=y.getCoefficient(0);if(v===0)throw new Yt("sigmaTilde(0) was zero");const N=c.inverse(v),O=y.multiplyScalar(N),D=f.multiplyScalar(N);return[O,D]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(o);let c=0;const d=this.field;for(let f=1;f<d.getSize()&&c<o;f++)s.evaluateAt(f)===0&&(l[c]=d.inverse(f),c++);if(c!==o)throw new Yt("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,o){const l=o.length,c=new Int32Array(l),d=this.field;for(let f=0;f<l;f++){const g=d.inverse(o[f]);let y=1;for(let v=0;v<l;v++)if(f!==v){const N=d.multiply(o[v],g),O=N&1?N&-2:N|1;y=d.multiply(y,O)}c[f]=d.multiply(s.evaluateAt(g),d.inverse(y)),d.getGeneratorBase()!==0&&(c[f]=d.multiply(c[f],g))}return c}}var Mt;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(Mt||(Mt={}));class Ze{decode(s){this.ddata=s;let o=s.getBits(),l=this.extractBits(o),c=this.correctBits(l),d=Ze.convertBoolArrayToByteArray(c),f=Ze.getEncodedData(c),g=new gt(d,f,null,null);return g.setNumBits(c.length),g}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,l=Mt.UPPER,c=Mt.UPPER,d="",f=0;for(;f<o;)if(c===Mt.BINARY){if(o-f<5)break;let g=Ze.readCode(s,f,5);if(f+=5,g===0){if(o-f<11)break;g=Ze.readCode(s,f,11)+31,f+=11}for(let y=0;y<g;y++){if(o-f<8){f=o;break}const v=Ze.readCode(s,f,8);d+=q.castAsNonUtf8Char(v),f+=8}c=l}else{let g=c===Mt.DIGIT?4:5;if(o-f<g)break;let y=Ze.readCode(s,f,g);f+=g;let v=Ze.getCharacter(c,y);v.startsWith("CTRL_")?(l=c,c=Ze.getTable(v.charAt(5)),v.charAt(6)==="L"&&(l=c)):(d+=v,c=l)}return d}static getTable(s){switch(s){case"L":return Mt.LOWER;case"P":return Mt.PUNCT;case"M":return Mt.MIXED;case"D":return Mt.DIGIT;case"B":return Mt.BINARY;case"U":default:return Mt.UPPER}}static getCharacter(s,o){switch(s){case Mt.UPPER:return Ze.UPPER_TABLE[o];case Mt.LOWER:return Ze.LOWER_TABLE[o];case Mt.MIXED:return Ze.MIXED_TABLE[o];case Mt.PUNCT:return Ze.PUNCT_TABLE[o];case Mt.DIGIT:return Ze.DIGIT_TABLE[o];default:throw new fr("Bad table")}}correctBits(s){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=ke.AZTEC_DATA_10):(l=12,o=ke.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),d=s.length/l;if(d<c)throw new M;let f=s.length%l,g=new Int32Array(d);for(let D=0;D<d;D++,f+=l)g[D]=Ze.readCode(s,f,l);try{new rn(o).decode(g,d-c)}catch(D){throw new M(D)}let y=(1<<l)-1,v=0;for(let D=0;D<c;D++){let U=g[D];if(U===0||U===y)throw new M;(U===1||U===y-1)&&v++}let N=new Array(c*l-v),O=0;for(let D=0;D<c;D++){let U=g[D];if(U===1||U===y-1)N.fill(U>1,O,O+l-1),O+=l-1;else for(let z=l-1;z>=0;--z)N[O++]=(U&1<<z)!==0}return N}extractBits(s){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(o?11:14)+l*4,d=new Int32Array(c),f=new Array(this.totalBitsInLayer(l,o));if(o)for(let g=0;g<d.length;g++)d[g]=g;else{let g=c+1+2*_.truncDivision(_.truncDivision(c,2)-1,15),y=c/2,v=_.truncDivision(g,2);for(let N=0;N<y;N++){let O=N+_.truncDivision(N,15);d[y-N-1]=v-O-1,d[y+N]=v+O+1}}for(let g=0,y=0;g<l;g++){let v=(l-g)*4+(o?9:12),N=g*2,O=c-1-N;for(let D=0;D<v;D++){let U=D*2;for(let z=0;z<2;z++)f[y+U+z]=s.get(d[N+z],d[N+D]),f[y+2*v+U+z]=s.get(d[N+D],d[O-z]),f[y+4*v+U+z]=s.get(d[O-z],d[O-D]),f[y+6*v+U+z]=s.get(d[O-D],d[N+z])}y+=v*8}return f}static readCode(s,o,l){let c=0;for(let d=o;d<o+l;d++)c<<=1,s[d]&&(c|=1);return c}static readByte(s,o){let l=s.length-o;return l>=8?Ze.readCode(s,o,8):Ze.readCode(s,o,l)<<8-l}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let l=0;l<o.length;l++)o[l]=Ze.readByte(s,8*l);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Ze.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ze.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ze.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ve{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,l,c){const d=s-l,f=o-c;return Math.sqrt(d*d+f*f)}static sum(s){let o=0;for(let l=0,c=s.length;l!==c;l++){const d=s[l];o+=d}return o}}class Ni{static floatToIntBits(s){return s}}Ni.MAX_VALUE=Number.MAX_SAFE_INTEGER;class we{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof we){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Ni.floatToIntBits(this.x)+Ni.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),c=this.distance(s[0],s[2]);let d,f,g;if(l>=o&&l>=c?(f=s[0],d=s[1],g=s[2]):c>=l&&c>=o?(f=s[1],d=s[0],g=s[2]):(f=s[2],d=s[0],g=s[1]),this.crossProductZ(d,f,g)<0){const y=d;d=g,g=y}s[0]=d,s[1]=f,s[2]=g}static distance(s,o){return Ve.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,l){const c=o.x,d=o.y;return(l.x-c)*(s.y-d)-(l.y-d)*(s.x-c)}}class Ti{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Fn extends Ti{constructor(s,o,l,c,d){super(s,o),this.compact=l,this.nbDatablocks=c,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class xn{constructor(s,o,l,c){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=xn.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),c==null&&(c=s.getHeight()/2|0);const d=o/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=c-d,this.downInit=c+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let s=this.leftInit,o=this.rightInit,l=this.upInit,c=this.downInit,d=!1,f=!0,g=!1,y=!1,v=!1,N=!1,O=!1;const D=this.width,U=this.height;for(;f;){f=!1;let z=!0;for(;(z||!y)&&o<D;)z=this.containsBlackPoint(l,c,o,!1),z?(o++,f=!0,y=!0):y||o++;if(o>=D){d=!0;break}let $=!0;for(;($||!v)&&c<U;)$=this.containsBlackPoint(s,o,c,!0),$?(c++,f=!0,v=!0):v||c++;if(c>=U){d=!0;break}let K=!0;for(;(K||!N)&&s>=0;)K=this.containsBlackPoint(l,c,s,!1),K?(s--,f=!0,N=!0):N||s--;if(s<0){d=!0;break}let Z=!0;for(;(Z||!O)&&l>=0;)Z=this.containsBlackPoint(s,o,l,!0),Z?(l--,f=!0,O=!0):O||l--;if(l<0){d=!0;break}f&&(g=!0)}if(!d&&g){const z=o-s;let $=null;for(let he=1;$===null&&he<z;he++)$=this.getBlackPointOnSegment(s,c-he,s+he,c);if($==null)throw new G;let K=null;for(let he=1;K===null&&he<z;he++)K=this.getBlackPointOnSegment(s,l+he,s+he,l);if(K==null)throw new G;let Z=null;for(let he=1;Z===null&&he<z;he++)Z=this.getBlackPointOnSegment(o,l+he,o-he,l);if(Z==null)throw new G;let fe=null;for(let he=1;fe===null&&he<z;he++)fe=this.getBlackPointOnSegment(o,c-he,o-he,c);if(fe==null)throw new G;return this.centerEdges(fe,$,Z,K)}else throw new G}getBlackPointOnSegment(s,o,l,c){const d=Ve.round(Ve.distance(s,o,l,c)),f=(l-s)/d,g=(c-o)/d,y=this.image;for(let v=0;v<d;v++){const N=Ve.round(s+v*f),O=Ve.round(o+v*g);if(y.get(N,O))return new we(N,O)}return null}centerEdges(s,o,l,c){const d=s.getX(),f=s.getY(),g=o.getX(),y=o.getY(),v=l.getX(),N=l.getY(),O=c.getX(),D=c.getY(),U=xn.CORR;return d<this.width/2?[new we(O-U,D+U),new we(g+U,y+U),new we(v-U,N-U),new we(d+U,f-U)]:[new we(O+U,D+U),new we(g+U,y-U),new we(v-U,N+U),new we(d-U,f-U)]}containsBlackPoint(s,o,l,c){const d=this.image;if(c){for(let f=s;f<=o;f++)if(d.get(f,l))return!0}else for(let f=s;f<=o;f++)if(d.get(l,f))return!0;return!1}}xn.INIT_SIZE=10,xn.CORR=1;class Ma{static checkAndNudgePoints(s,o){const l=s.getWidth(),c=s.getHeight();let d=!0;for(let f=0;f<o.length&&d;f+=2){const g=Math.floor(o[f]),y=Math.floor(o[f+1]);if(g<-1||g>l||y<-1||y>c)throw new G;d=!1,g===-1?(o[f]=0,d=!0):g===l&&(o[f]=l-1,d=!0),y===-1?(o[f+1]=0,d=!0):y===c&&(o[f+1]=c-1,d=!0)}d=!0;for(let f=o.length-2;f>=0&&d;f-=2){const g=Math.floor(o[f]),y=Math.floor(o[f+1]);if(g<-1||g>l||y<-1||y>c)throw new G;d=!1,g===-1?(o[f]=0,d=!0):g===l&&(o[f]=l-1,d=!0),y===-1?(o[f+1]=0,d=!0):y===c&&(o[f+1]=c-1,d=!0)}}}class xt{constructor(s,o,l,c,d,f,g,y,v){this.a11=s,this.a21=o,this.a31=l,this.a12=c,this.a22=d,this.a32=f,this.a13=g,this.a23=y,this.a33=v}static quadrilateralToQuadrilateral(s,o,l,c,d,f,g,y,v,N,O,D,U,z,$,K){const Z=xt.quadrilateralToSquare(s,o,l,c,d,f,g,y);return xt.squareToQuadrilateral(v,N,O,D,U,z,$,K).times(Z)}transformPoints(s){const o=s.length,l=this.a11,c=this.a12,d=this.a13,f=this.a21,g=this.a22,y=this.a23,v=this.a31,N=this.a32,O=this.a33;for(let D=0;D<o;D+=2){const U=s[D],z=s[D+1],$=d*U+y*z+O;s[D]=(l*U+f*z+v)/$,s[D+1]=(c*U+g*z+N)/$}}transformPointsWithValues(s,o){const l=this.a11,c=this.a12,d=this.a13,f=this.a21,g=this.a22,y=this.a23,v=this.a31,N=this.a32,O=this.a33,D=s.length;for(let U=0;U<D;U++){const z=s[U],$=o[U],K=d*z+y*$+O;s[U]=(l*z+f*$+v)/K,o[U]=(c*z+g*$+N)/K}}static squareToQuadrilateral(s,o,l,c,d,f,g,y){const v=s-l+d-g,N=o-c+f-y;if(v===0&&N===0)return new xt(l-s,d-l,s,c-o,f-c,o,0,0,1);{const O=l-d,D=g-d,U=c-f,z=y-f,$=O*z-D*U,K=(v*z-D*N)/$,Z=(O*N-v*U)/$;return new xt(l-s+K*l,g-s+Z*g,s,c-o+K*c,y-o+Z*y,o,K,Z,1)}}static quadrilateralToSquare(s,o,l,c,d,f,g,y){return xt.squareToQuadrilateral(s,o,l,c,d,f,g,y).buildAdjoint()}buildAdjoint(){return new xt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new xt(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class as extends Ma{sampleGrid(s,o,l,c,d,f,g,y,v,N,O,D,U,z,$,K,Z,fe,he){const ce=xt.quadrilateralToQuadrilateral(c,d,f,g,y,v,N,O,D,U,z,$,K,Z,fe,he);return this.sampleGridWithTransform(s,o,l,ce)}sampleGridWithTransform(s,o,l,c){if(o<=0||l<=0)throw new G;const d=new re(o,l),f=new Float32Array(2*o);for(let g=0;g<l;g++){const y=f.length,v=g+.5;for(let N=0;N<y;N+=2)f[N]=N/2+.5,f[N+1]=v;c.transformPoints(f),Ma.checkAndNudgePoints(s,f);try{for(let N=0;N<y;N+=2)s.get(Math.floor(f[N]),Math.floor(f[N+1]))&&d.set(N/2,g)}catch{throw new G}}return d}}class Un{static setGridSampler(s){Un.gridSampler=s}static getInstance(){return Un.gridSampler}}Un.gridSampler=new as;class rr{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new we(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ki{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(s){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new Fn(c,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new G;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(l,o);let c=0;for(let f=0;f<4;f++){let g=l[(this.shift+f)%4];this.compact?(c<<=7,c+=g>>1&127):(c<<=10,c+=(g>>2&992)+(g>>1&31))}let d=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(s,o){let l=0;s.forEach((c,d,f)=>{let g=(c>>o-2<<1)+(c&1);l=(l<<3)+g}),l=((l&1)<<11)+(l>>1);for(let c=0;c<4;c++)if(_.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new G}getCorrectedParameterData(s,o){let l,c;o?(l=7,c=2):(l=10,c=4);let d=l-c,f=new Int32Array(l);for(let y=l-1;y>=0;--y)f[y]=s&15,s>>=4;try{new rn(ke.AZTEC_PARAM).decode(f,d)}catch{throw new G}let g=0;for(let y=0;y<c;y++)g=(g<<4)+f[y];return g}getBullsEyeCorners(s){let o=s,l=s,c=s,d=s,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(o,f,1,-1),D=this.getFirstDifferent(l,f,1,1),U=this.getFirstDifferent(c,f,-1,1),z=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let $=this.distancePoint(z,O)*this.nbCenterLayers/(this.distancePoint(d,o)*(this.nbCenterLayers+2));if($<.75||$>1.25||!this.isWhiteOrBlackRectangle(O,D,U,z))break}o=O,l=D,c=U,d=z,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let g=new we(o.getX()+.5,o.getY()-.5),y=new we(l.getX()+.5,l.getY()+.5),v=new we(c.getX()-.5,c.getY()+.5),N=new we(d.getX()-.5,d.getY()-.5);return this.expandSquare([g,y,v,N],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,l,c;try{let g=new xn(this.image).detect();s=g[0],o=g[1],l=g[2],c=g[3]}catch{let y=this.image.getWidth()/2,v=this.image.getHeight()/2;s=this.getFirstDifferent(new rr(y+7,v-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new rr(y+7,v+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new rr(y-7,v+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new rr(y-7,v-7),!1,-1,-1).toResultPoint()}let d=Ve.round((s.getX()+c.getX()+o.getX()+l.getX())/4),f=Ve.round((s.getY()+c.getY()+o.getY()+l.getY())/4);try{let g=new xn(this.image,15,d,f).detect();s=g[0],o=g[1],l=g[2],c=g[3]}catch{s=this.getFirstDifferent(new rr(d+7,f-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new rr(d+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new rr(d-7,f+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new rr(d-7,f-7),!1,-1,-1).toResultPoint()}return d=Ve.round((s.getX()+c.getX()+o.getX()+l.getX())/4),f=Ve.round((s.getY()+c.getY()+o.getY()+l.getY())/4),new rr(d,f)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,l,c,d){let f=Un.getInstance(),g=this.getDimension(),y=g/2-this.nbCenterLayers,v=g/2+this.nbCenterLayers;return f.sampleGrid(s,g,g,y,y,v,y,v,v,y,v,o.getX(),o.getY(),l.getX(),l.getY(),c.getX(),c.getY(),d.getX(),d.getY())}sampleLine(s,o,l){let c=0,d=this.distanceResultPoint(s,o),f=d/l,g=s.getX(),y=s.getY(),v=f*(o.getX()-s.getX())/d,N=f*(o.getY()-s.getY())/d;for(let O=0;O<l;O++)this.image.get(Ve.round(g+O*v),Ve.round(y+O*N))&&(c|=1<<l-O-1);return c}isWhiteOrBlackRectangle(s,o,l,c){let d=3;s=new rr(s.getX()-d,s.getY()+d),o=new rr(o.getX()-d,o.getY()-d),l=new rr(l.getX()+d,l.getY()-d),c=new rr(c.getX()+d,c.getY()+d);let f=this.getColor(c,s);if(f===0)return!1;let g=this.getColor(s,o);return g!==f||(g=this.getColor(o,l),g!==f)?!1:(g=this.getColor(l,c),g===f)}getColor(s,o){let l=this.distancePoint(s,o),c=(o.getX()-s.getX())/l,d=(o.getY()-s.getY())/l,f=0,g=s.getX(),y=s.getY(),v=this.image.get(s.getX(),s.getY()),N=Math.ceil(l);for(let D=0;D<N;D++)g+=c,y+=d,this.image.get(Ve.round(g),Ve.round(y))!==v&&f++;let O=f/l;return O>.1&&O<.9?0:O<=.1===v?1:-1}getFirstDifferent(s,o,l,c){let d=s.getX()+l,f=s.getY()+c;for(;this.isValid(d,f)&&this.image.get(d,f)===o;)d+=l,f+=c;for(d-=l,f-=c;this.isValid(d,f)&&this.image.get(d,f)===o;)d+=l;for(d-=l;this.isValid(d,f)&&this.image.get(d,f)===o;)f+=c;return f-=c,new rr(d,f)}expandSquare(s,o,l){let c=l/(2*o),d=s[0].getX()-s[2].getX(),f=s[0].getY()-s[2].getY(),g=(s[0].getX()+s[2].getX())/2,y=(s[0].getY()+s[2].getY())/2,v=new we(g+c*d,y+c*f),N=new we(g-c*d,y-c*f);d=s[1].getX()-s[3].getX(),f=s[1].getY()-s[3].getY(),g=(s[1].getX()+s[3].getX())/2,y=(s[1].getY()+s[3].getY())/2;let O=new we(g+c*d,y+c*f),D=new we(g-c*d,y-c*f);return[v,O,N,D]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=Ve.round(s.getX()),l=Ve.round(s.getY());return this.isValid(o,l)}distancePoint(s,o){return Ve.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return Ve.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class uo{decode(s,o=null){let l=null,c=new ki(s.getBlackMatrix()),d=null,f=null;try{let N=c.detectMirror(!1);d=N.getPoints(),this.reportFoundResultPoints(o,d),f=new Ze().decode(N)}catch(N){l=N}if(f==null)try{let N=c.detectMirror(!0);d=N.getPoints(),this.reportFoundResultPoints(o,d),f=new Ze().decode(N)}catch(N){throw l??N}let g=new Ee(f.getText(),f.getRawBytes(),f.getNumBits(),d,te.AZTEC,A.currentTimeMillis()),y=f.getByteSegments();y!=null&&g.putMetadata(ye.BYTE_SEGMENTS,y);let v=f.getECLevel();return v!=null&&g.putMetadata(ye.ERROR_CORRECTION_LEVEL,v),g}reportFoundResultPoints(s,o){if(s!=null){let l=s.get(L.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((c,d,f)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class pc extends Oe{constructor(s=500){super(new uo,s)}}class yt{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(L.TRY_HARDER)===!0&&s.isRotateSupported()){const d=s.rotateCounterClockwise(),f=this.doDecode(d,o),g=f.getResultMetadata();let y=270;g!==null&&g.get(ye.ORIENTATION)===!0&&(y=y+g.get(ye.ORIENTATION)%360),f.putMetadata(ye.ORIENTATION,y);const v=f.getResultPoints();if(v!==null){const N=d.getHeight();for(let O=0;O<v.length;O++)v[O]=new we(N-v[O].getY()-1,v[O].getX())}return f}else throw new G}}reset(){}doDecode(s,o){const l=s.getWidth(),c=s.getHeight();let d=new j(l);const f=o&&o.get(L.TRY_HARDER)===!0,g=Math.max(1,c>>(f?8:5));let y;f?y=c:y=15;const v=Math.trunc(c/2);for(let N=0;N<y;N++){const O=Math.trunc((N+1)/2),D=(N&1)===0,U=v+g*(D?O:-O);if(U<0||U>=c)break;try{d=s.getBlackRow(U,d)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(d.reverse(),o&&o.get(L.NEED_RESULT_POINT_CALLBACK)===!0)){const $=new Map;o.forEach((K,Z)=>$.set(Z,K)),$.delete(L.NEED_RESULT_POINT_CALLBACK),o=$}try{const $=this.decodeRow(U,d,o);if(z===1){$.putMetadata(ye.ORIENTATION,180);const K=$.getResultPoints();K!==null&&(K[0]=new we(l-K[0].getX()-1,K[0].getY()),K[1]=new we(l-K[1].getX()-1,K[1].getY()))}return $}catch{}}}throw new G}static recordPattern(s,o,l){const c=l.length;for(let v=0;v<c;v++)l[v]=0;const d=s.getSize();if(o>=d)throw new G;let f=!s.get(o),g=0,y=o;for(;y<d;){if(s.get(y)!==f)l[g]++;else{if(++g===c)break;l[g]=1,f=!f}y++}if(!(g===c||g===c-1&&y===d))throw new G}static recordPatternInReverse(s,o,l){let c=l.length,d=s.get(o);for(;o>0&&c>=0;)s.get(--o)!==d&&(c--,d=!d);if(c>=0)throw new G;yt.recordPattern(s,o+1,l)}static patternMatchVariance(s,o,l){const c=s.length;let d=0,f=0;for(let v=0;v<c;v++)d+=s[v],f+=o[v];if(d<f)return Number.POSITIVE_INFINITY;const g=d/f;l*=g;let y=0;for(let v=0;v<c;v++){const N=s[v],O=o[v]*g,D=N>O?N-O:O-N;if(D>l)return Number.POSITIVE_INFINITY;y+=D}return y/d}}class me extends yt{static findStartPattern(s){const o=s.getSize(),l=s.getNextSet(0);let c=0,d=Int32Array.from([0,0,0,0,0,0]),f=l,g=!1;const y=6;for(let v=l;v<o;v++)if(s.get(v)!==g)d[c]++;else{if(c===y-1){let N=me.MAX_AVG_VARIANCE,O=-1;for(let D=me.CODE_START_A;D<=me.CODE_START_C;D++){const U=yt.patternMatchVariance(d,me.CODE_PATTERNS[D],me.MAX_INDIVIDUAL_VARIANCE);U<N&&(N=U,O=D)}if(O>=0&&s.isRange(Math.max(0,f-(v-f)/2),f,!1))return Int32Array.from([f,v,O]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[c-1]=0,d[c]=0,c--}else c++;d[c]=1,g=!g}throw new G}static decodeCode(s,o,l){yt.recordPattern(s,l,o);let c=me.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<me.CODE_PATTERNS.length;f++){const g=me.CODE_PATTERNS[f],y=this.patternMatchVariance(o,g,me.MAX_INDIVIDUAL_VARIANCE);y<c&&(c=y,d=f)}if(d>=0)return d;throw new G}decodeRow(s,o,l){const c=l&&l.get(L.ASSUME_GS1)===!0,d=me.findStartPattern(o),f=d[2];let g=0;const y=new Uint8Array(20);y[g++]=f;let v;switch(f){case me.CODE_START_A:v=me.CODE_CODE_A;break;case me.CODE_START_B:v=me.CODE_CODE_B;break;case me.CODE_START_C:v=me.CODE_CODE_C;break;default:throw new M}let N=!1,O=!1,D="",U=d[0],z=d[1];const $=Int32Array.from([0,0,0,0,0,0]);let K=0,Z=0,fe=f,he=0,ce=!0,$e=!1,Be=!1;for(;!N;){const vo=O;switch(O=!1,K=Z,Z=me.decodeCode(o,$,z),y[g++]=Z,Z!==me.CODE_STOP&&(ce=!0),Z!==me.CODE_STOP&&(he++,fe+=he*Z),U=z,z+=$.reduce((LE,BE)=>LE+BE,0),Z){case me.CODE_START_A:case me.CODE_START_B:case me.CODE_START_C:throw new M}switch(v){case me.CODE_CODE_A:if(Z<64)Be===$e?D+=String.fromCharCode(32+Z):D+=String.fromCharCode(32+Z+128),Be=!1;else if(Z<96)Be===$e?D+=String.fromCharCode(Z-64):D+=String.fromCharCode(Z+64),Be=!1;else switch(Z!==me.CODE_STOP&&(ce=!1),Z){case me.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_A:!$e&&Be?($e=!0,Be=!1):$e&&Be?($e=!1,Be=!1):Be=!0;break;case me.CODE_SHIFT:O=!0,v=me.CODE_CODE_B;break;case me.CODE_CODE_B:v=me.CODE_CODE_B;break;case me.CODE_CODE_C:v=me.CODE_CODE_C;break;case me.CODE_STOP:N=!0;break}break;case me.CODE_CODE_B:if(Z<96)Be===$e?D+=String.fromCharCode(32+Z):D+=String.fromCharCode(32+Z+128),Be=!1;else switch(Z!==me.CODE_STOP&&(ce=!1),Z){case me.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_B:!$e&&Be?($e=!0,Be=!1):$e&&Be?($e=!1,Be=!1):Be=!0;break;case me.CODE_SHIFT:O=!0,v=me.CODE_CODE_A;break;case me.CODE_CODE_A:v=me.CODE_CODE_A;break;case me.CODE_CODE_C:v=me.CODE_CODE_C;break;case me.CODE_STOP:N=!0;break}break;case me.CODE_CODE_C:if(Z<100)Z<10&&(D+="0"),D+=Z;else switch(Z!==me.CODE_STOP&&(ce=!1),Z){case me.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case me.CODE_CODE_A:v=me.CODE_CODE_A;break;case me.CODE_CODE_B:v=me.CODE_CODE_B;break;case me.CODE_STOP:N=!0;break}break}vo&&(v=v===me.CODE_CODE_A?me.CODE_CODE_B:me.CODE_CODE_A)}const Pr=z-U;if(z=o.getNextUnset(z),!o.isRange(z,Math.min(o.getSize(),z+(z-U)/2),!1))throw new G;if(fe-=he*K,fe%103!==K)throw new E;const vn=D.length;if(vn===0)throw new G;vn>0&&ce&&(v===me.CODE_CODE_C?D=D.substring(0,vn-2):D=D.substring(0,vn-1));const jr=(d[1]+d[0])/2,at=U+Pr/2,ir=y.length,Vr=new Uint8Array(ir);for(let vo=0;vo<ir;vo++)Vr[vo]=y[vo];const wo=[new we(jr,s),new we(at,s)];return new Ee(D,Vr,0,wo,te.CODE_128,new Date().getTime())}}me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],me.MAX_AVG_VARIANCE=.25,me.MAX_INDIVIDUAL_VARIANCE=.7,me.CODE_SHIFT=98,me.CODE_CODE_C=99,me.CODE_CODE_B=100,me.CODE_CODE_A=101,me.CODE_FNC_1=102,me.CODE_FNC_2=97,me.CODE_FNC_3=96,me.CODE_FNC_4_A=101,me.CODE_FNC_4_B=100,me.CODE_START_A=103,me.CODE_START_B=104,me.CODE_START_C=105,me.CODE_STOP=106;class kt extends yt{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let d=kt.findAsteriskPattern(o,c),f=o.getNextSet(d[1]),g=o.getSize(),y,v;do{kt.recordPattern(o,f,c);let $=kt.toNarrowWidePattern(c);if($<0)throw new G;y=kt.patternToChar($),this.decodeRowResult+=y,v=f;for(let K of c)f+=K;f=o.getNextSet(f)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let N=0;for(let $ of c)N+=$;let O=f-v-N;if(f!==g&&O*2<N)throw new G;if(this.usingCheckDigit){let $=this.decodeRowResult.length-1,K=0;for(let Z=0;Z<$;Z++)K+=kt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Z));if(this.decodeRowResult.charAt($)!==kt.ALPHABET_STRING.charAt(K%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,$)}if(this.decodeRowResult.length===0)throw new G;let D;this.extendedMode?D=kt.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let U=(d[1]+d[0])/2,z=v+N/2;return new Ee(D,null,0,[new we(U,s),new we(z,s)],te.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let l=s.getSize(),c=s.getNextSet(0),d=0,f=c,g=!1,y=o.length;for(let v=c;v<l;v++)if(s.get(v)!==g)o[d]++;else{if(d===y-1){if(this.toNarrowWidePattern(o)===kt.ASTERISK_ENCODING&&s.isRange(Math.max(0,f-Math.floor((v-f)/2)),f,!1))return[f,v];f+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,g=!g}throw new G}static toNarrowWidePattern(s){let o=s.length,l=0,c;do{let d=2147483647;for(let y of s)y<d&&y>l&&(d=y);l=d,c=0;let f=0,g=0;for(let y=0;y<o;y++){let v=s[y];v>l&&(g|=1<<o-1-y,c++,f+=v)}if(c===3){for(let y=0;y<o&&c>0;y++){let v=s[y];if(v>l&&(c--,v*2>=f))return-1}return g}}while(c>3);return-1}static patternToChar(s){for(let o=0;o<kt.CHARACTER_ENCODINGS.length;o++)if(kt.CHARACTER_ENCODINGS[o]===s)return kt.ALPHABET_STRING.charAt(o);if(s===kt.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(s){let o=s.length,l="";for(let c=0;c<o;c++){let d=s.charAt(c);if(d==="+"||d==="$"||d==="%"||d==="/"){let f=s.charAt(c+1),g="\0";switch(d){case"+":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)+32);else throw new M;break;case"$":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)-64);else throw new M;break;case"%":if(f>="A"&&f<="E")g=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")g=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")g=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")g="\0";else if(f==="V")g="@";else if(f==="W")g="`";else if(f==="X"||f==="Y"||f==="Z")g="";else throw new M;break;case"/":if(f>="A"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")g=":";else throw new M;break}l+=g,c++}else l+=d}return l}}kt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",kt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],kt.ASTERISK_ENCODING=148;class qe extends yt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,l){let c=this.decodeStart(o),d=this.decodeEnd(o),f=new ie;qe.decodeMiddle(o,c[1],d[0],f);let g=f.toString(),y=null;l!=null&&(y=l.get(L.ALLOWED_LENGTHS)),y==null&&(y=qe.DEFAULT_ALLOWED_LENGTHS);let v=g.length,N=!1,O=0;for(let z of y){if(v===z){N=!0;break}z>O&&(O=z)}if(!N&&v>O&&(N=!0),!N)throw new M;const D=[new we(c[1],s),new we(d[0],s)];return new Ee(g,null,0,D,te.ITF,new Date().getTime())}static decodeMiddle(s,o,l,c){let d=new Int32Array(10),f=new Int32Array(5),g=new Int32Array(5);for(d.fill(0),f.fill(0),g.fill(0);o<l;){yt.recordPattern(s,o,d);for(let v=0;v<5;v++){let N=2*v;f[v]=d[N],g[v]=d[N+1]}let y=qe.decodeDigit(f);c.append(y.toString()),y=this.decodeDigit(g),c.append(y.toString()),d.forEach(function(v){o+=v})}}decodeStart(s){let o=qe.skipWhiteSpace(s),l=qe.findGuardPattern(s,o,qe.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let c=o-1;l>0&&c>=0&&!s.get(c);c--)l--;if(l!==0)throw new G}static skipWhiteSpace(s){const o=s.getSize(),l=s.getNextSet(0);if(l===o)throw new G;return l}decodeEnd(s){s.reverse();try{let o=qe.skipWhiteSpace(s),l;try{l=qe.findGuardPattern(s,o,qe.END_PATTERN_REVERSED[0])}catch(d){d instanceof G&&(l=qe.findGuardPattern(s,o,qe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let c=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-c,l}finally{s.reverse()}}static findGuardPattern(s,o,l){let c=l.length,d=new Int32Array(c),f=s.getSize(),g=!1,y=0,v=o;d.fill(0);for(let N=o;N<f;N++)if(s.get(N)!==g)d[y]++;else{if(y===c-1){if(yt.patternMatchVariance(d,l,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE)return[v,N];v+=d[0]+d[1],A.arraycopy(d,2,d,0,y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,g=!g}throw new G}static decodeDigit(s){let o=qe.MAX_AVG_VARIANCE,l=-1,c=qe.PATTERNS.length;for(let d=0;d<c;d++){let f=qe.PATTERNS[d],g=yt.patternMatchVariance(s,f,qe.MAX_INDIVIDUAL_VARIANCE);g<o?(o=g,l=d):g===o&&(l=-1)}if(l>=0)return l%10;throw new G}}qe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],qe.MAX_AVG_VARIANCE=.38,qe.MAX_INDIVIDUAL_VARIANCE=.5,qe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],qe.START_PATTERN=Int32Array.from([1,1,1,1]),qe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class wt extends yt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,l,c=0,d=Int32Array.from([0,0,0]);for(;!o;){d=Int32Array.from([0,0,0]),l=wt.findGuardPattern(s,c,!1,this.START_END_PATTERN,d);let f=l[0];c=l[1];let g=f-(c-f);g>=0&&(o=s.isRange(g,f,!1))}return l}static checkChecksum(s){return wt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return wt.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let c=o-1;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new M;l+=d}l*=3;for(let c=o-2;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new M;l+=d}return(1e3-l)%10}static decodeEnd(s,o){return wt.findGuardPattern(s,o,!1,wt.START_END_PATTERN,new Int32Array(wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,l,c){return this.findGuardPattern(s,o,l,c,new Int32Array(c.length))}static findGuardPattern(s,o,l,c,d){let f=s.getSize();o=l?s.getNextUnset(o):s.getNextSet(o);let g=0,y=o,v=c.length,N=l;for(let O=o;O<f;O++)if(s.get(O)!==N)d[g]++;else{if(g===v-1){if(yt.patternMatchVariance(d,c,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return Int32Array.from([y,O]);y+=d[0]+d[1];let D=d.slice(2,d.length-1);for(let U=0;U<g-1;U++)d[U]=D[U];d[g-1]=0,d[g]=0,g--}else g++;d[g]=1,N=!N}throw new G}static decodeDigit(s,o,l,c){this.recordPattern(s,l,o);let d=this.MAX_AVG_VARIANCE,f=-1,g=c.length;for(let y=0;y<g;y++){let v=c[y],N=yt.patternMatchVariance(o,v,wt.MAX_INDIVIDUAL_VARIANCE);N<d&&(d=N,f=y)}if(f>=0)return f;throw new G}}wt.MAX_AVG_VARIANCE=.48,wt.MAX_INDIVIDUAL_VARIANCE=.7,wt.START_END_PATTERN=Int32Array.from([1,1,1]),wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ii{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,c),f=c.toString(),g=Ii.parseExtensionString(f),y=[new we((l[0]+l[1])/2,s),new we(d,s)],v=new Ee(f,null,0,y,te.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&v.putAllMetadata(g),v}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f=o[1],g=0;for(let v=0;v<5&&f<d;v++){let N=wt.decodeDigit(s,c,f,wt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+N%10);for(let O of c)f+=O;N>=10&&(g|=1<<4-v),v!==4&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(l.length!==5)throw new G;let y=this.determineCheckDigit(g);if(Ii.extensionChecksum(l.toString())!==y)throw new G;return f}static extensionChecksum(s){let o=s.length,l=0;for(let c=o-2;c>=0;c-=2)l+=s.charAt(c).charCodeAt(0)-48;l*=3;for(let c=o-1;c>=0;c-=2)l+=s.charAt(c).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new G}static parseExtensionString(s){if(s.length!==5)return null;let o=Ii.parseExtension5String(s);return o==null?null:new Map([[ye.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(s.substring(1)),c=(l/100).toString(),d=l%100,f=d<10?"0"+d:d.toString();return o+c+"."+f}}class fo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,c),f=c.toString(),g=fo.parseExtensionString(f),y=[new we((l[0]+l[1])/2,s),new we(d,s)],v=new Ee(f,null,0,y,te.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&v.putAllMetadata(g),v}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f=o[1],g=0;for(let y=0;y<2&&f<d;y++){let v=wt.decodeDigit(s,c,f,wt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+v%10);for(let N of c)f+=N;v>=10&&(g|=1<<1-y),y!==1&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(l.length!==2)throw new G;if(parseInt(l.toString())%4!==g)throw new G;return f}static parseExtensionString(s){return s.length!==2?null:new Map([[ye.ISSUE_NUMBER,parseInt(s)]])}}class La{static decodeRow(s,o,l){let c=wt.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ii().decodeRow(s,o,c)}catch{return new fo().decodeRow(s,o,c)}}}La.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Xe extends wt{constructor(){super(),this.decodeRowStringBuffer="",Xe.L_AND_G_PATTERNS=Xe.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=Xe.L_PATTERNS[s-10],l=new Int32Array(o.length);for(let c=0;c<o.length;c++)l[c]=o[o.length-c-1];Xe.L_AND_G_PATTERNS[s]=l}}decodeRow(s,o,l){let c=Xe.findStartGuardPattern(o),d=l==null?null:l.get(L.NEED_RESULT_POINT_CALLBACK);if(d!=null){const ce=new we((c[0]+c[1])/2,s);d.foundPossibleResultPoint(ce)}let f=this.decodeMiddle(o,c,this.decodeRowStringBuffer),g=f.rowOffset,y=f.resultString;if(d!=null){const ce=new we(g,s);d.foundPossibleResultPoint(ce)}let v=this.decodeEnd(o,g);if(d!=null){const ce=new we((v[0]+v[1])/2,s);d.foundPossibleResultPoint(ce)}let N=v[1],O=N+(N-v[0]);if(O>=o.getSize()||!o.isRange(N,O,!1))throw new G;let D=y.toString();if(D.length<8)throw new M;if(!Xe.checkChecksum(D))throw new E;let U=(c[1]+c[0])/2,z=(v[1]+v[0])/2,$=this.getBarcodeFormat(),K=[new we(U,s),new we(z,s)],Z=new Ee(D,null,0,K,$,new Date().getTime()),fe=0;try{let ce=La.decodeRow(s,o,v[1]);Z.putMetadata(ye.UPC_EAN_EXTENSION,ce.getText()),Z.putAllMetadata(ce.getResultMetadata()),Z.addResultPoints(ce.getResultPoints()),fe=ce.getText().length}catch{}let he=l==null?null:l.get(L.ALLOWED_EAN_EXTENSIONS);if(he!=null){let ce=!1;for(let $e in he)if(fe.toString()===$e){ce=!0;break}if(!ce)throw new G}return Z}decodeEnd(s,o){return Xe.findGuardPattern(s,o,!1,Xe.START_END_PATTERN,new Int32Array(Xe.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Xe.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return Xe.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let c=o-1;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new M;l+=d}l*=3;for(let c=o-2;c>=0;c-=2){let d=s.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new M;l+=d}return(1e3-l)%10}}class yn extends Xe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f=o[1],g=0;for(let v=0;v<6&&f<d;v++){let N=Xe.decodeDigit(s,c,f,Xe.L_AND_G_PATTERNS);l+=String.fromCharCode(48+N%10);for(let O of c)f+=O;N>=10&&(g|=1<<5-v)}l=yn.determineFirstDigit(l,g),f=Xe.findGuardPattern(s,f,!0,Xe.MIDDLE_PATTERN,new Int32Array(Xe.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&f<d;v++){let N=Xe.decodeDigit(s,c,f,Xe.L_PATTERNS);l+=String.fromCharCode(48+N);for(let O of c)f+=O}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return te.EAN_13}static determineFirstDigit(s,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode(48+l)+s,s;throw new G}}yn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class wn extends Xe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f=o[1];for(let y=0;y<4&&f<d;y++){let v=Xe.decodeDigit(s,c,f,Xe.L_PATTERNS);l+=String.fromCharCode(48+v);for(let N of c)f+=N}f=Xe.findGuardPattern(s,f,!0,Xe.MIDDLE_PATTERN,new Int32Array(Xe.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<d;y++){let v=Xe.decodeDigit(s,c,f,Xe.L_PATTERNS);l+=String.fromCharCode(48+v);for(let N of c)f+=N}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return te.EAN_8}}class gc extends Xe{constructor(){super(...arguments),this.ean13Reader=new yn}getBarcodeFormat(){return te.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,l))}decodeMiddle(s,o,l){return this.ean13Reader.decodeMiddle(s,o,l)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let l=new Ee(o.substring(1),null,null,s.getResultPoints(),te.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new G}reset(){this.ean13Reader.reset()}}class Ne extends Xe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,l){const c=this.decodeMiddleCounters.map(v=>v);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const d=s.getSize();let f=o[1],g=0;for(let v=0;v<6&&f<d;v++){const N=Ne.decodeDigit(s,c,f,Ne.L_AND_G_PATTERNS);l+=String.fromCharCode(48+N%10);for(let O of c)f+=O;N>=10&&(g|=1<<5-v)}let y=Ne.determineNumSysAndCheckDigit(l,g);return{rowOffset:f,resultString:y}}decodeEnd(s,o){return Ne.findGuardPatternWithoutCounters(s,o,!0,Ne.MIDDLE_END_PATTERN)}checkChecksum(s){return Xe.checkChecksum(Ne.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){let d=String.fromCharCode(48+l),f=String.fromCharCode(48+c);return d+s+f}throw G.getNotFoundInstance()}getBarcodeFormat(){return te.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new ie;l.append(s.charAt(0));let c=o[5];switch(c){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(c),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(c);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}Ne.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ne.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Je extends yt{constructor(s){super();let o=s==null?null:s.get(L.POSSIBLE_FORMATS),l=[];n(o)?(l.push(new yn),l.push(new gc),l.push(new wn),l.push(new Ne)):(o.indexOf(te.EAN_13)>-1&&l.push(new yn),o.indexOf(te.UPC_A)>-1&&l.push(new gc),o.indexOf(te.EAN_8)>-1&&l.push(new wn),o.indexOf(te.UPC_E)>-1&&l.push(new Ne)),this.readers=l}decodeRow(s,o,l){for(let c of this.readers)try{const d=c.decodeRow(s,o,l),f=d.getBarcodeFormat()===te.EAN_13&&d.getText().charAt(0)==="0",g=l==null?null:l.get(L.POSSIBLE_FORMATS),y=g==null||g.includes(te.UPC_A);if(f&&y){const v=d.getRawBytes(),N=new Ee(d.getText().substring(1),v,v?v.length:null,d.getResultPoints(),te.UPC_A);return N.putAllMetadata(d.getResultMetadata()),N}return d}catch{}throw new G}reset(){for(let s of this.readers)s.reset()}}class Fe extends yt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let l=0;l<o.length;l++)if(yt.patternMatchVariance(s,o[l],Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE)return l;throw new G}static count(s){return Ve.sum(new Int32Array(s))}static increment(s,o){let l=0,c=o[0];for(let d=1;d<s.length;d++)o[d]>c&&(c=o[d],l=d);s[l]++}static decrement(s,o){let l=0,c=o[0];for(let d=1;d<s.length;d++)o[d]<c&&(c=o[d],l=d);s[l]--}static isFinderPattern(s){let o=s[0]+s[1],l=o+s[2]+s[3],c=o/l;if(c>=Fe.MIN_FINDER_PATTERN_RATIO&&c<=Fe.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let g of s)g>f&&(f=g),g<d&&(d=g);return f<10*d}return!1}}Fe.MAX_AVG_VARIANCE=.2,Fe.MAX_INDIVIDUAL_VARIANCE=.45,Fe.MIN_FINDER_PATTERN_RATIO=9.5/12,Fe.MAX_FINDER_PATTERN_RATIO=12.5/14;class Qt{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Qt))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class hr{constructor(s,o,l,c,d){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new we(l,d)),this.resultPoints.push(new we(c,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof hr))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class Wt{constructor(){}static getRSSvalue(s,o,l){let c=0;for(let y of s)c+=y;let d=0,f=0,g=s.length;for(let y=0;y<g-1;y++){let v;for(v=1,f|=1<<y;v<s[y];v++,f&=~(1<<y)){let N=Wt.combins(c-v-1,g-y-2);if(l&&f===0&&c-v-(g-y-1)>=g-y-1&&(N-=Wt.combins(c-v-(g-y),g-y-2)),g-y-1>1){let O=0;for(let D=c-v-(g-y-2);D>o;D--)O+=Wt.combins(c-v-D-1,g-y-3);N-=O*(g-1-y)}else c-v>o&&N--;d+=N}c-=v}return d}static combins(s,o){let l,c;s-o>o?(c=o,l=s-o):(c=s-o,l=o);let d=1,f=1;for(let g=s;g>l;g--)d*=g,f<=c&&(d/=f,f++);for(;f<=c;)d/=f,f++;return d}}class ls{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let l=12*o,c=new j(l),d=0,g=s[0].getRightChar().getValue();for(let y=11;y>=0;--y)g&1<<y&&c.set(d),d++;for(let y=1;y<s.length;++y){let v=s[y],N=v.getLeftChar().getValue();for(let O=11;O>=0;--O)N&1<<O&&c.set(d),d++;if(v.getRightChar()!=null){let O=v.getRightChar().getValue();for(let D=11;D>=0;--D)O&1<<D&&c.set(d),d++}}return c}}class Ht{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class nn{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Ir extends nn{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Ir.FNC1}}Ir.FNC1="$";class Ri extends nn{constructor(s,o,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class sn extends nn{constructor(s,o,l){if(super(s),o<0||o>10||l<0||l>10)throw new M;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===sn.FNC1}isSecondDigitFNC1(){return this.secondDigit===sn.FNC1}isAnyFNC1(){return this.firstDigit===sn.FNC1||this.secondDigit===sn.FNC1}}sn.FNC1=10;class ve{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new G;let o=s.substring(0,2);for(let d of ve.TWO_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===ve.VARIABLE_LENGTH?ve.processVariableAI(2,d[2],s):ve.processFixedAI(2,d[1],s);if(s.length<3)throw new G;let l=s.substring(0,3);for(let d of ve.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===ve.VARIABLE_LENGTH?ve.processVariableAI(3,d[2],s):ve.processFixedAI(3,d[1],s);for(let d of ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===ve.VARIABLE_LENGTH?ve.processVariableAI(4,d[2],s):ve.processFixedAI(4,d[1],s);if(s.length<4)throw new G;let c=s.substring(0,4);for(let d of ve.FOUR_DIGIT_DATA_LENGTH)if(d[0]===c)return d[1]===ve.VARIABLE_LENGTH?ve.processVariableAI(4,d[2],s):ve.processFixedAI(4,d[1],s);throw new G}static processFixedAI(s,o,l){if(l.length<s)throw new G;let c=l.substring(0,s);if(l.length<s+o)throw new G;let d=l.substring(s,s+o),f=l.substring(s+o),g="("+c+")"+d,y=ve.parseFieldsInGeneralPurpose(f);return y==null?g:g+y}static processVariableAI(s,o,l){let c=l.substring(0,s),d;l.length<s+o?d=l.length:d=s+o;let f=l.substring(s,d),g=l.substring(d),y="("+c+")"+f,v=ve.parseFieldsInGeneralPurpose(g);return v==null?y:y+v}}ve.VARIABLE_LENGTH=[],ve.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ve.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ve.VARIABLE_LENGTH,20],["22",ve.VARIABLE_LENGTH,29],["30",ve.VARIABLE_LENGTH,8],["37",ve.VARIABLE_LENGTH,8],["90",ve.VARIABLE_LENGTH,30],["91",ve.VARIABLE_LENGTH,30],["92",ve.VARIABLE_LENGTH,30],["93",ve.VARIABLE_LENGTH,30],["94",ve.VARIABLE_LENGTH,30],["95",ve.VARIABLE_LENGTH,30],["96",ve.VARIABLE_LENGTH,30],["97",ve.VARIABLE_LENGTH,3],["98",ve.VARIABLE_LENGTH,30],["99",ve.VARIABLE_LENGTH,30]],ve.THREE_DIGIT_DATA_LENGTH=[["240",ve.VARIABLE_LENGTH,30],["241",ve.VARIABLE_LENGTH,30],["242",ve.VARIABLE_LENGTH,6],["250",ve.VARIABLE_LENGTH,30],["251",ve.VARIABLE_LENGTH,30],["253",ve.VARIABLE_LENGTH,17],["254",ve.VARIABLE_LENGTH,20],["400",ve.VARIABLE_LENGTH,30],["401",ve.VARIABLE_LENGTH,30],["402",17],["403",ve.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ve.VARIABLE_LENGTH,20],["421",ve.VARIABLE_LENGTH,15],["422",3],["423",ve.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ve.VARIABLE_LENGTH,15],["391",ve.VARIABLE_LENGTH,18],["392",ve.VARIABLE_LENGTH,15],["393",ve.VARIABLE_LENGTH,18],["703",ve.VARIABLE_LENGTH,30]],ve.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ve.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ve.VARIABLE_LENGTH,20],["8003",ve.VARIABLE_LENGTH,30],["8004",ve.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ve.VARIABLE_LENGTH,30],["8008",ve.VARIABLE_LENGTH,12],["8018",18],["8020",ve.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ve.VARIABLE_LENGTH,70],["8200",ve.VARIABLE_LENGTH,70]];class ho{constructor(s){this.buffer=new ie,this.information=s}decodeAllCodes(s,o){let l=o,c=null;do{let d=this.decodeGeneralPurposeField(l,c),f=ve.parseFieldsInGeneralPurpose(d.getNewString());if(f!=null&&s.append(f),d.isRemaining()?c=""+d.getRemainingValue():c=null,l===d.getNewPosition())break;l=d.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(s,4);return d===0?new sn(this.information.getSize(),sn.FNC1,sn.FNC1):new sn(this.information.getSize(),d-1,sn.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),l=(o-8)/11,c=(o-8)%11;return new sn(s+7,l,c)}extractNumericValueFromBitArray(s,o){return ho.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,l){let c=0;for(let d=0;d<l;++d)s.get(o+d)&&(c|=1<<l-d-1);return c}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Ri(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Ri(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new Ri(this.current.getPosition(),this.buffer.toString()):o=new Ri(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Ht(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new Ri(this.current.getPosition(),this.buffer.toString());return new Ht(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ht(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Ri(this.current.getPosition(),this.buffer.toString());return new Ht(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ht(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Ri(this.current.getPosition(),this.buffer.toString());return new Ht(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ht(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,8);return c>=232&&c<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Ir(s+5,Ir.FNC1);if(o>=5&&o<15)return new Ir(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new Ir(s+7,""+(l+1));if(l>=90&&l<116)return new Ir(s+7,""+(l+7));let c=this.extractNumericValueFromBitArray(s,8),d;switch(c){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new M}return new Ir(s+8,d)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Ir(s+5,Ir.FNC1);if(o>=5&&o<15)return new Ir(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new Ir(s+6,""+(l+33));let c;switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new fr("Decoding invalid alphanumeric value: "+l)}return new Ir(s+6,c)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class Kd{constructor(s){this.information=s,this.generalDecoder=new ho(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Rr extends Kd{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,l)}encodeCompressedGtinWithoutAI(s,o,l){for(let c=0;c<4;++c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*c,10);d/100===0&&s.append("0"),d/10===0&&s.append("0"),s.append(d)}Rr.appendCheckDigit(s,l)}static appendCheckDigit(s,o){let l=0;for(let c=0;c<13;c++){let d=s.charAt(c+o).charCodeAt(0)-48;l+=c&1?d:3*d}l=10-l%10,l===10&&(l=0),s.append(l)}}Rr.GTIN_SIZE=40;class mo extends Rr{constructor(s){super(s)}parseInformation(){let s=new ie;s.append("(01)");let o=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(mo.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,mo.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,mo.HEADER_SIZE+44)}}mo.HEADER_SIZE=4;class xc extends Kd{constructor(s){super(s)}parseInformation(){let s=new ie;return this.getGeneralDecoder().decodeAllCodes(s,xc.HEADER_SIZE)}}xc.HEADER_SIZE=5;class yc extends Rr{constructor(s){super(s)}encodeCompressedWeight(s,o,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(s,c);let d=this.checkWeight(c),f=1e5;for(let g=0;g<5;++g)d/f===0&&s.append("0"),f/=10;s.append(d)}}class Vn extends yc{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Vn.HEADER_SIZE+yc.GTIN_SIZE+Vn.WEIGHT_SIZE)throw new G;let s=new ie;return this.encodeCompressedGtin(s,Vn.HEADER_SIZE),this.encodeCompressedWeight(s,Vn.HEADER_SIZE+yc.GTIN_SIZE,Vn.WEIGHT_SIZE),s.toString()}}Vn.HEADER_SIZE=5,Vn.WEIGHT_SIZE=15;class uE extends Vn{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class dE extends Vn{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class zn extends Rr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<zn.HEADER_SIZE+Rr.GTIN_SIZE)throw new G;let s=new ie;this.encodeCompressedGtin(s,zn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(zn.HEADER_SIZE+Rr.GTIN_SIZE,zn.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(zn.HEADER_SIZE+Rr.GTIN_SIZE+zn.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}zn.HEADER_SIZE=8,zn.LAST_DIGIT_SIZE=2;class br extends Rr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<br.HEADER_SIZE+Rr.GTIN_SIZE)throw new G;let s=new ie;this.encodeCompressedGtin(s,br.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(br.HEADER_SIZE+Rr.GTIN_SIZE,br.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(br.HEADER_SIZE+Rr.GTIN_SIZE+br.LAST_DIGIT_SIZE,br.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(br.HEADER_SIZE+Rr.GTIN_SIZE+br.LAST_DIGIT_SIZE+br.FIRST_THREE_DIGITS_SIZE,null);return s.append(c.getNewString()),s.toString()}}br.HEADER_SIZE=8,br.LAST_DIGIT_SIZE=2,br.FIRST_THREE_DIGITS_SIZE=10;class vt extends yc{constructor(s,o,l){super(s),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE+vt.DATE_SIZE)throw new G;let s=new ie;return this.encodeCompressedGtin(s,vt.HEADER_SIZE),this.encodeCompressedWeight(s,vt.HEADER_SIZE+vt.GTIN_SIZE,vt.WEIGHT_SIZE),this.encodeCompressedDate(s,vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,vt.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let c=l%32;l/=32;let d=l%12+1;l/=12;let f=l;f/10==0&&s.append("0"),s.append(f),d/10==0&&s.append("0"),s.append(d),c/10==0&&s.append("0"),s.append(c)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}vt.HEADER_SIZE=8,vt.WEIGHT_SIZE=20,vt.DATE_SIZE=16;function Nm(R){try{if(R.get(1))return new mo(R);if(!R.get(2))return new xc(R);switch(ho.extractNumericValueFromBitArray(R,1,4)){case 4:return new uE(R);case 5:return new dE(R)}switch(ho.extractNumericValueFromBitArray(R,1,5)){case 12:return new zn(R);case 13:return new br(R)}switch(ho.extractNumericValueFromBitArray(R,1,7)){case 56:return new vt(R,"310","11");case 57:return new vt(R,"320","11");case 58:return new vt(R,"310","13");case 59:return new vt(R,"320","13");case 60:return new vt(R,"310","15");case 61:return new vt(R,"320","15");case 62:return new vt(R,"310","17");case 63:return new vt(R,"320","17")}}catch(s){throw console.log(s),new fr("unknown decoder: "+R)}}class Ps{constructor(s,o,l,c){this.leftchar=s,this.rightchar=o,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof Ps?Ps.equalsOrNull(s.leftchar,o.leftchar)&&Ps.equalsOrNull(s.rightchar,o.rightchar)&&Ps.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:Ps.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Xd{constructor(s,o,l){this.pairs=s,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof Xd?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let l;return s.forEach((c,d)=>{o.forEach(f=>{c.getLeftChar().getValue()===f.getLeftChar().getValue()&&c.getRightChar().getValue()===f.getRightChar().getValue()&&c.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class oe extends Fe{constructor(s){super(...arguments),this.pairs=new Array(oe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,l){this.pairs.length=0,this.startFromEven=!1;try{return oe.constructResult(this.decodeRow2pairs(s,o))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,oe.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(d){if(d instanceof G){if(!this.pairs.length)throw new G;l=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(s,!1),c){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new G}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let l=o;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let f of s)this.pairs.push(f.getPairs());if(this.pairs.push(c.getPairs()),!oe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(s);d.push(c);try{return this.checkRows(d,l+1)}catch(f){this.verbose&&console.log(f)}}throw new G}static isValidSequence(s){for(let o of oe.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let l=!0;for(let c=0;c<s.length;c++)if(s[c].getFinderPattern().getValue()!=o[c]){l=!1;break}if(l)return!0}return!1}storeRow(s,o){let l=0,c=!1,d=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>s){d=f.isEquivalent(this.pairs);break}c=f.isEquivalent(this.pairs),l++}d||c||oe.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Xd(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let l of o)if(l.getPairs().length!==s.length){for(let c of l.getPairs())for(let d of s)if(Ps.equals(c,d))break}}static isPartialRow(s,o){for(let l of o){let c=!0;for(let d of s){let f=!1;for(let g of l.getPairs())if(d.equals(g)){f=!0;break}if(!f){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=ls.buildBitArray(s),c=Nm(o).parseInformation(),d=s[0].getFinderPattern().getResultPoints(),f=s[s.length-1].getFinderPattern().getResultPoints(),g=[d[0],d[1],f[0],f[1]];return new Ee(c,null,null,g,te.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let c=l.getChecksumPortion(),d=2;for(let g=1;g<this.pairs.size();++g){let y=this.pairs.get(g);c+=y.getLeftChar().getChecksumPortion(),d++;let v=y.getRightChar();v!=null&&(c+=v.getChecksumPortion(),d++)}return c%=211,211*(d-4)+c==o.getValue()}static getNextSecondBar(s,o){let l;return s.get(o)?(l=s.getNextUnset(o),l=s.getNextSet(l)):(l=s.getNextSet(o),l=s.getNextUnset(l)),l}retrieveNextPair(s,o,l){let c=o.length%2==0;this.startFromEven&&(c=!c);let d,f=!0,g=-1;do this.findNextPair(s,o,g),d=this.parseFoundFinderPattern(s,l,c),d==null?g=oe.getNextSecondBar(s,this.startEnd[0]):f=!1;while(f);let y=this.decodeDataCharacter(s,d,c,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new G;let v;try{v=this.decodeDataCharacter(s,d,c,!1)}catch(N){v=null,this.verbose&&console.log(N)}return new Ps(y,v,d,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),f;l>=0?f=l:this.isEmptyPair(o)?f=0:f=o[o.length-1].getFinderPattern().getStartEnd()[1];let g=o.length%2!=0;this.startFromEven&&(g=!g);let y=!1;for(;f<d&&(y=!s.get(f),!!y);)f++;let v=0,N=f;for(let O=f;O<d;O++)if(s.get(O)!=y)c[v]++;else{if(v==3){if(g&&oe.reverseCounters(c),oe.isFinderPattern(c)){this.startEnd[0]=N,this.startEnd[1]=O;return}g&&oe.reverseCounters(c),N+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,v--}else v++;c[v]=1,y=!y}throw new G}static reverseCounters(s){let o=s.length;for(let l=0;l<o/2;++l){let c=s[l];s[l]=s[o-l-1],s[o-l-1]=c}}parseFoundFinderPattern(s,o,l){let c,d,f;if(l){let v=this.startEnd[0]-1;for(;v>=0&&!s.get(v);)v--;v++,c=this.startEnd[0]-v,d=v,f=this.startEnd[1]}else d=this.startEnd[0],f=s.getNextUnset(this.startEnd[1]+1),c=f-this.startEnd[1];let g=this.getDecodeFinderCounters();A.arraycopy(g,0,g,1,g.length-1),g[0]=c;let y;try{y=this.parseFinderValue(g,oe.FINDER_PATTERNS)}catch{return null}return new hr(y,[d,f],d,f,o)}decodeDataCharacter(s,o,l,c){let d=this.getDataCharacterCounters();for(let at=0;at<d.length;at++)d[at]=0;if(c)oe.recordPatternInReverse(s,o.getStartEnd()[0],d);else{oe.recordPattern(s,o.getStartEnd()[1],d);for(let at=0,ir=d.length-1;at<ir;at++,ir--){let Vr=d[at];d[at]=d[ir],d[ir]=Vr}}let f=17,g=Ve.sum(new Int32Array(d))/f,y=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new G;let v=this.getOddCounts(),N=this.getEvenCounts(),O=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let at=0;at<d.length;at++){let ir=1*d[at]/g,Vr=ir+.5;if(Vr<1){if(ir<.3)throw new G;Vr=1}else if(Vr>8){if(ir>8.7)throw new G;Vr=8}let wo=at/2;at&1?(N[wo]=Vr,D[wo]=ir-Vr):(v[wo]=Vr,O[wo]=ir-Vr)}this.adjustOddEvenCounts(f);let U=4*o.getValue()+(l?0:2)+(c?0:1)-1,z=0,$=0;for(let at=v.length-1;at>=0;at--){if(oe.isNotA1left(o,l,c)){let ir=oe.WEIGHTS[U][2*at];$+=v[at]*ir}z+=v[at]}let K=0;for(let at=N.length-1;at>=0;at--)if(oe.isNotA1left(o,l,c)){let ir=oe.WEIGHTS[U][2*at+1];K+=N[at]*ir}let Z=$+K;if(z&1||z>13||z<4)throw new G;let fe=(13-z)/2,he=oe.SYMBOL_WIDEST[fe],ce=9-he,$e=Wt.getRSSvalue(v,he,!0),Be=Wt.getRSSvalue(N,ce,!1),Pr=oe.EVEN_TOTAL_SUBSET[fe],vn=oe.GSUM[fe],jr=$e*Pr+Be+vn;return new Qt(jr,Z)}static isNotA1left(s,o,l){return!(s.getValue()==0&&o&&l)}adjustOddEvenCounts(s){let o=Ve.sum(new Int32Array(this.getOddCounts())),l=Ve.sum(new Int32Array(this.getEvenCounts())),c=!1,d=!1;o>13?d=!0:o<4&&(c=!0);let f=!1,g=!1;l>13?g=!0:l<4&&(f=!0);let y=o+l-s,v=(o&1)==1,N=(l&1)==0;if(y==1)if(v){if(N)throw new G;d=!0}else{if(!N)throw new G;g=!0}else if(y==-1)if(v){if(N)throw new G;c=!0}else{if(!N)throw new G;f=!0}else if(y==0){if(v){if(!N)throw new G;o<l?(c=!0,g=!0):(d=!0,f=!0)}else if(N)throw new G}else throw new G;if(c){if(d)throw new G;oe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&oe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new G;oe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&oe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}oe.SYMBOL_WIDEST=[7,5,4,3,1],oe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],oe.GSUM=[0,348,1388,2948,3988],oe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],oe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],oe.FINDER_PAT_A=0,oe.FINDER_PAT_B=1,oe.FINDER_PAT_C=2,oe.FINDER_PAT_D=3,oe.FINDER_PAT_E=4,oe.FINDER_PAT_F=5,oe.FINDER_PATTERN_SEQUENCES=[[oe.FINDER_PAT_A,oe.FINDER_PAT_A],[oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B],[oe.FINDER_PAT_A,oe.FINDER_PAT_C,oe.FINDER_PAT_B,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_C],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F]],oe.MAX_PAIRS=11;class fE extends Qt{constructor(s,o,l){super(s,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class It extends Fe{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,l){const c=this.decodePair(o,!1,s,l);It.addOrTally(this.possibleLeftPairs,c),o.reverse();let d=this.decodePair(o,!0,s,l);It.addOrTally(this.possibleRightPairs,d),o.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&It.checkChecksum(f,g))return It.constructResult(f,g)}throw new G}static addOrTally(s,o){if(o==null)return;let l=!1;for(let c of s)if(c.getValue()===o.getValue()){c.incrementCount(),l=!0;break}l||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let l=4537077*s.getValue()+o.getValue(),c=new String(l).toString(),d=new ie;for(let v=13-c.length;v>0;v--)d.append("0");d.append(c);let f=0;for(let v=0;v<13;v++){let N=d.charAt(v).charCodeAt(0)-48;f+=v&1?N:3*N}f=10-f%10,f===10&&(f=0),d.append(f.toString());let g=s.getFinderPattern().getResultPoints(),y=o.getFinderPattern().getResultPoints();return new Ee(d.toString(),null,0,[g[0],g[1],y[0],y[1]],te.RSS_14,new Date().getTime())}static checkChecksum(s,o){let l=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,c=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(s,o,l,c){try{let d=this.findFinderPattern(s,o),f=this.parseFoundFinderPattern(s,l,o,d),g=c==null?null:c.get(L.NEED_RESULT_POINT_CALLBACK);if(g!=null){let N=(d[0]+d[1])/2;o&&(N=s.getSize()-1-N),g.foundPossibleResultPoint(new we(N,l))}let y=this.decodeDataCharacter(s,f,!0),v=this.decodeDataCharacter(s,f,!1);return new fE(1597*y.getValue()+v.getValue(),y.getChecksumPortion()+4*v.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(s,o,l){let c=this.getDataCharacterCounters();for(let K=0;K<c.length;K++)c[K]=0;if(l)yt.recordPatternInReverse(s,o.getStartEnd()[0],c);else{yt.recordPattern(s,o.getStartEnd()[1]+1,c);for(let K=0,Z=c.length-1;K<Z;K++,Z--){let fe=c[K];c[K]=c[Z],c[Z]=fe}}let d=l?16:15,f=Ve.sum(new Int32Array(c))/d,g=this.getOddCounts(),y=this.getEvenCounts(),v=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let K=0;K<c.length;K++){let Z=c[K]/f,fe=Math.floor(Z+.5);fe<1?fe=1:fe>8&&(fe=8);let he=Math.floor(K/2);K&1?(y[he]=fe,N[he]=Z-fe):(g[he]=fe,v[he]=Z-fe)}this.adjustOddEvenCounts(l,d);let O=0,D=0;for(let K=g.length-1;K>=0;K--)D*=9,D+=g[K],O+=g[K];let U=0,z=0;for(let K=y.length-1;K>=0;K--)U*=9,U+=y[K],z+=y[K];let $=D+3*U;if(l){if(O&1||O>12||O<4)throw new G;let K=(12-O)/2,Z=It.OUTSIDE_ODD_WIDEST[K],fe=9-Z,he=Wt.getRSSvalue(g,Z,!1),ce=Wt.getRSSvalue(y,fe,!0),$e=It.OUTSIDE_EVEN_TOTAL_SUBSET[K],Be=It.OUTSIDE_GSUM[K];return new Qt(he*$e+ce+Be,$)}else{if(z&1||z>10||z<4)throw new G;let K=(10-z)/2,Z=It.INSIDE_ODD_WIDEST[K],fe=9-Z,he=Wt.getRSSvalue(g,Z,!0),ce=Wt.getRSSvalue(y,fe,!1),$e=It.INSIDE_ODD_TOTAL_SUBSET[K],Be=It.INSIDE_GSUM[K];return new Qt(ce*$e+he+Be,$)}}findFinderPattern(s,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=s.getSize(),d=!1,f=0;for(;f<c&&(d=!s.get(f),o!==d);)f++;let g=0,y=f;for(let v=f;v<c;v++)if(s.get(v)!==d)l[g]++;else{if(g===3){if(Fe.isFinderPattern(l))return[y,v];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,g--}else g++;l[g]=1,d=!d}throw new G}parseFoundFinderPattern(s,o,l,c){let d=s.get(c[0]),f=c[0]-1;for(;f>=0&&d!==s.get(f);)f--;f++;const g=c[0]-f,y=this.getDecodeFinderCounters(),v=new Int32Array(y.length);A.arraycopy(y,0,v,1,y.length-1),v[0]=g;const N=this.parseFinderValue(v,It.FINDER_PATTERNS);let O=f,D=c[1];return l&&(O=s.getSize()-1-O,D=s.getSize()-1-D),new hr(N,[f,c[1]],O,D,o)}adjustOddEvenCounts(s,o){let l=Ve.sum(new Int32Array(this.getOddCounts())),c=Ve.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,g=!1,y=!1;s?(l>12?f=!0:l<4&&(d=!0),c>12?y=!0:c<4&&(g=!0)):(l>11?f=!0:l<5&&(d=!0),c>10?y=!0:c<4&&(g=!0));let v=l+c-o,N=(l&1)===(s?1:0),O=(c&1)===1;if(v===1)if(N){if(O)throw new G;f=!0}else{if(!O)throw new G;y=!0}else if(v===-1)if(N){if(O)throw new G;d=!0}else{if(!O)throw new G;g=!0}else if(v===0){if(N){if(!O)throw new G;l<c?(d=!0,y=!0):(f=!0,g=!0)}else if(O)throw new G}else throw new G;if(d){if(f)throw new G;Fe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Fe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new G;Fe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Fe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}It.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],It.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],It.OUTSIDE_GSUM=[0,161,961,2015,2715],It.INSIDE_GSUM=[0,336,1036,1516],It.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],It.INSIDE_ODD_WIDEST=[2,4,6,8],It.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class po extends yt{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const l=s?s.get(L.POSSIBLE_FORMATS):null,c=s&&s.get(L.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(te.EAN_13)||l.includes(te.UPC_A)||l.includes(te.EAN_8)||l.includes(te.UPC_E))&&this.readers.push(new Je(s)),l.includes(te.CODE_39)&&this.readers.push(new kt(c)),l.includes(te.CODE_128)&&this.readers.push(new me),l.includes(te.ITF)&&this.readers.push(new qe),l.includes(te.RSS_14)&&this.readers.push(new It),l.includes(te.RSS_EXPANDED)&&this.readers.push(new oe(this.verbose))):(this.readers.push(new Je(s)),this.readers.push(new kt),this.readers.push(new Je(s)),this.readers.push(new me),this.readers.push(new qe),this.readers.push(new It),this.readers.push(new oe(this.verbose)))}decodeRow(s,o,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(s,o,l)}catch{}throw new G}reset(){this.readers.forEach(s=>s.reset())}}class hE extends Oe{constructor(s=500,o){super(new po(o),s,o)}}class nt{constructor(s,o,l){this.ecCodewords=s,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class tt{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ge{constructor(s,o,l,c,d,f){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=d,this.ecBlocks=f;let g=0;const y=f.getECCodewords(),v=f.getECBlocks();for(let N of v)g+=N.getCount()*(N.getDataCodewords()+y);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new M;for(let l of Ge.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===o)return l;throw new M}toString(){return""+this.versionNumber}static buildVersions(){return[new Ge(1,10,10,8,8,new nt(5,new tt(1,3))),new Ge(2,12,12,10,10,new nt(7,new tt(1,5))),new Ge(3,14,14,12,12,new nt(10,new tt(1,8))),new Ge(4,16,16,14,14,new nt(12,new tt(1,12))),new Ge(5,18,18,16,16,new nt(14,new tt(1,18))),new Ge(6,20,20,18,18,new nt(18,new tt(1,22))),new Ge(7,22,22,20,20,new nt(20,new tt(1,30))),new Ge(8,24,24,22,22,new nt(24,new tt(1,36))),new Ge(9,26,26,24,24,new nt(28,new tt(1,44))),new Ge(10,32,32,14,14,new nt(36,new tt(1,62))),new Ge(11,36,36,16,16,new nt(42,new tt(1,86))),new Ge(12,40,40,18,18,new nt(48,new tt(1,114))),new Ge(13,44,44,20,20,new nt(56,new tt(1,144))),new Ge(14,48,48,22,22,new nt(68,new tt(1,174))),new Ge(15,52,52,24,24,new nt(42,new tt(2,102))),new Ge(16,64,64,14,14,new nt(56,new tt(2,140))),new Ge(17,72,72,16,16,new nt(36,new tt(4,92))),new Ge(18,80,80,18,18,new nt(48,new tt(4,114))),new Ge(19,88,88,20,20,new nt(56,new tt(4,144))),new Ge(20,96,96,22,22,new nt(68,new tt(4,174))),new Ge(21,104,104,24,24,new nt(56,new tt(6,136))),new Ge(22,120,120,18,18,new nt(68,new tt(6,175))),new Ge(23,132,132,20,20,new nt(62,new tt(8,163))),new Ge(24,144,144,22,22,new nt(62,new tt(8,156),new tt(2,155))),new Ge(25,8,18,6,16,new nt(7,new tt(1,5))),new Ge(26,8,32,6,14,new nt(11,new tt(1,10))),new Ge(27,12,26,10,24,new nt(14,new tt(1,16))),new Ge(28,12,36,10,16,new nt(18,new tt(1,22))),new Ge(29,16,36,14,16,new nt(24,new tt(1,32))),new Ge(30,16,48,14,22,new nt(28,new tt(1,49)))]}}Ge.VERSIONS=Ge.buildVersions();class Yd{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new M;this.version=Yd.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),l=s.getWidth();return Ge.getVersionForDimensions(o,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,c=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let g=!1,y=!1,v=!1,N=!1;do if(l===d&&c===0&&!g)s[o++]=this.readCorner1(d,f)&255,l-=2,c+=2,g=!0;else if(l===d-2&&c===0&&f&3&&!y)s[o++]=this.readCorner2(d,f)&255,l-=2,c+=2,y=!0;else if(l===d+4&&c===2&&!(f&7)&&!v)s[o++]=this.readCorner3(d,f)&255,l-=2,c+=2,v=!0;else if(l===d-2&&c===0&&(f&7)===4&&!N)s[o++]=this.readCorner4(d,f)&255,l-=2,c+=2,N=!0;else{do l<d&&c>=0&&!this.readMappingMatrix.get(c,l)&&(s[o++]=this.readUtah(l,c,d,f)&255),l-=2,c+=2;while(l>=0&&c<f);l+=1,c+=3;do l>=0&&c<f&&!this.readMappingMatrix.get(c,l)&&(s[o++]=this.readUtah(l,c,d,f)&255),l+=2,c-=2;while(l<d&&c>=0);l+=3,c+=1}while(l<d||c<f);if(o!==this.version.getTotalCodewords())throw new M;return s}readModule(s,o,l,c){return s<0&&(s+=l,o+=4-(l+4&7)),o<0&&(o+=c,s+=4-(c+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,l,c){let d=0;return this.readModule(s-2,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s-2,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s-1,o,l,c)&&(d|=1),d<<=1,this.readModule(s,o-2,l,c)&&(d|=1),d<<=1,this.readModule(s,o-1,l,c)&&(d|=1),d<<=1,this.readModule(s,o,l,c)&&(d|=1),d}readCorner1(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,1,s,o)&&(l|=1),l<<=1,this.readModule(s-1,2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}readCorner2(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-4,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner3(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-3,s,o)&&(l|=1),l<<=1,this.readModule(1,o-2,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner4(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new b("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=o/c|0,g=l/d|0,y=f*c,v=g*d,N=new re(v,y);for(let O=0;O<f;++O){const D=O*c;for(let U=0;U<g;++U){const z=U*d;for(let $=0;$<c;++$){const K=O*(c+2)+1+$,Z=D+$;for(let fe=0;fe<d;++fe){const he=U*(d+2)+1+fe;if(s.get(he,K)){const ce=z+fe;N.set(ce,Z)}}}}}return N}}class Qd{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const l=o.getECBlocks();let c=0;const d=l.getECBlocks();for(let $ of d)c+=$.getCount();const f=new Array(c);let g=0;for(let $ of d)for(let K=0;K<$.getCount();K++){const Z=$.getDataCodewords(),fe=l.getECCodewords()+Z;f[g++]=new Qd(Z,new Uint8Array(fe))}const v=f[0].codewords.length-l.getECCodewords(),N=v-1;let O=0;for(let $=0;$<N;$++)for(let K=0;K<g;K++)f[K].codewords[$]=s[O++];const D=o.getVersionNumber()===24,U=D?8:g;for(let $=0;$<U;$++)f[$].codewords[v-1]=s[O++];const z=f[0].codewords.length;for(let $=v;$<z;$++)for(let K=0;K<g;K++){const Z=D?(K+8)%g:K,fe=D&&Z>7?$-1:$;f[Z].codewords[fe]=s[O++]}if(O!==s.length)throw new b;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Zd{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new b(""+s);let o=0,l=this.bitOffset,c=this.byteOffset;const d=this.bytes;if(l>0){const f=8-l,g=s<f?s:f,y=f-g,v=255>>8-g<<y;o=(d[c]&v)>>y,s-=g,l+=g,l===8&&(l=0,c++)}if(s>0){for(;s>=8;)o=o<<8|d[c]&255,c++,s-=8;if(s>0){const f=8-s,g=255>>f<<f;o=o<<s|(d[c]&g)>>f,l+=s}}return this.bitOffset=l,this.byteOffset=c,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var $t;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})($t||($t={}));class js{static decode(s){const o=new Zd(s),l=new ie,c=new ie,d=new Array;let f=$t.ASCII_ENCODE;do if(f===$t.ASCII_ENCODE)f=this.decodeAsciiSegment(o,l,c);else{switch(f){case $t.C40_ENCODE:this.decodeC40Segment(o,l);break;case $t.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case $t.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case $t.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case $t.BASE256_ENCODE:this.decodeBase256Segment(o,l,d);break;default:throw new M}f=$t.ASCII_ENCODE}while(f!==$t.PAD_ENCODE&&o.available()>0);return c.length()>0&&l.append(c.toString()),new gt(s,l.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(s,o,l){let c=!1;do{let d=s.readBits(8);if(d===0)throw new M;if(d<=128)return c&&(d+=128),o.append(String.fromCharCode(d-1)),$t.ASCII_ENCODE;if(d===129)return $t.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&o.append("0"),o.append(""+f)}else switch(d){case 230:return $t.C40_ENCODE;case 231:return $t.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return $t.ANSIX12_ENCODE;case 239:return $t.TEXT_ENCODE;case 240:return $t.EDIFACT_ENCODE;case 241:break;default:if(d!==254||s.available()!==0)throw new M;break}}while(s.available()>0);return $t.ASCII_ENCODE}static decodeC40Segment(s,o){let l=!1;const c=[];let d=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let g=0;g<3;g++){const y=c[g];switch(d){case 0:if(y<3)d=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else throw new M;break;case 1:l?(o.append(String.fromCharCode(y+128)),l=!1):o.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else switch(y){case 27:o.append("");break;case 30:l=!0;break;default:throw new M}d=0;break;case 3:l?(o.append(String.fromCharCode(y+224)),l=!1):o.append(String.fromCharCode(y+96)),d=0;break;default:throw new M}}}while(s.available()>0)}static decodeTextSegment(s,o){let l=!1,c=[],d=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let g=0;g<3;g++){const y=c[g];switch(d){case 0:if(y<3)d=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else throw new M;break;case 1:l?(o.append(String.fromCharCode(y+128)),l=!1):o.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else switch(y){case 27:o.append("");break;case 30:l=!0;break;default:throw new M}d=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v),d=0}else throw new M;break;default:throw new M}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const l=[];do{if(s.available()===8)return;const c=s.readBits(8);if(c===254)return;this.parseTwoBytes(c,s.readBits(8),l);for(let d=0;d<3;d++){const f=l[d];switch(f){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(f<14)o.append(String.fromCharCode(f+44));else if(f<40)o.append(String.fromCharCode(f+51));else throw new M;break}}}while(s.available()>0)}static parseTwoBytes(s,o,l){let c=(s<<8)+o-1,d=Math.floor(c/1600);l[0]=d,c-=d*1600,d=Math.floor(c/40),l[1]=d,l[2]=c-d*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let c=s.readBits(6);if(c===31){const d=8-s.getBitOffset();d!==8&&s.readBits(d);return}c&32||(c|=64),o.append(String.fromCharCode(c))}}while(s.available()>0)}static decodeBase256Segment(s,o,l){let c=1+s.getByteOffset();const d=this.unrandomize255State(s.readBits(8),c++);let f;if(d===0?f=s.available()/8|0:d<250?f=d:f=250*(d-249)+this.unrandomize255State(s.readBits(8),c++),f<0)throw new M;const g=new Uint8Array(f);for(let y=0;y<f;y++){if(s.available()<8)throw new M;g[y]=this.unrandomize255State(s.readBits(8),c++)}l.push(g);try{o.append(H.decode(g,q.ISO88591))}catch(y){throw new fr("Platform does not support required encoding: "+y.message)}}static unrandomize255State(s,o){const l=149*o%255+1,c=s-l;return c>=0?c:c+256}}js.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],js.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],js.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],js.TEXT_SHIFT2_SET_CHARS=js.C40_SHIFT2_SET_CHARS,js.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class mE{constructor(){this.rsDecoder=new rn(ke.DATA_MATRIX_FIELD_256)}decode(s){const o=new Yd(s),l=o.getVersion(),c=o.readCodewords(),d=Qd.getDataBlocks(c,l);let f=0;for(let v of d)f+=v.getNumDataCodewords();const g=new Uint8Array(f),y=d.length;for(let v=0;v<y;v++){const N=d[v],O=N.getCodewords(),D=N.getNumDataCodewords();this.correctErrors(O,D);for(let U=0;U<D;U++)g[U*y+v]=O[U]}return js.decode(g)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new E}for(let c=0;c<o;c++)s[c]=l[c]}}class Lt{constructor(s){this.image=s,this.rectangleDetector=new xn(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new G;o=this.shiftToModuleCenter(o);const l=o[0],c=o[1],d=o[2],f=o[3];let g=this.transitionsBetween(l,f)+1,y=this.transitionsBetween(d,f)+1;(g&1)===1&&(g+=1),(y&1)===1&&(y+=1),4*g<7*y&&4*y<7*g&&(g=y=Math.max(g,y));let v=Lt.sampleGrid(this.image,l,c,d,f,g,y);return new Ti(v,[l,c,d,f])}static shiftPoint(s,o,l){let c=(o.getX()-s.getX())/(l+1),d=(o.getY()-s.getY())/(l+1);return new we(s.getX()+c,s.getY()+d)}static moveAway(s,o,l){let c=s.getX(),d=s.getY();return c<o?c-=1:c+=1,d<l?d-=1:d+=1,new we(c,d)}detectSolid1(s){let o=s[0],l=s[1],c=s[3],d=s[2],f=this.transitionsBetween(o,l),g=this.transitionsBetween(l,c),y=this.transitionsBetween(c,d),v=this.transitionsBetween(d,o),N=f,O=[d,o,l,c];return N>g&&(N=g,O[0]=o,O[1]=l,O[2]=c,O[3]=d),N>y&&(N=y,O[0]=l,O[1]=c,O[2]=d,O[3]=o),N>v&&(O[0]=c,O[1]=d,O[2]=o,O[3]=l),O}detectSolid2(s){let o=s[0],l=s[1],c=s[2],d=s[3],f=this.transitionsBetween(o,d),g=Lt.shiftPoint(l,c,(f+1)*4),y=Lt.shiftPoint(c,l,(f+1)*4),v=this.transitionsBetween(g,o),N=this.transitionsBetween(y,d);return v<N?(s[0]=o,s[1]=l,s[2]=c,s[3]=d):(s[0]=l,s[1]=c,s[2]=d,s[3]=o),s}correctTopRight(s){let o=s[0],l=s[1],c=s[2],d=s[3],f=this.transitionsBetween(o,d),g=this.transitionsBetween(l,d),y=Lt.shiftPoint(o,l,(g+1)*4),v=Lt.shiftPoint(c,l,(f+1)*4);f=this.transitionsBetween(y,d),g=this.transitionsBetween(v,d);let N=new we(d.getX()+(c.getX()-l.getX())/(f+1),d.getY()+(c.getY()-l.getY())/(f+1)),O=new we(d.getX()+(o.getX()-l.getX())/(g+1),d.getY()+(o.getY()-l.getY())/(g+1));if(!this.isValid(N))return this.isValid(O)?O:null;if(!this.isValid(O))return N;let D=this.transitionsBetween(y,N)+this.transitionsBetween(v,N),U=this.transitionsBetween(y,O)+this.transitionsBetween(v,O);return D>U?N:O}shiftToModuleCenter(s){let o=s[0],l=s[1],c=s[2],d=s[3],f=this.transitionsBetween(o,d)+1,g=this.transitionsBetween(c,d)+1,y=Lt.shiftPoint(o,l,g*4),v=Lt.shiftPoint(c,l,f*4);f=this.transitionsBetween(y,d)+1,g=this.transitionsBetween(v,d)+1,(f&1)===1&&(f+=1),(g&1)===1&&(g+=1);let N=(o.getX()+l.getX()+c.getX()+d.getX())/4,O=(o.getY()+l.getY()+c.getY()+d.getY())/4;o=Lt.moveAway(o,N,O),l=Lt.moveAway(l,N,O),c=Lt.moveAway(c,N,O),d=Lt.moveAway(d,N,O);let D,U;return y=Lt.shiftPoint(o,l,g*4),y=Lt.shiftPoint(y,d,f*4),D=Lt.shiftPoint(l,o,g*4),D=Lt.shiftPoint(D,c,f*4),v=Lt.shiftPoint(c,d,g*4),v=Lt.shiftPoint(v,l,f*4),U=Lt.shiftPoint(d,c,g*4),U=Lt.shiftPoint(U,o,f*4),[y,D,v,U]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,l,c,d,f,g){return Un.getInstance().sampleGrid(s,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,o.getX(),o.getY(),d.getX(),d.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(s,o){let l=Math.trunc(s.getX()),c=Math.trunc(s.getY()),d=Math.trunc(o.getX()),f=Math.trunc(o.getY()),g=Math.abs(f-c)>Math.abs(d-l);if(g){let $=l;l=c,c=$,$=d,d=f,f=$}let y=Math.abs(d-l),v=Math.abs(f-c),N=-y/2,O=c<f?1:-1,D=l<d?1:-1,U=0,z=this.image.get(g?c:l,g?l:c);for(let $=l,K=c;$!==d;$+=D){let Z=this.image.get(g?K:$,g?$:K);if(Z!==z&&(U++,z=Z),N+=v,N>0){if(K===f)break;K+=O,N-=y}}return U}}class Ds{constructor(){this.decoder=new mE}decode(s,o=null){let l,c;if(o!=null&&o.has(L.PURE_BARCODE)){const v=Ds.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(v),c=Ds.NO_POINTS}else{const v=new Lt(s.getBlackMatrix()).detect();l=this.decoder.decode(v.getBits()),c=v.getPoints()}const d=l.getRawBytes(),f=new Ee(l.getText(),d,8*d.length,c,te.DATA_MATRIX,A.currentTimeMillis()),g=l.getByteSegments();g!=null&&f.putMetadata(ye.BYTE_SEGMENTS,g);const y=l.getECLevel();return y!=null&&f.putMetadata(ye.ERROR_CORRECTION_LEVEL,y),f}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o==null||l==null)throw new G;const c=this.moduleSize(o,s);let d=o[1];const f=l[1];let g=o[0];const v=(l[0]-g+1)/c,N=(f-d+1)/c;if(v<=0||N<=0)throw new G;const O=c/2;d+=O,g+=O;const D=new re(v,N);for(let U=0;U<N;U++){const z=d+U*c;for(let $=0;$<v;$++)s.get(g+$*c,z)&&D.set($,U)}return D}static moduleSize(s,o){const l=o.getWidth();let c=s[0];const d=s[1];for(;c<l&&o.get(c,d);)c++;if(c===l)throw new G;const f=c-s[0];if(f===0)throw new G;return f}}Ds.NO_POINTS=[];class pE extends Oe{constructor(s=500){super(new Ds,s)}}var go;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(go||(go={}));class lt{constructor(s,o,l){this.value=s,this.stringValue=o,this.bits=l,lt.FOR_BITS.set(l,this),lt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return lt.L;case"M":return lt.M;case"Q":return lt.Q;case"H":return lt.H;default:throw new w(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof lt))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=lt.FOR_BITS.size)throw new b;return lt.FOR_BITS.get(s)}}lt.FOR_BITS=new Map,lt.FOR_VALUE=new Map,lt.L=new lt(go.L,"L",1),lt.M=new lt(go.M,"M",0),lt.Q=new lt(go.Q,"Q",3),lt.H=new lt(go.H,"H",2);class mr{constructor(s){this.errorCorrectionLevel=lt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return _.bitCount(s^o)}static decodeFormatInformation(s,o){const l=mr.doDecodeFormatInformation(s,o);return l!==null?l:mr.doDecodeFormatInformation(s^mr.FORMAT_INFO_MASK_QR,o^mr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let l=Number.MAX_SAFE_INTEGER,c=0;for(const d of mr.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===s||f===o)return new mr(d[1]);let g=mr.numBitsDiffering(s,f);g<l&&(c=d[1],l=g),s!==o&&(g=mr.numBitsDiffering(o,f),g<l&&(c=d[1],l=g))}return l<=3?new mr(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof mr))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}mr.FORMAT_INFO_MASK_QR=21522,mr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class X{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const l of o)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Se{constructor(s,o,...l){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=l;let c=0;const d=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const g of f)c+=g.getCount()*(g.getDataCodewords()+d);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new M;try{return this.getVersionForNumber((s-17)/4)}catch{throw new M}}static getVersionForNumber(s){if(s<1||s>40)throw new b;return Se.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<Se.VERSION_DECODE_INFO.length;c++){const d=Se.VERSION_DECODE_INFO[c];if(d===s)return Se.getVersionForNumber(c+7);const f=mr.numBitsDiffering(s,d);f<o&&(l=c+7,o=f)}return o<=3?Se.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new re(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const d=this.alignmentPatternCenters[c]-2;for(let f=0;f<l;f++)c===0&&(f===0||f===l-1)||c===l-1&&f===0||o.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}Se.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Se.VERSIONS=[new Se(1,new Int32Array(0),new X(7,new B(1,19)),new X(10,new B(1,16)),new X(13,new B(1,13)),new X(17,new B(1,9))),new Se(2,Int32Array.from([6,18]),new X(10,new B(1,34)),new X(16,new B(1,28)),new X(22,new B(1,22)),new X(28,new B(1,16))),new Se(3,Int32Array.from([6,22]),new X(15,new B(1,55)),new X(26,new B(1,44)),new X(18,new B(2,17)),new X(22,new B(2,13))),new Se(4,Int32Array.from([6,26]),new X(20,new B(1,80)),new X(18,new B(2,32)),new X(26,new B(2,24)),new X(16,new B(4,9))),new Se(5,Int32Array.from([6,30]),new X(26,new B(1,108)),new X(24,new B(2,43)),new X(18,new B(2,15),new B(2,16)),new X(22,new B(2,11),new B(2,12))),new Se(6,Int32Array.from([6,34]),new X(18,new B(2,68)),new X(16,new B(4,27)),new X(24,new B(4,19)),new X(28,new B(4,15))),new Se(7,Int32Array.from([6,22,38]),new X(20,new B(2,78)),new X(18,new B(4,31)),new X(18,new B(2,14),new B(4,15)),new X(26,new B(4,13),new B(1,14))),new Se(8,Int32Array.from([6,24,42]),new X(24,new B(2,97)),new X(22,new B(2,38),new B(2,39)),new X(22,new B(4,18),new B(2,19)),new X(26,new B(4,14),new B(2,15))),new Se(9,Int32Array.from([6,26,46]),new X(30,new B(2,116)),new X(22,new B(3,36),new B(2,37)),new X(20,new B(4,16),new B(4,17)),new X(24,new B(4,12),new B(4,13))),new Se(10,Int32Array.from([6,28,50]),new X(18,new B(2,68),new B(2,69)),new X(26,new B(4,43),new B(1,44)),new X(24,new B(6,19),new B(2,20)),new X(28,new B(6,15),new B(2,16))),new Se(11,Int32Array.from([6,30,54]),new X(20,new B(4,81)),new X(30,new B(1,50),new B(4,51)),new X(28,new B(4,22),new B(4,23)),new X(24,new B(3,12),new B(8,13))),new Se(12,Int32Array.from([6,32,58]),new X(24,new B(2,92),new B(2,93)),new X(22,new B(6,36),new B(2,37)),new X(26,new B(4,20),new B(6,21)),new X(28,new B(7,14),new B(4,15))),new Se(13,Int32Array.from([6,34,62]),new X(26,new B(4,107)),new X(22,new B(8,37),new B(1,38)),new X(24,new B(8,20),new B(4,21)),new X(22,new B(12,11),new B(4,12))),new Se(14,Int32Array.from([6,26,46,66]),new X(30,new B(3,115),new B(1,116)),new X(24,new B(4,40),new B(5,41)),new X(20,new B(11,16),new B(5,17)),new X(24,new B(11,12),new B(5,13))),new Se(15,Int32Array.from([6,26,48,70]),new X(22,new B(5,87),new B(1,88)),new X(24,new B(5,41),new B(5,42)),new X(30,new B(5,24),new B(7,25)),new X(24,new B(11,12),new B(7,13))),new Se(16,Int32Array.from([6,26,50,74]),new X(24,new B(5,98),new B(1,99)),new X(28,new B(7,45),new B(3,46)),new X(24,new B(15,19),new B(2,20)),new X(30,new B(3,15),new B(13,16))),new Se(17,Int32Array.from([6,30,54,78]),new X(28,new B(1,107),new B(5,108)),new X(28,new B(10,46),new B(1,47)),new X(28,new B(1,22),new B(15,23)),new X(28,new B(2,14),new B(17,15))),new Se(18,Int32Array.from([6,30,56,82]),new X(30,new B(5,120),new B(1,121)),new X(26,new B(9,43),new B(4,44)),new X(28,new B(17,22),new B(1,23)),new X(28,new B(2,14),new B(19,15))),new Se(19,Int32Array.from([6,30,58,86]),new X(28,new B(3,113),new B(4,114)),new X(26,new B(3,44),new B(11,45)),new X(26,new B(17,21),new B(4,22)),new X(26,new B(9,13),new B(16,14))),new Se(20,Int32Array.from([6,34,62,90]),new X(28,new B(3,107),new B(5,108)),new X(26,new B(3,41),new B(13,42)),new X(30,new B(15,24),new B(5,25)),new X(28,new B(15,15),new B(10,16))),new Se(21,Int32Array.from([6,28,50,72,94]),new X(28,new B(4,116),new B(4,117)),new X(26,new B(17,42)),new X(28,new B(17,22),new B(6,23)),new X(30,new B(19,16),new B(6,17))),new Se(22,Int32Array.from([6,26,50,74,98]),new X(28,new B(2,111),new B(7,112)),new X(28,new B(17,46)),new X(30,new B(7,24),new B(16,25)),new X(24,new B(34,13))),new Se(23,Int32Array.from([6,30,54,78,102]),new X(30,new B(4,121),new B(5,122)),new X(28,new B(4,47),new B(14,48)),new X(30,new B(11,24),new B(14,25)),new X(30,new B(16,15),new B(14,16))),new Se(24,Int32Array.from([6,28,54,80,106]),new X(30,new B(6,117),new B(4,118)),new X(28,new B(6,45),new B(14,46)),new X(30,new B(11,24),new B(16,25)),new X(30,new B(30,16),new B(2,17))),new Se(25,Int32Array.from([6,32,58,84,110]),new X(26,new B(8,106),new B(4,107)),new X(28,new B(8,47),new B(13,48)),new X(30,new B(7,24),new B(22,25)),new X(30,new B(22,15),new B(13,16))),new Se(26,Int32Array.from([6,30,58,86,114]),new X(28,new B(10,114),new B(2,115)),new X(28,new B(19,46),new B(4,47)),new X(28,new B(28,22),new B(6,23)),new X(30,new B(33,16),new B(4,17))),new Se(27,Int32Array.from([6,34,62,90,118]),new X(30,new B(8,122),new B(4,123)),new X(28,new B(22,45),new B(3,46)),new X(30,new B(8,23),new B(26,24)),new X(30,new B(12,15),new B(28,16))),new Se(28,Int32Array.from([6,26,50,74,98,122]),new X(30,new B(3,117),new B(10,118)),new X(28,new B(3,45),new B(23,46)),new X(30,new B(4,24),new B(31,25)),new X(30,new B(11,15),new B(31,16))),new Se(29,Int32Array.from([6,30,54,78,102,126]),new X(30,new B(7,116),new B(7,117)),new X(28,new B(21,45),new B(7,46)),new X(30,new B(1,23),new B(37,24)),new X(30,new B(19,15),new B(26,16))),new Se(30,Int32Array.from([6,26,52,78,104,130]),new X(30,new B(5,115),new B(10,116)),new X(28,new B(19,47),new B(10,48)),new X(30,new B(15,24),new B(25,25)),new X(30,new B(23,15),new B(25,16))),new Se(31,Int32Array.from([6,30,56,82,108,134]),new X(30,new B(13,115),new B(3,116)),new X(28,new B(2,46),new B(29,47)),new X(30,new B(42,24),new B(1,25)),new X(30,new B(23,15),new B(28,16))),new Se(32,Int32Array.from([6,34,60,86,112,138]),new X(30,new B(17,115)),new X(28,new B(10,46),new B(23,47)),new X(30,new B(10,24),new B(35,25)),new X(30,new B(19,15),new B(35,16))),new Se(33,Int32Array.from([6,30,58,86,114,142]),new X(30,new B(17,115),new B(1,116)),new X(28,new B(14,46),new B(21,47)),new X(30,new B(29,24),new B(19,25)),new X(30,new B(11,15),new B(46,16))),new Se(34,Int32Array.from([6,34,62,90,118,146]),new X(30,new B(13,115),new B(6,116)),new X(28,new B(14,46),new B(23,47)),new X(30,new B(44,24),new B(7,25)),new X(30,new B(59,16),new B(1,17))),new Se(35,Int32Array.from([6,30,54,78,102,126,150]),new X(30,new B(12,121),new B(7,122)),new X(28,new B(12,47),new B(26,48)),new X(30,new B(39,24),new B(14,25)),new X(30,new B(22,15),new B(41,16))),new Se(36,Int32Array.from([6,24,50,76,102,128,154]),new X(30,new B(6,121),new B(14,122)),new X(28,new B(6,47),new B(34,48)),new X(30,new B(46,24),new B(10,25)),new X(30,new B(2,15),new B(64,16))),new Se(37,Int32Array.from([6,28,54,80,106,132,158]),new X(30,new B(17,122),new B(4,123)),new X(28,new B(29,46),new B(14,47)),new X(30,new B(49,24),new B(10,25)),new X(30,new B(24,15),new B(46,16))),new Se(38,Int32Array.from([6,32,58,84,110,136,162]),new X(30,new B(4,122),new B(18,123)),new X(28,new B(13,46),new B(32,47)),new X(30,new B(48,24),new B(14,25)),new X(30,new B(42,15),new B(32,16))),new Se(39,Int32Array.from([6,26,54,82,110,138,166]),new X(30,new B(20,117),new B(4,118)),new X(28,new B(40,47),new B(7,48)),new X(30,new B(43,24),new B(22,25)),new X(30,new B(10,15),new B(67,16))),new Se(40,Int32Array.from([6,30,58,86,114,142,170]),new X(30,new B(19,118),new B(6,119)),new X(28,new B(18,47),new B(31,48)),new X(30,new B(34,24),new B(34,25)),new X(30,new B(20,15),new B(61,16)))];var Zt;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(Zt||(Zt={}));class on{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let l=0;l<o;l++)for(let c=0;c<o;c++)this.isMasked(l,c)&&s.flip(c,l)}}on.values=new Map([[Zt.DATA_MASK_000,new on(Zt.DATA_MASK_000,(R,s)=>(R+s&1)===0)],[Zt.DATA_MASK_001,new on(Zt.DATA_MASK_001,(R,s)=>(R&1)===0)],[Zt.DATA_MASK_010,new on(Zt.DATA_MASK_010,(R,s)=>s%3===0)],[Zt.DATA_MASK_011,new on(Zt.DATA_MASK_011,(R,s)=>(R+s)%3===0)],[Zt.DATA_MASK_100,new on(Zt.DATA_MASK_100,(R,s)=>(Math.floor(R/2)+Math.floor(s/3)&1)===0)],[Zt.DATA_MASK_101,new on(Zt.DATA_MASK_101,(R,s)=>R*s%6===0)],[Zt.DATA_MASK_110,new on(Zt.DATA_MASK_110,(R,s)=>R*s%6<3)],[Zt.DATA_MASK_111,new on(Zt.DATA_MASK_111,(R,s)=>(R+s+R*s%3&1)===0)]]);class gE{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new M;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let d=0;d<6;d++)s=this.copyBit(d,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let d=5;d>=0;d--)s=this.copyBit(8,d,s);const o=this.bitMatrix.getHeight();let l=0;const c=o-7;for(let d=o-1;d>=c;d--)l=this.copyBit(8,d,l);for(let d=o-8;d<o;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=mr.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new M}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return Se.getVersionForNumber(o);let l=0;const c=s-11;for(let f=5;f>=0;f--)for(let g=s-9;g>=c;g--)l=this.copyBit(g,f,l);let d=Se.decodeVersionInformation(l);if(d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;l=0;for(let f=5;f>=0;f--)for(let g=s-9;g>=c;g--)l=this.copyBit(f,g,l);if(d=Se.decodeVersionInformation(l),d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;throw new M}copyBit(s,o,l){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),l=on.values.get(s.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const d=o.buildFunctionPattern();let f=!0;const g=new Uint8Array(o.getTotalCodewords());let y=0,v=0,N=0;for(let O=c-1;O>0;O-=2){O===6&&O--;for(let D=0;D<c;D++){const U=f?c-1-D:D;for(let z=0;z<2;z++)d.get(O-z,U)||(N++,v<<=1,this.bitMatrix.get(O-z,U)&&(v|=1),N===8&&(g[y++]=v,N=0,v=0))}f=!f}if(y!==o.getTotalCodewords())throw new M;return g}remask(){if(this.parsedFormatInfo===null)return;const s=on.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,l=s.getWidth();o<l;o++)for(let c=o+1,d=s.getHeight();c<d;c++)s.get(o,c)!==s.get(c,o)&&(s.flip(c,o),s.flip(o,c))}}class Jd{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,l){if(s.length!==o.getTotalCodewords())throw new b;const c=o.getECBlocksForLevel(l);let d=0;const f=c.getECBlocks();for(const z of f)d+=z.getCount();const g=new Array(d);let y=0;for(const z of f)for(let $=0;$<z.getCount();$++){const K=z.getDataCodewords(),Z=c.getECCodewordsPerBlock()+K;g[y++]=new Jd(K,new Uint8Array(Z))}const v=g[0].codewords.length;let N=g.length-1;for(;N>=0&&g[N].codewords.length!==v;)N--;N++;const O=v-c.getECCodewordsPerBlock();let D=0;for(let z=0;z<O;z++)for(let $=0;$<y;$++)g[$].codewords[z]=s[D++];for(let z=N;z<y;z++)g[z].codewords[O]=s[D++];const U=g[0].codewords.length;for(let z=O;z<U;z++)for(let $=0;$<y;$++){const K=$<N?z:z+1;g[$].codewords[K]=s[D++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var an;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(an||(an={}));class Ie{constructor(s,o,l,c){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=c,Ie.FOR_BITS.set(c,this),Ie.FOR_VALUE.set(s,this)}static forBits(s){const o=Ie.FOR_BITS.get(s);if(o===void 0)throw new b;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Ie))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}Ie.FOR_BITS=new Map,Ie.FOR_VALUE=new Map,Ie.TERMINATOR=new Ie(an.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ie.NUMERIC=new Ie(an.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ie.ALPHANUMERIC=new Ie(an.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ie.STRUCTURED_APPEND=new Ie(an.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ie.BYTE=new Ie(an.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ie.ECI=new Ie(an.ECI,"ECI",Int32Array.from([0,0,0]),7),Ie.KANJI=new Ie(an.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ie.FNC1_FIRST_POSITION=new Ie(an.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ie.FNC1_SECOND_POSITION=new Ie(an.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ie.HANZI=new Ie(an.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class _t{static decode(s,o,l,c){const d=new Zd(s);let f=new ie;const g=new Array;let y=-1,v=-1;try{let N=null,O=!1,D;do{if(d.available()<4)D=Ie.TERMINATOR;else{const U=d.readBits(4);D=Ie.forBits(U)}switch(D){case Ie.TERMINATOR:break;case Ie.FNC1_FIRST_POSITION:case Ie.FNC1_SECOND_POSITION:O=!0;break;case Ie.STRUCTURED_APPEND:if(d.available()<16)throw new M;y=d.readBits(8),v=d.readBits(8);break;case Ie.ECI:const U=_t.parseECIValue(d);if(N=V.getCharacterSetECIByValue(U),N===null)throw new M;break;case Ie.HANZI:const z=d.readBits(4),$=d.readBits(D.getCharacterCountBits(o));z===_t.GB2312_SUBSET&&_t.decodeHanziSegment(d,f,$);break;default:const K=d.readBits(D.getCharacterCountBits(o));switch(D){case Ie.NUMERIC:_t.decodeNumericSegment(d,f,K);break;case Ie.ALPHANUMERIC:_t.decodeAlphanumericSegment(d,f,K,O);break;case Ie.BYTE:_t.decodeByteSegment(d,f,K,N,g,c);break;case Ie.KANJI:_t.decodeKanjiSegment(d,f,K);break;default:throw new M}break}}while(D!==Ie.TERMINATOR)}catch{throw new M}return new gt(s,f.toString(),g.length===0?null:g,l===null?null:l.toString(),y,v)}static decodeHanziSegment(s,o,l){if(l*13>s.available())throw new M;const c=new Uint8Array(2*l);let d=0;for(;l>0;){const f=s.readBits(13);let g=f/96<<8&4294967295|f%96;g<959?g+=41377:g+=42657,c[d]=g>>8&255,c[d+1]=g&255,d+=2,l--}try{o.append(H.decode(c,q.GB2312))}catch(f){throw new M(f)}}static decodeKanjiSegment(s,o,l){if(l*13>s.available())throw new M;const c=new Uint8Array(2*l);let d=0;for(;l>0;){const f=s.readBits(13);let g=f/192<<8&4294967295|f%192;g<7936?g+=33088:g+=49472,c[d]=g>>8,c[d+1]=g,d+=2,l--}try{o.append(H.decode(c,q.SHIFT_JIS))}catch(f){throw new M(f)}}static decodeByteSegment(s,o,l,c,d,f){if(8*l>s.available())throw new M;const g=new Uint8Array(l);for(let v=0;v<l;v++)g[v]=s.readBits(8);let y;c===null?y=q.guessEncoding(g,f):y=c.getName();try{o.append(H.decode(g,y))}catch(v){throw new M(v)}d.push(g)}static toAlphaNumericChar(s){if(s>=_t.ALPHANUMERIC_CHARS.length)throw new M;return _t.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,l,c){const d=o.length();for(;l>1;){if(s.available()<11)throw new M;const f=s.readBits(11);o.append(_t.toAlphaNumericChar(Math.floor(f/45))),o.append(_t.toAlphaNumericChar(f%45)),l-=2}if(l===1){if(s.available()<6)throw new M;o.append(_t.toAlphaNumericChar(s.readBits(6)))}if(c)for(let f=d;f<o.length();f++)o.charAt(f)==="%"&&(f<o.length()-1&&o.charAt(f+1)==="%"?o.deleteCharAt(f+1):o.setCharAt(f,""))}static decodeNumericSegment(s,o,l){for(;l>=3;){if(s.available()<10)throw new M;const c=s.readBits(10);if(c>=1e3)throw new M;o.append(_t.toAlphaNumericChar(Math.floor(c/100))),o.append(_t.toAlphaNumericChar(Math.floor(c/10)%10)),o.append(_t.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(s.available()<7)throw new M;const c=s.readBits(7);if(c>=100)throw new M;o.append(_t.toAlphaNumericChar(Math.floor(c/10))),o.append(_t.toAlphaNumericChar(c%10))}else if(l===1){if(s.available()<4)throw new M;const c=s.readBits(4);if(c>=10)throw new M;o.append(_t.toAlphaNumericChar(c))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=s.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=s.readBits(16);return(o&31)<<16&4294967295|l}throw new M}}_t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",_t.GB2312_SUBSET=1;class Tm{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class xE{constructor(){this.rsDecoder=new rn(ke.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(re.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const l=new gE(s);let c=null;try{return this.decodeBitMatrixParser(l,o)}catch(d){c=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,o);return d.setOther(new Tm(!0)),d}catch(d){throw c!==null?c:d}}decodeBitMatrixParser(s,o){const l=s.readVersion(),c=s.readFormatInformation().getErrorCorrectionLevel(),d=s.readCodewords(),f=Jd.getDataBlocks(d,l,c);let g=0;for(const N of f)g+=N.getNumDataCodewords();const y=new Uint8Array(g);let v=0;for(const N of f){const O=N.getCodewords(),D=N.getNumDataCodewords();this.correctErrors(O,D);for(let U=0;U<D;U++)y[v++]=O[U]}return _t.decode(y,l,c,o)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new E}for(let c=0;c<o;c++)s[c]=l[c]}}class ef extends we{constructor(s,o,l){super(s,o),this.estimatedModuleSize=l}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const c=(this.getX()+o)/2,d=(this.getY()+s)/2,f=(this.estimatedModuleSize+l)/2;return new ef(c,d,f)}}class wc{constructor(s,o,l,c,d,f,g){this.image=s,this.startX=o,this.startY=l,this.width=c,this.height=d,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,l=this.width,c=s+l,d=this.startY+o/2,f=new Int32Array(3),g=this.image;for(let y=0;y<o;y++){const v=d+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let N=s;for(;N<c&&!g.get(N,v);)N++;let O=0;for(;N<c;){if(g.get(N,v))if(O===1)f[1]++;else if(O===2){if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,v,N);if(D!==null)return D}f[0]=f[2],f[1]=1,f[2]=0,O=1}else f[++O]++;else O===1&&O++,f[O]++;N++}if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,v,c);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,l=o/2;for(let c=0;c<3;c++)if(Math.abs(o-s[c])>=l)return!1;return!0}crossCheckVertical(s,o,l,c){const d=this.image,f=d.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let y=s;for(;y>=0&&d.get(o,y)&&g[1]<=l;)g[1]++,y--;if(y<0||g[1]>l)return NaN;for(;y>=0&&!d.get(o,y)&&g[0]<=l;)g[0]++,y--;if(g[0]>l)return NaN;for(y=s+1;y<f&&d.get(o,y)&&g[1]<=l;)g[1]++,y++;if(y===f||g[1]>l)return NaN;for(;y<f&&!d.get(o,y)&&g[2]<=l;)g[2]++,y++;if(g[2]>l)return NaN;const v=g[0]+g[1]+g[2];return 5*Math.abs(v-c)>=2*c?NaN:this.foundPatternCross(g)?wc.centerFromEnd(g,y):NaN}handlePossibleCenter(s,o,l){const c=s[0]+s[1]+s[2],d=wc.centerFromEnd(s,l),f=this.crossCheckVertical(o,d,2*s[1],c);if(!isNaN(f)){const g=(s[0]+s[1]+s[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(g,f,d))return v.combineEstimate(f,d,g);const y=new ef(d,f,g);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class tf extends we{constructor(s,o,l,c){super(s,o),this.estimatedModuleSize=l,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const c=Math.abs(s-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const c=this.count+1,d=(this.count*this.getX()+o)/c,f=(this.count*this.getY()+s)/c,g=(this.count*this.estimatedModuleSize+l)/c;return new tf(d,f,g,c)}}class yE{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Jt{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(L.TRY_HARDER)!==void 0,l=s!=null&&s.get(L.PURE_BARCODE)!==void 0,c=this.image,d=c.getHeight(),f=c.getWidth();let g=Math.floor(3*d/(4*Jt.MAX_MODULES));(g<Jt.MIN_SKIP||o)&&(g=Jt.MIN_SKIP);let y=!1;const v=new Int32Array(5);for(let O=g-1;O<d&&!y;O+=g){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let D=0;for(let U=0;U<f;U++)if(c.get(U,O))(D&1)===1&&D++,v[D]++;else if(D&1)v[D]++;else if(D===4)if(Jt.foundPatternCross(v)){if(this.handlePossibleCenter(v,O,U,l)===!0)if(g=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const $=this.findRowSkip();$>v[2]&&(O+=$-v[2]-g,U=f-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;continue}D=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;else v[++D]++;Jt.foundPatternCross(v)&&this.handlePossibleCenter(v,O,f,l)===!0&&(g=v[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const N=this.selectBestPatterns();return we.orderBestPatterns(N),new yE(N)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let d=0;d<5;d++){const f=s[d];if(f===0)return!1;o+=f}if(o<7)return!1;const l=o/7,c=l/2;return Math.abs(l-s[0])<c&&Math.abs(l-s[1])<c&&Math.abs(3*l-s[2])<3*c&&Math.abs(l-s[3])<c&&Math.abs(l-s[4])<c}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,l,c){const d=this.getCrossCheckStateCount();let f=0;const g=this.image;for(;s>=f&&o>=f&&g.get(o-f,s-f);)d[2]++,f++;if(s<f||o<f)return!1;for(;s>=f&&o>=f&&!g.get(o-f,s-f)&&d[1]<=l;)d[1]++,f++;if(s<f||o<f||d[1]>l)return!1;for(;s>=f&&o>=f&&g.get(o-f,s-f)&&d[0]<=l;)d[0]++,f++;if(d[0]>l)return!1;const y=g.getHeight(),v=g.getWidth();for(f=1;s+f<y&&o+f<v&&g.get(o+f,s+f);)d[2]++,f++;if(s+f>=y||o+f>=v)return!1;for(;s+f<y&&o+f<v&&!g.get(o+f,s+f)&&d[3]<l;)d[3]++,f++;if(s+f>=y||o+f>=v||d[3]>=l)return!1;for(;s+f<y&&o+f<v&&g.get(o+f,s+f)&&d[4]<l;)d[4]++,f++;if(d[4]>=l)return!1;const N=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(N-c)<2*c&&Jt.foundPatternCross(d)}crossCheckVertical(s,o,l,c){const d=this.image,f=d.getHeight(),g=this.getCrossCheckStateCount();let y=s;for(;y>=0&&d.get(o,y);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(o,y)&&g[1]<=l;)g[1]++,y--;if(y<0||g[1]>l)return NaN;for(;y>=0&&d.get(o,y)&&g[0]<=l;)g[0]++,y--;if(g[0]>l)return NaN;for(y=s+1;y<f&&d.get(o,y);)g[2]++,y++;if(y===f)return NaN;for(;y<f&&!d.get(o,y)&&g[3]<l;)g[3]++,y++;if(y===f||g[3]>=l)return NaN;for(;y<f&&d.get(o,y)&&g[4]<l;)g[4]++,y++;if(g[4]>=l)return NaN;const v=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(v-c)>=2*c?NaN:Jt.foundPatternCross(g)?Jt.centerFromEnd(g,y):NaN}crossCheckHorizontal(s,o,l,c){const d=this.image,f=d.getWidth(),g=this.getCrossCheckStateCount();let y=s;for(;y>=0&&d.get(y,o);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(y,o)&&g[1]<=l;)g[1]++,y--;if(y<0||g[1]>l)return NaN;for(;y>=0&&d.get(y,o)&&g[0]<=l;)g[0]++,y--;if(g[0]>l)return NaN;for(y=s+1;y<f&&d.get(y,o);)g[2]++,y++;if(y===f)return NaN;for(;y<f&&!d.get(y,o)&&g[3]<l;)g[3]++,y++;if(y===f||g[3]>=l)return NaN;for(;y<f&&d.get(y,o)&&g[4]<l;)g[4]++,y++;if(g[4]>=l)return NaN;const v=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(v-c)>=c?NaN:Jt.foundPatternCross(g)?Jt.centerFromEnd(g,y):NaN}handlePossibleCenter(s,o,l,c){const d=s[0]+s[1]+s[2]+s[3]+s[4];let f=Jt.centerFromEnd(s,l),g=this.crossCheckVertical(o,Math.floor(f),s[2],d);if(!isNaN(g)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(g),s[2],d),!isNaN(f)&&(!c||this.crossCheckDiagonal(Math.floor(g),Math.floor(f),s[2],d)))){const y=d/7;let v=!1;const N=this.possibleCenters;for(let O=0,D=N.length;O<D;O++){const U=N[O];if(U.aboutEquals(y,g,f)){N[O]=U.combineEstimate(g,f,y),v=!0;break}}if(!v){const O=new tf(f,g,y);N.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=Jt.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const l=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=Jt.CENTER_QUORUM&&(s++,o+=f.getEstimatedModuleSize());if(s<3)return!1;const c=o/l;let d=0;for(const f of this.possibleCenters)d+=Math.abs(f.getEstimatedModuleSize()-c);return d<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new G;const o=this.possibleCenters;let l;if(s>3){let c=0,d=0;for(const y of this.possibleCenters){const v=y.getEstimatedModuleSize();c+=v,d+=v*v}l=c/s;let f=Math.sqrt(d/s-l*l);o.sort((y,v)=>{const N=Math.abs(v.getEstimatedModuleSize()-l),O=Math.abs(y.getEstimatedModuleSize()-l);return N<O?-1:N>O?1:0});const g=Math.max(.2*l,f);for(let y=0;y<o.length&&o.length>3;y++){const v=o[y];Math.abs(v.getEstimatedModuleSize()-l)>g&&(o.splice(y,1),y--)}}if(o.length>3){let c=0;for(const d of o)c+=d.getEstimatedModuleSize();l=c/o.length,o.sort((d,f)=>{if(f.getCount()===d.getCount()){const g=Math.abs(f.getEstimatedModuleSize()-l),y=Math.abs(d.getEstimatedModuleSize()-l);return g<y?1:g>y?-1:0}else return f.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Jt.CENTER_QUORUM=2,Jt.MIN_SKIP=3,Jt.MAX_MODULES=57;class Ba{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(L.NEED_RESULT_POINT_CALLBACK);const l=new Jt(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const o=s.getTopLeft(),l=s.getTopRight(),c=s.getBottomLeft(),d=this.calculateModuleSize(o,l,c);if(d<1)throw new G("No pattern found in proccess finder.");const f=Ba.computeDimension(o,l,c,d),g=Se.getProvisionalVersionForDimension(f),y=g.getDimensionForVersion()-7;let v=null;if(g.getAlignmentPatternCenters().length>0){const U=l.getX()-o.getX()+c.getX(),z=l.getY()-o.getY()+c.getY(),$=1-3/y,K=Math.floor(o.getX()+$*(U-o.getX())),Z=Math.floor(o.getY()+$*(z-o.getY()));for(let fe=4;fe<=16;fe<<=1)try{v=this.findAlignmentInRegion(d,K,Z,fe);break}catch(he){if(!(he instanceof G))throw he}}const N=Ba.createTransform(o,l,c,v,f),O=Ba.sampleGrid(this.image,N,f);let D;return v===null?D=[c,o,l]:D=[c,o,l,v],new Ti(O,D)}static createTransform(s,o,l,c,d){const f=d-3.5;let g,y,v,N;return c!==null?(g=c.getX(),y=c.getY(),v=f-3,N=v):(g=o.getX()-s.getX()+l.getX(),y=o.getY()-s.getY()+l.getY(),v=f,N=f),xt.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,v,N,3.5,f,s.getX(),s.getY(),o.getX(),o.getY(),g,y,l.getX(),l.getY())}static sampleGrid(s,o,l){return Un.getInstance().sampleGridWithTransform(s,l,l,o)}static computeDimension(s,o,l,c){const d=Ve.round(we.distance(s,o)/c),f=Ve.round(we.distance(s,l)/c);let g=Math.floor((d+f)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new G("Dimensions could be not found.")}return g}calculateModuleSize(s,o,l){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,l,c){let d=this.sizeOfBlackWhiteBlackRun(s,o,l,c),f=1,g=s-(l-s);g<0?(f=s/(s-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-s)/(g-s),g=this.image.getWidth()-1);let y=Math.floor(o-(c-o)*f);return f=1,y<0?(f=o/(o-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-o)/(y-o),y=this.image.getHeight()-1),g=Math.floor(s+(g-s)*f),d+=this.sizeOfBlackWhiteBlackRun(s,o,g,y),d-1}sizeOfBlackWhiteBlackRun(s,o,l,c){const d=Math.abs(c-o)>Math.abs(l-s);if(d){let U=s;s=o,o=U,U=l,l=c,c=U}const f=Math.abs(l-s),g=Math.abs(c-o);let y=-f/2;const v=s<l?1:-1,N=o<c?1:-1;let O=0;const D=l+v;for(let U=s,z=o;U!==D;U+=v){const $=d?z:U,K=d?U:z;if(O===1===this.image.get($,K)){if(O===2)return Ve.distance(U,z,s,o);O++}if(y+=g,y>0){if(z===c)break;z+=N,y-=f}}return O===2?Ve.distance(l+v,c,s,o):NaN}findAlignmentInRegion(s,o,l,c){const d=Math.floor(c*s),f=Math.max(0,o-d),g=Math.min(this.image.getWidth()-1,o+d);if(g-f<s*3)throw new G("Alignment top exceeds estimated module size.");const y=Math.max(0,l-d),v=Math.min(this.image.getHeight()-1,l+d);if(v-y<s*3)throw new G("Alignment bottom exceeds estimated module size.");return new wc(this.image,f,y,g-f,v-y,s,this.resultPointCallback).find()}}class Ms{constructor(){this.decoder=new xE}getDecoder(){return this.decoder}decode(s,o){let l,c;if(o!=null&&o.get(L.PURE_BARCODE)!==void 0){const y=Ms.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,o),c=Ms.NO_POINTS}else{const y=new Ba(s.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(y.getBits(),o),c=y.getPoints()}l.getOther()instanceof Tm&&l.getOther().applyMirroredCorrection(c);const d=new Ee(l.getText(),l.getRawBytes(),void 0,c,te.QR_CODE,void 0),f=l.getByteSegments();f!==null&&d.putMetadata(ye.BYTE_SEGMENTS,f);const g=l.getECLevel();return g!==null&&d.putMetadata(ye.ERROR_CORRECTION_LEVEL,g),l.hasStructuredAppend()&&(d.putMetadata(ye.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(ye.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o===null||l===null)throw new G;const c=this.moduleSize(o,s);let d=o[1],f=l[1],g=o[0],y=l[0];if(g>=y||d>=f)throw new G;if(f-d!==y-g&&(y=g+(f-d),y>=s.getWidth()))throw new G;const v=Math.round((y-g+1)/c),N=Math.round((f-d+1)/c);if(v<=0||N<=0)throw new G;if(N!==v)throw new G;const O=Math.floor(c/2);d+=O,g+=O;const D=g+Math.floor((v-1)*c)-y;if(D>0){if(D>O)throw new G;g-=D}const U=d+Math.floor((N-1)*c)-f;if(U>0){if(U>O)throw new G;d-=U}const z=new re(v,N);for(let $=0;$<N;$++){const K=d+Math.floor($*c);for(let Z=0;Z<v;Z++)s.get(g+Math.floor(Z*c),K)&&z.set(Z,$)}return z}static moduleSize(s,o){const l=o.getHeight(),c=o.getWidth();let d=s[0],f=s[1],g=!0,y=0;for(;d<c&&f<l;){if(g!==o.get(d,f)){if(++y===5)break;g=!g}d++,f++}if(d===c||f===l)throw new G;return(d-s[0])/7}}Ms.NO_POINTS=new Array;class Me{PDF417Common(){}static getBitCountSum(s){return Ve.sum(s)}static toIntArray(s){if(s==null||!s.length)return Me.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let l=0;for(const c of s)o[l++]=c;return o}static getCodeword(s){const o=S.binarySearch(Me.SYMBOL_TABLE,s&262143);return o<0?-1:(Me.CODEWORD_TABLE[o]-1)%Me.NUMBER_OF_CODEWORDS}}Me.NUMBER_OF_CODEWORDS=929,Me.MAX_CODEWORDS_IN_BARCODE=Me.NUMBER_OF_CODEWORDS-1,Me.MIN_ROWS_IN_BARCODE=3,Me.MAX_ROWS_IN_BARCODE=90,Me.MODULES_IN_CODEWORD=17,Me.MODULES_IN_STOP_PATTERN=18,Me.BARS_IN_MODULE=8,Me.EMPTY_INT_ARRAY=new Int32Array([]),Me.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Me.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class wE{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class ze{static detectMultiple(s,o,l){let c=s.getBlackMatrix(),d=ze.detect(l,c);return d.length||(c=c.clone(),c.rotate180(),d=ze.detect(l,c)),new wE(c,d)}static detect(s,o){const l=new Array;let c=0,d=0,f=!1;for(;c<o.getHeight();){const g=ze.findVertices(o,c,d);if(g[0]==null&&g[3]==null){if(!f)break;f=!1,d=0;for(const y of l)y[1]!=null&&(c=Math.trunc(Math.max(c,y[1].getY()))),y[3]!=null&&(c=Math.max(c,Math.trunc(y[3].getY())));c+=ze.ROW_STEP;continue}if(f=!0,l.push(g),!s)break;g[2]!=null?(d=Math.trunc(g[2].getX()),c=Math.trunc(g[2].getY())):(d=Math.trunc(g[4].getX()),c=Math.trunc(g[4].getY()))}return l}static findVertices(s,o,l){const c=s.getHeight(),d=s.getWidth(),f=new Array(8);return ze.copyToResult(f,ze.findRowsWithPattern(s,c,d,o,l,ze.START_PATTERN),ze.INDEXES_START_PATTERN),f[4]!=null&&(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY())),ze.copyToResult(f,ze.findRowsWithPattern(s,c,d,o,l,ze.STOP_PATTERN),ze.INDEXES_STOP_PATTERN),f}static copyToResult(s,o,l){for(let c=0;c<l.length;c++)s[l[c]]=o[c]}static findRowsWithPattern(s,o,l,c,d,f){const g=new Array(4);let y=!1;const v=new Int32Array(f.length);for(;c<o;c+=ze.ROW_STEP){let O=ze.findGuardPattern(s,d,c,l,!1,f,v);if(O!=null){for(;c>0;){const D=ze.findGuardPattern(s,d,--c,l,!1,f,v);if(D!=null)O=D;else{c++;break}}g[0]=new we(O[0],c),g[1]=new we(O[1],c),y=!0;break}}let N=c+1;if(y){let O=0,D=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;N<o;N++){const U=ze.findGuardPattern(s,D[0],N,l,!1,f,v);if(U!=null&&Math.abs(D[0]-U[0])<ze.MAX_PATTERN_DRIFT&&Math.abs(D[1]-U[1])<ze.MAX_PATTERN_DRIFT)D=U,O=0;else{if(O>ze.SKIPPED_ROW_COUNT_MAX)break;O++}}N-=O+1,g[2]=new we(D[0],N),g[3]=new we(D[1],N)}return N-c<ze.BARCODE_MIN_HEIGHT&&S.fill(g,null),g}static findGuardPattern(s,o,l,c,d,f,g){S.fillWithin(g,0,g.length,0);let y=o,v=0;for(;s.get(y,l)&&y>0&&v++<ze.MAX_PIXEL_DRIFT;)y--;let N=y,O=0,D=f.length;for(let U=d;N<c;N++)if(s.get(N,l)!==U)g[O]++;else{if(O===D-1){if(ze.patternMatchVariance(g,f,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE)return new Int32Array([y,N]);y+=g[0]+g[1],A.arraycopy(g,2,g,0,O-1),g[O-1]=0,g[O]=0,O--}else O++;g[O]=1,U=!U}return O===D-1&&ze.patternMatchVariance(g,f,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE?new Int32Array([y,N-1]):null}static patternMatchVariance(s,o,l){let c=s.length,d=0,f=0;for(let v=0;v<c;v++)d+=s[v],f+=o[v];if(d<f)return 1/0;let g=d/f;l*=g;let y=0;for(let v=0;v<c;v++){let N=s[v],O=o[v]*g,D=N>O?N-O:O-N;if(D>l)return 1/0;y+=D}return y/d}}ze.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ze.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ze.MAX_AVG_VARIANCE=.42,ze.MAX_INDIVIDUAL_VARIANCE=.8,ze.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ze.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ze.MAX_PIXEL_DRIFT=3,ze.MAX_PATTERN_DRIFT=5,ze.SKIPPED_ROW_COUNT_MAX=25,ze.ROW_STEP=5,ze.BARCODE_MIN_HEIGHT=10;class nr{constructor(s,o){if(o.length===0)throw new b;this.field=s;let l=o.length;if(l>1&&o[0]===0){let c=1;for(;c<l&&o[c]===0;)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),A.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let c=0;for(let d of this.coefficients)c=this.field.add(c,d);return c}let o=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)o=this.field.add(this.field.multiply(s,o),this.coefficients[c]);return o}add(s){if(!this.field.equals(s.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){let f=o;o=l,l=f}let c=new Int32Array(l.length),d=l.length-o.length;A.arraycopy(l,0,c,0,d);for(let f=d;f<l.length;f++)c[f]=this.field.add(o[f-d],l[f]);return new nr(this.field,c)}subtract(s){if(!this.field.equals(s.field))throw new b("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof nr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new nr(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,c=s.coefficients,d=c.length,f=new Int32Array(l+d-1);for(let g=0;g<l;g++){let y=o[g];for(let v=0;v<d;v++)f[g+v]=this.field.add(f[g+v],this.field.multiply(y,c[v]))}return new nr(this.field,f)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let l=0;l<s;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new nr(this.field,o)}multiplyScalar(s){if(s===0)return new nr(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let c=0;c<o;c++)l[c]=this.field.multiply(this.coefficients[c],s);return new nr(this.field,l)}multiplyByMonomial(s,o){if(s<0)throw new b;if(o===0)return new nr(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+s);for(let d=0;d<l;d++)c[d]=this.field.multiply(this.coefficients[d],o);return new nr(this.field,c)}toString(){let s=new ie;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(o===0||l!==1)&&s.append(l),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class vE{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new b;return this.logTable[s]}inverse(s){if(s===0)throw new rt;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class rf extends vE{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let c=0;c<s;c++)this.expTable[c]=l,l=l*o%s;for(let c=0;c<s-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new nr(this,new Int32Array([0])),this.one=new nr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new b;if(o===0)return this.zero;let l=new Int32Array(s+1);return l[0]=o,new nr(this,l)}}rf.PDF417_GF=new rf(Me.NUMBER_OF_CODEWORDS,3);class km{constructor(){this.field=rf.PDF417_GF}decode(s,o,l){let c=new nr(this.field,s),d=new Int32Array(o),f=!1;for(let z=o;z>0;z--){let $=c.evaluateAt(this.field.exp(z));d[o-z]=$,$!==0&&(f=!0)}if(!f)return 0;let g=this.field.getOne();if(l!=null)for(const z of l){let $=this.field.exp(s.length-1-z),K=new nr(this.field,new Int32Array([this.field.subtract(0,$),1]));g=g.multiply(K)}let y=new nr(this.field,d),v=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),y,o),N=v[0],O=v[1],D=this.findErrorLocations(N),U=this.findErrorMagnitudes(O,N,D);for(let z=0;z<D.length;z++){let $=s.length-1-this.field.log(D[z]);if($<0)throw E.getChecksumInstance();s[$]=this.field.subtract(s[$],U[z])}return D.length}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){let D=s;s=o,o=D}let c=s,d=o,f=this.field.getZero(),g=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let D=c,U=f;if(c=d,f=g,c.isZero())throw E.getChecksumInstance();d=D;let z=this.field.getZero(),$=c.getCoefficient(c.getDegree()),K=this.field.inverse($);for(;d.getDegree()>=c.getDegree()&&!d.isZero();){let Z=d.getDegree()-c.getDegree(),fe=this.field.multiply(d.getCoefficient(d.getDegree()),K);z=z.add(this.field.buildMonomial(Z,fe)),d=d.subtract(c.multiplyByMonomial(Z,fe))}g=z.multiply(f).subtract(U).negative()}let y=g.getCoefficient(0);if(y===0)throw E.getChecksumInstance();let v=this.field.inverse(y),N=g.multiply(v),O=d.multiply(v);return[N,O]}findErrorLocations(s){let o=s.getDegree(),l=new Int32Array(o),c=0;for(let d=1;d<this.field.getSize()&&c<o;d++)s.evaluateAt(d)===0&&(l[c]=this.field.inverse(d),c++);if(c!==o)throw E.getChecksumInstance();return l}findErrorMagnitudes(s,o,l){let c=o.getDegree(),d=new Int32Array(c);for(let v=1;v<=c;v++)d[c-v]=this.field.multiply(v,o.getCoefficient(v));let f=new nr(this.field,d),g=l.length,y=new Int32Array(g);for(let v=0;v<g;v++){let N=this.field.inverse(l[v]),O=this.field.subtract(0,s.evaluateAt(N)),D=this.field.inverse(f.evaluateAt(N));y[v]=this.field.multiply(O,D)}return y}}class Oi{constructor(s,o,l,c,d){s instanceof Oi?this.constructor_2(s):this.constructor_1(s,o,l,c,d)}constructor_1(s,o,l,c,d){const f=o==null||l==null,g=c==null||d==null;if(f&&g)throw new G;f?(o=new we(0,c.getY()),l=new we(0,d.getY())):g&&(c=new we(s.getWidth()-1,o.getY()),d=new we(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=o,this.bottomLeft=l,this.topRight=c,this.bottomRight=d,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),d.getX())),this.minY=Math.trunc(Math.min(o.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new Oi(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,l){let c=this.topLeft,d=this.bottomLeft,f=this.topRight,g=this.bottomRight;if(s>0){let y=l?this.topLeft:this.topRight,v=Math.trunc(y.getY()-s);v<0&&(v=0);let N=new we(y.getX(),v);l?c=N:f=N}if(o>0){let y=l?this.bottomLeft:this.bottomRight,v=Math.trunc(y.getY()+o);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let N=new we(y.getX(),v);l?d=N:g=N}return new Oi(this.image,c,d,f,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class bE{constructor(s,o,l,c){this.columnCount=s,this.errorCorrectionLevel=c,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Fa{constructor(){this.buffer=""}static form(s,o){let l=-1;function c(f,g,y,v,N,O){if(f==="%%")return"%";if(o[++l]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let D=N?parseInt(N.substr(1)):void 0,U;switch(O){case"s":U=o[l];break;case"c":U=o[l][0];break;case"f":U=parseFloat(o[l]).toFixed(f);break;case"p":U=parseFloat(o[l]).toPrecision(f);break;case"e":U=parseFloat(o[l]).toExponential(f);break;case"x":U=parseInt(o[l]).toString(D||16);break;case"d":U=parseFloat(parseInt(o[l],D||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(D);let z=parseInt(y),$=y&&y[0]+""=="0"?"0":" ";for(;U.length<z;)U=g!==void 0?U+$:$+U;return U}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,c)}format(s,...o){this.buffer+=Fa.form(s,o)}toString(){return this.buffer}}class Ua{constructor(s){this.boundingBox=new Oi(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let l=1;l<Ua.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(s)-l;if(c>=0&&(o=this.codewords[c],o!=null)||(c=this.imageRowToCodewordIndex(s)+l,c<this.codewords.length&&(o=this.codewords[c],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Fa;let o=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return s.toString()}}Ua.MAX_NEARBY_DISTANCE=5;class Va{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[l,c]of this.values.entries()){const d={getKey:()=>l,getValue:()=>c};d.getValue()>s?(s=d.getValue(),o=[],o.push(d.getKey())):d.getValue()===s&&o.push(d.getKey())}return Me.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class Im extends Ua{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=-1,v=1,N=0;for(let O=f;O<g;O++){if(o[O]==null)continue;let D=o[O],U=D.getRowNumber()-y;if(U===0)N++;else if(U===1)v=Math.max(v,N),N=1,y=D.getRowNumber();else if(U<0||D.getRowNumber()>=s.getRowCount()||U>O)o[O]=null;else{let z;v>2?z=(v-2)*U:z=U;let $=z>=O;for(let K=1;K<=z&&!$;K++)$=o[O-K]!=null;$?o[O]=null:(y=D.getRowNumber(),N=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=o.length)continue;o[c]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.getCodewords(),y=-1;for(let v=d;v<f;v++){if(g[v]==null)continue;let N=g[v];N.setRowNumberAsRowIndicatorColumn();let O=N.getRowNumber()-y;O===0||(O===1?y=N.getRowNumber():N.getRowNumber()>=s.getRowCount()?g[v]=null:y=N.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new Va,l=new Va,c=new Va,d=new Va;for(let g of s){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let y=g.getValue()%30,v=g.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:l.setValue(y*3+1);break;case 1:d.setValue(y/3),c.setValue(y%3);break;case 2:o.setValue(y+1);break}}if(o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<Me.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>Me.MAX_ROWS_IN_BARCODE)return null;let f=new bE(o.getValue()[0],l.getValue()[0],c.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(s,f),f}removeIncorrectCodewords(s,o){for(let l=0;l<s.length;l++){let c=s[l];if(s[l]==null)continue;let d=c.getValue()%30,f=c.getRowNumber();if(f>o.getRowCount()){s[l]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:d*3+1!==o.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(d/3)!==o.getErrorCorrectionLevel()||d%3!==o.getRowCountLowerPart())&&(s[l]=null);break;case 2:d+1!==o.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class za{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Me.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let c=0;c<l.length;c++)l[c]!=null&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(o,c,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&o[l]!=null&&s[l].getRowNumber()===o[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let d=this.detectionResultColumns[c].getCodewords()[l];d!=null&&(d.setRowNumber(s[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let c=o[l].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let g=this.detectionResultColumns[f].getCodewords()[l];g!=null&&(d=za.adjustRowNumberIfValid(c,d,g),g.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let c=o[l].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let g=this.detectionResultColumns[f].getCodewords()[l];g!=null&&(d=za.adjustRowNumberIfValid(c,d,g),g.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,l){if(!this.detectionResultColumns[s-1])return;let c=l[o],d=this.detectionResultColumns[s-1].getCodewords(),f=d;this.detectionResultColumns[s+1]!=null&&(f=this.detectionResultColumns[s+1].getCodewords());let g=new Array(14);g[2]=d[o],g[3]=f[o],o>0&&(g[0]=l[o-1],g[4]=d[o-1],g[5]=f[o-1]),o>1&&(g[8]=l[o-2],g[10]=d[o-2],g[11]=f[o-2]),o<l.length-1&&(g[1]=l[o+1],g[6]=d[o+1],g[7]=f[o+1]),o<l.length-2&&(g[9]=l[o+2],g[12]=d[o+2],g[13]=f[o+2]);for(let y of g)if(za.adjustRowNumber(c,y))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Fa;for(let l=0;l<s.getCodewords().length;l++){o.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){o.format("    |   ");continue}let d=this.detectionResultColumns[c].getCodewords()[l];if(d==null){o.format("    |   ");continue}o.format(" %3d|%3d",d.getRowNumber(),d.getValue())}o.format("%n")}return o.toString()}}class Wa{constructor(s,o,l,c){this.rowNumber=Wa.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Wa.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Wa.BARCODE_ROW_UNKNOWN=-1;class Or{static initialize(){for(let s=0;s<Me.SYMBOL_TABLE.length;s++){let o=Me.SYMBOL_TABLE[s],l=o&1;for(let c=0;c<Me.BARS_IN_MODULE;c++){let d=0;for(;(o&1)===l;)d+=1,o>>=1;l=o&1,Or.RATIOS_TABLE[s]||(Or.RATIOS_TABLE[s]=new Array(Me.BARS_IN_MODULE)),Or.RATIOS_TABLE[s][Me.BARS_IN_MODULE-c-1]=Math.fround(d/Me.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=Or.getDecodedCodewordValue(Or.sampleBitCounts(s));return o!==-1?o:Or.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=Ve.sum(s),l=new Int32Array(Me.BARS_IN_MODULE),c=0,d=0;for(let f=0;f<Me.MODULES_IN_CODEWORD;f++){let g=o/(2*Me.MODULES_IN_CODEWORD)+f*o/Me.MODULES_IN_CODEWORD;d+s[c]<=g&&(d+=s[c],c++),l[c]++}return l}static getDecodedCodewordValue(s){let o=Or.getBitValue(s);return Me.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let l=0;l<s.length;l++)for(let c=0;c<s[l];c++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=Ve.sum(s),l=new Array(Me.BARS_IN_MODULE);if(o>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(s[f]/o);let c=Ni.MAX_VALUE,d=-1;this.bSymbolTableReady||Or.initialize();for(let f=0;f<Or.RATIOS_TABLE.length;f++){let g=0,y=Or.RATIOS_TABLE[f];for(let v=0;v<Me.BARS_IN_MODULE;v++){let N=Math.fround(y[v]-l[v]);if(g+=Math.fround(N*N),g>=c)break}g<c&&(c=g,d=Me.SYMBOL_TABLE[f])}return d}}Or.bSymbolTableReady=!1,Or.RATIOS_TABLE=new Array(Me.SYMBOL_TABLE.length).map(R=>new Array(Me.BARS_IN_MODULE));class Rm{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Om{static parseLong(s,o=void 0){return parseInt(s,o)}}class Pm extends x{}Pm.kind="NullPointerException";class EE{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,l){if(s==null)throw new Pm;if(o<0||o>s.length||l<0||o+l>s.length||o+l<0)throw new P;if(l===0)return;for(let c=0;c<l;c++)this.write(s[o+c])}flush(){}close(){}}class CE extends x{}class _E extends EE{constructor(s=32){if(super(),this.count=0,s<0)throw new b("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new CE;l=_.MAX_VALUE}this.buf=S.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,l){if(o<0||o>s.length||l<0||o+l-s.length>0)throw new P;this.ensureCapacity(this.count+l),A.arraycopy(s,o,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return S.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var it;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(it||(it={}));function jm(){if(typeof window<"u")return window.BigInt||null;if(typeof Ga<"u")return Ga.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let vc;function Ls(R){if(typeof vc>"u"&&(vc=jm()),vc===null)throw new Error("BigInt is not supported!");return vc(R)}function SE(){let R=[];R[0]=Ls(1);let s=Ls(900);R[1]=s;for(let o=2;o<16;o++)R[o]=R[o-1]*s;return R}class Q{static decode(s,o){let l=new ie(""),c=V.ISO8859_1;l.enableDecoding(c);let d=1,f=s[d++],g=new Rm;for(;d<s[0];){switch(f){case Q.TEXT_COMPACTION_MODE_LATCH:d=Q.textCompaction(s,d,l);break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:d=Q.byteCompaction(f,s,c,d,l);break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[d++]);break;case Q.NUMERIC_COMPACTION_MODE_LATCH:d=Q.numericCompaction(s,d,l);break;case Q.ECI_CHARSET:V.getCharacterSetECIByValue(s[d++]);break;case Q.ECI_GENERAL_PURPOSE:d+=2;break;case Q.ECI_USER_DEFINED:d++;break;case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=Q.decodeMacroBlock(s,d,g);break;case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:throw new M;default:d--,d=Q.textCompaction(s,d,l);break}if(d<s.length)f=s[d++];else throw M.getFormatInstance()}if(l.length()===0)throw M.getFormatInstance();let y=new gt(null,l.toString(),null,o);return y.setOther(g),y}static decodeMacroBlock(s,o,l){if(o+Q.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw M.getFormatInstance();let c=new Int32Array(Q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<Q.NUMBER_OF_SEQUENCE_CODEWORDS;g++,o++)c[g]=s[o];l.setSegmentIndex(_.parseInt(Q.decodeBase900toBase10(c,Q.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new ie;o=Q.textCompaction(s,o,d),l.setFileId(d.toString());let f=-1;for(s[o]===Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=o+1);o<s[0];)switch(s[o]){case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new ie;o=Q.textCompaction(s,o+1,g),l.setFileName(g.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new ie;o=Q.textCompaction(s,o+1,y),l.setSender(y.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new ie;o=Q.textCompaction(s,o+1,v),l.setAddressee(v.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let N=new ie;o=Q.numericCompaction(s,o+1,N),l.setSegmentCount(_.parseInt(N.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new ie;o=Q.numericCompaction(s,o+1,O),l.setTimestamp(Om.parseLong(O.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new ie;o=Q.numericCompaction(s,o+1,D),l.setChecksum(_.parseInt(D.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new ie;o=Q.numericCompaction(s,o+1,U),l.setFileSize(Om.parseLong(U.toString()));break;default:throw M.getFormatInstance()}break;case Q.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(f!==-1){let g=o-f;l.isLastSegment()&&g--,l.setOptionalData(S.copyOfRange(s,f,f+g))}return o}static textCompaction(s,o,l){let c=new Int32Array((s[0]-o)*2),d=new Int32Array((s[0]-o)*2),f=0,g=!1;for(;o<s[0]&&!g;){let y=s[o++];if(y<Q.TEXT_COMPACTION_MODE_LATCH)c[f]=y/30,c[f+1]=y%30,f+=2;else switch(y){case Q.TEXT_COMPACTION_MODE_LATCH:c[f++]=Q.TEXT_COMPACTION_MODE_LATCH;break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:o--,g=!0;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[f]=Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=s[o++],d[f]=y,f++;break}}return Q.decodeTextCompaction(c,d,f,l),o}static decodeTextCompaction(s,o,l,c){let d=it.ALPHA,f=it.ALPHA,g=0;for(;g<l;){let y=s[g],v="";switch(d){case it.ALPHA:if(y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case Q.LL:d=it.LOWER;break;case Q.ML:d=it.MIXED;break;case Q.PS:f=d,d=it.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=it.ALPHA;break}break;case it.LOWER:if(y<26)v=String.fromCharCode(97+y);else switch(y){case 26:v=" ";break;case Q.AS:f=d,d=it.ALPHA_SHIFT;break;case Q.ML:d=it.MIXED;break;case Q.PS:f=d,d=it.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=it.ALPHA;break}break;case it.MIXED:if(y<Q.PL)v=Q.MIXED_CHARS[y];else switch(y){case Q.PL:d=it.PUNCT;break;case 26:v=" ";break;case Q.LL:d=it.LOWER;break;case Q.AL:d=it.ALPHA;break;case Q.PS:f=d,d=it.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=it.ALPHA;break}break;case it.PUNCT:if(y<Q.PAL)v=Q.PUNCT_CHARS[y];else switch(y){case Q.PAL:d=it.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=it.ALPHA;break}break;case it.ALPHA_SHIFT:if(d=f,y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case Q.TEXT_COMPACTION_MODE_LATCH:d=it.ALPHA;break}break;case it.PUNCT_SHIFT:if(d=f,y<Q.PAL)v=Q.PUNCT_CHARS[y];else switch(y){case Q.PAL:d=it.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[g]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=it.ALPHA;break}break}v!==""&&c.append(v),g++}}static byteCompaction(s,o,l,c,d){let f=new _E,g=0,y=0,v=!1;switch(s){case Q.BYTE_COMPACTION_MODE_LATCH:let N=new Int32Array(6),O=o[c++];for(;c<o[0]&&!v;)switch(N[g++]=O,y=900*y+O,O=o[c++],O){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:c--,v=!0;break;default:if(g%5===0&&g>0){for(let D=0;D<6;++D)f.write(Number(Ls(y)>>Ls(8*(5-D))));y=0,g=0}break}c===o[0]&&O<Q.TEXT_COMPACTION_MODE_LATCH&&(N[g++]=O);for(let D=0;D<g;D++)f.write(N[D]);break;case Q.BYTE_COMPACTION_MODE_LATCH_6:for(;c<o[0]&&!v;){let D=o[c++];if(D<Q.TEXT_COMPACTION_MODE_LATCH)g++,y=900*y+D;else switch(D){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:c--,v=!0;break}if(g%5===0&&g>0){for(let U=0;U<6;++U)f.write(Number(Ls(y)>>Ls(8*(5-U))));y=0,g=0}}break}return d.append(H.decode(f.toByteArray(),l)),c}static numericCompaction(s,o,l){let c=0,d=!1,f=new Int32Array(Q.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!d;){let g=s[o++];if(o===s[0]&&(d=!0),g<Q.TEXT_COMPACTION_MODE_LATCH)f[c]=g,c++;else switch(g){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:o--,d=!0;break}(c%Q.MAX_NUMERIC_CODEWORDS===0||g===Q.NUMERIC_COMPACTION_MODE_LATCH||d)&&c>0&&(l.append(Q.decodeBase900toBase10(f,c)),c=0)}return o}static decodeBase900toBase10(s,o){let l=Ls(0);for(let d=0;d<o;d++)l+=Q.EXP900[o-d-1]*Ls(s[d]);let c=l.toString();if(c.charAt(0)!=="1")throw new M;return c.substring(1)}}Q.TEXT_COMPACTION_MODE_LATCH=900,Q.BYTE_COMPACTION_MODE_LATCH=901,Q.NUMERIC_COMPACTION_MODE_LATCH=902,Q.BYTE_COMPACTION_MODE_LATCH_6=924,Q.ECI_USER_DEFINED=925,Q.ECI_GENERAL_PURPOSE=926,Q.ECI_CHARSET=927,Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Q.MACRO_PDF417_TERMINATOR=922,Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Q.MAX_NUMERIC_CODEWORDS=15,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Q.PL=25,Q.LL=27,Q.AS=27,Q.ML=28,Q.AL=28,Q.PS=29,Q.PAL=29,Q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Q.EXP900=jm()?SE():[],Q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class We{constructor(){}static decode(s,o,l,c,d,f,g){let y=new Oi(s,o,l,c,d),v=null,N=null,O;for(let z=!0;;z=!1){if(o!=null&&(v=We.getRowIndicatorColumn(s,y,o,!0,f,g)),c!=null&&(N=We.getRowIndicatorColumn(s,y,c,!1,f,g)),O=We.merge(v,N),O==null)throw G.getNotFoundInstance();let $=O.getBoundingBox();if(z&&$!=null&&($.getMinY()<y.getMinY()||$.getMaxY()>y.getMaxY()))y=$;else break}O.setBoundingBox(y);let D=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,v),O.setDetectionResultColumn(D,N);let U=v!=null;for(let z=1;z<=D;z++){let $=U?z:D-z;if(O.getDetectionResultColumn($)!==void 0)continue;let K;$===0||$===D?K=new Im(y,$===0):K=new Ua(y),O.setDetectionResultColumn($,K);let Z=-1,fe=Z;for(let he=y.getMinY();he<=y.getMaxY();he++){if(Z=We.getStartColumn(O,$,he,U),Z<0||Z>y.getMaxX()){if(fe===-1)continue;Z=fe}let ce=We.detectCodeword(s,y.getMinX(),y.getMaxX(),U,Z,he,f,g);ce!=null&&(K.setCodeword(he,ce),fe=Z,f=Math.min(f,ce.getWidth()),g=Math.max(g,ce.getWidth()))}}return We.createDecoderResult(O)}static merge(s,o){if(s==null&&o==null)return null;let l=We.getBarcodeMetadata(s,o);if(l==null)return null;let c=Oi.merge(We.adjustBoundingBox(s),We.adjustBoundingBox(o));return new za(l,c)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let l=We.getMax(o),c=0;for(let g of o)if(c+=l-g,g>0)break;let d=s.getCodewords();for(let g=0;c>0&&d[g]==null;g++)c--;let f=0;for(let g=o.length-1;g>=0&&(f+=l-o[g],!(o[g]>0));g--);for(let g=d.length-1;f>0&&d[g]==null;g--)f--;return s.getBoundingBox().addMissingRows(c,f,s.isLeft())}static getMax(s){let o=-1;for(let l of s)o=Math.max(o,l);return o}static getBarcodeMetadata(s,o){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let c;return o==null||(c=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(s,o,l,c,d,f){let g=new Im(o,c);for(let y=0;y<2;y++){let v=y===0?1:-1,N=Math.trunc(Math.trunc(l.getX()));for(let O=Math.trunc(Math.trunc(l.getY()));O<=o.getMaxY()&&O>=o.getMinY();O+=v){let D=We.detectCodeword(s,0,s.getWidth(),c,N,O,d,f);D!=null&&(g.setCodeword(O,D),c?N=D.getStartX():N=D.getEndX())}}return g}static adjustCodewordCount(s,o){let l=o[0][1],c=l.getValue(),d=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-We.getNumberOfECCodeWords(s.getBarcodeECLevel());if(c.length===0){if(d<1||d>Me.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();l.setValue(d)}else c[0]!==d&&l.setValue(d)}static createDecoderResult(s){let o=We.createBarcodeMatrix(s);We.adjustCodewordCount(s,o);let l=new Array,c=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),d=[],f=new Array;for(let y=0;y<s.getBarcodeRowCount();y++)for(let v=0;v<s.getBarcodeColumnCount();v++){let N=o[y][v+1].getValue(),O=y*s.getBarcodeColumnCount()+v;N.length===0?l.push(O):N.length===1?c[O]=N[0]:(f.push(O),d.push(N))}let g=new Array(d.length);for(let y=0;y<g.length;y++)g[y]=d[y];return We.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),c,Me.toIntArray(l),Me.toIntArray(f),g)}static createDecoderResultFromAmbiguousValues(s,o,l,c,d){let f=new Int32Array(c.length),g=100;for(;g-- >0;){for(let y=0;y<f.length;y++)o[c[y]]=d[y][f[y]];try{return We.decodeCodewords(o,s,l)}catch(y){if(!(y instanceof E))throw y}if(f.length===0)throw E.getChecksumInstance();for(let y=0;y<f.length;y++)if(f[y]<d[y].length-1){f[y]++;break}else if(f[y]=0,y===f.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let c=0;c<o.length;c++)for(let d=0;d<o[c].length;d++)o[c][d]=new Va;let l=0;for(let c of s.getDetectionResultColumns()){if(c!=null){for(let d of c.getCodewords())if(d!=null){let f=d.getRowNumber();if(f>=0){if(f>=o.length)continue;o[f][l].setValue(d.getValue())}}}l++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,l,c){let d=c?1:-1,f=null;if(We.isValidBarcodeColumn(s,o-d)&&(f=s.getDetectionResultColumn(o-d).getCodeword(l)),f!=null)return c?f.getEndX():f.getStartX();if(f=s.getDetectionResultColumn(o).getCodewordNearby(l),f!=null)return c?f.getStartX():f.getEndX();if(We.isValidBarcodeColumn(s,o-d)&&(f=s.getDetectionResultColumn(o-d).getCodewordNearby(l)),f!=null)return c?f.getEndX():f.getStartX();let g=0;for(;We.isValidBarcodeColumn(s,o-d);){o-=d;for(let y of s.getDetectionResultColumn(o).getCodewords())if(y!=null)return(c?y.getEndX():y.getStartX())+d*g*(y.getEndX()-y.getStartX());g++}return c?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,l,c,d,f,g,y){d=We.adjustCodewordStartColumn(s,o,l,c,d,f);let v=We.getModuleBitCount(s,o,l,c,d,f);if(v==null)return null;let N,O=Ve.sum(v);if(c)N=d+O;else{for(let z=0;z<v.length/2;z++){let $=v[z];v[z]=v[v.length-1-z],v[v.length-1-z]=$}N=d,d=N-O}if(!We.checkCodewordSkew(O,g,y))return null;let D=Or.getDecodedValue(v),U=Me.getCodeword(D);return U===-1?null:new Wa(d,N,We.getCodewordBucketNumber(D),U)}static getModuleBitCount(s,o,l,c,d,f){let g=d,y=new Int32Array(8),v=0,N=c?1:-1,O=c;for(;(c?g<l:g>=o)&&v<y.length;)s.get(g,f)===O?(y[v]++,g+=N):(v++,O=!O);return v===y.length||g===(c?l:o)&&v===y.length-1?y:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,l,c,d,f){let g=d,y=c?-1:1;for(let v=0;v<2;v++){for(;(c?g>=o:g<l)&&c===s.get(g,f);){if(Math.abs(d-g)>We.CODEWORD_SKEW_SIZE)return d;g+=y}y=-y,c=!c}return g}static checkCodewordSkew(s,o,l){return o-We.CODEWORD_SKEW_SIZE<=s&&s<=l+We.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,l){if(s.length===0)throw M.getFormatInstance();let c=1<<o+1,d=We.correctErrors(s,l,c);We.verifyCodewordCount(s,c);let f=Q.decode(s,""+o);return f.setErrorsCorrected(d),f.setErasures(l.length),f}static correctErrors(s,o,l){if(o!=null&&o.length>l/2+We.MAX_ERRORS||l<0||l>We.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return We.errorCorrection.decode(s,l,o)}static verifyCodewordCount(s,o){if(s.length<4)throw M.getFormatInstance();let l=s[0];if(l>s.length)throw M.getFormatInstance();if(l===0)if(o<s.length)s[0]=s.length-o;else throw M.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),l=0,c=o.length-1;for(;!((s&1)!==l&&(l=s&1,c--,c<0));)o[c]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return We.getCodewordBucketNumber(We.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new Fa;for(let l=0;l<s.length;l++){o.format("Row %2d: ",l);for(let c=0;c<s[l].length;c++){let d=s[l][c];d.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}o.format("%n")}return o.toString()}}We.CODEWORD_SKEW_SIZE=2,We.MAX_ERRORS=3,We.MAX_EC_CODEWORDS=512,We.errorCorrection=new km;class sr{decode(s,o=null){let l=sr.decode(s,o,!1);if(l==null||l.length===0||l[0]==null)throw G.getNotFoundInstance();return l[0]}decodeMultiple(s,o=null){try{return sr.decode(s,o,!0)}catch(l){throw l instanceof M||l instanceof E?G.getNotFoundInstance():l}}static decode(s,o,l){const c=new Array,d=ze.detectMultiple(s,o,l);for(const f of d.getPoints()){const g=We.decode(d.getBits(),f[4],f[5],f[6],f[7],sr.getMinCodewordWidth(f),sr.getMaxCodewordWidth(f)),y=new Ee(g.getText(),g.getRawBytes(),void 0,f,te.PDF_417);y.putMetadata(ye.ERROR_CORRECTION_LEVEL,g.getECLevel());const v=g.getOther();v!=null&&y.putMetadata(ye.PDF417_EXTRA_METADATA,v),c.push(y)}return c.map(f=>f)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?_.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(sr.getMaxWidth(s[0],s[4]),sr.getMaxWidth(s[6],s[2])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN),Math.max(sr.getMaxWidth(s[1],s[5]),sr.getMaxWidth(s[7],s[3])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(sr.getMinWidth(s[0],s[4]),sr.getMinWidth(s[6],s[2])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN),Math.min(sr.getMinWidth(s[1],s[5]),sr.getMinWidth(s[7],s[3])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN)))}reset(){}}class bc extends x{}bc.kind="ReaderException";class Dm{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!n(s)&&s.get(L.TRY_HARDER)===!0,l=n(s)?null:s.get(L.POSSIBLE_FORMATS),c=new Array;if(!n(l)){const d=l.some(f=>f===te.UPC_A||f===te.UPC_E||f===te.EAN_13||f===te.EAN_8||f===te.CODABAR||f===te.CODE_39||f===te.CODE_93||f===te.CODE_128||f===te.ITF||f===te.RSS_14||f===te.RSS_EXPANDED);d&&!o&&c.push(new po(s,this.verbose)),l.includes(te.QR_CODE)&&c.push(new Ms),l.includes(te.DATA_MATRIX)&&c.push(new Ds),l.includes(te.AZTEC)&&c.push(new uo),l.includes(te.PDF_417)&&c.push(new sr),d&&o&&c.push(new po(s,this.verbose))}c.length===0&&(o||c.push(new po(s,this.verbose)),c.push(new Ms),c.push(new Ds),c.push(new uo),c.push(new sr),o&&c.push(new po(s,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new bc("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(l){if(l instanceof bc)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class AE extends Oe{constructor(s=null,o=500){const l=new Dm;l.setHints(s),super(l,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class NE extends Oe{constructor(s=500){super(new sr,s)}}class TE extends Oe{constructor(s=500){super(new Ms,s)}}var nf;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(nf||(nf={}));var Gt=nf;class sf{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Ke(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let l=o[o.length-1];const c=this.field;for(let d=o.length;d<=s;d++){const f=l.multiply(new Ke(c,Int32Array.from([1,c.exp(d-1+c.getGeneratorBase())])));o.push(f),l=f}}return o[s]}encode(s,o){if(o===0)throw new b("No error correction bytes");const l=s.length-o;if(l<=0)throw new b("No data bytes provided");const c=this.buildGenerator(o),d=new Int32Array(l);A.arraycopy(s,0,d,0,l);let f=new Ke(this.field,d);f=f.multiplyByMonomial(o,1);const y=f.divide(c)[1].getCoefficients(),v=o-y.length;for(let N=0;N<v;N++)s[l+N]=0;A.arraycopy(y,0,s,l+v,y.length)}}class Rt{constructor(){}static applyMaskPenaltyRule1(s){return Rt.applyMaskPenaltyRule1Internal(s,!0)+Rt.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let f=0;f<d-1;f++){const g=l[f];for(let y=0;y<c-1;y++){const v=g[y];v===g[y+1]&&v===l[f+1][y]&&v===l[f+1][y+1]&&o++}}return Rt.N2*o}static applyMaskPenaltyRule3(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let f=0;f<d;f++)for(let g=0;g<c;g++){const y=l[f];g+6<c&&y[g]===1&&y[g+1]===0&&y[g+2]===1&&y[g+3]===1&&y[g+4]===1&&y[g+5]===0&&y[g+6]===1&&(Rt.isWhiteHorizontal(y,g-4,g)||Rt.isWhiteHorizontal(y,g+7,g+11))&&o++,f+6<d&&l[f][g]===1&&l[f+1][g]===0&&l[f+2][g]===1&&l[f+3][g]===1&&l[f+4][g]===1&&l[f+5][g]===0&&l[f+6][g]===1&&(Rt.isWhiteVertical(l,g,f-4,f)||Rt.isWhiteVertical(l,g,f+7,f+11))&&o++}return o*Rt.N3}static isWhiteHorizontal(s,o,l){o=Math.max(o,0),l=Math.min(l,s.length);for(let c=o;c<l;c++)if(s[c]===1)return!1;return!0}static isWhiteVertical(s,o,l,c){l=Math.max(l,0),c=Math.min(c,s.length);for(let d=l;d<c;d++)if(s[d][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const l=s.getArray(),c=s.getWidth(),d=s.getHeight();for(let y=0;y<d;y++){const v=l[y];for(let N=0;N<c;N++)v[N]===1&&o++}const f=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-f)*10/f)*Rt.N4}static getDataMaskBit(s,o,l){let c,d;switch(s){case 0:c=l+o&1;break;case 1:c=l&1;break;case 2:c=o%3;break;case 3:c=(l+o)%3;break;case 4:c=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:d=l*o,c=(d&1)+d%3;break;case 6:d=l*o,c=(d&1)+d%3&1;break;case 7:d=l*o,c=d%3+(l+o&1)&1;break;default:throw new b("Invalid mask pattern: "+s)}return c===0}static applyMaskPenaltyRule1Internal(s,o){let l=0;const c=o?s.getHeight():s.getWidth(),d=o?s.getWidth():s.getHeight(),f=s.getArray();for(let g=0;g<c;g++){let y=0,v=-1;for(let N=0;N<d;N++){const O=o?f[g][N]:f[N][g];O===v?y++:(y>=5&&(l+=Rt.N1+(y-5)),y=1,v=O)}y>=5&&(l+=Rt.N1+(y-5))}return l}}Rt.N1=3,Rt.N2=3,Rt.N3=40,Rt.N4=10;class Ec{constructor(s,o){this.width=s,this.height=o;const l=new Array(o);for(let c=0;c!==o;c++)l[c]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,l){this.bytes[o][s]=l}setBoolean(s,o,l){this.bytes[o][s]=l?1:0}clear(s){for(const o of this.bytes)S.fill(o,s)}equals(s){if(!(s instanceof Ec))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,c=this.height;l<c;++l){const d=this.bytes[l],f=o.bytes[l];for(let g=0,y=this.width;g<y;++g)if(d[g]!==f[g])return!1}return!0}toString(){const s=new ie;for(let o=0,l=this.height;o<l;++o){const c=this.bytes[o];for(let d=0,f=this.width;d<f;++d)switch(c[d]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Pi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new ie;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Pi.NUM_MASK_PATTERNS}}Pi.NUM_MASK_PATTERNS=8;class ot extends x{}ot.kind="WriterException";class Re{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,l,c,d){Re.clearMatrix(d),Re.embedBasicPatterns(l,d),Re.embedTypeInfo(o,c,d),Re.maybeEmbedVersionInfo(l,d),Re.embedDataBits(s,c,d)}static embedBasicPatterns(s,o){Re.embedPositionDetectionPatternsAndSeparators(o),Re.embedDarkDotAtLeftBottomCorner(o),Re.maybeEmbedPositionAdjustmentPatterns(s,o),Re.embedTimingPatterns(o)}static embedTypeInfo(s,o,l){const c=new j;Re.makeTypeInfoBits(s,o,c);for(let d=0,f=c.getSize();d<f;++d){const g=c.get(c.getSize()-1-d),y=Re.TYPE_INFO_COORDINATES[d],v=y[0],N=y[1];if(l.setBoolean(v,N,g),d<8){const O=l.getWidth()-d-1;l.setBoolean(O,8,g)}else{const D=l.getHeight()-7+(d-8);l.setBoolean(8,D,g)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const l=new j;Re.makeVersionInfoBits(s,l);let c=6*3-1;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const g=l.get(c);c--,o.setBoolean(d,o.getHeight()-11+f,g),o.setBoolean(o.getHeight()-11+f,d,g)}}static embedDataBits(s,o,l){let c=0,d=-1,f=l.getWidth()-1,g=l.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);g>=0&&g<l.getHeight();){for(let y=0;y<2;++y){const v=f-y;if(!Re.isEmpty(l.get(v,g)))continue;let N;c<s.getSize()?(N=s.get(c),++c):N=!1,o!==255&&Rt.getDataMaskBit(o,v,g)&&(N=!N),l.setBoolean(v,g,N)}g+=d}d=-d,g+=d,f-=2}if(c!==s.getSize())throw new ot("Not all bits consumed: "+c+"/"+s.getSize())}static findMSBSet(s){return 32-_.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new b("0 polynomial");const l=Re.findMSBSet(o);for(s<<=l-1;Re.findMSBSet(s)>=l;)s^=o<<Re.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,o,l){if(!Pi.isValidMaskPattern(o))throw new ot("Invalid mask pattern");const c=s.getBits()<<3|o;l.appendBits(c,5);const d=Re.calculateBCHCode(c,Re.TYPE_INFO_POLY);l.appendBits(d,10);const f=new j;if(f.appendBits(Re.TYPE_INFO_MASK_PATTERN,15),l.xor(f),l.getSize()!==15)throw new ot("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const l=Re.calculateBCHCode(s.getVersionNumber(),Re.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new ot("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const l=(o+1)%2;Re.isEmpty(s.get(o,6))&&s.setNumber(o,6,l),Re.isEmpty(s.get(6,o))&&s.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new ot;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,l){for(let c=0;c<8;++c){if(!Re.isEmpty(l.get(s+c,o)))throw new ot;l.setNumber(s+c,o,0)}}static embedVerticalSeparationPattern(s,o,l){for(let c=0;c<7;++c){if(!Re.isEmpty(l.get(s,o+c)))throw new ot;l.setNumber(s,o+c,0)}}static embedPositionAdjustmentPattern(s,o,l){for(let c=0;c<5;++c){const d=Re.POSITION_ADJUSTMENT_PATTERN[c];for(let f=0;f<5;++f)l.setNumber(s+f,o+c,d[f])}}static embedPositionDetectionPattern(s,o,l){for(let c=0;c<7;++c){const d=Re.POSITION_DETECTION_PATTERN[c];for(let f=0;f<7;++f)l.setNumber(s+f,o+c,d[f])}}static embedPositionDetectionPatternsAndSeparators(s){const o=Re.POSITION_DETECTION_PATTERN[0].length;Re.embedPositionDetectionPattern(0,0,s),Re.embedPositionDetectionPattern(s.getWidth()-o,0,s),Re.embedPositionDetectionPattern(0,s.getWidth()-o,s);const l=8;Re.embedHorizontalSeparationPattern(0,l-1,s),Re.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),Re.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const c=7;Re.embedVerticalSeparationPattern(c,0,s),Re.embedVerticalSeparationPattern(s.getHeight()-c-1,0,s),Re.embedVerticalSeparationPattern(c,s.getHeight()-c,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,c=Re.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,f=c.length;d!==f;d++){const g=c[d];if(g>=0)for(let y=0;y!==f;y++){const v=c[y];v>=0&&Re.isEmpty(o.get(v,g))&&Re.embedPositionAdjustmentPattern(v-2,g-2,o)}}}}Re.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Re.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Re.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Re.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Re.VERSION_INFO_POLY=7973,Re.TYPE_INFO_POLY=1335,Re.TYPE_INFO_MASK_PATTERN=21522;class kE{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class dt{constructor(){}static calculateMaskPenalty(s){return Rt.applyMaskPenaltyRule1(s)+Rt.applyMaskPenaltyRule2(s)+Rt.applyMaskPenaltyRule3(s)+Rt.applyMaskPenaltyRule4(s)}static encode(s,o,l=null){let c=dt.DEFAULT_BYTE_MODE_ENCODING;const d=l!==null&&l.get(Gt.CHARACTER_SET)!==void 0;d&&(c=l.get(Gt.CHARACTER_SET).toString());const f=this.chooseMode(s,c),g=new j;if(f===Ie.BYTE&&(d||dt.DEFAULT_BYTE_MODE_ENCODING!==c)){const he=V.getCharacterSetECIByName(c);he!==void 0&&this.appendECI(he,g)}this.appendModeInfo(f,g);const y=new j;this.appendBytes(s,f,y,c);let v;if(l!==null&&l.get(Gt.QR_VERSION)!==void 0){const he=Number.parseInt(l.get(Gt.QR_VERSION).toString(),10);v=Se.getVersionForNumber(he);const ce=this.calculateBitsNeeded(f,g,y,v);if(!this.willFit(ce,v,o))throw new ot("Data too big for requested version")}else v=this.recommendVersion(o,f,g,y);const N=new j;N.appendBitArray(g);const O=f===Ie.BYTE?y.getSizeInBytes():s.length;this.appendLengthInfo(O,v,f,N),N.appendBitArray(y);const D=v.getECBlocksForLevel(o),U=v.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(U,N);const z=this.interleaveWithECBytes(N,v.getTotalCodewords(),U,D.getNumBlocks()),$=new Pi;$.setECLevel(o),$.setMode(f),$.setVersion(v);const K=v.getDimensionForVersion(),Z=new Ec(K,K),fe=this.chooseMaskPattern(z,o,v,Z);return $.setMaskPattern(fe),Re.buildMatrix(z,o,v,fe,Z),$.setMatrix(Z),$}static recommendVersion(s,o,l,c){const d=this.calculateBitsNeeded(o,l,c,Se.getVersionForNumber(1)),f=this.chooseVersion(d,s),g=this.calculateBitsNeeded(o,l,c,f);return this.chooseVersion(g,s)}static calculateBitsNeeded(s,o,l,c){return o.getSize()+s.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(s){return s<dt.ALPHANUMERIC_TABLE.length?dt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(V.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return Ie.KANJI;let l=!1,c=!1;for(let d=0,f=s.length;d<f;++d){const g=s.charAt(d);if(dt.isDigit(g))l=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)c=!0;else return Ie.BYTE}return c?Ie.ALPHANUMERIC:l?Ie.NUMERIC:Ie.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=H.encode(s,V.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let c=0;c<l;c+=2){const d=o[c]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(s,o,l,c){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let g=0;g<Pi.NUM_MASK_PATTERNS;g++){Re.buildMatrix(s,o,l,g,c);let y=this.calculateMaskPenalty(c);y<d&&(d=y,f=g)}return f}static chooseVersion(s,o){for(let l=1;l<=40;l++){const c=Se.getVersionForNumber(l);if(dt.willFit(s,c,o))return c}throw new ot("Data too big")}static willFit(s,o,l){const c=o.getTotalCodewords(),f=o.getECBlocksForLevel(l).getTotalECCodewords(),g=c-f,y=(s+7)/8;return g>=y}static terminateBits(s,o){const l=s*8;if(o.getSize()>l)throw new ot("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let f=0;f<4&&o.getSize()<l;++f)o.appendBit(!1);const c=o.getSize()&7;if(c>0)for(let f=c;f<8;f++)o.appendBit(!1);const d=s-o.getSizeInBytes();for(let f=0;f<d;++f)o.appendBits(f&1?17:236,8);if(o.getSize()!==l)throw new ot("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,l,c,d,f){if(c>=l)throw new ot("Block ID too large");const g=s%l,y=l-g,v=Math.floor(s/l),N=v+1,O=Math.floor(o/l),D=O+1,U=v-O,z=N-D;if(U!==z)throw new ot("EC bytes mismatch");if(l!==y+g)throw new ot("RS blocks mismatch");if(s!==(O+U)*y+(D+z)*g)throw new ot("Total bytes mismatch");c<y?(d[0]=O,f[0]=U):(d[0]=D,f[0]=z)}static interleaveWithECBytes(s,o,l,c){if(s.getSizeInBytes()!==l)throw new ot("Number of bits and data bytes does not match");let d=0,f=0,g=0;const y=new Array;for(let N=0;N<c;++N){const O=new Int32Array(1),D=new Int32Array(1);dt.getNumDataBytesAndNumECBytesForBlockID(o,l,c,N,O,D);const U=O[0],z=new Uint8Array(U);s.toBytes(8*d,z,0,U);const $=dt.generateECBytes(z,D[0]);y.push(new kE(z,$)),f=Math.max(f,U),g=Math.max(g,$.length),d+=O[0]}if(l!==d)throw new ot("Data bytes does not match offset");const v=new j;for(let N=0;N<f;++N)for(const O of y){const D=O.getDataBytes();N<D.length&&v.appendBits(D[N],8)}for(let N=0;N<g;++N)for(const O of y){const D=O.getErrorCorrectionBytes();N<D.length&&v.appendBits(D[N],8)}if(o!==v.getSizeInBytes())throw new ot("Interleaving error: "+o+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(s,o){const l=s.length,c=new Int32Array(l+o);for(let f=0;f<l;f++)c[f]=s[f]&255;new sf(ke.QR_CODE_FIELD_256).encode(c,o);const d=new Uint8Array(o);for(let f=0;f<o;f++)d[f]=c[l+f];return d}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,l,c){const d=l.getCharacterCountBits(o);if(s>=1<<d)throw new ot(s+" is bigger than "+((1<<d)-1));c.appendBits(s,d)}static appendBytes(s,o,l,c){switch(o){case Ie.NUMERIC:dt.appendNumericBytes(s,l);break;case Ie.ALPHANUMERIC:dt.appendAlphanumericBytes(s,l);break;case Ie.BYTE:dt.append8BitBytes(s,l,c);break;case Ie.KANJI:dt.appendKanjiBytes(s,l);break;default:throw new ot("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=dt.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const l=s.length;let c=0;for(;c<l;){const d=dt.getDigit(s.charAt(c));if(c+2<l){const f=dt.getDigit(s.charAt(c+1)),g=dt.getDigit(s.charAt(c+2));o.appendBits(d*100+f*10+g,10),c+=3}else if(c+1<l){const f=dt.getDigit(s.charAt(c+1));o.appendBits(d*10+f,7),c+=2}else o.appendBits(d,4),c++}}static appendAlphanumericBytes(s,o){const l=s.length;let c=0;for(;c<l;){const d=dt.getAlphanumericCode(s.charCodeAt(c));if(d===-1)throw new ot;if(c+1<l){const f=dt.getAlphanumericCode(s.charCodeAt(c+1));if(f===-1)throw new ot;o.appendBits(d*45+f,11),c+=2}else o.appendBits(d,6),c++}}static append8BitBytes(s,o,l){let c;try{c=H.encode(s,l)}catch(d){throw new ot(d)}for(let d=0,f=c.length;d!==f;d++){const g=c[d];o.appendBits(g,8)}}static appendKanjiBytes(s,o){let l;try{l=H.encode(s,V.SJIS)}catch(d){throw new ot(d)}const c=l.length;for(let d=0;d<c;d+=2){const f=l[d]&255,g=l[d+1]&255,y=f<<8&4294967295|g;let v=-1;if(y>=33088&&y<=40956?v=y-33088:y>=57408&&y<=60351&&(v=y-49472),v===-1)throw new ot("Invalid byte sequence");const N=(v>>8)*192+(v&255);o.appendBits(N,13)}}static appendECI(s,o){o.appendBits(Ie.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),dt.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class ji{write(s,o,l,c=null){if(s.length===0)throw new b("Found empty contents");if(o<0||l<0)throw new b("Requested dimensions are too small: "+o+"x"+l);let d=lt.L,f=ji.QUIET_ZONE_SIZE;c!==null&&(c.get(Gt.ERROR_CORRECTION)!==void 0&&(d=lt.fromString(c.get(Gt.ERROR_CORRECTION).toString())),c.get(Gt.MARGIN)!==void 0&&(f=Number.parseInt(c.get(Gt.MARGIN).toString(),10)));const g=dt.encode(s,d,c);return this.renderResult(g,o,l,f)}writeToDom(s,o,l,c,d=null){typeof s=="string"&&(s=document.querySelector(s));const f=this.write(o,l,c,d);s&&s.appendChild(f)}renderResult(s,o,l,c){const d=s.getMatrix();if(d===null)throw new fr;const f=d.getWidth(),g=d.getHeight(),y=f+c*2,v=g+c*2,N=Math.max(o,y),O=Math.max(l,v),D=Math.min(Math.floor(N/y),Math.floor(O/v)),U=Math.floor((N-f*D)/2),z=Math.floor((O-g*D)/2),$=this.createSVGElement(N,O);for(let K=0,Z=z;K<g;K++,Z+=D)for(let fe=0,he=U;fe<f;fe++,he+=D)if(d.get(fe,K)===1){const ce=this.createSvgRectElement(he,Z,D,D);$.appendChild(ce)}return $}createSVGElement(s,o){const l=document.createElementNS(ji.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(s,o,l,c){const d=document.createElementNS(ji.SVG_NS,"rect");return d.setAttributeNS(null,"x",s.toString()),d.setAttributeNS(null,"y",o.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",c.toString()),d.setAttributeNS(null,"fill","#000000"),d}}ji.QUIET_ZONE_SIZE=4,ji.SVG_NS="http://www.w3.org/2000/svg";class xo{encode(s,o,l,c,d){if(s.length===0)throw new b("Found empty contents");if(o!==te.QR_CODE)throw new b("Can only encode QR_CODE, but got "+o);if(l<0||c<0)throw new b(`Requested dimensions are too small: ${l}x${c}`);let f=lt.L,g=xo.QUIET_ZONE_SIZE;d!==null&&(d.get(Gt.ERROR_CORRECTION)!==void 0&&(f=lt.fromString(d.get(Gt.ERROR_CORRECTION).toString())),d.get(Gt.MARGIN)!==void 0&&(g=Number.parseInt(d.get(Gt.MARGIN).toString(),10)));const y=dt.encode(s,f,d);return xo.renderResult(y,l,c,g)}static renderResult(s,o,l,c){const d=s.getMatrix();if(d===null)throw new fr;const f=d.getWidth(),g=d.getHeight(),y=f+c*2,v=g+c*2,N=Math.max(o,y),O=Math.max(l,v),D=Math.min(Math.floor(N/y),Math.floor(O/v)),U=Math.floor((N-f*D)/2),z=Math.floor((O-g*D)/2),$=new re(N,O);for(let K=0,Z=z;K<g;K++,Z+=D)for(let fe=0,he=U;fe<f;fe++,he+=D)d.get(fe,K)===1&&$.setRegion(he,Z,D,D);return $}}xo.QUIET_ZONE_SIZE=4;class IE{encode(s,o,l,c,d){let f;switch(o){case te.QR_CODE:f=new xo;break;default:throw new b("No encoder available for format "+o)}return f.encode(s,o,l,c,d)}}class Wn extends J{constructor(s,o,l,c,d,f,g,y){if(super(f,g),this.yuvData=s,this.dataWidth=o,this.dataHeight=l,this.left=c,this.top=d,c+f>o||d+g>l)throw new b("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(f,g)}getRow(s,o){if(s<0||s>=this.getHeight())throw new b("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const c=(s+this.top)*this.dataWidth+this.left;return A.arraycopy(this.yuvData,c,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=s*o,c=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return A.arraycopy(this.yuvData,d,c,0,l),c;for(let f=0;f<o;f++){const g=f*s;A.arraycopy(this.yuvData,d,c,g,s),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,o,l,c){return new Wn(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,l,c,!1)}renderThumbnail(){const s=this.getWidth()/Wn.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/Wn.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*o),c=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let f=0;f<o;f++){const g=f*s;for(let y=0;y<s;y++){const v=c[d+y*Wn.THUMBNAIL_SCALE_FACTOR]&255;l[g+y]=4278190080|v*65793}d+=this.dataWidth*Wn.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Wn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Wn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const l=this.yuvData;for(let c=0,d=this.top*this.dataWidth+this.left;c<o;c++,d+=this.dataWidth){const f=d+s/2;for(let g=d,y=d+s-1;g<f;g++,y--){const v=l[g];l[g]=l[y],l[y]=v}}}invert(){return new Y(this)}}Wn.THUMBNAIL_SCALE_FACTOR=2;class of extends J{constructor(s,o,l,c,d,f,g){if(super(o,l),this.dataWidth=c,this.dataHeight=d,this.left=f,this.top=g,s.BYTES_PER_ELEMENT===4){const y=o*l,v=new Uint8ClampedArray(y);for(let N=0;N<y;N++){const O=s[N],D=O>>16&255,U=O>>7&510,z=O&255;v[N]=(D+U+z)/4&255}this.luminances=v}else this.luminances=s;if(c===void 0&&(this.dataWidth=o),d===void 0&&(this.dataHeight=l),f===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new b("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const c=(s+this.top)*this.dataWidth+this.left;return A.arraycopy(this.luminances,c,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=s*o,c=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return A.arraycopy(this.luminances,d,c,0,l),c;for(let f=0;f<o;f++){const g=f*s;A.arraycopy(this.luminances,d,c,g,s),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(s,o,l,c){return new of(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new Y(this)}}class Mm extends V{static forName(s){return this.getCharacterSetECIByName(s)}}class af{}af.ISO_8859_1=V.ISO8859_1;class Lm{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Bm{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class RE{constructor(s){this.previous=s}getPrevious(){return this.previous}}class yo extends RE{constructor(s,o,l){super(s),this.value=o,this.bitCount=l}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new yo(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new yo(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+_.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class lf extends yo{constructor(s,o,l){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(s,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(s,o){return new lf(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function OE(R,s,o){return new lf(R,s,o)}function Ha(R,s,o){return new yo(R,s,o)}const PE=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Bs=0,Cc=1,ln=2,Fm=3,Hn=4,jE=new yo(null,0,0),cf=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function DE(R){for(let s of R)S.fill(s,-1);return R[Bs][Hn]=0,R[Cc][Hn]=0,R[Cc][Bs]=28,R[Fm][Hn]=0,R[ln][Hn]=0,R[ln][Bs]=15,R}const Um=DE(S.createInt32Array(6,6));class $n{constructor(s,o,l,c){this.token=s,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let l=this.bitCount,c=this.token;if(s!==this.mode){let f=cf[this.mode][s];c=Ha(c,f&65535,f>>16),l+=f>>16}let d=s===ln?4:5;return c=Ha(c,o,d),new $n(c,s,0,l+d)}shiftAndAppend(s,o){let l=this.token,c=this.mode===ln?4:5;return l=Ha(l,Um[this.mode][s],c),l=Ha(l,o,5),new $n(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(s){let o=this.token,l=this.mode,c=this.bitCount;if(this.mode===Hn||this.mode===ln){let g=cf[l][Bs];o=Ha(o,g&65535,g>>16),c+=g>>16,l=Bs}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new $n(o,l,this.binaryShiftByteCount+1,c+d);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(s+1)),f}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=OE(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new $n(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(cf[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=$n.calculateBinaryShiftCost(s)-$n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let c=this.endBinaryShift(s.length).token;c!==null;c=c.getPrevious())o.unshift(c);let l=new j;for(const c of o)c.appendTo(l,s);return l}toString(){return q.format("%s bits=%d bytes=%d",PE[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}$n.INITIAL_STATE=new $n(jE,Bs,0,0);function ME(R){const s=q.getCharCode(" "),o=q.getCharCode("."),l=q.getCharCode(",");R[Bs][s]=1;const c=q.getCharCode("Z"),d=q.getCharCode("A");for(let D=d;D<=c;D++)R[Bs][D]=D-d+2;R[Cc][s]=1;const f=q.getCharCode("z"),g=q.getCharCode("a");for(let D=g;D<=f;D++)R[Cc][D]=D-g+2;R[ln][s]=1;const y=q.getCharCode("9"),v=q.getCharCode("0");for(let D=v;D<=y;D++)R[ln][D]=D-v+2;R[ln][l]=12,R[ln][o]=13;const N=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<N.length;D++)R[Fm][q.getCharCode(N[D])]=D;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<O.length;D++)q.getCharCode(O[D])>0&&(R[Hn][q.getCharCode(O[D])]=D);return R}const uf=ME(S.createInt32Array(5,256));class $a{constructor(s){this.text=s}encode(){const s=q.getCharCode(" "),o=q.getCharCode(`
`);let l=Bm.singletonList($n.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,g=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case q.getCharCode("\r"):f=g===o?2:0;break;case q.getCharCode("."):f=g===s?3:0;break;case q.getCharCode(","):f=g===s?4:0;break;case q.getCharCode(":"):f=g===s?5:0;break;default:f=0}f>0?(l=$a.updateStateListForPair(l,d,f),d++):l=this.updateStateListForChar(l,d)}return Bm.min(l,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const l=[];for(let c of s)this.updateStateForChar(c,o,l);return $a.simplifyStates(l)}updateStateForChar(s,o,l){let c=this.text[o]&255,d=uf[s.getMode()][c]>0,f=null;for(let g=0;g<=Hn;g++){let y=uf[g][c];if(y>0){if(f==null&&(f=s.endBinaryShift(o)),!d||g===s.getMode()||g===ln){const v=f.latchAndAppend(g,y);l.push(v)}if(!d&&Um[s.getMode()][g]>=0){const v=f.shiftAndAppend(g,y);l.push(v)}}}if(s.getBinaryShiftByteCount()>0||uf[s.getMode()][c]===0){let g=s.addBinaryShiftChar(o);l.push(g)}}static updateStateListForPair(s,o,l){const c=[];for(let d of s)this.updateStateForPair(d,o,l,c);return this.simplifyStates(c)}static updateStateForPair(s,o,l,c){let d=s.endBinaryShift(o);if(c.push(d.latchAndAppend(Hn,l)),s.getMode()!==Hn&&c.push(d.shiftAndAppend(Hn,l)),l===3||l===4){let f=d.latchAndAppend(ln,16-l).latchAndAppend(ln,1);c.push(f)}if(s.getBinaryShiftByteCount()>0){let f=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);c.push(f)}}static simplifyStates(s){let o=[];for(const l of s){let c=!0;for(const d of o){if(d.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(d)&&(o=o.filter(f=>f!==d))}c&&o.push(l)}return o}}class Ye{constructor(){}static encodeBytes(s){return Ye.encode(s,Ye.DEFAULT_EC_PERCENT,Ye.DEFAULT_AZTEC_LAYERS)}static encode(s,o,l){let c=new $a(s).encode(),d=_.truncDivision(c.getSize()*o,100)+11,f=c.getSize()+d,g,y,v,N,O;if(l!==Ye.DEFAULT_AZTEC_LAYERS){if(g=l<0,y=Math.abs(l),y>(g?Ye.MAX_NB_BITS_COMPACT:Ye.MAX_NB_BITS))throw new b(q.format("Illegal value %s for layers",l));v=Ye.totalBitsInLayer(y,g),N=Ye.WORD_SIZE[y];let ce=v-v%N;if(O=Ye.stuffBits(c,N),O.getSize()+d>ce)throw new b("Data to large for user specified layer");if(g&&O.getSize()>N*64)throw new b("Data to large for user specified layer")}else{N=0,O=null;for(let ce=0;;ce++){if(ce>Ye.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(g=ce<=3,y=g?ce+1:ce,v=Ye.totalBitsInLayer(y,g),f>v)continue;(O==null||N!==Ye.WORD_SIZE[y])&&(N=Ye.WORD_SIZE[y],O=Ye.stuffBits(c,N));let $e=v-v%N;if(!(g&&O.getSize()>N*64)&&O.getSize()+d<=$e)break}}let D=Ye.generateCheckWords(O,v,N),U=O.getSize()/N,z=Ye.generateModeMessage(g,y,U),$=(g?11:14)+y*4,K=new Int32Array($),Z;if(g){Z=$;for(let ce=0;ce<K.length;ce++)K[ce]=ce}else{Z=$+1+2*_.truncDivision(_.truncDivision($,2)-1,15);let ce=_.truncDivision($,2),$e=_.truncDivision(Z,2);for(let Be=0;Be<ce;Be++){let Pr=Be+_.truncDivision(Be,15);K[ce-Be-1]=$e-Pr-1,K[ce+Be]=$e+Pr+1}}let fe=new re(Z);for(let ce=0,$e=0;ce<y;ce++){let Be=(y-ce)*4+(g?9:12);for(let Pr=0;Pr<Be;Pr++){let vn=Pr*2;for(let jr=0;jr<2;jr++)D.get($e+vn+jr)&&fe.set(K[ce*2+jr],K[ce*2+Pr]),D.get($e+Be*2+vn+jr)&&fe.set(K[ce*2+Pr],K[$-1-ce*2-jr]),D.get($e+Be*4+vn+jr)&&fe.set(K[$-1-ce*2-jr],K[$-1-ce*2-Pr]),D.get($e+Be*6+vn+jr)&&fe.set(K[$-1-ce*2-Pr],K[ce*2+jr])}$e+=Be*8}if(Ye.drawModeMessage(fe,g,Z,z),g)Ye.drawBullsEye(fe,_.truncDivision(Z,2),5);else{Ye.drawBullsEye(fe,_.truncDivision(Z,2),7);for(let ce=0,$e=0;ce<_.truncDivision($,2)-1;ce+=15,$e+=16)for(let Be=_.truncDivision(Z,2)&1;Be<Z;Be+=2)fe.set(_.truncDivision(Z,2)-$e,Be),fe.set(_.truncDivision(Z,2)+$e,Be),fe.set(Be,_.truncDivision(Z,2)-$e),fe.set(Be,_.truncDivision(Z,2)+$e)}let he=new Lm;return he.setCompact(g),he.setSize(Z),he.setLayers(y),he.setCodeWords(U),he.setMatrix(fe),he}static drawBullsEye(s,o,l){for(let c=0;c<l;c+=2)for(let d=o-c;d<=o+c;d++)s.set(d,o-c),s.set(d,o+c),s.set(o-c,d),s.set(o+c,d);s.set(o-l,o-l),s.set(o-l+1,o-l),s.set(o-l,o-l+1),s.set(o+l,o-l),s.set(o+l,o-l+1),s.set(o+l,o+l-1)}static generateModeMessage(s,o,l){let c=new j;return s?(c.appendBits(o-1,2),c.appendBits(l-1,6),c=Ye.generateCheckWords(c,28,4)):(c.appendBits(o-1,5),c.appendBits(l-1,11),c=Ye.generateCheckWords(c,40,4)),c}static drawModeMessage(s,o,l,c){let d=_.truncDivision(l,2);if(o)for(let f=0;f<7;f++){let g=d-3+f;c.get(f)&&s.set(g,d-5),c.get(f+7)&&s.set(d+5,g),c.get(20-f)&&s.set(g,d+5),c.get(27-f)&&s.set(d-5,g)}else for(let f=0;f<10;f++){let g=d-5+f+_.truncDivision(f,5);c.get(f)&&s.set(g,d-7),c.get(f+10)&&s.set(d+7,g),c.get(29-f)&&s.set(g,d+7),c.get(39-f)&&s.set(d-7,g)}}static generateCheckWords(s,o,l){let c=s.getSize()/l,d=new sf(Ye.getGF(l)),f=_.truncDivision(o,l),g=Ye.bitsToWords(s,l,f);d.encode(g,f-c);let y=o%l,v=new j;v.appendBits(0,y);for(const N of Array.from(g))v.appendBits(N,l);return v}static bitsToWords(s,o,l){let c=new Int32Array(l),d,f;for(d=0,f=s.getSize()/o;d<f;d++){let g=0;for(let y=0;y<o;y++)g|=s.get(d*o+y)?1<<o-y-1:0;c[d]=g}return c}static getGF(s){switch(s){case 4:return ke.AZTEC_PARAM;case 6:return ke.AZTEC_DATA_6;case 8:return ke.AZTEC_DATA_8;case 10:return ke.AZTEC_DATA_10;case 12:return ke.AZTEC_DATA_12;default:throw new b("Unsupported word size "+s)}}static stuffBits(s,o){let l=new j,c=s.getSize(),d=(1<<o)-2;for(let f=0;f<c;f+=o){let g=0;for(let y=0;y<o;y++)(f+y>=c||s.get(f+y))&&(g|=1<<o-1-y);(g&d)===d?(l.appendBits(g&d,o),f--):g&d?l.appendBits(g,o):(l.appendBits(g|1,o),f--)}return l}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Ye.DEFAULT_EC_PERCENT=33,Ye.DEFAULT_AZTEC_LAYERS=0,Ye.MAX_NB_BITS=32,Ye.MAX_NB_BITS_COMPACT=4,Ye.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class _c{encode(s,o,l,c){return this.encodeWithHints(s,o,l,c,null)}encodeWithHints(s,o,l,c,d){let f=af.ISO_8859_1,g=Ye.DEFAULT_EC_PERCENT,y=Ye.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(Gt.CHARACTER_SET)&&(f=Mm.forName(d.get(Gt.CHARACTER_SET).toString())),d.has(Gt.ERROR_CORRECTION)&&(g=_.parseInt(d.get(Gt.ERROR_CORRECTION).toString())),d.has(Gt.AZTEC_LAYERS)&&(y=_.parseInt(d.get(Gt.AZTEC_LAYERS).toString()))),_c.encodeLayers(s,o,l,c,f,g,y)}static encodeLayers(s,o,l,c,d,f,g){if(o!==te.AZTEC)throw new b("Can only encode AZTEC, but got "+o);let y=Ye.encode(q.getBytes(s,d),f,g);return _c.renderResult(y,l,c)}static renderResult(s,o,l){let c=s.getMatrix();if(c==null)throw new fr;let d=c.getWidth(),f=c.getHeight(),g=Math.max(o,d),y=Math.max(l,f),v=Math.min(g/d,y/f),N=(g-d*v)/2,O=(y-f*v)/2,D=new re(g,y);for(let U=0,z=O;U<f;U++,z+=v)for(let $=0,K=N;$<d;$++,K+=v)c.get($,U)&&D.setRegion(K,z,v,v);return D}}r.AbstractExpandedDecoder=Kd,r.ArgumentException=w,r.ArithmeticException=rt,r.AztecCode=Lm,r.AztecCodeReader=uo,r.AztecCodeWriter=_c,r.AztecDecoder=Ze,r.AztecDetector=ki,r.AztecDetectorResult=Fn,r.AztecEncoder=Ye,r.AztecHighLevelEncoder=$a,r.AztecPoint=rr,r.BarcodeFormat=te,r.Binarizer=k,r.BinaryBitmap=C,r.BitArray=j,r.BitMatrix=re,r.BitSource=Zd,r.BrowserAztecCodeReader=pc,r.BrowserBarcodeReader=hE,r.BrowserCodeReader=Oe,r.BrowserDatamatrixCodeReader=pE,r.BrowserMultiFormatReader=AE,r.BrowserPDF417Reader=NE,r.BrowserQRCodeReader=TE,r.BrowserQRCodeSvgWriter=ji,r.CharacterSetECI=V,r.ChecksumException=E,r.Code128Reader=me,r.Code39Reader=kt,r.DataMatrixDecodedBitStreamParser=js,r.DataMatrixReader=Ds,r.DecodeHintType=L,r.DecoderResult=gt,r.DefaultGridSampler=as,r.DetectorResult=Ti,r.EAN13Reader=yn,r.EncodeHintType=Gt,r.Exception=x,r.FormatException=M,r.GenericGF=ke,r.GenericGFPoly=Ke,r.GlobalHistogramBinarizer=ue,r.GridSampler=Ma,r.GridSamplerInstance=Un,r.HTMLCanvasElementLuminanceSource=le,r.HybridBinarizer=ee,r.ITFReader=qe,r.IllegalArgumentException=b,r.IllegalStateException=fr,r.InvertedLuminanceSource=Y,r.LuminanceSource=J,r.MathUtils=Ve,r.MultiFormatOneDReader=po,r.MultiFormatReader=Dm,r.MultiFormatWriter=IE,r.NotFoundException=G,r.OneDReader=yt,r.PDF417DecodedBitStreamParser=Q,r.PDF417DecoderErrorCorrection=km,r.PDF417Reader=sr,r.PDF417ResultMetadata=Rm,r.PerspectiveTransform=xt,r.PlanarYUVLuminanceSource=Wn,r.QRCodeByteMatrix=Ec,r.QRCodeDataMask=on,r.QRCodeDecodedBitStreamParser=_t,r.QRCodeDecoderErrorCorrectionLevel=lt,r.QRCodeDecoderFormatInformation=mr,r.QRCodeEncoder=dt,r.QRCodeEncoderQRCode=Pi,r.QRCodeMaskUtil=Rt,r.QRCodeMatrixUtil=Re,r.QRCodeMode=Ie,r.QRCodeReader=Ms,r.QRCodeVersion=Se,r.QRCodeWriter=xo,r.RGBLuminanceSource=of,r.RSS14Reader=It,r.RSSExpandedReader=oe,r.ReaderException=bc,r.ReedSolomonDecoder=rn,r.ReedSolomonEncoder=sf,r.ReedSolomonException=Yt,r.Result=Ee,r.ResultMetadataType=ye,r.ResultPoint=we,r.StringUtils=q,r.UnsupportedOperationException=ne,r.VideoInputDevice=Ae,r.WhiteRectangleDetector=xn,r.WriterException=ot,r.ZXingArrays=S,r.ZXingCharset=Mm,r.ZXingInteger=_,r.ZXingStandardCharsets=af,r.ZXingStringBuilder=ie,r.ZXingStringEncoding=H,r.ZXingSystem=A,r.createAbstractExpandedDecoder=Nm,Object.defineProperty(r,"__esModule",{value:!0})})})(W0,W0.exports);var mt=W0.exports;const y5=H0(mt),w5=Vx({__proto__:null,default:y5},[mt]);var Ax=function(){function e(t,r,n){if(this.formatMap=new Map([[be.QR_CODE,mt.BarcodeFormat.QR_CODE],[be.AZTEC,mt.BarcodeFormat.AZTEC],[be.CODABAR,mt.BarcodeFormat.CODABAR],[be.CODE_39,mt.BarcodeFormat.CODE_39],[be.CODE_93,mt.BarcodeFormat.CODE_93],[be.CODE_128,mt.BarcodeFormat.CODE_128],[be.DATA_MATRIX,mt.BarcodeFormat.DATA_MATRIX],[be.MAXICODE,mt.BarcodeFormat.MAXICODE],[be.ITF,mt.BarcodeFormat.ITF],[be.EAN_13,mt.BarcodeFormat.EAN_13],[be.EAN_8,mt.BarcodeFormat.EAN_8],[be.PDF_417,mt.BarcodeFormat.PDF_417],[be.RSS_14,mt.BarcodeFormat.RSS_14],[be.RSS_EXPANDED,mt.BarcodeFormat.RSS_EXPANDED],[be.UPC_A,mt.BarcodeFormat.UPC_A],[be.UPC_E,mt.BarcodeFormat.UPC_E],[be.UPC_EAN_EXTENSION,mt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!w5)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(mt.DecodeHintType.POSSIBLE_FORMATS,i),a.set(mt.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new mt.MultiFormatReader(this.verbose,this.hints),n=new mt.HTMLCanvasElementLuminanceSource(t),i=new mt.BinaryBitmap(new mt.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:iE.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),v5=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function h(w){try{x(n.next(w))}catch(b){u(b)}}function p(w){try{x(n.throw(w))}catch(b){u(b)}}function x(w){w.done?a(w.value):i(w.value).then(h,p)}x((n=n.apply(e,t||[])).next())})},b5=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(x){return function(w){return p([x,w])}}function p(x){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,x[0]&&(r=0)),r;)try{if(n=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,i=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){r.label=x[1];break}if(x[0]===6&&r.label<a[1]){r.label=a[1],a=x;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(x);break}a[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(w){x=[6,w],i=0}finally{n=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Nx=function(){function e(t,r,n){if(this.formatMap=new Map([[be.QR_CODE,"qr_code"],[be.AZTEC,"aztec"],[be.CODABAR,"codabar"],[be.CODE_39,"code_39"],[be.CODE_93,"code_93"],[be.CODE_128,"code_128"],[be.DATA_MATRIX,"data_matrix"],[be.ITF,"itf"],[be.EAN_13,"ean_13"],[be.EAN_8,"ean_8"],[be.PDF_417,"pdf417"],[be.UPC_A,"upc_a"],[be.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return v5(this,void 0,void 0,function(){var r,n;return b5(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:iE.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var u=a[i],h=u.boundingBox.width*u.boundingBox.height;h>n&&(n=h,r=u)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Tx=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function h(w){try{x(n.next(w))}catch(b){u(b)}}function p(w){try{x(n.throw(w))}catch(b){u(b)}}function x(w){w.done?a(w.value):i(w.value).then(h,p)}x((n=n.apply(e,t||[])).next())})},kx=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(x){return function(w){return p([x,w])}}function p(x){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,x[0]&&(r=0)),r;)try{if(n=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,i=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){r.label=x[1];break}if(x[0]===6&&r.label<a[1]){r.label=a[1],a=x;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(x);break}a[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(w){x=[6,w],i=0}finally{n=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},E5=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&Nx.isSupported()?(this.primaryDecoder=new Nx(t,n,i),this.secondaryDecoder=new Ax(t,n,i)):this.primaryDecoder=new Ax(t,n,i)}return e.prototype.decodeAsync=function(t){return Tx(this,void 0,void 0,function(){var r;return kx(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Tx(this,void 0,void 0,function(){var r,n;return kx(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Am=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cd=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function h(w){try{x(n.next(w))}catch(b){u(b)}}function p(w){try{x(n.throw(w))}catch(b){u(b)}}function x(w){w.done?a(w.value):i(w.value).then(h,p)}x((n=n.apply(e,t||[])).next())})},ud=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(x){return function(w){return p([x,w])}}function p(x){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,x[0]&&(r=0)),r;)try{if(n=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,i=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){r.label=x[1];break}if(x[0]===6&&r.label<a[1]){r.label=a[1],a=x;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(x);break}a[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(w){x=[6,w],i=0}finally{n=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},aE=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),C5=function(e){Am(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(aE),_5=function(e){Am(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(C5),S5=function(e){Am(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(aE),A5=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new _5(this.track)},e.prototype.torchFeature=function(){return new S5(this.track)},e}(),N5=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return cd(this,void 0,void 0,function(){var a,u;return ud(this,function(h){switch(h.label){case 0:return a=new e(t,r,i),n.aspectRatio?(u={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:h.sent(),h.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return cd(this,void 0,void 0,function(){return ud(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,u=0;t.mediaStream.getVideoTracks().forEach(function(h){t.mediaStream.removeTrack(h),h.stop(),++u,u>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new A5(this.getFirstTrackOrFail())},e}(),T5=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return cd(this,void 0,void 0,function(){return ud(this,function(i){return[2,N5.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return cd(this,void 0,void 0,function(){var r,n;return ud(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),Ix=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function h(w){try{x(n.next(w))}catch(b){u(b)}}function p(w){try{x(n.throw(w))}catch(b){u(b)}}function x(w){w.done?a(w.value):i(w.value).then(h,p)}x((n=n.apply(e,t||[])).next())})},Rx=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(x){return function(w){return p([x,w])}}function p(x){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,x[0]&&(r=0)),r;)try{if(n=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,i=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){r.label=x[1];break}if(x[0]===6&&r.label<a[1]){r.label=a[1],a=x;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(x);break}a[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(w){x=[6,w],i=0}finally{n=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},k5=function(){function e(){}return e.failIfNotSupported=function(){return Ix(this,void 0,void 0,function(){return Rx(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Ix(this,void 0,void 0,function(){return Rx(this,function(r){return[2,T5.create(t)]})})},e}(),I5=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function h(w){try{x(n.next(w))}catch(b){u(b)}}function p(w){try{x(n.throw(w))}catch(b){u(b)}}function x(w){w.done?a(w.value):i(w.value).then(h,p)}x((n=n.apply(e,t||[])).next())})},R5=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(x){return function(w){return p([x,w])}}function p(x){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,x[0]&&(r=0)),r;)try{if(n=1,i&&(a=x[0]&2?i.return:x[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,x[1])).done)return a;switch(i=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,i=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){r.label=x[1];break}if(x[0]===6&&r.label<a[1]){r.label=a[1],a=x;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(x);break}a[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(w){x=[6,w],i=0}finally{n=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},O5=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=qo.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=qo.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return I5(this,void 0,void 0,function(){var t,r,n,i,a,u,h;return R5(this,function(p){switch(p.label){case 0:return t=function(x){for(var w=x.getVideoTracks(),b=0,C=w;b<C.length;b++){var E=C[b];E.enabled=!1,E.stop(),x.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=p.sent(),i=[],a=0,u=n;a<u.length;a++)h=u[a],h.kind==="videoinput"&&i.push({id:h.deviceId,label:h.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var u=[],h=0,p=a;h<p.length;h++){var x=p[h];x.kind==="video"&&u.push({id:x.id,label:x.label})}t(u)},i=MediaStreamTrack;i.getSources(n)})},e}(),Pt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Pt||(Pt={}));var P5=function(){function e(){this.state=Pt.NOT_STARTED,this.onGoingTransactionNewState=Pt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Pt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Pt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Pt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Pt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Pt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Pt.UNKNOWN:throw"Transition from unknown is not allowed";case Pt.NOT_STARTED:this.failIfNewStateIs(t,[Pt.PAUSED]);break;case Pt.SCANNING:break;case Pt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),j5=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Pt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Pt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Pt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Pt.PAUSED},e}(),D5=function(){function e(){}return e.create=function(){return new j5(new P5)},e}(),M5=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wr=function(e){M5(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(p5),L5=function(){function e(t,r){this.logger=r,this.fps=Wr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Wr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?oE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ds(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),B5=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new x5(this.verbose),this.qrcode=new E5(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=D5.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var u;i?u=i:u=this.verbose?this.logger.log:function(){};var h=L5.create(r,this.logger);this.clearElement();var p=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=p,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:Wr.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var b=this,C=this.stateManagerProxy.startTransition(Pt.SCANNING);return new Promise(function(E,k){var A=x?h.videoConstraints:b.createVideoConstraints(t);if(!A){C.cancel(),k("videoConstraints should be defined");return}var P={};(!x||h.aspectRatio)&&(P.aspectRatio=h.aspectRatio);var T={onRenderSurfaceReady:function(S,_){b.setupUi(S,_,h),b.isScanning=!0,b.foreverScan(h,n,u)}};k5.failIfNotSupported().then(function(S){S.create(A).then(function(_){return _.render(a.element,P,T).then(function(j){b.renderedCamera=j,C.execute(),E(null)}).catch(function(j){C.cancel(),k(j)})}).catch(function(_){C.cancel(),k(qo.errorGettingUserMedia(_))})}).catch(function(S){C.cancel(),k(qo.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Pt.PAUSED),this.showPausedState(),(ds(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Pt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Pt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(Wr.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ds(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var u=new Image;u.onload=function(){var h=u.width,p=u.height,x=document.getElementById(n.elementId),w=x.clientWidth?x.clientWidth:Wr.DEFAULT_WIDTH,b=Math.max(x.clientHeight?x.clientHeight:p,Wr.FILE_SCAN_MIN_HEIGHT),C=n.computeCanvasDrawConfig(h,p,w,b);if(r){var E=n.createCanvasElement(w,b,"qr-canvas-visible");E.style.display="inline-block",x.appendChild(E);var k=E.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=w,k.canvas.height=b,k.drawImage(u,0,0,h,p,C.x,C.y,C.width,C.height)}var A=Wr.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(u.width,C.width),T=Math.max(u.height,C.height),S=P+2*A,_=T+2*A,j=n.createCanvasElement(S,_);x.appendChild(j);var F=j.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=S,F.canvas.height=_,F.drawImage(u,0,0,h,p,A,A,P,T);try{n.qrcode.decodeRobustlyAsync(j).then(function(L){i(Sx.createFromQrcodeResult(L))}).catch(a)}catch(L){a("QR code parse error, error = ".concat(L))}},u.onerror=a,u.onabort=a,u.onstalled=a,u.onsuspend=a,u.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return O5.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!oE.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[be.QR_CODE,be.AZTEC,be.CODABAR,be.CODE_39,be.CODE_93,be.CODE_128,be.DATA_MATRIX,be.MAXICODE,be.ITF,be.EAN_13,be.EAN_8,be.PDF_417,be.RSS_14,be.RSS_EXPANDED,be.UPC_A,be.UPC_E,be.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var u=a[i];m5(u)?n.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ds(t))return!0;if(!ds(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ds(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return ds(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var u=this.toQrdimensions(t,r,a),h=function(x){if(x<Wr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Wr.MIN_QR_BOX_SIZE,"px.")},p=function(x){return x>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};h(u.width),h(u.height),u.width=p(u.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=ds(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=n.isShadedBoxEnabled()&&a.height<=r,h={x:0,y:0,width:t,height:r},p=u?this.getShadedRegionBounds(t,r,a):h,x=this.createCanvasElement(p.width,p.height),w={willReadFrequently:!0},b=x.getContext("2d",w);b.canvas.width=p.width,b.canvas.height=p.height,this.element.append(x),u&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=b,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=qo.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,Sx.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=qo.codeParseError(i);return r(a,g5.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),u=a.videoWidth/a.clientWidth,h=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*u,x=this.qrRegion.height*h,w=this.qrRegion.x*u,b=this.qrRegion.y*h;this.context.drawImage(a,w,b,p,x,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(E){!E&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){C()})):C()}).catch(function(E){i.logger.logError("Error happend while scanning context",E),C()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",u=function(k){if(k in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},h=Object.keys(t);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var p=Object.keys(t)[0];if(p!==r&&p!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(p===r){var x=t.facingMode;if(typeof x=="string"){if(u(x))return{facingMode:x}}else if(typeof x=="object")if(a in x){if(u(x["".concat(a)]))return{facingMode:{exact:x["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var w=typeof x;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var b=t.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(a in b)return{deviceId:{exact:b["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var C=typeof b;throw"Invalid type of 'deviceId' = ".concat(C)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,u=(i-r)/2;return{x:a,y:u,width:t,height:r}}else{var h=t,p=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(p)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Wr.BORDER_SHADER_MATCH_COLOR:Wr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,u=document.createElement("canvas");return u.style.width="".concat(i,"px"),u.style.height="".concat(a,"px"),u.style.display="none",u.id=ds(n)?"qr-canvas":n,u},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var u=(r-i.width)/2,h=(n-i.height)/2;if(a.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Wr.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var p=5,x=40;this.insertShaderBorders(a,x,p,-p,null,0,!0),this.insertShaderBorders(a,x,p,-p,null,0,!1),this.insertShaderBorders(a,x,p,null,-p,0,!0),this.insertShaderBorders(a,x,p,null,-p,0,!1),this.insertShaderBorders(a,p,x+p,-p,null,-p,!0),this.insertShaderBorders(a,p,x+p,null,-p,-p,!0),this.insertShaderBorders(a,p,x+p,-p,null,-p,!1),this.insertShaderBorders(a,p,x+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,u,h){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=Wr.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(r,"px"),p.style.height="".concat(n,"px"),i!==null&&(p.style.top="".concat(i,"px")),a!==null&&(p.style.bottom="".concat(a,"px")),h?p.style.left="".concat(u,"px"):p.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Ox;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Ox||(Ox={}));const lE=({onScan:e,onError:t})=>{const[r,n]=I.useState(!1),[i,a]=I.useState(null),u=I.useRef(null),h=I.useRef(null),p=async()=>{if(h.current)try{a(null);const w=new B5("qr-reader");u.current=w,await w.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},b=>{e(b),x()},()=>{}),n(!0)}catch(w){const b=w instanceof Error?w.message:"Camera access denied";a(b),t==null||t(b)}},x=async()=>{if(u.current){try{await u.current.stop(),u.current.clear()}catch{}u.current=null}n(!1)};return I.useEffect(()=>()=>{x()},[]),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{id:"qr-reader",ref:h,className:"w-full max-w-md mx-auto bg-secondary/20 rounded-lg overflow-hidden",style:{minHeight:r?"300px":"0"}}),i&&m.jsx("div",{className:"text-center text-destructive font-mono text-sm p-4 bg-destructive/10 rounded",children:i}),m.jsx("div",{className:"flex justify-center gap-3",children:r?m.jsxs("button",{onClick:x,className:"flex items-center gap-2 bg-destructive text-white px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform",children:[m.jsx(io,{className:"w-5 h-5"}),"Stop Camera"]}):m.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-primary text-background px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform",children:[m.jsx(hS,{className:"w-5 h-5"}),"Start Camera"]})}),!r&&!i&&m.jsx("p",{className:"text-center text-muted-foreground font-mono text-sm",children:`Click "Start Camera" to scan a participant's QR code`})]})},F5=()=>{const{toast:e}=kr(),{user:t}=Os(),[r,n]=I.useState("checkin"),[i,a]=I.useState(null),[u,h]=I.useState(!1),[p,x]=I.useState(!1),[w,b]=I.useState(""),[C,E]=I.useState([]),[k,A]=I.useState(null),[P,T]=I.useState(null),[S,_]=I.useState(!1);I.useEffect(()=>{j()},[]);const j=async()=>{const{data:H,error:q}=await Te.from("food_coupons").select("*").eq("is_active",!0).order("name");if(q){console.error("Failed to fetch coupons:",q);return}E(H||[]),H&&H.length>0&&A(H[0])},F=async H=>{h(!0),a(null),T(null);try{const{data:q,error:ie}=await Te.from("registrations").select("id, registration_id, ticket_id, checked_in, checked_in_at, created_at, profile:profiles!fk_registrations_profile(full_name, email, phone), ticket:tickets(title)").eq("registration_id",H).eq("status","confirmed").single();if(ie||!q){e({title:"Not Found",description:"No confirmed registration found with this QR code.",variant:"destructive"}),h(!1);return}a(q),r==="food"&&k&&await L(q.id,k,q.ticket_id)}catch{e({title:"Error",description:"Failed to lookup registration.",variant:"destructive"})}h(!1)},L=async(H,q,ie)=>{if(!q.ticket_ids.includes(ie)){T({consumed:!1,remaining:0});return}const{data:re,error:G}=await Te.from("coupon_consumptions").select("id, consumed_at").eq("registration_id",H).eq("coupon_id",q.id);if(G){console.error("Failed to check coupon status:",G);return}const ue=(re==null?void 0:re.length)||0,ee=q.quantity-ue;ue>0&&ee<=0?T({consumed:!0,consumed_at:re[re.length-1].consumed_at,remaining:0}):T({consumed:!1,remaining:ee})},M=async()=>{if(!(!i||!t)){x(!0);try{const{error:H}=await Te.from("registrations").update({checked_in:!0,checked_in_at:new Date().toISOString(),checked_in_by:t.id}).eq("id",i.id);if(H)throw H;e({title:"Checked In!",description:`${i.profile.full_name} has been checked in successfully.`}),a(null)}catch{e({title:"Error",description:"Failed to check in participant.",variant:"destructive"})}x(!1)}},W=async()=>{if(!(!i||!t||!k)){x(!0);try{const{error:H}=await Te.from("coupon_consumptions").insert({registration_id:i.id,coupon_id:k.id,consumed_by:t.id});if(H)if(H.code==="23505")e({title:"Already Consumed",description:"This coupon has already been fully consumed for this registration.",variant:"destructive"});else throw H;else e({title:"Coupon Marked!",description:`${k.name} marked for ${i.profile.full_name}.`});a(null),T(null)}catch{e({title:"Error",description:"Failed to mark coupon consumption.",variant:"destructive"})}x(!1)}},V=()=>{a(null),T(null)},ne=k&&i?k.ticket_ids.includes(i.ticket_id):!1;return m.jsx(As,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"SCANNERS"}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Scan participant QR codes for check-in or food coupons"})]}),m.jsx("div",{className:"terminal-card p-4",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>{n("checkin"),a(null),T(null)},className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded font-mono text-sm transition-all ${r==="checkin"?"bg-primary text-background":"bg-secondary/30 text-primary/70 hover:bg-secondary/50"}`,children:[m.jsx(z2,{className:"w-4 h-4"}),"Check-in"]}),m.jsxs("button",{onClick:()=>{n("food"),a(null),T(null)},className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded font-mono text-sm transition-all ${r==="food"?"bg-primary text-background":"bg-secondary/30 text-primary/70 hover:bg-secondary/50"}`,children:[m.jsx(mi,{className:"w-4 h-4"}),"Food Coupon"]})]})}),r==="food"&&m.jsxs("div",{className:"terminal-card p-4",children:[m.jsx("label",{className:"block text-sm font-mono text-muted-foreground mb-2",children:"SELECT COUPON"}),m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>_(!S),className:"w-full flex items-center justify-between bg-background border border-border rounded px-4 py-3 text-primary font-mono focus:border-primary",children:[m.jsx("span",{children:(k==null?void 0:k.name)||"Select a coupon"}),m.jsx(Fl,{className:`w-4 h-4 transition-transform ${S?"rotate-180":""}`})]}),S&&m.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-card border border-border rounded shadow-lg z-10 max-h-48 overflow-y-auto",children:C.length===0?m.jsx("div",{className:"px-4 py-3 text-sm text-muted-foreground font-mono",children:"No active coupons available"}):C.map(H=>m.jsx("button",{onClick:()=>{A(H),_(!1),a(null),T(null)},className:`w-full px-4 py-3 text-left font-mono text-sm hover:bg-secondary/30 transition-colors ${(k==null?void 0:k.id)===H.id?"bg-primary/10 text-primary":"text-primary/70"}`,children:H.name},H.id))})]}),k&&m.jsxs("p",{className:"mt-2 text-xs font-mono text-muted-foreground",children:["Quantity: ",k.quantity," per registration"]})]}),!i&&!u&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"terminal-card p-4 sm:p-6",children:[m.jsx("h3",{className:"text-sm font-mono text-muted-foreground mb-3",children:"MANUAL ENTRY"}),m.jsxs("form",{onSubmit:H=>{H.preventDefault(),w.trim()&&F(w.trim().toUpperCase())},className:"flex flex-col sm:flex-row gap-3",children:[m.jsx("input",{type:"text",value:w,onChange:H=>b(H.target.value.toUpperCase()),placeholder:"Enter Registration ID",className:"flex-1 bg-background border border-border rounded px-4 py-3 text-primary font-mono tracking-wider focus:border-primary uppercase text-center sm:text-left",maxLength:10}),m.jsxs("button",{type:"submit",disabled:!w.trim()||r==="food"&&!k,className:"flex items-center justify-center gap-2 bg-primary text-background px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50",children:[m.jsx(Id,{className:"w-5 h-5"}),"Lookup"]})]})]}),m.jsxs("div",{className:"terminal-card p-4 sm:p-6",children:[m.jsx("h3",{className:"text-sm font-mono text-muted-foreground mb-3",children:"OR SCAN QR CODE"}),m.jsx(lE,{onScan:F})]})]}),u&&m.jsx("div",{className:"terminal-card p-8 text-center",children:m.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Looking up participant..."})}),i&&r==="checkin"&&m.jsxs("div",{className:"terminal-card p-6",children:[m.jsx("div",{className:"text-center mb-6",children:i.checked_in?m.jsxs("div",{className:"inline-flex items-center gap-2 text-yellow-500 bg-yellow-500/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[m.jsx(On,{className:"w-5 h-5"}),"Already Checked In"]}):m.jsxs("div",{className:"inline-flex items-center gap-2 text-primary bg-primary/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[m.jsx(Rd,{className:"w-5 h-5"}),"Ready to Check In"]})}),m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h3",{className:"text-2xl font-display text-primary mb-2",children:i.profile.full_name}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:i.profile.email}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:i.profile.phone})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[m.jsx(yi,{className:"w-6 h-6 text-primary mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Ticket"}),m.jsx("p",{className:"text-sm text-primary font-mono",children:i.ticket.title})]}),m.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[m.jsx(R2,{className:"w-6 h-6 text-primary mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Registration ID"}),m.jsx("p",{className:"text-sm text-primary font-mono tracking-wider",children:i.registration_id})]})]}),i.checked_in?m.jsxs("div",{className:"text-center",children:[m.jsxs("p",{className:"text-muted-foreground font-mono text-sm mb-4",children:["Checked in at: ",new Date(i.checked_in_at).toLocaleString()]}),m.jsx("button",{onClick:V,className:"flex items-center justify-center gap-2 mx-auto px-6 py-3 border border-primary text-primary rounded font-mono hover:bg-primary/10",children:"Scan Another"})]}):m.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4",children:[m.jsxs("button",{onClick:V,className:"flex items-center justify-center gap-2 px-6 py-3 border border-border text-muted-foreground rounded font-mono hover:bg-secondary/50 order-2 sm:order-1",children:[m.jsx(io,{className:"w-5 h-5"}),"Cancel"]}),m.jsxs("button",{onClick:M,disabled:p,className:"flex items-center justify-center gap-2 bg-green-500 text-white px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50 order-1 sm:order-2",children:[m.jsx(On,{className:"w-5 h-5"}),p?"Checking In...":"Confirm Check-In"]})]})]}),i&&r==="food"&&k&&m.jsxs("div",{className:"terminal-card p-6",children:[m.jsx("div",{className:"text-center mb-6",children:ne?P!=null&&P.consumed?m.jsxs("div",{className:"inline-flex items-center gap-2 text-yellow-500 bg-yellow-500/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[m.jsx(On,{className:"w-5 h-5"}),"Already Consumed"]}):m.jsxs("div",{className:"inline-flex items-center gap-2 text-green-500 bg-green-500/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[m.jsx(mi,{className:"w-5 h-5"}),"Ready to Mark"]}):m.jsxs("div",{className:"inline-flex items-center gap-2 text-destructive bg-destructive/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[m.jsx(V2,{className:"w-5 h-5"}),"Ticket Not Eligible"]})}),m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h3",{className:"text-2xl font-display text-primary mb-2",children:i.profile.full_name}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:i.profile.email})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[m.jsx(yi,{className:"w-6 h-6 text-primary mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Ticket"}),m.jsx("p",{className:"text-sm text-primary font-mono",children:i.ticket.title})]}),m.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[m.jsx(mi,{className:"w-6 h-6 text-primary mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Coupon"}),m.jsx("p",{className:"text-sm text-primary font-mono",children:k.name})]})]}),ne&&P&&m.jsx("div",{className:"bg-secondary/10 p-4 rounded mb-6 text-center",children:m.jsx("p",{className:"text-sm font-mono text-muted-foreground",children:P.consumed?m.jsxs(m.Fragment,{children:["All ",k.quantity," coupon(s) consumed.",m.jsx("br",{}),"Last used: ",new Date(P.consumed_at).toLocaleString()]}):m.jsxs(m.Fragment,{children:["Remaining: ",m.jsx("span",{className:"text-primary",children:P.remaining})," of ",k.quantity]})})}),ne?P!=null&&P.consumed?m.jsx("div",{className:"text-center",children:m.jsx("button",{onClick:V,className:"flex items-center justify-center gap-2 mx-auto px-6 py-3 border border-primary text-primary rounded font-mono hover:bg-primary/10",children:"Scan Another"})}):m.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4",children:[m.jsxs("button",{onClick:V,className:"flex items-center justify-center gap-2 px-6 py-3 border border-border text-muted-foreground rounded font-mono hover:bg-secondary/50 order-2 sm:order-1",children:[m.jsx(io,{className:"w-5 h-5"}),"Cancel"]}),m.jsxs("button",{onClick:W,disabled:p,className:"flex items-center justify-center gap-2 bg-green-500 text-white px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50 order-1 sm:order-2",children:[m.jsx(On,{className:"w-5 h-5"}),p?"Marking...":"Confirm Consumption"]})]}):m.jsxs("div",{className:"text-center",children:[m.jsxs("p",{className:"text-muted-foreground font-mono text-sm mb-4",children:['This ticket type is not eligible for "',k.name,'".']}),m.jsx("button",{onClick:V,className:"flex items-center justify-center gap-2 mx-auto px-6 py-3 border border-primary text-primary rounded font-mono hover:bg-primary/10",children:"Scan Another"})]})]})]})})},U5=()=>{const{toast:e}=kr(),[t,r]=I.useState([]),[n,i]=I.useState([]),[a,u]=I.useState(!0),[h,p]=I.useState(!1),[x,w]=I.useState(null),[b,C]=I.useState(!1),[E,k]=I.useState({name:"",ticket_ids:[],quantity:1,is_active:!0});I.useEffect(()=>{A()},[]);const A=async()=>{u(!0);try{const{data:L,error:M}=await Te.from("food_coupons").select("*").order("created_at",{ascending:!1});if(M)throw M;r(L||[]);const{data:W,error:V}=await Te.from("tickets").select("*").order("title");if(V)throw V;i(W||[])}catch{e({title:"Error",description:"Failed to load data.",variant:"destructive"})}u(!1)},P=L=>{L?(w(L),k({name:L.name,ticket_ids:L.ticket_ids||[],quantity:L.quantity,is_active:L.is_active})):(w(null),k({name:"",ticket_ids:[],quantity:1,is_active:!0})),p(!0)},T=()=>{p(!1),w(null),k({name:"",ticket_ids:[],quantity:1,is_active:!0})},S=L=>{k(M=>({...M,ticket_ids:M.ticket_ids.includes(L)?M.ticket_ids.filter(W=>W!==L):[...M.ticket_ids,L]}))},_=async L=>{if(L.preventDefault(),!E.name.trim()){e({title:"Error",description:"Coupon name is required.",variant:"destructive"});return}if(E.ticket_ids.length===0){e({title:"Error",description:"Please select at least one ticket type.",variant:"destructive"});return}C(!0);try{if(x){const{error:M}=await Te.from("food_coupons").update({name:E.name.trim(),ticket_ids:E.ticket_ids,quantity:E.quantity,is_active:E.is_active}).eq("id",x.id);if(M)throw M;e({title:"Success",description:"Coupon updated successfully."})}else{const{error:M}=await Te.from("food_coupons").insert({name:E.name.trim(),ticket_ids:E.ticket_ids,quantity:E.quantity,is_active:E.is_active});if(M)throw M;e({title:"Success",description:"Coupon created successfully."})}T(),A()}catch{e({title:"Error",description:"Failed to save coupon.",variant:"destructive"})}C(!1)},j=async L=>{if(confirm(`Are you sure you want to delete "${L.name}"?`))try{const{error:M}=await Te.from("food_coupons").delete().eq("id",L.id);if(M)throw M;e({title:"Deleted",description:"Coupon deleted successfully."}),A()}catch{e({title:"Error",description:"Failed to delete coupon. It may have existing consumptions.",variant:"destructive"})}},F=L=>L.map(M=>{var W;return((W=n.find(V=>V.id===M))==null?void 0:W.title)||"Unknown"}).join(", ");return m.jsx(As,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"FOOD COUPONS"}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Manage food coupons for participants"})]}),m.jsxs("button",{onClick:()=>P(),className:"flex items-center gap-2 bg-primary text-background px-4 py-2 font-display font-bold rounded hover:scale-105 transition-transform",children:[m.jsx(Ku,{className:"w-4 h-4"}),"New Coupon"]})]}),a?m.jsx("div",{className:"terminal-card p-8 text-center",children:m.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Loading coupons..."})}):t.length===0?m.jsxs("div",{className:"terminal-card p-8 text-center",children:[m.jsx(mi,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),m.jsx("p",{className:"text-muted-foreground font-mono",children:"No coupons created yet."}),m.jsx("button",{onClick:()=>P(),className:"mt-4 text-primary font-mono hover:underline",children:"Create your first coupon"})]}):m.jsx("div",{className:"grid gap-4",children:t.map(L=>m.jsx("div",{className:`terminal-card p-4 sm:p-6 ${L.is_active?"":"opacity-60"}`,children:m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx("h3",{className:"text-lg font-display text-primary",children:L.name}),!L.is_active&&m.jsx("span",{className:"text-xs font-mono px-2 py-1 bg-muted-foreground/20 text-muted-foreground rounded",children:"Inactive"})]}),m.jsxs("div",{className:"space-y-1 text-sm font-mono text-muted-foreground",children:[m.jsxs("p",{children:[m.jsx("span",{className:"text-primary/70",children:"Quantity:"})," ",L.quantity," per registration"]}),m.jsxs("p",{children:[m.jsx("span",{className:"text-primary/70",children:"Tickets:"})," ",F(L.ticket_ids||[])]})]})]}),m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx("button",{onClick:()=>P(L),className:"p-2 text-primary hover:bg-primary/10 rounded transition-colors",title:"Edit",children:m.jsx(L2,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>j(L),className:"p-2 text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Delete",children:m.jsx(G1,{className:"w-4 h-4"})})]})]})},L.id))}),h&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-card border border-border rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[m.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[m.jsx("h3",{className:"text-lg font-display text-primary",children:x?"Edit Coupon":"New Coupon"}),m.jsx("button",{onClick:T,className:"p-2 text-muted-foreground hover:text-primary transition-colors",children:m.jsx(_i,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:_,className:"p-4 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-mono text-muted-foreground mb-1",children:"Coupon Name *"}),m.jsx("input",{type:"text",value:E.name,onChange:L=>k(M=>({...M,name:L.target.value})),placeholder:"e.g., Lunch, Breakfast, Snacks",className:"w-full bg-background border border-border rounded px-3 py-2 text-primary font-mono focus:border-primary"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-mono text-muted-foreground mb-1",children:"Quantity per Registration"}),m.jsx("input",{type:"number",min:1,value:E.quantity,onChange:L=>k(M=>({...M,quantity:parseInt(L.target.value)||1})),className:"w-full bg-background border border-border rounded px-3 py-2 text-primary font-mono focus:border-primary"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-mono text-muted-foreground mb-2",children:"Applicable Tickets *"}),m.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto border border-border rounded p-2",children:[n.map(L=>m.jsxs("label",{className:"flex items-center gap-3 p-2 rounded cursor-pointer hover:bg-secondary/30 transition-colors",children:[m.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${E.ticket_ids.includes(L.id)?"bg-primary border-primary":"border-border"}`,onClick:()=>S(L.id),children:E.ticket_ids.includes(L.id)&&m.jsx(d0,{className:"w-3 h-3 text-background"})}),m.jsx("span",{className:"text-sm font-mono text-primary",children:L.title})]},L.id)),n.length===0&&m.jsx("p",{className:"text-sm text-muted-foreground font-mono p-2",children:"No tickets available."})]})]}),m.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[m.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${E.is_active?"bg-primary border-primary":"border-border"}`,onClick:()=>k(L=>({...L,is_active:!L.is_active})),children:E.is_active&&m.jsx(d0,{className:"w-3 h-3 text-background"})}),m.jsx("span",{className:"text-sm font-mono text-muted-foreground",children:"Active (can be used for scanning)"})]}),m.jsxs("div",{className:"flex gap-3 pt-4",children:[m.jsx("button",{type:"button",onClick:T,className:"flex-1 px-4 py-2 border border-border text-muted-foreground rounded font-mono hover:bg-secondary/50 transition-colors",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:b,className:"flex-1 bg-primary text-background px-4 py-2 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50",children:b?"Saving...":x?"Update":"Create"})]})]})]})})]})})},V5=()=>{const[e,t]=I.useState([]),[r,n]=I.useState(!0),[i,a]=I.useState({}),[u,h]=I.useState(!1),[p,x]=I.useState("all"),{toast:w}=kr();I.useEffect(()=>{b()},[]);const b=async()=>{try{const{data:S,error:_}=await Te.from("registrations").select(`
                    id,
                    razorpay_order_id,
                    razorpay_payment_id,
                    status,
                    created_at,
                    profile:profiles(full_name, email),
                    ticket:tickets(title)
                `).not("razorpay_order_id","is",null).order("created_at",{ascending:!1});if(_)throw _;t(S||[])}catch(S){console.error("Error fetching registrations:",S),w({title:"Error",description:"Failed to fetch registrations",variant:"destructive"})}finally{n(!1)}},C=async S=>{a(_=>({..._,[S]:{loading:!0,result:null,error:null}}));try{const{data:{session:_}}=await Te.auth.getSession();if(!_)throw new Error("Not authenticated");const j=await Te.functions.invoke("fetch-order-payments",{body:{order_id:S}});if(j.error)throw new Error(j.error.message);const F=j.data;return a(L=>({...L,[S]:{loading:!1,result:F,error:null}})),F}catch(_){const j=_ instanceof Error?_.message:"Verification failed";return a(F=>({...F,[S]:{loading:!1,result:null,error:j}})),null}},E=async()=>{h(!0);for(const S of e)S.razorpay_order_id&&(await C(S.razorpay_order_id),await new Promise(_=>setTimeout(_,300)));h(!1),w({title:"Verification Complete",description:`Verified ${e.length} payments`})},k=S=>{const _=i[S];if(!_)return m.jsx(wu,{className:"w-4 h-4 text-muted-foreground"});if(_.loading)return m.jsx(h0,{className:"w-4 h-4 text-primary animate-spin"});if(_.error)return m.jsx(Vf,{className:"w-4 h-4 text-destructive"});if(_.result)switch(_.result.verification_status){case"genuine":return m.jsx(On,{className:"w-4 h-4 text-green-500"});case"failed":return m.jsx(io,{className:"w-4 h-4 text-destructive"});case"no_payments":return m.jsx(Vf,{className:"w-4 h-4 text-yellow-500"});case"pending":return m.jsx(wu,{className:"w-4 h-4 text-blue-500"})}return null},A=S=>{const _=i[S];if(!_||!_.result)return null;const j={genuine:"bg-green-500/20 text-green-500 border-green-500/50",failed:"bg-destructive/20 text-destructive border-destructive/50",no_payments:"bg-yellow-500/20 text-yellow-500 border-yellow-500/50",pending:"bg-blue-500/20 text-blue-500 border-blue-500/50"};return m.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-mono border ${j[_.result.verification_status]}`,children:_.result.verification_status.toUpperCase()})},P=e.filter(S=>{if(p==="all")return!0;if(p==="unverified")return!i[S.razorpay_order_id];const _=i[S.razorpay_order_id];return _!=null&&_.result?_.result.verification_status===p:p==="unverified"}),T={total:e.length,genuine:Object.values(i).filter(S=>{var _;return((_=S.result)==null?void 0:_.verification_status)==="genuine"}).length,failed:Object.values(i).filter(S=>{var _;return((_=S.result)==null?void 0:_.verification_status)==="failed"}).length,pending:Object.values(i).filter(S=>{var _;return((_=S.result)==null?void 0:_.verification_status)==="pending"}).length,noPayments:Object.values(i).filter(S=>{var _;return((_=S.result)==null?void 0:_.verification_status)==="no_payments"}).length};return m.jsx(As,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider flex items-center gap-2",children:[m.jsx(U2,{className:"w-6 h-6"}),"VERIFY PAYMENTS"]}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Verify payment status directly from Razorpay"})]}),m.jsxs("button",{onClick:E,disabled:u||e.length===0,className:"flex items-center gap-2 px-4 py-2 bg-primary text-background font-mono text-sm rounded hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(h0,{className:`w-4 h-4 ${u?"animate-spin":""}`}),u?"Verifying...":"Verify All Payments"]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[m.jsxs("div",{className:"terminal-card p-4",children:[m.jsx("p",{className:"text-xs text-muted-foreground font-mono uppercase",children:"Total"}),m.jsx("p",{className:"text-2xl font-display font-bold text-primary mt-1",children:T.total})]}),m.jsxs("div",{className:"terminal-card p-4",children:[m.jsx("p",{className:"text-xs text-muted-foreground font-mono uppercase",children:"Genuine"}),m.jsx("p",{className:"text-2xl font-display font-bold text-green-500 mt-1",children:T.genuine})]}),m.jsxs("div",{className:"terminal-card p-4",children:[m.jsx("p",{className:"text-xs text-muted-foreground font-mono uppercase",children:"Failed"}),m.jsx("p",{className:"text-2xl font-display font-bold text-destructive mt-1",children:T.failed})]}),m.jsxs("div",{className:"terminal-card p-4",children:[m.jsx("p",{className:"text-xs text-muted-foreground font-mono uppercase",children:"Pending"}),m.jsx("p",{className:"text-2xl font-display font-bold text-blue-500 mt-1",children:T.pending})]}),m.jsxs("div",{className:"terminal-card p-4",children:[m.jsx("p",{className:"text-xs text-muted-foreground font-mono uppercase",children:"No Payments"}),m.jsx("p",{className:"text-2xl font-display font-bold text-yellow-500 mt-1",children:T.noPayments})]})]}),m.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","genuine","failed","pending","unverified"].map(S=>m.jsx("button",{onClick:()=>x(S),className:`px-3 py-1 rounded font-mono text-sm transition-colors ${p===S?"bg-primary text-background":"bg-secondary/50 text-primary hover:bg-secondary"}`,children:S.charAt(0).toUpperCase()+S.slice(1)},S))}),m.jsx("div",{className:"terminal-card overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-border",children:[m.jsx("th",{className:"text-left p-4 font-mono text-xs text-muted-foreground uppercase",children:"Status"}),m.jsx("th",{className:"text-left p-4 font-mono text-xs text-muted-foreground uppercase",children:"User"}),m.jsx("th",{className:"text-left p-4 font-mono text-xs text-muted-foreground uppercase",children:"Ticket"}),m.jsx("th",{className:"text-left p-4 font-mono text-xs text-muted-foreground uppercase",children:"Order ID"}),m.jsx("th",{className:"text-left p-4 font-mono text-xs text-muted-foreground uppercase",children:"Payment ID"}),m.jsx("th",{className:"text-left p-4 font-mono text-xs text-muted-foreground uppercase",children:"Verification"}),m.jsx("th",{className:"text-left p-4 font-mono text-xs text-muted-foreground uppercase",children:"Actions"})]})}),m.jsx("tbody",{children:r?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"p-8 text-center text-primary font-mono animate-pulse",children:"Loading registrations..."})}):P.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"p-8 text-center text-muted-foreground font-mono",children:"No registrations found"})}):P.map(S=>{var j,F,L,M,W;const _=S.razorpay_order_id?i[S.razorpay_order_id]:null;return m.jsxs("tr",{className:"border-b border-border/50 hover:bg-secondary/20",children:[m.jsx("td",{className:"p-4",children:m.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-mono ${S.status==="confirmed"?"bg-green-500/20 text-green-500":"bg-yellow-500/20 text-yellow-500"}`,children:S.status})}),m.jsxs("td",{className:"p-4",children:[m.jsx("div",{className:"font-mono text-sm",children:((j=S.profile)==null?void 0:j.full_name)||"Unknown"}),m.jsx("div",{className:"text-xs text-muted-foreground",children:(F=S.profile)==null?void 0:F.email})]}),m.jsx("td",{className:"p-4 font-mono text-sm",children:((L=S.ticket)==null?void 0:L.title)||"Unknown"}),m.jsxs("td",{className:"p-4 font-mono text-xs text-muted-foreground",children:[(M=S.razorpay_order_id)==null?void 0:M.slice(0,20),"..."]}),m.jsxs("td",{className:"p-4 font-mono text-xs text-muted-foreground",children:[((W=S.razorpay_payment_id)==null?void 0:W.slice(0,20))||"-","..."]}),m.jsx("td",{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-2",children:[k(S.razorpay_order_id),A(S.razorpay_order_id),(_==null?void 0:_.error)&&m.jsx("span",{className:"text-xs text-destructive",children:_.error})]})}),m.jsx("td",{className:"p-4",children:m.jsx("button",{onClick:()=>S.razorpay_order_id&&C(S.razorpay_order_id),disabled:(_==null?void 0:_.loading)||u,className:"px-3 py-1 bg-primary/20 text-primary font-mono text-xs rounded hover:bg-primary/30 disabled:opacity-50",children:_!=null&&_.loading?"Verifying...":"Verify"})})]},S.id)})})]})})}),m.jsxs("div",{className:"terminal-card p-4",children:[m.jsx("h3",{className:"font-mono text-sm text-muted-foreground mb-3",children:"Verification Status Legend:"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm font-mono",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(On,{className:"w-4 h-4 text-green-500"}),m.jsx("span",{children:"Genuine - Payment captured successfully"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(io,{className:"w-4 h-4 text-destructive"}),m.jsx("span",{children:"Failed - All payments failed"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Vf,{className:"w-4 h-4 text-yellow-500"}),m.jsx("span",{children:"No Payments - No payment attempts"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(wu,{className:"w-4 h-4 text-blue-500"}),m.jsx("span",{children:"Pending - Payment in progress"})]})]})]})]})})},z5=[{href:"/volunteer",label:"Scanners",icon:$1},{href:"/volunteer/participants",label:"Participants",icon:ka}],cE=({children:e})=>{const{profile:t,signOut:r,isAdmin:n}=Os(),i=ks(),[a,u]=I.useState(!1),h=()=>u(!1);return m.jsxs("div",{className:"min-h-screen bg-background flex",children:[a&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:h}),m.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 bg-card border-r border-border flex flex-col transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[m.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx(Xr,{to:"/",className:"flex items-center gap-2",onClick:h,children:m.jsx("span",{className:"text-xl font-display font-bold text-primary glow-text tracking-wider",children:"TESSERACT"})}),m.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:"Volunteer Panel"})]}),m.jsx("button",{onClick:h,className:"lg:hidden p-2 text-primary hover:bg-secondary/50 rounded",children:m.jsx(_i,{className:"w-5 h-5"})})]}),m.jsx("nav",{className:"flex-1 p-4 space-y-2",children:z5.map(p=>{const x=i.pathname===p.href,w=p.icon;return m.jsxs(Xr,{to:p.href,onClick:h,className:`flex items-center gap-3 px-3 py-2 rounded font-mono text-sm transition-colors ${x?"bg-primary text-background":"text-primary/70 hover:bg-secondary/50 hover:text-primary"}`,children:[m.jsx(w,{className:"w-4 h-4"}),p.label]},p.href)})}),m.jsxs("div",{className:"p-4 border-t border-border space-y-2",children:[m.jsxs(Xr,{to:"/",onClick:h,className:"flex items-center gap-3 px-3 py-2 rounded font-mono text-sm text-primary/70 hover:bg-secondary/50 hover:text-primary transition-colors",children:[m.jsx(j2,{className:"w-4 h-4"}),"Back to Site"]}),n&&m.jsxs(Xr,{to:"/admin",onClick:h,className:"flex items-center gap-3 px-3 py-2 rounded font-mono text-sm text-primary/70 hover:bg-secondary/50 hover:text-primary transition-colors",children:[m.jsx(ka,{className:"w-4 h-4"}),"Admin Panel"]}),m.jsxs("button",{onClick:()=>{h(),r()},className:"w-full flex items-center gap-3 px-3 py-2 rounded font-mono text-sm text-destructive hover:bg-destructive/10 transition-colors",children:[m.jsx(H1,{className:"w-4 h-4"}),"Sign Out"]})]})]}),m.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[m.jsxs("header",{className:"h-16 bg-card border-b border-border flex items-center justify-between px-4 lg:px-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>u(!0),className:"lg:hidden p-2 text-primary hover:bg-secondary/50 rounded",children:m.jsx(M2,{className:"w-5 h-5"})}),m.jsx("h1",{className:"text-lg font-display text-primary",children:"Volunteer Panel"})]}),m.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[m.jsx("span",{className:"text-sm text-muted-foreground font-mono hidden sm:block",children:(t==null?void 0:t.full_name)||(t==null?void 0:t.email)}),m.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 border border-primary/50 flex items-center justify-center",children:m.jsx("span",{className:"text-xs font-bold text-primary",children:((t==null?void 0:t.full_name)||(t==null?void 0:t.email)||"V")[0].toUpperCase()})})]})]}),m.jsx("div",{className:"flex-1 p-4 lg:p-6 overflow-auto",children:e})]})]})},W5=()=>{const{toast:e}=kr(),{user:t}=Os(),[r,n]=I.useState("checkin"),[i,a]=I.useState(null),[u,h]=I.useState(!1),[p,x]=I.useState(!1),[w,b]=I.useState(""),[C,E]=I.useState([]),[k,A]=I.useState(null),[P,T]=I.useState(null),[S,_]=I.useState(!1);I.useEffect(()=>{j()},[]);const j=async()=>{const{data:H,error:q}=await Te.from("food_coupons").select("*").eq("is_active",!0).order("name");if(q){console.error("Failed to fetch coupons:",q);return}E(H||[]),H&&H.length>0&&A(H[0])},F=async H=>{h(!0),a(null),T(null);try{const{data:q,error:ie}=await Te.from("registrations").select("id, registration_id, ticket_id, checked_in, checked_in_at, created_at, profile:profiles!fk_registrations_profile(full_name, email, phone), ticket:tickets(title)").eq("registration_id",H).eq("status","confirmed").single();if(ie||!q){e({title:"Not Found",description:"No confirmed registration found with this QR code.",variant:"destructive"}),h(!1);return}a(q),r==="food"&&k&&await L(q.id,k,q.ticket_id)}catch{e({title:"Error",description:"Failed to lookup registration.",variant:"destructive"})}h(!1)},L=async(H,q,ie)=>{if(!q.ticket_ids.includes(ie)){T({consumed:!1,remaining:0});return}const{data:re,error:G}=await Te.from("coupon_consumptions").select("id, consumed_at").eq("registration_id",H).eq("coupon_id",q.id);if(G){console.error("Failed to check coupon status:",G);return}const ue=(re==null?void 0:re.length)||0,ee=q.quantity-ue;ue>0&&ee<=0?T({consumed:!0,consumed_at:re[re.length-1].consumed_at,remaining:0}):T({consumed:!1,remaining:ee})},M=async()=>{if(!(!i||!t)){x(!0);try{const{error:H}=await Te.from("registrations").update({checked_in:!0,checked_in_at:new Date().toISOString(),checked_in_by:t.id}).eq("id",i.id);if(H)throw H;e({title:"Checked In!",description:`${i.profile.full_name} has been checked in successfully.`}),a(null)}catch{e({title:"Error",description:"Failed to check in participant.",variant:"destructive"})}x(!1)}},W=async()=>{if(!(!i||!t||!k)){x(!0);try{const{error:H}=await Te.from("coupon_consumptions").insert({registration_id:i.id,coupon_id:k.id,consumed_by:t.id});if(H)if(H.code==="23505")e({title:"Already Consumed",description:"This coupon has already been fully consumed for this registration.",variant:"destructive"});else throw H;else e({title:"Coupon Marked!",description:`${k.name} marked for ${i.profile.full_name}.`});a(null),T(null)}catch{e({title:"Error",description:"Failed to mark coupon consumption.",variant:"destructive"})}x(!1)}},V=()=>{a(null),T(null)},ne=k&&i?k.ticket_ids.includes(i.ticket_id):!1;return m.jsx(cE,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"SCANNERS"}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"Scan participant QR codes for check-in or food coupons"})]}),m.jsx("div",{className:"terminal-card p-4",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>{n("checkin"),a(null),T(null)},className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded font-mono text-sm transition-all ${r==="checkin"?"bg-primary text-background":"bg-secondary/30 text-primary/70 hover:bg-secondary/50"}`,children:[m.jsx(z2,{className:"w-4 h-4"}),"Check-in"]}),m.jsxs("button",{onClick:()=>{n("food"),a(null),T(null)},className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded font-mono text-sm transition-all ${r==="food"?"bg-primary text-background":"bg-secondary/30 text-primary/70 hover:bg-secondary/50"}`,children:[m.jsx(mi,{className:"w-4 h-4"}),"Food Coupon"]})]})}),r==="food"&&m.jsxs("div",{className:"terminal-card p-4",children:[m.jsx("label",{className:"block text-sm font-mono text-muted-foreground mb-2",children:"SELECT COUPON"}),m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>_(!S),className:"w-full flex items-center justify-between bg-background border border-border rounded px-4 py-3 text-primary font-mono focus:border-primary",children:[m.jsx("span",{children:(k==null?void 0:k.name)||"Select a coupon"}),m.jsx(Fl,{className:`w-4 h-4 transition-transform ${S?"rotate-180":""}`})]}),S&&m.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-card border border-border rounded shadow-lg z-10 max-h-48 overflow-y-auto",children:C.length===0?m.jsx("div",{className:"px-4 py-3 text-sm text-muted-foreground font-mono",children:"No active coupons available"}):C.map(H=>m.jsx("button",{onClick:()=>{A(H),_(!1),a(null),T(null)},className:`w-full px-4 py-3 text-left font-mono text-sm hover:bg-secondary/30 transition-colors ${(k==null?void 0:k.id)===H.id?"bg-primary/10 text-primary":"text-primary/70"}`,children:H.name},H.id))})]}),k&&m.jsxs("p",{className:"mt-2 text-xs font-mono text-muted-foreground",children:["Quantity: ",k.quantity," per registration"]})]}),!i&&!u&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"terminal-card p-4 sm:p-6",children:[m.jsx("h3",{className:"text-sm font-mono text-muted-foreground mb-3",children:"MANUAL ENTRY"}),m.jsxs("form",{onSubmit:H=>{H.preventDefault(),w.trim()&&F(w.trim().toUpperCase())},className:"flex flex-col sm:flex-row gap-3",children:[m.jsx("input",{type:"text",value:w,onChange:H=>b(H.target.value.toUpperCase()),placeholder:"Enter Registration ID",className:"flex-1 bg-background border border-border rounded px-4 py-3 text-primary font-mono tracking-wider focus:border-primary uppercase text-center sm:text-left",maxLength:10}),m.jsxs("button",{type:"submit",disabled:!w.trim()||r==="food"&&!k,className:"flex items-center justify-center gap-2 bg-primary text-background px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50",children:[m.jsx(Id,{className:"w-5 h-5"}),"Lookup"]})]})]}),m.jsxs("div",{className:"terminal-card p-4 sm:p-6",children:[m.jsx("h3",{className:"text-sm font-mono text-muted-foreground mb-3",children:"OR SCAN QR CODE"}),m.jsx(lE,{onScan:F})]})]}),u&&m.jsx("div",{className:"terminal-card p-8 text-center",children:m.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Looking up participant..."})}),i&&r==="checkin"&&m.jsxs("div",{className:"terminal-card p-6",children:[m.jsx("div",{className:"text-center mb-6",children:i.checked_in?m.jsxs("div",{className:"inline-flex items-center gap-2 text-yellow-500 bg-yellow-500/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[m.jsx(On,{className:"w-5 h-5"}),"Already Checked In"]}):m.jsxs("div",{className:"inline-flex items-center gap-2 text-primary bg-primary/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[m.jsx(Rd,{className:"w-5 h-5"}),"Ready to Check In"]})}),m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h3",{className:"text-2xl font-display text-primary mb-2",children:i.profile.full_name}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:i.profile.email}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:i.profile.phone})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[m.jsx(yi,{className:"w-6 h-6 text-primary mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Ticket"}),m.jsx("p",{className:"text-sm text-primary font-mono",children:i.ticket.title})]}),m.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[m.jsx(R2,{className:"w-6 h-6 text-primary mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Registration ID"}),m.jsx("p",{className:"text-sm text-primary font-mono tracking-wider",children:i.registration_id})]})]}),i.checked_in?m.jsxs("div",{className:"text-center",children:[m.jsxs("p",{className:"text-muted-foreground font-mono text-sm mb-4",children:["Checked in at: ",new Date(i.checked_in_at).toLocaleString()]}),m.jsx("button",{onClick:V,className:"flex items-center justify-center gap-2 mx-auto px-6 py-3 border border-primary text-primary rounded font-mono hover:bg-primary/10",children:"Scan Another"})]}):m.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4",children:[m.jsxs("button",{onClick:V,className:"flex items-center justify-center gap-2 px-6 py-3 border border-border text-muted-foreground rounded font-mono hover:bg-secondary/50 order-2 sm:order-1",children:[m.jsx(io,{className:"w-5 h-5"}),"Cancel"]}),m.jsxs("button",{onClick:M,disabled:p,className:"flex items-center justify-center gap-2 bg-green-500 text-white px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50 order-1 sm:order-2",children:[m.jsx(On,{className:"w-5 h-5"}),p?"Checking In...":"Confirm Check-In"]})]})]}),i&&r==="food"&&k&&m.jsxs("div",{className:"terminal-card p-6",children:[m.jsx("div",{className:"text-center mb-6",children:ne?P!=null&&P.consumed?m.jsxs("div",{className:"inline-flex items-center gap-2 text-yellow-500 bg-yellow-500/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[m.jsx(On,{className:"w-5 h-5"}),"Already Consumed"]}):m.jsxs("div",{className:"inline-flex items-center gap-2 text-green-500 bg-green-500/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[m.jsx(mi,{className:"w-5 h-5"}),"Ready to Mark"]}):m.jsxs("div",{className:"inline-flex items-center gap-2 text-destructive bg-destructive/10 px-4 py-2 rounded-full font-mono text-sm mb-4",children:[m.jsx(V2,{className:"w-5 h-5"}),"Ticket Not Eligible"]})}),m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h3",{className:"text-2xl font-display text-primary mb-2",children:i.profile.full_name}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm",children:i.profile.email})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[m.jsx(yi,{className:"w-6 h-6 text-primary mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Ticket"}),m.jsx("p",{className:"text-sm text-primary font-mono",children:i.ticket.title})]}),m.jsxs("div",{className:"bg-secondary/20 p-4 rounded text-center",children:[m.jsx(mi,{className:"w-6 h-6 text-primary mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Coupon"}),m.jsx("p",{className:"text-sm text-primary font-mono",children:k.name})]})]}),ne&&P&&m.jsx("div",{className:"bg-secondary/10 p-4 rounded mb-6 text-center",children:m.jsx("p",{className:"text-sm font-mono text-muted-foreground",children:P.consumed?m.jsxs(m.Fragment,{children:["All ",k.quantity," coupon(s) consumed.",m.jsx("br",{}),"Last used: ",new Date(P.consumed_at).toLocaleString()]}):m.jsxs(m.Fragment,{children:["Remaining: ",m.jsx("span",{className:"text-primary",children:P.remaining})," of ",k.quantity]})})}),ne?P!=null&&P.consumed?m.jsx("div",{className:"text-center",children:m.jsx("button",{onClick:V,className:"flex items-center justify-center gap-2 mx-auto px-6 py-3 border border-primary text-primary rounded font-mono hover:bg-primary/10",children:"Scan Another"})}):m.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4",children:[m.jsxs("button",{onClick:V,className:"flex items-center justify-center gap-2 px-6 py-3 border border-border text-muted-foreground rounded font-mono hover:bg-secondary/50 order-2 sm:order-1",children:[m.jsx(io,{className:"w-5 h-5"}),"Cancel"]}),m.jsxs("button",{onClick:W,disabled:p,className:"flex items-center justify-center gap-2 bg-green-500 text-white px-6 py-3 font-display font-bold rounded hover:scale-105 transition-transform disabled:opacity-50 order-1 sm:order-2",children:[m.jsx(On,{className:"w-5 h-5"}),p?"Marking...":"Confirm Consumption"]})]}):m.jsxs("div",{className:"text-center",children:[m.jsxs("p",{className:"text-muted-foreground font-mono text-sm mb-4",children:['This ticket type is not eligible for "',k.name,'".']}),m.jsx("button",{onClick:V,className:"flex items-center justify-center gap-2 mx-auto px-6 py-3 border border-primary text-primary rounded font-mono hover:bg-primary/10",children:"Scan Another"})]})]})]})})},H5=()=>{const{toast:e}=kr(),[t,r]=I.useState([]),[n,i]=I.useState(!0),[a,u]=I.useState(""),h=async()=>{i(!0);const{data:b,error:C}=await Te.from("registrations").select("id, registration_id, checked_in, checked_in_at, created_at, profile:profiles!fk_registrations_profile(full_name, email, phone), ticket:tickets(title)").eq("status","confirmed").order("checked_in",{ascending:!0}).order("created_at",{ascending:!1});C?e({title:"Error",description:"Failed to load participants",variant:"destructive"}):r(b),i(!1)};I.useEffect(()=>{h()},[]);const p=t.filter(b=>{const C=a.toLowerCase();return b.profile.full_name.toLowerCase().includes(C)||b.profile.email.toLowerCase().includes(C)||b.profile.phone.includes(C)||b.registration_id.toLowerCase().includes(C)||b.ticket.title.toLowerCase().includes(C)}),x=t.filter(b=>b.checked_in).length,w=t.length;return m.jsx(cE,{children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-display text-primary glow-text tracking-wider",children:"PARTICIPANTS"}),m.jsx("p",{className:"text-muted-foreground font-mono text-sm mt-1",children:"All confirmed registrations and check-in status"})]}),m.jsxs("button",{onClick:h,disabled:n,className:"flex items-center justify-center gap-2 px-4 py-2 border border-primary text-primary rounded font-mono text-sm hover:bg-primary/10 disabled:opacity-50",children:[m.jsx(h0,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Refresh"]})]}),m.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"terminal-card p-4 text-center",children:[m.jsx("p",{className:"text-2xl font-display font-bold text-primary",children:w}),m.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Total Confirmed"})]}),m.jsxs("div",{className:"terminal-card p-4 text-center",children:[m.jsx("p",{className:"text-2xl font-display font-bold text-green-500",children:x}),m.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Checked In"})]}),m.jsxs("div",{className:"terminal-card p-4 text-center hidden sm:block",children:[m.jsx("p",{className:"text-2xl font-display font-bold text-yellow-500",children:w-x}),m.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"Pending"})]})]}),m.jsx("div",{className:"terminal-card p-4",children:m.jsxs("div",{className:"relative",children:[m.jsx(Id,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),m.jsx("input",{type:"text",value:a,onChange:b=>u(b.target.value),placeholder:"Search by name, email, phone, ticket...",className:"w-full bg-background border border-border rounded pl-10 pr-4 py-2 text-sm text-primary font-mono focus:border-primary"})]})}),n?m.jsx("div",{className:"text-primary font-mono animate-pulse",children:"Loading participants..."}):p.length===0?m.jsx("div",{className:"terminal-card p-8 text-center",children:m.jsx("p",{className:"text-muted-foreground font-mono",children:"No participants found."})}):m.jsx("div",{className:"space-y-3",children:p.map(b=>m.jsx("div",{className:`terminal-card p-4 ${b.checked_in?"border-green-500/30":""}`,children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[m.jsx("h3",{className:"font-display text-primary",children:b.profile.full_name}),b.checked_in?m.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded font-mono bg-green-500/20 text-green-500",children:[m.jsx(On,{className:"w-3 h-3"}),"Checked In"]}):m.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded font-mono bg-yellow-500/20 text-yellow-500",children:[m.jsx(wu,{className:"w-3 h-3"}),"Pending"]})]}),m.jsxs("p",{className:"text-sm text-muted-foreground font-mono",children:[b.profile.phone,"  ",b.ticket.title]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-xs text-primary bg-primary/10 px-2 py-1 rounded font-mono tracking-wider",children:b.registration_id}),b.checked_in&&b.checked_in_at&&m.jsx("p",{className:"text-xs text-muted-foreground font-mono mt-1",children:new Date(b.checked_in_at).toLocaleTimeString()})]})]})},b.id))})]})})},$5=()=>{const e=ks();return I.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),m.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),m.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),m.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},G5=new tT,q5=()=>m.jsx(nT,{client:G5,children:m.jsxs(R4,{children:[m.jsx(fA,{}),m.jsx(HA,{}),m.jsx(e8,{children:m.jsx(FI,{children:m.jsxs(qT,{children:[m.jsx(ar,{path:"/",element:m.jsx(t6,{})}),m.jsx(ar,{path:"/login",element:m.jsx(r6,{})}),m.jsx(ar,{path:"/register",element:m.jsx(n6,{})}),m.jsx(ar,{path:"/dashboard",element:m.jsx(r5,{})}),m.jsx(ar,{path:"/tickets/:ticketId/register",element:m.jsx(s5,{})}),m.jsx(ar,{path:"/admin",element:m.jsx(zs,{children:m.jsx(o5,{})})}),m.jsx(ar,{path:"/admin/tickets",element:m.jsx(zs,{children:m.jsx(c5,{})})}),m.jsx(ar,{path:"/admin/tickets/:ticketId/template",element:m.jsx(zs,{children:m.jsx(h5,{})})}),m.jsx(ar,{path:"/admin/registrations",element:m.jsx(zs,{children:m.jsx(u5,{})})}),m.jsx(ar,{path:"/admin/referrals",element:m.jsx(zs,{children:m.jsx(d5,{})})}),m.jsx(ar,{path:"/admin/coupons",element:m.jsx(zs,{children:m.jsx(U5,{})})}),m.jsx(ar,{path:"/admin/checkin",element:m.jsx(zs,{children:m.jsx(F5,{})})}),m.jsx(ar,{path:"/admin/verify-payments",element:m.jsx(zs,{children:m.jsx(V5,{})})}),m.jsx(ar,{path:"/volunteer",element:m.jsx(sx,{children:m.jsx(W5,{})})}),m.jsx(ar,{path:"/volunteer/participants",element:m.jsx(sx,{children:m.jsx(H5,{})})}),m.jsx(ar,{path:"*",element:m.jsx($5,{})})]})})})]})});t2(document.getElementById("root")).render(m.jsx(q5,{}));
